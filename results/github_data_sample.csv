mockito/mockito,"# Bug report
We are seeing a strange crash coming from `AndroidByteBuddyMockMaker` when calling `Mockito.mock` in unit tests. It appears that it's crashing because it is trying to use the `PluginRegistry` logger _during initialization_ of the `registry: PluginRegistry` field on `Plugins`. 

It's pretty clear looking at the code in `AndroidByteBuddyMockMaker` that the intended behavior is for a warning to be issued, but instead it crashes with a somewhat garbled error (pasted below).

This only happens when you include `mockito-android` in the classpath when running unit tests. This is normally a problem solvable by the user, **except there appears to be a bug in Android Studio 3.4.0 where switching back and forth between build variants adds `androidTestImplementation` dependencies to the classpath even for unit tests** ü§∑‚Äç‚ôÇ. 

(We plan to open a separate bug report with Android Studio to cover that)

# Versions
mockito: 2.27.0
android studio: 3.4.0
jre: 1.8.0_152 x86

# Steps to Repro
* create a new gradle project with `testImplementation(""org.mockito:mockito-android:2.27.0"")` in `dependencies`
* create a unit test with the following code:

```kotlin
package com.example.mockitoandroidcrash

import org.junit.Test

import org.junit.Assert.*
import org.mockito.Mockito.mock

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    open class Example

    @Test
    fun `uses default SubclassByteBuddyMockMaker for mocking`() {
        val exampleMock = mock(Example::class.java)
        assertTrue(exampleMock is Example)
    }
}
```
* Run the test for ExampleUnitTest

# Expected Behavior
* the test should should run and pass, but log a _warning message_:

```
IMPORTANT NOTE FROM MOCKITO:

You included the 'mockito-android' dependency in a non-Android environment.
The Android mock maker was disabled. You should only include the latter in your 'androidTestCompile' configuration
If disabling was a mistake, you can set the 'org.mockito.mock.android' property to 'true' to override this detection.

Visit https://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html#0.1 for more information
```

# Actual Behavior

* It fails the test, crashing with the following error message and stack trace:

```
java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)

	at org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:74)
	at com.sun.proxy.$Proxy7.isTypeMockable(Unknown Source)
	at org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:29)
	at org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)
	at org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:240)
	at org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:228)
	at org.mockito.internal.MockitoCore.mock(MockitoCore.java:61)
	at org.mockito.Mockito.mock(Mockito.java:1907)
	at org.mockito.Mockito.mock(Mockito.java:1816)
	at com.example.mockitoandroidcrash.ExampleUnitTest.uses default SubclassByteBuddyMockMaker for mocking(ExampleUnitTest.kt:18)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: java.lang.IllegalStateException: Failed to load interface org.mockito.plugins.MockMaker implementation declared in sun.misc.CompoundEnumeration@57fa26b7
	at org.mockito.internal.configuration.plugins.PluginInitializer.loadImpl(PluginInitializer.java:54)
	at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:57)
	at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:44)
	at org.mockito.internal.configuration.plugins.PluginRegistry.<init>(PluginRegistry.java:22)
	at org.mockito.internal.configuration.plugins.Plugins.<clinit>(Plugins.java:19)
	at org.mockito.internal.util.MockUtil.<clinit>(MockUtil.java:24)
	... 37 more
Caused by: java.lang.NullPointerException
	at org.mockito.internal.configuration.plugins.Plugins.getMockitoLogger(Plugins.java:66)
	at org.mockito.android.internal.creation.AndroidByteBuddyMockMaker.<init>(AndroidByteBuddyMockMaker.java:24)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at java.lang.Class.newInstance(Class.java:442)
	at org.mockito.internal.configuration.plugins.PluginInitializer.loadImpl(PluginInitializer.java:49)
	... 42 more
```


",https://github.com/mockito/mockito/issues/1694#issuecomment-487301214,"I think this is similar to https://github.com/mockito/mockito/issues/1589

Could you provide a sample project that we can clone and debug?"
mockito/mockito,"Consider the following Android instrumentation test:

```
@Test
public void testMockito() {
    final Collection mockCollection = Mockito.mock(Collection.class);

    Assert.assertTrue(true);
}
```

When run, I see the following output:

```
Testing started at 21:54 ...

04/08 21:54:01: Launching testMockito()
No apk changes detected since last installation, skipping installation of D:\Code\TestApp\app\build\outputs\apk\debug\app-debug.apk
$ adb push D:\Code\TestApp\app\build\outputs\apk\androidTest\debug\app-debug-androidTest.apk /data/local/tmp/com.example.zolbr.testapp.test
$ adb shell pm install -t -r ""/data/local/tmp/com.example.zolbr.testapp.test""
Success


Running tests

$ adb shell am instrument -w -r   -e debug false -e class 'com.example.zolbr.testapp.ExampleInstrumentedTest#testMockito' com.example.zolbr.testapp.test/android.support.test.runner.AndroidJUnitRunner
Client not ready yet..
Started running tests

org.mockito.exceptions.base.MockitoException:
Mockito cannot mock this class: interface java.util.Collection.

Mockito can only mock non-private & non-final classes.
If you're not sure why you're getting this error, please report to the mailing list.



IMPORTANT INFORMATION FOR ANDROID USERS:

The regular Byte Buddy mock makers cannot generate code on an Android VM!
To resolve this, please use the 'mockito-android' dependency for your application:
http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22mockito-android%22%20g%3A%22org.mockito%22

Java               : 0.9
JVM vendor name    : The Android Project
JVM vendor version : 2.1.0
JVM name           : Dalvik
JVM version        : 0.9
JVM info           : null
OS name            : Linux
OS version         : 3.18.56+


Underlying exception : java.lang.IllegalArgumentException: Could not create type
at com.example.zolbr.testapp.ExampleInstrumentedTest.testMockito(ExampleInstrumentedTest.java:40)
at java.lang.reflect.Method.invoke(Native Method)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runners.Suite.runChild(Suite.java:128)
at org.junit.runners.Suite.runChild(Suite.java:27)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:58)
at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:375)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2074)
Caused by: java.lang.IllegalArgumentException: Could not create type
at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:139)
at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:345)
at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:160)
at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:354)
at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)
at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:71)
at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:42)
at org.mockito.android.internal.creation.AndroidByteBuddyMockMaker.createMock(AndroidByteBuddyMockMaker.java:39)
at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)
at org.mockito.internal.MockitoCore.mock(MockitoCore.java:65)
at org.mockito.Mockito.mock(Mockito.java:1875)
at org.mockito.Mockito.mock(Mockito.java:1784)
... 28 more
Caused by: java.lang.IncompatibleClassChangeError: The method 'int java.lang.Object.hashCode()' was expected to be of type interface but instead was found to be of type virtual (declaration of 'net.bytebuddy.dynamic.scaffold.MethodRegistry$Handler$ForImplementation' appears in /data/app/com.example.zolbr.testapp.test-OVcvUgjejP8CYF6lGYt9Pg==/base.apk)
at net.bytebuddy.dynamic.scaffold.MethodRegistry$Handler$ForImplementation.hashCode(Unknown Source:2)
at java.util.HashMap.hash(HashMap.java:338)
at java.util.HashMap.put(HashMap.java:611)
at java.util.HashSet.add(HashSet.java:219)
at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:409)
at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:162)
at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:155)
at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2669)
at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:123)
at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)
at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)
at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:137)
... 39 more
```

This only occurs when using mockito-android 2.18.0:

```
androidTestImplementation 'org.mockito:mockito-android:2.18.0'
```

Downgrading to 2.17.0 fixes this issue.

This occurs on a Windows 10 dev machine running Android Studio 3.1.",https://github.com/mockito/mockito/issues/1364#issuecomment-379736003,"I have same question, can anyone help?"
mockito/mockito,"I ran the JUnit 5 build on jdk-10-ea and encountered a Mockito-related issue.

```
  JUnit Jupiter:TestFactoryTestDescriptorTests:streamsFromTestFactoriesShouldBeClosed()
    MethodSource [className = 'org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptorTests', methodName = 'streamsFromTestFactoriesShouldBeClosed', methodParameterTypes = '']
    => org.mockito.exceptions.base.MockitoException: 

Mockito cannot mock this class: interface org.junit.jupiter.api.extension.ExtensionContext.

Mockito can only mock non-private & non-final classes.
If you're not sure why you're getting this error, please report to the mailing list.

Java               : 10
JVM vendor name    : Oracle Corporation
JVM vendor version : 10-ea+29
JVM name           : Java HotSpot(TM) 64-Bit Server VM
JVM version        : 10-ea+29
JVM info           : mixed mode
OS name            : Linux
OS version         : 4.11.6-041106-generic

Underlying exception : java.lang.UnsupportedOperationException: Cannot define class using reflection
```

See full log at: https://travis-ci.org/junit-team/junit5/builds/296747184
See JUnit 5 issue that tracks JDK-9+ related issues at: https://github.com/junit-team/junit5/issues/1063

I guess, there's command line switch that transforms the exception into a warning.


",https://github.com/mockito/mockito/issues/1243#issuecomment-341691571,:cold_sweat: And we were just able to fix compatibility issues with JDK9 :joy: Is there a small reproduction example that we can add to our test suite and debug with?
mockito/mockito,"Found out at https://github.com/mockito/mockito/pull/980#issuecomment-285124740
This was initially fixed in #493, but I think the adoption of the new mockito-release-tools repository introduced this regression. All pull requests now have a failing status as CodeCov is unable to provide any feedback.

Commits should instead of `[ci skip]` use `[ci skip-release]`. Therefore Travis will kick off, but the release mechanism is not triggered.",https://github.com/mockito/mockito/issues/984#issuecomment-292697828,"My understanding is that code cov comparisons need every commit to produce report. Otherwise codecov ""cannot find base report"".

Running build for every commit defeats the purpose of ""ci skip"" :) Can we work with codecov tooling to accommodate this? Even if we make automated commits trigger builds, we still want to use ""ci skip"" at times.

Do you advocate to use ""ci skip release"" in place of ""ci skip"" for mockito project in general?"
mockito/mockito,"Hi,

We migrated to Mockito 2.x not so long ago and we came across a test that used to works back in Mockito 2.1.0 and no longer works with the latest 2.x version (2.7.11).

Here is the SSCCE to replicate the issue:

```
package com.some.company;

import static org.junit.Assert.*;

import java.beans.BeanInfo;
import java.beans.IntrospectionException;
import java.beans.Introspector;
import java.beans.PropertyDescriptor;
import java.util.HashMap;
import java.util.Map;

import org.junit.Test;
import org.mockito.Mockito;

public class Mockito2Issue
{
	public class SomeClass
	{
		String property;

		public String getAProperty()
		{
			return property;
		}

		protected String getNotAProperty()
		{
			return ""abc"";
		}
	}

	@Test
	public void testMockBug() throws IntrospectionException
	{
		SomeClass someClassMock = Mockito.mock(SomeClass.class);

		BeanInfo info = Introspector.getBeanInfo(someClassMock.getClass());

		Map<String, PropertyDescriptor> mockPropertyDescriptors = new HashMap<>();
		for (PropertyDescriptor propertyDescriptor : info.getPropertyDescriptors())
		{
			mockPropertyDescriptors.put(propertyDescriptor.getName(), propertyDescriptor);
		}

		assertTrue(mockPropertyDescriptors.containsKey(""AProperty""));
		assertFalse(mockPropertyDescriptors.containsKey(""notAProperty""));
	}

	@Test
	public void testSpyBug() throws IntrospectionException
	{
		SomeClass someClassSpy = Mockito.spy(new SomeClass());

		BeanInfo info = Introspector.getBeanInfo(someClassSpy.getClass());

		Map<String, PropertyDescriptor> spyPropertyDescriptors = new HashMap<>();
		for (PropertyDescriptor propertyDescriptor : info.getPropertyDescriptors())
		{
			spyPropertyDescriptors.put(propertyDescriptor.getName(), propertyDescriptor);
		}

		assertTrue(spyPropertyDescriptors.containsKey(""AProperty""));
		assertFalse(spyPropertyDescriptors.containsKey(""notAProperty""));
	}
}
```

**Before (1.10.19):**
Used to works

**After (2.7.11)**
Both tests fail on `assertFalse(mockPropertyDescriptors.containsKey(""notAProperty""));`

It seems that although the `getNotAProperty` method is `protected`, the most recent version of Mockito 2.x consider this as valid property getter, but not the very first 2.x stable release (2.1.0).

Can you take a look at this?


Environment details:

Component | Version
--------- | ------
OS | Ubuntu 16.10
Java | Oracle Java(TM) SE Runtime Environment (build 1.8.0_101-b13)
Eclipse | Neon.2
JUnit | 4.8.2
Mockito | 2.1.0 (before), 2.7.11 (after)",https://github.com/mockito/mockito/issues/963#issuecomment-282478325,"We changed Mockito's use of Byte Buddy to make all mock method's public. This was the solution to #688. Byte Buddy has in the meantime however learned to automatically expand the visibility of a method that is declared by an interface but defined by a super class (in this case `Object`), so we can remove the `Visibility.PUBLIC` constraint in `SubclassBytecodeGenerator` in line 74. Do however note that cglib always made methods public, in a way it is a derivation from the status quo but with a use case like the above, I think that not expanding visibility is more correct.

What do you think @TimvdLippe, @bric3, @szczepiq?"
mockito/mockito,"Example build: https://travis-ci.org/mockito/mockito/jobs/188911380

Seems that this does not affect core developers, as my build has been succesful: https://travis-ci.org/mockito/mockito/builds/188321204 as well as those in #865 and #859",https://github.com/mockito/mockito/issues/871#issuecomment-271572625,Can't we just disable the checks if the repo is not mockito/mockito ?
mockito/mockito,"#635 introduced improved matching for varargs. However, this failed on master since our sourceTarget is Java 8, while `release/2.x` has sourceTarget 6.

It seems that the type matching incorrectly matches  on `String` which should be `Object`, in the corresponding `VarArgTest`. https://github.com/mockito/mockito/commit/c42f86bb476133baec93502f0238476091275b76 fixed these compilation failures, but we should fix this to not require a generic type in the method call.
",https://github.com/mockito/mockito/issues/717#issuecomment-256632518,"Thanks to @TimvdLippe, for pointing to the right direction. On the laptop of a friend I was able to confirm the difference between the _compiled_ signature between Java 6 and Java 8.

_The following has been compiled with the JDK 8u112._

<details><summary>

(**click to show bytecode**) Here's the Java 6 bytecode, notice the two opcodes `invokeinterface` that both targets `org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I`. Also notice the `AASTORE` instruction just before</summary>



```
sourceCompatibility = 1.6
targetCompatibility = 1.6
```

```
  // access flags 0x1
  public shouldMatchVarArgs_nullArrayArg()V
  @Lorg/junit/Test;()
   L0
    LINENUMBER 99 L0
    ACONST_NULL
    ASTORE 1
   L1
    LINENUMBER 100 L1
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    ALOAD 1
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I
    POP
   L2
    LINENUMBER 102 L2
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    INVOKESTATIC org/mockito/Mockito.verify (Ljava/lang/Object;)Ljava/lang/Object;
    CHECKCAST org/mockitousage/IMethods
    ICONST_1
    ANEWARRAY java/lang/Object
    DUP
    ICONST_0
    INVOKESTATIC org/mockito/ArgumentMatchers.isNull ()Ljava/lang/Object;
    AASTORE
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I
    POP
   L3
    LINENUMBER 103 L3
    RETURN
   L4
    LOCALVARIABLE this Lorg/mockitousage/matchers/VarargsTest; L0 L4 0
    LOCALVARIABLE argArray [Ljava/lang/Object; L1 L4 1
    MAXSTACK = 5
    MAXLOCALS = 2
```

</details>

<details><summary>

(**click to show bytecode**) While the same method compiled with the target 1.8, notice the two opcodes `invokeinterface` that targets different methods 
- The stub targets `org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I`
- The verify targets `notice the two opcodes`invokeinterface`that both targets`org/mockitousage/IMethods.varargs ([Ljava/lang/String;)I`

Notice that instead of the `AASTORE` instruction there's a `CHECKCAST [Ljava/lang/String;` instruction. And `isNull` returns an Object array.
</summary>



```
sourceCompatibility = 1.8
targetCompatibility = 1.8
```

```
  // access flags 0x1
  public shouldMatchVarArgs_nullArrayArg()V
  @Lorg/junit/Test;()
   L0
    LINENUMBER 99 L0
    ACONST_NULL
    ASTORE 1
   L1
    LINENUMBER 100 L1
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    ALOAD 1
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I
    POP
   L2
    LINENUMBER 102 L2
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    INVOKESTATIC org/mockito/Mockito.verify (Ljava/lang/Object;)Ljava/lang/Object;
    CHECKCAST org/mockitousage/IMethods
    INVOKESTATIC org/mockito/ArgumentMatchers.isNull ()Ljava/lang/Object;
    CHECKCAST [Ljava/lang/String;
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/String;)I
    POP
   L3
    LINENUMBER 103 L3
    RETURN
   L4
    LOCALVARIABLE this Lorg/mockitousage/matchers/VarargsTest; L0 L4 0
    LOCALVARIABLE argArray [Ljava/lang/Object; L1 L4 1
    MAXSTACK = 2
    MAXLOCALS = 2
```

</details>

<details><summary>

(**click to show bytecode**) For the sake of completeness I compiled the code to target 1.7, and both invoke instruction targets `org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I`</summary>



```
  // access flags 0x1
  public shouldMatchVarArgs_nullArrayArg()V
  @Lorg/junit/Test;()
   L0
    LINENUMBER 99 L0
    ACONST_NULL
    ASTORE 1
   L1
    LINENUMBER 100 L1
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    ALOAD 1
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I
    POP
   L2
    LINENUMBER 102 L2
    ALOAD 0
    GETFIELD org/mockitousage/matchers/VarargsTest.mock : Lorg/mockitousage/IMethods;
    INVOKESTATIC org/mockito/Mockito.verify (Ljava/lang/Object;)Ljava/lang/Object;
    CHECKCAST org/mockitousage/IMethods
    ICONST_1
    ANEWARRAY java/lang/Object
    DUP
    ICONST_0
    INVOKESTATIC org/mockito/ArgumentMatchers.isNull ()Ljava/lang/Object;
    AASTORE
    INVOKEINTERFACE org/mockitousage/IMethods.varargs ([Ljava/lang/Object;)I
    POP
   L3
    LINENUMBER 103 L3
    RETURN
   L4
    LOCALVARIABLE this Lorg/mockitousage/matchers/VarargsTest; L0 L4 0
    LOCALVARIABLE argArray [Ljava/lang/Object; L1 L4 1
    MAXSTACK = 5
    MAXLOCALS = 2
```

</details>

The question is why java 8 compiler chose a more specific signature when compiled in java 8?
"
mockito/mockito,"https://bintray.com/szczepiq/maven/mockito/2.2.0-beta.1# was incorrectly generated by the delivery drone and must be removed asap from Bintray. Within 24 hours this is still possible, see https://bintray.com/docs/usermanual/uploads/uploads_deletingcontent.html

Only @szczepiq can do this because it is his account and not the Mockito organization.
",https://github.com/mockito/mockito/issues/667#issuecomment-251097934,"Deleted. Are we expecting this version is maven central, too?
"
mockito/mockito,"I was testing/rebuilding a project with the latest mockito 2.0-beta when I noticed a couple of tests had started failing. Looked into why and was able to reduce the issue to [a reproducible test case](https://github.com/hansjoachim/mockito/blob/confusedSignature/src/test/java/org/mockito/ConfusedSignatureTest.java). 

It looks like the problem is somehow caused by the method signature for `getFoo()`. The subclass gets this method from two places, the superclass with generic return type and from the interface with a concrete one, and this seems to be confusing Mockito. 

The test works with 1.10.19, but fails with 2.0.90-beta (/latest HEAD).

PS. Feel free to replace the title with something more descriptive.
",https://github.com/mockito/mockito/issues/508#issuecomment-235439358,"I think this is an issue with Bytebuddy, WDYT @raphw?
"
mockito/mockito,"Commit da5e750957b494e7fa0548bf1286d67b8b0386d5 removed the deprecated `Answers.get()` method, however the method was only deprecated in the 2.0 BETA line and never made it into a GA release. It would be helpful if the method could remain in the deprecated form in 2.0 to give people an opportunity to move away from it.

(originally raise by a Spring Boot user [here](https://github.com/spring-projects/spring-boot/pull/6323))
",https://github.com/mockito/mockito/issues/482#issuecomment-231235533,"Yes that seems like a good idea. Mind want to open a pull request?
"
mockito/mockito,"``` java
import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.is;
import static org.mockito.AdditionalMatchers.leq;
import static org.mockito.Matchers.eq;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

import org.junit.Test;

public class BlahTest
{
    @Test
    public void test()
    {
        final BoolResult mockBoolResult = mock(BoolResult.class);

        when(mockBoolResult.getResult(eq(5))).thenReturn(true);  // Succeeds as expected
        when(mockBoolResult.getResult(leq(5))).thenReturn(true); // Fails with an NPE - as of v2.0.64 - unexpected!

        assertThat(mockBoolResult.getResult(null), is(false));
    }

    interface BoolResult
    {
        boolean getResult(Integer value);
    }
}
```
",https://github.com/mockito/mockito/issues/457#issuecomment-228135833,"Seems to be related to my removal of HandyReturnValues. I will look into it!
Thanks for reporting! Did you found more Matcher that misbehave like that?
"
mockito/mockito,"Hi,

The current Mockito JAR is not a valid OSGi-bundle because it uses an illegal version for exporting its packages. I get the following error when I run my PAX-EXAM tests with the latest Mockito version:

org.ops4j.pax.exam.TestContainerException: Problem starting test container.
Caused by: org.osgi.framework.BundleException: Could not create bundle object.
Caused by: java.lang.IllegalArgumentException: invalid version ""2.0.44-beta"": non-numeric ""44-beta""
Caused by: java.lang.NumberFormatException: For input string: ""44-beta""

The version should be **2.0.44.beta** (with a dot instead a dash). This is since 2.0.28-beta, the last valid bundle was 2.0.27-beta.
",https://github.com/mockito/mockito/issues/383#issuecomment-206692552,"Can you help us out? If you build locally a regular version, e.g. 2.1.0 or something (version can be changed in 'version.properties' file), you can test it out locally and let us know.

I think I will not change the -beta notation now but I take the feedback will update the automation after 2.x final release.

THANKS for reporting!
"
mockito/mockito,"I get memory leaks in my project whenever I use Mockito. I have a hunch this is because Mockito uses the wrong classloader, but I'm not quite sure. Please see the sample project I made to reproduce this:

https://github.com/benmccann/play-mockito-bug
",https://github.com/mockito/mockito/issues/299#issuecomment-145723589,"Hey,

Thanks for reporting! Do you have a chance to debug this problem? We don't use sbt and I'm not sure when can we take a look at this problem.
"
mockito/mockito,"In MockitoSerializationIssue.filterStackTrace(), it calls `filter.filter(this)`, which then calls getStackTrace() again, causing an infinite recursion.
",https://github.com/mockito/mockito/issues/244#issuecomment-116968732,"Well spotted. We'll fix it. Any chance for PR?
"
mockito/mockito,"this fails:

<pre>
     import org.eclipse.jetty.client.HttpClient;
    HttpClient httpClient = mock(HttpClient.class);
</pre>

(jetty 9.2.10.v20150310)

with mockito 2.0.2-beta i can mock that class without a problem. 

stacktrace:

<pre>
java.lang.IllegalAccessError: tried to access class org.eclipse.jetty.util.component.ContainerLifeCycle$Managed from class org.eclipse.jetty.client.HttpClient$MockitoMock$362486671
    at org.eclipse.jetty.client.HttpClient$MockitoMock$362486671.<clinit>(Unknown Source)
    at sun.reflect.GeneratedSerializationConstructorAccessor2.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
    at org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.newInstance(SunReflectionFactoryInstantiator.java:45)
    at org.objenesis.ObjenesisBase.newInstance(ObjenesisBase.java:73)
    at org.mockito.internal.creation.instance.ObjenesisInstantiator.newInstance(ObjenesisInstantiator.java:14)
    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:27)
    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)
    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)
    at org.mockito.Mockito.mock(Mockito.java:1392)
    at org.mockito.Mockito.mock(Mockito.java:1270)
</pre>
",https://github.com/mockito/mockito/issues/233#issuecomment-113075493,"Is this an OSGI package ?
"
mockito/mockito,"No test failures when using 2.0.8-beta, but when incrementing to 2.0.9-beta, the following error occurs:

```
org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field 'monitorTaskScheduler'.
Unable to create mock instance of type 'MonitorTaskScheduler'
    at net.project.dash.monitor.MonitorTaskScheduler$MockitoMock$1184625981.getExecutorService(Unknown Source)
    at net.project.dash.monitor.MonitorTaskScheduler.<init>(MonitorTaskScheduler.java:39)
    at net.project.dash.monitor.MonitorTaskScheduler$MockitoMock$1184625981.<init>(Unknown Source)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
    at org.mockito.internal.creation.instance.ConstructorInstantiator.invokeConstructor(ConstructorInstantiator.java:42)
    at org.mockito.internal.creation.instance.ConstructorInstantiator.noArgConstructor(ConstructorInstantiator.java:66)
    at org.mockito.internal.creation.instance.ConstructorInstantiator.newInstance(ConstructorInstantiator.java:17)
    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:27)
    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)
    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)
    at org.mockito.Mockito.mock(Mockito.java:1284)
    at org.mockito.internal.configuration.SpyAnnotationEngine.newSpyInstance(SpyAnnotationEngine.java:117)
    at org.mockito.internal.configuration.SpyAnnotationEngine.process(SpyAnnotationEngine.java:67)
    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)
    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)
    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)
    at net.project.dash.monitor.MonitorTaskSchedulerTest.setUp(MonitorTaskSchedulerTest.java:38)
```

Relevant code (MonitorTaskSchedulerTest.java)

``` java
@Spy
MonitorTaskScheduler monitorTaskScheduler;

@Before
public void setUp()
{
    MockitoAnnotations.initMocks(this);
}
```

Relevant code (MonitorTaskScheduler.java)

``` java
public class MonitorTaskScheduler
{
    public MonitorTaskScheduler()
    {
        this.futureToTaskMap = new ConcurrentHashMap<>();
    }
}
```
",https://github.com/mockito/mockito/issues/220#issuecomment-108924434,"Can you try with 2.0.11-beta ?
"
mockito/mockito,"e.g.

```
Runnable runnable = Mockito.mock(Runnable.class);
Mockito.verify(runnable, Mockito.never()).run(); // passes as expected
Mockito.verify(runnable, Mockito.after(1000).never()).run(); // passes as expected
Mockito.verify(runnable, Mockito.after(-1000).atLeastOnce()).run(); // passes incorrectly
```
",https://github.com/mockito/mockito/issues/197#issuecomment-99181589,"I can try to fix that, but need to know what exactly is the issue here:
Should negative values in after method be forbidden and trigger exception to be thrown? or maybe negatives are allowed here (negative value means - immediately, pretty much it should behave like after(0) )?
"
mockito/mockito,"This is a bug I'm seeing in 1.10.8 version (older version has the same issue - tested with 1.9.0).

Given:

``` java
Function<Object, Integer> function = Mockito.mock(Function.class);
when(function.apply(Mockito.anyString())).thenReturn(1);
Integer result = function.apply(2);
```

Expected behavior:

``` java
result == null;
```

Actual behavior:

``` java
result == 1;
```

Note that the function is called with an integer (not a string), and still the mocked function return the value which it should return only when a string is passed. The same works when using anyBoolean() or any other methof from any\* family.
",https://github.com/mockito/mockito/issues/134#issuecomment-66937397,"I'm currently looking at fixing this.

Just to confirm: the current anyX() behaviour is to just accept anything of any type at all (i.e. anyString()/anyInteger()/etc are all the same as anyObject()), and we'd prefer to instead make all of these methods (except anyObject) actually do type checking, and match only nulls and instances of the specified type. Is that right? I'm basing this on https://code.google.com/p/mockito/issues/detail?id=122, which I hope isn't too out of date.
"
mockito/mockito,"I have encountered issue with Mockito (I have tested this on 1.10.14) and usage of different classloaders - running tests in SBT 0,13.

I have got empty class _TestClass_ and following test:

``` Java
    @Test
    public void runTest() {
        Mockito.spy(new TestClass(){

        });
    }
```

This test fails with following: 

```
Caused by: org.mockito.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException-->null
[error]     at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:238)
[error]     at org.mockito.cglib.proxy.Enhancer.createHelper(Enhancer.java:378)
[error]     at org.mockito.cglib.proxy.Enhancer.createClass(Enhancer.java:318)
[error]     at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:123)
[error]     at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)
[error]     at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)
[error]     at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)
[error]     at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)
[error]     at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)
[error]     at org.mockito.Mockito.spy(Mockito.java:1367)
[error]     ... 56 more
[error] Caused by: java.lang.reflect.InvocationTargetException
[error]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[error]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
[error]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[error]     at java.lang.reflect.Method.invoke(Method.java:606)
[error]     at org.mockito.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:385)
[error]     at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:220)
[error]     ... 65 more
[error] Caused by: java.lang.IllegalAccessError: class TestMock$1$$EnhancerByMockitoWithCGLIB$$7c797c20 cannot access its superclass TestMock$1
[error]     at java.lang.ClassLoader.defineClass1(Native Method)
[error]     at java.lang.ClassLoader.defineClass(ClassLoader.java:800)
```

Looks like there is class loader issue - in sbt, the default classloader is the one for the sbt launcher, but you are ""run"" in a sub classloader.

Following calls give different result: _Thread.currentThread().getContextClassLoader().getClass();_ and _TestClass.class.getClassLoader().getClass();_ 
The second one is the parent of the first one.

Of course there is no issue running this piece of code in IDE, but in my opinion this is Mockito's problem, something which could be improved. 

Is it possible to have this fixed in Mockito? I would say so because changing current classloader to the one used to load the class solves the issue. 
",https://github.com/mockito/mockito/issues/133#issuecomment-66532248,"Can you propose a fix to this problem?
"
mockito/mockito,"Add this to `GenericMetadataSupportTest`:

``` java
    interface GenericsSelfReference<T extends GenericsSelfReference<T>> {
        T self();
    }

    @Test
    public void typeVariable_of_self_type() {
        GenericMetadataSupport genericMetadata = inferFrom(GenericsSelfReference.class).resolveGenericReturnType(firstNamedMethod(""self"", GenericsSelfReference.class));

        assertThat(genericMetadata.rawType()).isEqualTo(GenericsSelfReference.class);
    }
```

It fails on master and 1.10.8 with this:

```
java.lang.StackOverflowError
    at sun.reflect.generics.reflectiveObjects.TypeVariableImpl.hashCode(TypeVariableImpl.java:201)
    at java.util.HashMap.hash(HashMap.java:338)
    at java.util.HashMap.get(HashMap.java:556)
    at org.mockito.internal.util.reflection.GenericMetadataSupport.getActualTypeArgumentFor(GenericMetadataSupport.java:193)
    at org.mockito.internal.util.reflection.GenericMetadataSupport.getActualTypeArgumentFor(GenericMetadataSupport.java:196)
    at org.mockito.internal.util.reflection.GenericMetadataSupport.getActualTypeArgumentFor(GenericMetadataSupport.java:196)
```

It worked on 1.9.5. May be caused by the changes in ab9e9f3 (cc @bric3).

(Also note that while the above interface looks strange, it is commonly used for builder hierarchies, where base class methods want to return this with a more specific type.)
",https://github.com/mockito/mockito/issues/114#issuecomment-60717048,"Thanks a lot for reporting! Guys, do you want to take a stab at fixing it?
"
mockito/mockito,"To reproduce attempt unzipping the jar file.
",https://github.com/mockito/mockito/issues/110#issuecomment-64078901,"I think that this bug was fixed upstream. Today I tried to reproduce it but on master everything works fine. I execute next commands:

```
./gradlew clean
./gradlew allJar
```

and after checking `build/libs/mockito-all-1.10.13.jar` and `build/libs/mockito-core-1.10.13.jar` everuthing seems to be fine.
Could you confirm or provide more detailed description?
"
mockito/mockito,"I am just migrating from mockito 1.9.5 to 1.10.5

The following code runs fine with version 1.9.5. but breaks now:

``` java

  @Test
  public void test() {
    ToBeMocked mock = mock(ToBeMocked.class, RETURNS_DEEP_STUBS);
    assertThat(mock.getSomething()).isNotNull();
  }

  public static class ToBeMocked {

    NotSerializableReturnValue field1;

    public ToBeMocked(NotSerializableReturnValue field1) {
      this.field1 = field1;
    }

    public NotSerializableReturnValue getSomething() {
      return field1;
    }
  }

  public static class NotSerializableReturnValue {

    String field1 = """";

    public NotSerializableReturnValue(String field1) {
      this.field1 = field1;
    }

    public String getSomething2() {
      return field1;
    }
  }
```

org.mockito.exceptions.base.MockitoException: 
You are using the setting 'withSettings().serializable()' however the type you are trying to mock 'NotSerializableReturnValue'
do not implement Serializable AND do not have a no-arg constructor.
",https://github.com/mockito/mockito/issues/99#issuecomment-58393273,"Hey,

Perhaps Mockito is too aggressive with this validation. The thing is that this code could break if you stub some of those methods. @bric3, thoughts?

Thanks for reporting! Can you update your code and add Serializable / default constructor?
"
strongbox/strongbox,"# Steps To Reproduce

1. create a 'proxy repository'
2. set 'Status' to `Out of Service`
3. try to 'Delete Repository""
4. note the error message:
```
Failed to complete request /api/configuration/strongbox/storages/storage-nuget/chocolatey
[object Object]
```

# Expected Behavior

storage should get deleted.

# Environment

* Strongbox Version: `{""strongbox"":{""version"":""1.0-SNAPSHOT"",""revision"":""eccd13064b1e3bfa""}}`
* OS: `adoptopenjdk/openjdk8:jdk8u232-b09-alpine`
",https://github.com/strongbox/strongbox/issues/1664#issuecomment-580208143,"@gretel : Is this only happening on the UI side of things? Does it work, if you try it through the REST API?
"
strongbox/strongbox,"# Bug Description

The default configuration has `ANONYMOUS_ROLE` set but trying to browse a nuget directory does always require authentication.

# Steps To Reproduce

1. Deploy strongbox using default configuration
2. Enable ""Allow directory browsing"" in `nuget-storage`
3. Try to do any `api` transaction anonomously (like `choco list`)

# Expected Behavior

Anonoymous users should be able to browse the directory as inherited by `ARTIFACTS_RESOLVE`

# Environment

* Strongbox Version: `{""strongbox"":{""version"":""1.0-SNAPSHOT"",""revision"":""eccd13064b1e3bfa""}}`
* OS: `adoptopenjdk/openjdk8:jdk8u232-b09-alpine`

",https://github.com/strongbox/strongbox/issues/1662#issuecomment-580226549,These might be two different problems. Are you talking about `choco list` or about browsing `/api/browse/storage/nuget-repository` ? 
strongbox/strongbox,,https://github.com/strongbox/strongbox/issues/1661#issuecomment-579415786,@F3000 : Are you sure you have the right project?
strongbox/strongbox,"# Bug Description

Strongbox proxying to chocolatey.org is not working. It fails silently on the client end, with `zero packages found`, but in the strongbox.log it has an `http 400 bad request error` under `Failed to fetch nuget remote feed [https://chocolatey.org/api/v2]`

Behavior found with both `nuget` and `choco` clients.

<details><summary>traceback from strongbox.log</summary><p>

---

```
10:54:26.717 09-11-2019 | ERROR | qtp1594030501-34     | o.c.strongbox.repository.NugetRepositoryFeatures   | Failed to fetch Nuget remote feed [https://chocolatey.org/api/v2]
javax.ws.rs.BadRequestException: HTTP 400 Bad Request
	at org.glassfish.jersey.client.JerseyInvocation.convertToException(JerseyInvocation.java:1011)
	at org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:819)
	at org.glassfish.jersey.client.JerseyInvocation.access$700(JerseyInvocation.java:92)
	at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:701)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:228)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)
	at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:697)
	at org.carlspring.strongbox.repository.NugetRepositoryFeatures$RepositorySearchEventListener.handle(NugetRepositoryFeatures.java:319)
	at org.carlspring.strongbox.repository.NugetRepositoryFeatures$RepositorySearchEventListener$$FastClassBySpringCGLIB$$aef4d6e3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at org.carlspring.strongbox.repository.NugetRepositoryFeatures$RepositorySearchEventListener$$EnhancerBySpringCGLIB$$92b97663.handle(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:261)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:179)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:142)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider.search(ProxyRepositoryProvider.java:133)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider$$FastClassBySpringCGLIB$$e11698aa.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider$$EnhancerBySpringCGLIB$$76cf6c13.search(<generated>)
	at org.carlspring.strongbox.controllers.layout.nuget.NugetArtifactController.searchNupkg(NugetArtifactController.java:332)
	at org.carlspring.strongbox.controllers.layout.nuget.NugetArtifactController.getPackages(NugetArtifactController.java:323)
	at org.carlspring.strongbox.controllers.layout.nuget.NugetArtifactController.searchPackages(NugetArtifactController.java:177)
	at org.carlspring.strongbox.controllers.layout.nuget.NugetArtifactController$$FastClassBySpringCGLIB$$ebeabea.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at org.carlspring.strongbox.controllers.layout.nuget.NugetArtifactController$$EnhancerBySpringCGLIB$$f3f24916.searchPackages(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:873)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1623)
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:214)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.carlspring.strongbox.web.DirectoryTraversalFilter.doFilterInternal(DirectoryTraversalFilter.java:46)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:262)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.carlspring.strongbox.security.authentication.StrongboxAuthenticationFilter.doFilterInternal(StrongboxAuthenticationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1700)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1667)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:505)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:370)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:267)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:132)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:698)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:804)
	at java.lang.Thread.run(Unknown Source) 
```
</p></details>

# Steps To Reproduce

1. Add a NuGet proxy repository named `chocolatey.org` proxying to `https://chocolatey.org/api/v2/` with otherwise identical settings to the built-in `nuget.org` proxy. See screenshots.
2. Add `http://{url}/storages/storage-common-proxies/chocolatey.org` as a source to the client
3. Disable other sources on client
4. Run the list command on the client and zero packages found.

# Expected Behavior

Client finds packages from chocolatey.org. 
# Screenshots

![image](https://user-images.githubusercontent.com/38865330/68532395-5202c880-02e2-11ea-883b-466dbaea7de5.png)

![image](https://user-images.githubusercontent.com/38865330/68532402-6646c580-02e2-11ea-8c5c-ea5e7c6d3d4e.png)
![image](https://user-images.githubusercontent.com/38865330/68532409-72cb1e00-02e2-11ea-9e05-074f5a7073a2.png)


# Environment

* Strongbox Version: version:1.0-SNAPSHOT revision:a3d737b3eda9811f
* OS: Windows 10 1903
* Maven version: 
```Apache Maven 3.6.2 (40f52333136460af0dc0d7232c0dc0bcf0d9e117; 2019-08-27T10:06:16-05:00)
Maven home: C:\PROGRA~3\CHOCOL~1\lib\maven\APACHE~1.2\bin\..
Java version: 1.8.0_231, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk1.8.0_231\jre
Default locale: en_US, platform encoding: Cp1252
OS name: ""windows 10"", version: ""10.0"", arch: ""amd64"", family: ""windows""
```

# Related tasks
#1113 ",https://github.com/strongbox/strongbox/issues/1579#issuecomment-552161126,"@TheCakeIsNaOH ,

Do you have any of the requests, or responses that were sent? Could you please attach these too, if you have them?

Thanks! :)
"
strongbox/strongbox,"# Bug Description

Integration tests in strongbox-web-core fail when run on a system with non english locale.

# Steps To Reproduce

1. Clone repo
2. Set system locale to something other than english (tested on german)
3. Build repo with `mvn clean install -Dintegration.tests`

# Expected Behavior
Tests should not be affected by locale of the building system

# Environment
* Strongbox Version: 1.0-SNAPSHOT
* OS: Windows 10 x64 - German
* Maven version (please provide the full output of `mvn --version`):

`Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-04T21:00:29+02:00)
Maven home: C:\Program Files\JetBrains\IntelliJ IDEA 2019.2\plugins\maven\lib\maven3
Java version: 1.8.0_202, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jre1.8.0_202
Default locale: de_AT, platform encoding: Cp1252
OS name: ""windows 10"", version: ""10.0"", arch: ""amd64"", family: ""windows""`

# Proposed Solution 
Implement fix similar to [Issue 1466/Pull 1467](https://github.com/strongbox/strongbox/pull/1467)

# Known Workarounds
Change system locale to english

# Useful Links <!-- Remove if unrelated -->

* [Similar Issue](https://github.com/strongbox/strongbox/issues/1466)",https://github.com/strongbox/strongbox/issues/1569#issuecomment-548149295,"@mkisser-tgm : You are not looking into this already, are you?"
strongbox/strongbox,"# Bug Description

Issuing the command below will return an HTTP 400:

```
npm install @angular/core
```

# Expected Behavior

The command succeeds.

# Tasks

* [ ] Investigate the bug and provide steps to reproduce it.
* [ ] Fix the bug.
* [ ] Create a test case for this under the [`strongbox-web-integration-tests`](https://github.com/strongbox/strongbox-web-integration-tests/) project.

# Useful Information

The code for the NPM layout provider is split across two projects:
* [`strongbox-npm-metadata`](https://github.com/strongbox/strongbox-npm-metadata/) : This contains all the code related to the NPM metadata.
* The [`strongbox-web-core`](https://github.com/strongbox/strongbox/blob/master/strongbox-web-core/) contains the Spring controller for this called [NpmArtifactController](https://github.com/strongbox/strongbox/blob/master/strongbox-web-core/src/main/java/org/carlspring/strongbox/controllers/layout/npm/NpmArtifactController.java).
* In addition, there is a separate project called [`strongbox-web-integration-tests`](https://github.com/strongbox/strongbox-web-integration-tests/) where all the integration tests for various build tools reside.
* You can checkout the [strongbox-examples](https://github.com/strongbox/strongbox-examples/tree/master/hello-strongbox-npm#prepare-project-workspace) project which shows how you can configure NPM to use Strongbox. Use `http://localhost:48080/storages/storage-npm/npmjs` instead the mentioned repository in the example.

# Help

* [Our chat](https://chat.carlspring.org/)
* Points of contact:
  * @carlspring
  * @sbespalov
  * @fuss86
",https://github.com/strongbox/strongbox/issues/1481#issuecomment-537147079,Can I work on this issue?
strongbox/strongbox,"# Bug Description

After merging PR #1465, the `shouldRequireAuthenticationAccess` method in `PasswordEncoderControllerTest` class fails if the system language is in German, as already happened in #1438. 

This is happening due to Spring Security uses a `messages_{language}.properties` file to translate some security error messages, being English as default language.

# Steps To Reproduce

1. Change system language to German.
2. Clone the repository.
3. `cd strongbox`
4. `mvn test -Dtest=PasswordEncoderControllerTest#shouldRequireAuthenticationAccess -pl strongbox-web-core`

# Expected Behavior
The test should not be dependant on system language and pass on other languages than English. 

# Environment

* Strongbox Version: 1.0-SNAPSHOT
* Strongbox Revision: f9af518a4304be51
* OS:  Ubuntu 19.04
* Maven version:
```
Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)
Maven home: /opt/apache-maven-3.6.0
Java version: 1.8.0_222, vendor: Private Build, runtime: /usr/lib/jvm/java-8-openjdk-amd64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: ""linux"", version: ""5.0.0-27-generic"", arch: ""amd64"", family: ""unix""
``` 

# Additional context
The error message is hardcoded into the test as ""`Full authentication is required`"". This causes the test to fail if the error message isn't the original english error message. This should be fixed in the same way as PR #1439 


# Task Relationships

This bug:
* Is caused by: PR #1465
* Relates to: #1438 
* Depends on:
",https://github.com/strongbox/strongbox/issues/1466#issuecomment-532366625,Ahh... I didn't see this one coming. Thanks for reporting this @ptirador! Would you like to fix it or should I? :)
strongbox/strongbox,"# Bug Description

On master, as of commit https://github.com/strongbox/strongbox/commit/868626f3ec2f0616d5110d3c363780ebbcd67ada, the unit tests `RepositoryHostedIndexCreatorTest` and `MavenIndexCreatorTest` both fail on MacOS.

# Steps To Reproduce

1. `git clone git@github.com:strongbox/strongbox` on MacOS computer
2. `cd strongbox`
3. `mvn clean install`
4. Observe the two tests above may fail.  Failures will occur in each test

# Expected Behavior
All unit tests pass.

# Screenshots
N/A

# Environment

* Strongbox Version: commit 868626f3ec2f0616d5110d3c363780ebbcd67ada
* OS: MacOS
* Maven version (please provide the full output of `mvn --version`):
`Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-04T12:00:29-07:00)
Maven home: /usr/local/Cellar/maven/3.6.1/libexec
Java version: 1.8.0_131, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
Default locale: en_US, platform encoding: UTF-8
OS name: ""mac os x"", version: ""10.14.5"", arch: ""x86_64"", family: ""mac"" `

* Browser (if related to UI): N/A

# Additional context <!-- Remove if unrelated -->
The HFS+ filesystem does not support sub-second granularity in the mtime on files. APFS, the newer MacOS filesystem, does offer improved granularity. However there appears to be an issue in the JDK resulting in subsecond-granularity information not being available in the Java nio APIs. More information can be found at the following location:

http://mail.openjdk.java.net/pipermail/nio-dev/2017-December/004632.html

It appears that recent Travis-CI builds on the master branch have failed for unrelated reasons, but the Travis builds have not been successful since the introduction of 868626f3ec2f0616d5110d3c363780ebbcd67ada.

# Proposed Solution

https://github.com/strongbox/strongbox/pull/1435

# Useful Links
* http://mail.openjdk.java.net/pipermail/nio-dev/2017-December/004632.html

# Task Relationships

This bug:
* Is caused by: https://github.com/strongbox/strongbox/pull/702/files (new unit tests introduced in this PR rely on file mtime changing as a consequence of successive index operations)
* Relates to: 
* Depends on:
",https://github.com/strongbox/strongbox/issues/1437#issuecomment-523149049,"Thanks @cbrianhill for great description and investigation !

Could you please check if we can change `Files.getLastModifiedTime(indexPath)` to `indexPath.toFile().lastModified()` ? Will it work ? So we would replace `java.nio` by `java.io` in these tests.

Horrible MacOS JDK bug :)"
strongbox/strongbox,"# Bug Description

When we cancel file download, `java.lang.StackOverflowError` occurs in logs.

# Steps To Reproduce

0. Run `strongbox`
1. Hit http://localhost:48080/storages/storage-common-proxies/maven-central/.index/nexus-maven-repository-index.gz in the browser (wait for the file if it's locked)
2. Cancel a running download
3. See `strongbox` logs

# Expected Behavior

Proper handle file download cancel request.

# Logs

https://gist.github.com/fuss86/f5fab07385f9e1ac89976ff1e17fae9a

# Environment

* Strongbox Version: 
```
{""strongbox"":{""version"":""1.0-SNAPSHOT"",""revision"":""868626f3ec2f0616""}}
```
* Maven version (please provide the full output of `mvn --version`):
```
$ mvn --version
Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T21:39:06+02:00)
Maven home: C:\tools\apache-maven-3.5.0
Java version: 1.8.0_161, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_161\jre
Default locale: pl_PL, platform encoding: Cp1250
OS name: ""windows 10"", version: ""10.0"", arch: ""amd64"", family: ""windows""
```
",https://github.com/strongbox/strongbox/issues/1430#issuecomment-522218105,Hi. Can I take this?
strongbox/strongbox,"# Task Description

Some cron tasks are created during the server startup (for example [DownloadRemoteFeedCronJob](https://github.com/strongbox/strongbox/blob/master/strongbox-storage/strongbox-storage-layout-providers/strongbox-storage-nuget-layout-provider/src/main/java/org/carlspring/strongbox/cron/jobs/DownloadRemoteFeedCronJob.java)) (see also [NugetRepositoryManagementStrategy](https://github.com/strongbox/strongbox/blob/master/strongbox-storage/strongbox-storage-layout-providers/strongbox-storage-nuget-layout-provider/src/main/java/org/carlspring/strongbox/repository/NugetRepositoryManagementStrategy.java)) and then saved in the `strongbox-cron-tasks.yaml` file. We should check and validate the existence of the same configuration, because on server restart, these entries are duplicated in the  `strongbox-cron-tasks.yaml` file.

Currently we have following cron jobs created during server startup:
* [x] `DownloadRemoteFeedCronJob` 
* [x] `FetchRemoteNpmChangesFeedCronJob`
* [x] `RebuildMavenIndexesCronJob` 
* [x] `DownloadRemoteMavenIndexCronJob`

We need to stop duplicating the same jobs in the `strongbox-cron-tasks.yaml` file.

# Help

* [Our chat](https://chat.carlspring.org/)
* Points of contact:
  * @carlspring
  * @sbespalov
  * @fuss86
",https://github.com/strongbox/strongbox/issues/1299#issuecomment-498623025,"@fuss86 @carlspring Right now, when a new cron task is created, a new UUID is generated but it has the same job class as a task in the yaml file. Should we assume that this new cron task is in fact a duplicate, and we should skip it and don't add it to the file?

What I mean is if we should validate the existence by validating first the equality of the UUID and then the same for the  job class."
strongbox/strongbox,"# Task Description

During Jenkins build we encountered 

```
[2019-03-07T01:40:39.162Z] [ERROR] Errors: 
[2019-03-07T01:40:39.162Z] [ERROR]   MavenIndexerSearchProviderTest.setUp:75->TestCaseWithMavenArtifactGenerationAndIndexing.createRepositoryWithArtifacts:127->TestCaseWithMavenArtifactGenerationAndIndexing.createRepositoryWithArtifacts:138->TestCaseWithMavenArtifactGenerationAndIndexing.generateArtifactsReIndexAndPack:255 ? NullPointer
02:40:39  [INFO] 
[2019-03-07T01:40:39.162Z] [ERROR] Tests run: 116, Failures: 0, Errors: 1, Skipped: 0
02:40:39  [INFO] 
[2019-03-07T01:40:39.162Z] [ERROR] There are test failures.
```

This problem is non-deterministic, most often non-reproducible.

# Help

* [Our chat](https://chat.carlspring.org/)
* Points of contact:
  * @carlspring
  * @sbespalov
  * @fuss86
",https://github.com/strongbox/strongbox/issues/1097#issuecomment-471343691,"Can I try? I never did any contribution to any project at Github before, but I want to try this one,"
strongbox/strongbox,"# Issue Description

As seen in the screenshot, the artifact browsing seems randomly ordered, instead of starting with `..` and then being alphabetical.

![screenshot from 2019-02-08 08-38-36](https://user-images.githubusercontent.com/1436265/52470741-f22a9600-2b86-11e9-8eb3-3379db61b186.png)

Occurs under chrome Version 63.0.3239.108 (Official Build) (64-bit)

# Help

* [Our chat](https://chat.carlspring.org/)
* Points of contact:
  * @carlspring
  * @sbespalov
  * @fuss86
",https://github.com/strongbox/strongbox/issues/1014#issuecomment-461864538,"I was able to reproduce this issue. Here's the JSON returned for `http:/localhost:48080/api/browse/storage-common-proxies`:

```
{
  ""directories"" : [ {
    ""name"" : ""nuget.org"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""nuget.org"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/nuget.org""
  }, {
    ""name"" : ""jboss-public-releases"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""jboss-public-releases"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/jboss-public-releases""
  }, {
    ""name"" : ""maven-central"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""maven-central"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/maven-central""
  }, {
    ""name"" : ""apache-snapshots"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""apache-snapshots"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/apache-snapshots""
  }, {
    ""name"" : ""maven-oracle"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""maven-oracle"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/maven-oracle""
  }, {
    ""name"" : ""carlspring"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""carlspring"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/carlspring""
  }, {
    ""name"" : ""group-common-proxies"",
    ""size"" : null,
    ""lastModified"" : null,
    ""storageId"" : ""storage-common-proxies"",
    ""repositoryId"" : ""group-common-proxies"",
    ""artifactPath"" : null,
    ""url"" : ""http://localhost:48080/api/browse/storage-common-proxies/group-common-proxies""
  } ],
  ""files"" : [ ]
}
```

We need to also fix the [`.sort()`](https://github.com/strongbox/strongbox-web-ui/blob/master/src/app/shared/layout/components/directory-listing/directory-listing.component.ts#L65) function in the UI where I seem to have missed to add the property which will be used to sort the array.

```
this.directoryListing.data = [
    ...pathContent.directories.sort((a, b) => a.name.toLocaleLowerCase().localeCompare(b.name.toLocaleLowerCase())),
    ...pathContent.files.sort((a, b) => a.name.toLocaleLowerCase().localeCompare(b.name.toLocaleLowerCase()))
];
```

@ptirador would you mind fixing this in the UI as well? :) "
strongbox/strongbox,"When you go to the UI and try to add a Group Repository, the order of the grouped repositories **MUST** be the way it's ordered - otherwise, this could lead to possible invalid `maven-metadata.xml` due to the way Strongbox would generate the metadata. ",https://github.com/strongbox/strongbox/issues/1003#issuecomment-460041098,Hi! Could you give me an example? Thanks!
strongbox/strongbox,"When executing the command `mvn clean install -Dintegration.tests`, the following test is failing (disabled for obvious reasons):

Module: `strongbox-web-core`
Class: `org.carlspring.strongbox.controllers.aql.AqlControllerTest`
Test: `testSearchValidMavenCoordinates`

The error is:
```
FAILURE! - in org.carlspring.strongbox.controllers.aql.AqlControllerTest
testSearchValidMavenCoordinates  Time elapsed: 0.605 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path artifact doesn't match.
Expected: a collection with size <6>
  Actual: [{path=org/carlspring/strongbox/partial/partial-foo/3.1/partial-foo-3.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.partial, classifier=null, artifactId=partial-foo, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.partial</groupId>
    <artifactId>partial-foo</artifactId>
    <version>3.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.partial"" % ""partial-foo"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.partial/partial-foo ""3.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.partial:partial-foo:3.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.partial"" name=""partial-foo"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/partial/partial-foo/3.1/partial-foo-3.1.pom, storageId=storage0}, {path=org/carlspring/strongbox/test/dynamic-privileges/1.0/dynamic-privileges-1.0.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.test, classifier=null, artifactId=dynamic-privileges, version=1.0}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.test</groupId>
    <artifactId>dynamic-privileges</artifactId>
    <version>1.0</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.test"" % ""dynamic-privileges"" % ""1.0""
, name=SBT}, {code=[org.carlspring.strongbox.test/dynamic-privileges ""1.0"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.test:dynamic-privileges:1.0@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.test"" name=""dynamic-privileges"" rev=""1.0"" />
, name=Ivy}], repositoryId=releases, url=http://localhost:48080/storages/storage0/releases/org/carlspring/strongbox/test/dynamic-privileges/1.0/dynamic-privileges-1.0.pom, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.2/metadata-faa-maven-plugin-3.2.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-faa-maven-plugin, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-faa-maven-plugin</artifactId>
    <version>3.2</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-faa-maven-plugin"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-faa-maven-plugin ""3.2""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-faa-maven-plugin:3.2""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-faa-maven-plugin"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.2/metadata-faa-maven-plugin-3.2.jar, storageId=storage0}, {path=org/carlspring/strongbox/partial/partial-foo/3.1/partial-foo-3.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.partial, classifier=null, artifactId=partial-foo, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.partial</groupId>
    <artifactId>partial-foo</artifactId>
    <version>3.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.partial"" % ""partial-foo"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.partial/partial-foo ""3.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.partial:partial-foo:3.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.partial"" name=""partial-foo"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/partial/partial-foo/3.1/partial-foo-3.1.jar, storageId=storage0}, {path=org/carlspring/strongbox/test/dynamic-privileges/1.0/dynamic-privileges-1.0.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.test, classifier=null, artifactId=dynamic-privileges, version=1.0}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.test</groupId>
    <artifactId>dynamic-privileges</artifactId>
    <version>1.0</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.test"" % ""dynamic-privileges"" % ""1.0""
, name=SBT}, {code=[org.carlspring.strongbox.test/dynamic-privileges ""1.0""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.test:dynamic-privileges:1.0""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.test"" name=""dynamic-privileges"" rev=""1.0"" />
, name=Ivy}], repositoryId=releases, url=http://localhost:48080/storages/storage0/releases/org/carlspring/strongbox/test/dynamic-privileges/1.0/dynamic-privileges-1.0.jar, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.2/metadata-faa-maven-plugin-3.2.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-faa-maven-plugin, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-faa-maven-plugin</artifactId>
    <version>3.2</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-faa-maven-plugin"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-faa-maven-plugin ""3.2"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-faa-maven-plugin:3.2@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-faa-maven-plugin"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.2/metadata-faa-maven-plugin-3.2.pom, storageId=storage0}, {path=org/carlspring/strongbox/searches/test-project/1.0.11.3/test-project-1.0.11.3.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.searches, classifier=null, artifactId=test-project, version=1.0.11.3}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.searches</groupId>
    <artifactId>test-project</artifactId>
    <version>1.0.11.3</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.searches"" % ""test-project"" % ""1.0.11.3""
, name=SBT}, {code=[org.carlspring.strongbox.searches/test-project ""1.0.11.3"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.searches:test-project:1.0.11.3@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.searches"" name=""test-project"" rev=""1.0.11.3"" />
, name=Ivy}], repositoryId=sc-releases-search, url=http://localhost:48080/storages/storage-sc-test/sc-releases-search/org/carlspring/strongbox/searches/test-project/1.0.11.3/test-project-1.0.11.3.pom, storageId=storage-sc-test}, {path=org/carlspring/strongbox/partial/partial-foo/3.2/partial-foo-3.2.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.partial, classifier=null, artifactId=partial-foo, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.partial</groupId>
    <artifactId>partial-foo</artifactId>
    <version>3.2</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.partial"" % ""partial-foo"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.partial/partial-foo ""3.2"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.partial:partial-foo:3.2@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.partial"" name=""partial-foo"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/partial/partial-foo/3.2/partial-foo-3.2.pom, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo-maven-plugin/3.1/metadata-foo-maven-plugin-3.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo-maven-plugin, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo-maven-plugin</artifactId>
    <version>3.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo-maven-plugin"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo-maven-plugin ""3.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo-maven-plugin:3.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo-maven-plugin"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo-maven-plugin/3.1/metadata-foo-maven-plugin-3.1.jar, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo/3.1/metadata-foo-3.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo</artifactId>
    <version>3.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo ""3.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo:3.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo/3.1/metadata-foo-3.1.jar, storageId=storage0}, {path=org/carlspring/strongbox/searches/test-project/1.0.11.3/test-project-1.0.11.3.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.searches, classifier=null, artifactId=test-project, version=1.0.11.3}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.searches</groupId>
    <artifactId>test-project</artifactId>
    <version>1.0.11.3</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.searches"" % ""test-project"" % ""1.0.11.3""
, name=SBT}, {code=[org.carlspring.strongbox.searches/test-project ""1.0.11.3""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.searches:test-project:1.0.11.3""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.searches"" name=""test-project"" rev=""1.0.11.3"" />
, name=Ivy}], repositoryId=sc-releases-search, url=http://localhost:48080/storages/storage-sc-test/sc-releases-search/org/carlspring/strongbox/searches/test-project/1.0.11.3/test-project-1.0.11.3.jar, storageId=storage-sc-test}, {path=org/carlspring/strongbox/partial/partial-foo/3.2/partial-foo-3.2.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.partial, classifier=null, artifactId=partial-foo, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.partial</groupId>
    <artifactId>partial-foo</artifactId>
    <version>3.2</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.partial"" % ""partial-foo"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.partial/partial-foo ""3.2""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.partial:partial-foo:3.2""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.partial"" name=""partial-foo"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/partial/partial-foo/3.2/partial-foo-3.2.jar, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo-maven-plugin/3.1/metadata-foo-maven-plugin-3.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo-maven-plugin, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo-maven-plugin</artifactId>
    <version>3.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo-maven-plugin"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo-maven-plugin ""3.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo-maven-plugin:3.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo-maven-plugin"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo-maven-plugin/3.1/metadata-foo-maven-plugin-3.1.pom, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo/3.1/metadata-foo-3.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo</artifactId>
    <version>3.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo ""3.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo:3.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo/3.1/metadata-foo-3.1.pom, storageId=storage0}, {path=org/carlspring/strongbox/searches/test-project/1.0.11.3.1/test-project-1.0.11.3.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.searches, classifier=null, artifactId=test-project, version=1.0.11.3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.searches</groupId>
    <artifactId>test-project</artifactId>
    <version>1.0.11.3.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.searches"" % ""test-project"" % ""1.0.11.3.1""
, name=SBT}, {code=[org.carlspring.strongbox.searches/test-project ""1.0.11.3.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.searches:test-project:1.0.11.3.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.searches"" name=""test-project"" rev=""1.0.11.3.1"" />
, name=Ivy}], repositoryId=sc-releases-search, url=http://localhost:48080/storages/storage-sc-test/sc-releases-search/org/carlspring/strongbox/searches/test-project/1.0.11.3.1/test-project-1.0.11.3.1.pom, storageId=storage-sc-test}, {path=org/carlspring/strongbox/copy/copy-foo/1.1/copy-foo-1.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.copy, classifier=null, artifactId=copy-foo, version=1.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.copy</groupId>
    <artifactId>copy-foo</artifactId>
    <version>1.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.copy"" % ""copy-foo"" % ""1.1""
, name=SBT}, {code=[org.carlspring.strongbox.copy/copy-foo ""1.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.copy:copy-foo:1.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.copy"" name=""copy-foo"" rev=""1.1"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/copy/copy-foo/1.1/copy-foo-1.1.pom, storageId=storage0}, {path=org/carlspring/strongbox/browse/foo-bar/1.0/foo-bar-1.0.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.browse, classifier=null, artifactId=foo-bar, version=1.0}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.browse</groupId>
    <artifactId>foo-bar</artifactId>
    <version>1.0</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.browse"" % ""foo-bar"" % ""1.0""
, name=SBT}, {code=[org.carlspring.strongbox.browse/foo-bar ""1.0"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.browse:foo-bar:1.0@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.browse"" name=""foo-bar"" rev=""1.0"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/browse/foo-bar/1.0/foo-bar-1.0.pom, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.1/metadata-faa-maven-plugin-3.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-faa-maven-plugin, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-faa-maven-plugin</artifactId>
    <version>3.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-faa-maven-plugin"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-faa-maven-plugin ""3.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-faa-maven-plugin:3.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-faa-maven-plugin"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.1/metadata-faa-maven-plugin-3.1.jar, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo/3.2/metadata-foo-3.2.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo</artifactId>
    <version>3.2</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo ""3.2""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo:3.2""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo/3.2/metadata-foo-3.2.jar, storageId=storage0}, {path=org/carlspring/strongbox/searches/test-project/1.0.11.3.1/test-project-1.0.11.3.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.searches, classifier=null, artifactId=test-project, version=1.0.11.3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.searches</groupId>
    <artifactId>test-project</artifactId>
    <version>1.0.11.3.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.searches"" % ""test-project"" % ""1.0.11.3.1""
, name=SBT}, {code=[org.carlspring.strongbox.searches/test-project ""1.0.11.3.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.searches:test-project:1.0.11.3.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.searches"" name=""test-project"" rev=""1.0.11.3.1"" />
, name=Ivy}], repositoryId=sc-releases-search, url=http://localhost:48080/storages/storage-sc-test/sc-releases-search/org/carlspring/strongbox/searches/test-project/1.0.11.3.1/test-project-1.0.11.3.1.jar, storageId=storage-sc-test}, {path=org/carlspring/strongbox/copy/copy-foo/1.1/copy-foo-1.1.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.copy, classifier=null, artifactId=copy-foo, version=1.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.copy</groupId>
    <artifactId>copy-foo</artifactId>
    <version>1.1</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.copy"" % ""copy-foo"" % ""1.1""
, name=SBT}, {code=[org.carlspring.strongbox.copy/copy-foo ""1.1""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.copy:copy-foo:1.1""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.copy"" name=""copy-foo"" rev=""1.1"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/copy/copy-foo/1.1/copy-foo-1.1.jar, storageId=storage0}, {path=org/carlspring/strongbox/browse/foo-bar/1.0/foo-bar-1.0.jar, artifactCoordinates={extension=jar, groupId=org.carlspring.strongbox.browse, classifier=null, artifactId=foo-bar, version=1.0}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.browse</groupId>
    <artifactId>foo-bar</artifactId>
    <version>1.0</version>
    <type>jar</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.browse"" % ""foo-bar"" % ""1.0""
, name=SBT}, {code=[org.carlspring.strongbox.browse/foo-bar ""1.0""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.browse:foo-bar:1.0""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.browse"" name=""foo-bar"" rev=""1.0"" />
, name=Ivy}], repositoryId=act-releases-1, url=http://localhost:48080/storages/storage0/act-releases-1/org/carlspring/strongbox/browse/foo-bar/1.0/foo-bar-1.0.jar, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.1/metadata-faa-maven-plugin-3.1.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-faa-maven-plugin, version=3.1}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-faa-maven-plugin</artifactId>
    <version>3.1</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-faa-maven-plugin"" % ""3.1""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-faa-maven-plugin ""3.1"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-faa-maven-plugin:3.1@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-faa-maven-plugin"" rev=""3.1"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-faa-maven-plugin/3.1/metadata-faa-maven-plugin-3.1.pom, storageId=storage0}, {path=org/carlspring/strongbox/metadata/metadata-foo/3.2/metadata-foo-3.2.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.metadata, classifier=null, artifactId=metadata-foo, version=3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.metadata</groupId>
    <artifactId>metadata-foo</artifactId>
    <version>3.2</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.metadata"" % ""metadata-foo"" % ""3.2""
, name=SBT}, {code=[org.carlspring.strongbox.metadata/metadata-foo ""3.2"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.metadata:metadata-foo:3.2@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.metadata"" name=""metadata-foo"" rev=""3.2"" />
, name=Ivy}], repositoryId=act-releases-2, url=http://localhost:48080/storages/storage0/act-releases-2/org/carlspring/strongbox/metadata/metadata-foo/3.2/metadata-foo-3.2.pom, storageId=storage0}, {path=org/carlspring/strongbox/searches/test-project/1.0.11.3.2/test-project-1.0.11.3.2.pom, artifactCoordinates={extension=pom, groupId=org.carlspring.strongbox.searches, classifier=null, artifactId=test-project, version=1.0.11.3.2}, snippets=[{code=<dependency>
    <groupId>org.carlspring.strongbox.searches</groupId>
    <artifactId>test-project</artifactId>
    <version>1.0.11.3.2</version>
    <type>pom</type>
    <scope>compile</scope>
</dependency>
, name=Maven 2}, {code=libraryDependencies += ""org.carlspring.strongbox.searches"" % ""test-project"" % ""1.0.11.3.2""
, name=SBT}, {code=[org.carlspring.strongbox.searches/test-project ""1.0.11.3.2"" :extension ""pom""]
, name=Leiningen}, {code=compile ""org.carlspring.strongbox.searches:test-project:1.0.11.3.2@pom""
, name=Gradle}, {code=<dependency org=""org.carlspring.strongbox.searches"" name=""test-project"" rev=""1.0.11.3.2"" />
, name=Ivy}], repositoryId=sc-releases-search, url=http://localhost:48080/storages/storage-sc-test/sc-releases-search/org/carlspring/strongbox/searches/test-project/1.0.11.3.2/test-project-1.0.11.3.2.pom, storageId=storage-sc-test}]
```


Remove the `@Disabled` annotation from the test and find out what's happening.",https://github.com/strongbox/strongbox/issues/927#issuecomment-437502069,"@ptirador , I believe it was fixed 2 days ago here https://github.com/strongbox/strongbox/pull/920/files Would you mind upgrading your branch to latest master and try again  ?"
strongbox/strongbox,"Currently, Nuget integration tests are failing because the deletion of an artifact from the repository doesn't seem to be working, although it says that there is a successful deletion.

Log:
```
Execute command[s]:
C:\nuget.exe delete Org.Carlspring.Strongbox.Examples.Nuget.Mono 1.0.0 -Source http://localhost:48080/storages/storage-nuget/nuget-releases -NonInteractive -ConfigFile C:\Users\Daniel\Desktop\strongbox-web-integration-tests\target\nuget-it/NuGet.config
WARNING: Deleting Org.Carlspring.Strongbox.Examples.Nuget.Mono 1.0.0 from the 'http://localhost:48080/storages/storage-nuget/nuget-releases'.
  DELETE http://localhost:48080/storages/storage-nuget/nuget-releases/Org.Carlspring.Strongbox.Examples.Nuget.Mono/1.0.0
19:08:28.419 03-02-2018 | DEBUG | qtp147623131-68      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomAccessDecisionVoter@4edf1076, returned: 0
19:08:28.484 03-02-2018 | DEBUG | qtp147623131-68      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomPreInvocationAuthorizationAdviceVoter@3e6abc29, returned: 1
19:08:28.563 03-02-2018 | INFO  | qtp147623131-68      | o.c.s.controllers.nuget.NugetArtifactController    | Nuget delete request: storageId-[storage-nuget]; repositoryId-[nuget-releases]; packageId-[Org.Carlspring.Strongbox.Examples.Nuget.Mono]
19:08:28.563 03-02-2018 | DEBUG | qtp147623131-68      | o.c.s.providers.layout.AbstractLayoutProvider      | Checking in storage-nuget:nuget-releases(Org.Carlspring.Strongbox.Examples.Nuget.Mono/1.0.0/Org.Carlspring.Strongbox.Examples.Nuget.Mono.nuspec)...
19:08:28.635 03-02-2018 | DEBUG | qtp147623131-68      | o.c.s.event.artifact.ArtifactEventListenerRegistry | Dispatching ArtifactEventTypeEnum.EVENT_ARTIFACT_PATH_DELETED event for storage-nuget:nuget-releases/Org.Carlspring.Strongbox.Examples.Nuget.Mono/1.0.0/Org.Carlspring.Strongbox.Examples.Nuget.Mono.nuspec...
19:08:28.649 03-02-2018 | DEBUG | qtp147623131-68      | o.c.s.providers.layout.AbstractLayoutProvider      | Removed /nuget-releases/Org.Carlspring.Strongbox.Examples.Nuget.Mono/1.0.0/Org.Carlspring.Strongbox.Examples.Nuget.Mono.nuspec
  OK http://localhost:48080/storages/storage-nuget/nuget-releases/Org.Carlspring.Strongbox.Examples.Nuget.Mono/1.0.0 315ms
Org.Carlspring.Strongbox.Examples.Nuget.Mono 1.0.0 was deleted successfully.


Execute command[s]:
C:\nuget.exe list Org.Carlspring -ConfigFile C:\Users\Daniel\Desktop\strongbox-web-integration-tests\target\nuget-it/NuGet.config
19:08:29.441 03-02-2018 | DEBUG | qtp147623131-17      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomAccessDecisionVoter@4edf1076, returned: 0
19:08:29.443 03-02-2018 | DEBUG | qtp147623131-17      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomPreInvocationAuthorizationAdviceVoter@3e6abc29, returned: -1
19:08:29.444 03-02-2018 | DEBUG | qtp147623131-17      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.springframework.security.access.vote.RoleVoter@61cfbd77, returned: 0
19:08:29.445 03-02-2018 | DEBUG | qtp147623131-17      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.springframework.security.access.vote.AuthenticatedVoter@6352bee0, returned: 0
Using credentials from config. UserName: admin
19:08:29.469 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomAccessDecisionVoter@4edf1076, returned: 0
19:08:29.485 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomPreInvocationAuthorizationAdviceVoter@3e6abc29, returned: -1
19:08:29.485 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.springframework.security.access.vote.RoleVoter@61cfbd77, returned: 0
19:08:29.494 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.springframework.security.access.vote.AuthenticatedVoter@6352bee0, returned: 0
19:08:29.677 03-02-2018 | DEBUG | qtp147623131-20      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomAccessDecisionVoter@4edf1076, returned: 0
19:08:29.681 03-02-2018 | DEBUG | qtp147623131-20      | o.c.s.security.vote.MethodAccessDecisionManager    | Voter: org.carlspring.strongbox.security.vote.CustomPreInvocationAuthorizationAdviceVoter@3e6abc29, returned: 1
19:08:29.833 03-02-2018 | DEBUG | qtp147623131-66      | o.c.strongbox.services.ArtifactEntryService        | Executing SQL query> SELECT * FROM ArtifactEntry WHERE artifactCoordinates.coordinates.extension.toLowerCase() like :extension AND artifactCoordinates.coordinates.id.toLowerCase() like :id AND (storageId = :storageId0 AND repositoryId = :repo
sitoryId0) AND tagSet contains (name = :lastversionTag) ORDER BY artifactCoordinates.uuid LIMIT 1000
19:08:29.845 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.controllers.nuget.NugetArtifactController    | Got 1 packages
19:08:29.846 03-02-2018 | DEBUG | qtp147623131-66      | o.c.s.controllers.nuget.NugetArtifactController    | Prepared 1 packages
Org.Carlspring.Strongbox.Examples.Nuget.Mono 1.0.0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 54.181 s
[INFO] Finished at: 2018-02-03T19:08:30+08:00
[INFO] Final Memory: 91M/1556M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.codehaus.gmavenplus:gmavenplus-plugin:1.5:execute (nuget-integration-tests) on project strongbox-web-integration-tests: Error occurred while calling a method on a Groovy class from classpath.: InvocationTargetException: assert !output.contains(""Org.Carlspring.Strongbox.Examples.Nuget.Mono"")
[ERROR]        ||      |
[ERROR]        ||      true
[ERROR]        |Using credentials from config. UserName: admin
[ERROR]        |Org.Carlspring.Strongbox.Examples.Nuget.Mono 1.0.0
[ERROR]        false
[ERROR] -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException

```

@sbespalov ",https://github.com/strongbox/strongbox/issues/571#issuecomment-362963433,"it seems that this is some sort of regress. 
Maybe @gokhankuyucak will be interesting to dig into our Nuget stuff and fix it?"
strongbox/strongbox,"Investigate and fix the following exception related to browsing the directory of a Maven 2 repository:
```
22:42:07.754 28-01-2018 | ERROR | qtp1914190643-20     | o.c.s.providers.repository.ProxyRepositoryProvider | Failed to resolve Path for prixied artifact [storage-common-proxies]/[carlspring]/[.index/]
org.carlspring.strongbox.storage.ArtifactStorageException: java.io.FileNotFoundException: The artifact path is a directory: [/strongbox/strongbox-vault/storages/storage-common-proxies/carlspring/.index]
	at org.carlspring.strongbox.services.ArtifactManagementService.store(ArtifactManagementService.java:124)
	at org.carlspring.strongbox.services.ArtifactManagementService$$FastClassBySpringCGLIB$$b290f309.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at org.carlspring.strongbox.data.tx.OEntityUnproxyAspect.transactional(OEntityUnproxyAspect.java:56)
	at sun.reflect.GeneratedMethodAccessor54.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:643)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at org.carlspring.strongbox.services.ArtifactManagementService$$EnhancerBySpringCGLIB$$6fd15f58.store(<generated>)
	at org.carlspring.strongbox.providers.repository.proxied.LocalStorageProxyRepositoryArtifactResolver.onSuccessfulProxyRepositoryResponse(LocalStorageProxyRepositoryArtifactResolver.java:72)
	at org.carlspring.strongbox.providers.repository.proxied.ProxyRepositoryArtifactResolver.getInputStream(ProxyRepositoryArtifactResolver.java:107)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider.resolvePathForceFetch(ProxyRepositoryProvider.java:146)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider.resolvePath(ProxyRepositoryProvider.java:137)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider.resolvePath(ProxyRepositoryProvider.java:37)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePathFromGroupMemberOrTraverse(GroupRepositoryProvider.java:164)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePathTraversal(GroupRepositoryProvider.java:110)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePathFromGroupMemberOrTraverse(GroupRepositoryProvider.java:158)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePathTraversal(GroupRepositoryProvider.java:110)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePath(GroupRepositoryProvider.java:319)
	at org.carlspring.strongbox.providers.repository.GroupRepositoryProvider.resolvePath(GroupRepositoryProvider.java:35)
	at org.carlspring.strongbox.services.impl.ArtifactResolutionServiceImpl.resolvePath(ArtifactResolutionServiceImpl.java:132)
	at org.carlspring.strongbox.services.ArtifactManagementService.getPath(ArtifactManagementService.java:387)
	at org.carlspring.strongbox.services.ArtifactManagementService$$FastClassBySpringCGLIB$$b290f309.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at org.carlspring.strongbox.services.ArtifactManagementService$$EnhancerBySpringCGLIB$$6fd15f58.getPath(<generated>)
	at org.carlspring.strongbox.controllers.BaseArtifactController.provideArtifactDownloadResponse(BaseArtifactController.java:274)
	at org.carlspring.strongbox.controllers.maven.MavenArtifactController.download(MavenArtifactController.java:144)
	at org.carlspring.strongbox.controllers.maven.MavenArtifactController$$FastClassBySpringCGLIB$$ce982786.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at org.carlspring.strongbox.controllers.maven.MavenArtifactController$$EnhancerBySpringCGLIB$$7042ec8c.download(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:871)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:777)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:870)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.carlspring.strongbox.security.authentication.CustomAnonymousAuthenticationFilter.doFilter(CustomAnonymousAuthenticationFilter.java:43)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.carlspring.strongbox.security.authentication.StrongboxAuthenticationFilter.doFilterInternal(StrongboxAuthenticationFilter.java:61)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.carlspring.strongbox.security.authentication.JwtTokenValidationFilter.doFilter(JwtTokenValidationFilter.java:57)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
	at org.carlspring.strongbox.web.HeaderMappingFilter.doFilter(HeaderMappingFilter.java:118)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
	at org.carlspring.strongbox.web.DirectoryTraversalFilter.doFilterInternal(DirectoryTraversalFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:190)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:166)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:564)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)
	at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:199)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.FileNotFoundException: The artifact path is a directory: [/strongbox/strongbox-vault/storages/storage-common-proxies/carlspring/.index]
	at org.carlspring.strongbox.providers.layout.RepositoryLayoutFileSystemProvider.newOutputStream(RepositoryLayoutFileSystemProvider.java:151)
	at java.nio.file.Files.newOutputStream(Files.java:216)
	at org.carlspring.strongbox.providers.repository.ProxyRepositoryProvider.getOutputStream(ProxyRepositoryProvider.java:96)
	at org.carlspring.strongbox.services.impl.ArtifactResolutionServiceImpl.getOutputStream(ArtifactResolutionServiceImpl.java:88)
	at org.carlspring.strongbox.services.ArtifactManagementService.store(ArtifactManagementService.java:116)
	... 143 common frames omitted
22:42:07.755 28-01-2018 | DEBUG | qtp1914190643-20     | o.c.s.providers.repository.GroupRepositoryProvider | Located artifact: [/strongbox/strongbox-vault/storages/storage-common-proxies/carlspring/.index]
22:42:07.755 28-01-2018 | DEBUG | qtp1914190643-20     | o.c.s.providers.repository.GroupRepositoryProvider | Located artifact: [/strongbox/strongbox-vault/storages/storage-common-proxies/carlspring/.index]
22:42:07.755 28-01-2018 | DEBUG | qtp1914190643-20     | o.c.s.controllers.maven.MavenArtifactController    | Resolved path : /strongbox/strongbox-vault/storages/storage-common-proxies/carlspring/.index
``",https://github.com/strongbox/strongbox/issues/549#issuecomment-361833860,"@carlspring  What is  the request for?
If is it .index file then browsing logic currently doesnt support for files starting with "".""
"
TEAMMATES/teammates,"<!-- Issue title: [brief description of bug] -->

- **Environment**: Google App Engine Standard Local Server, `master` branch 




**Expected behavior**
Run the page of admin, instructor, or student after login.


**Actual behaviour**
This page and message shown up.
![image](https://user-images.githubusercontent.com/41271008/46640150-e626bd00-cb2f-11e8-8ef5-84266df3fa25.png)



**Additional info**

I run src > test > resources > pages > adminHomePage
<!-- You can enter any additional relevant info here. -->
<!-- If you know what caused the bug and/or how to resolve the bug, you can include them in this section. -->
",https://github.com/TEAMMATES/teammates/issues/9181#issuecomment-428467362,Can you provide the corresponding log for the error?
TEAMMATES/teammates,,https://github.com/TEAMMATES/teammates/issues/8886#issuecomment-396110541,Can you provide more information regarding what exactly are you facing problem in?
TEAMMATES/teammates,"<!-- Issue title: [brief description of bug] -->

EDITED: Since the ""Remove HTML from the log"" part of the original issue has been mentioned in #6502, this issue now only contains the bug report.

- **Environment**: `master` branch at commit 49386feafec7ca2cb6fdeca32ad1112d4fda962f<!-- The environment in which you encountered the bug, e.g. live server at `V6.0.0`, `master` branch at commit 1234567. -->

**Steps to reproduce**
Cause a servlet to throws an error in teammates
Log in as Admin and view the activity log


**Expected behaviour**
The log entry of the error should be displayed as a `text-danger`


**Actual behaviour**
The log entry of the error is displayed in the same way as other log entries


**Additional info**
I will  open a PR to fix this.",https://github.com/TEAMMATES/teammates/issues/8608#issuecomment-371052920,"@tran-tien-dat please organize this issue's description. Do not be hasty when having an idea/thought.
- What do you mean by environment ""everywhere""? Environment is not sub-systems/features of the system.
- What is hoped to be fixed here? The HTML for formatting, or the ""few bugs""? The latter should be (1) more precisely qualified/quantified and (2) left to other issue(s). You may find #6502 relevant.
- Can provide some examples/screenshots for context?"
TEAMMATES/teammates,"**Issue Title:** [Error while executing gradle task findbugsMain]

```
When I run './gradlew build', it was executing fine until it reaches the task findbugsMain 
and it fails. The error that shown is as below:
```
![teammates issue](https://user-images.githubusercontent.com/26456025/34781043-c8bcc142-f65f-11e7-875b-1d8b6f9b5e32.png)

Any help or suggestions will be appreciated !",https://github.com/TEAMMATES/teammates/issues/8294#issuecomment-356967927,"I have never seen that exception occurring before so I cannot pinpoint the exact cause. While running the `./gradlew build` command, does `compileJava` and `checkstyleMain` run and succeed?

Anyway, what are you running `./gradlew build` for? "
TEAMMATES/teammates,"In CSV results file, header repeats before each row with response instead of appearing only once at the beginning.

![image](https://user-images.githubusercontent.com/8873908/27988998-0f5eb372-6438-11e7-8152-beee4577d6cf.png)
",https://github.com/TEAMMATES/teammates/issues/7707#issuecomment-313899427,"If the bug is confirmed, need to be fixed before next release. Also, how come it is not caught by existing tests?"
TEAMMATES/teammates,Debugging of minified JS files is difficult. We can beautify the file for debugging but locating functions in it is difficult. Do we have any other easy method to debug JS? or should we skip minifying JS files for development environment?,https://github.com/TEAMMATES/teammates/issues/7532#issuecomment-309195190,Source maps?
TEAMMATES/teammates,"Received from a user:
`I went to Home, then on the course list, selected ‚ÄúView Results‚Äù of the session. Then selected Publish Results. I did get emails from students saying they could not view the results.  So I went back in and clicked ‚ÄúPublish Results‚Äù from the Home page. I then got the email that the session results were published.`

Two sessions faced similar issues today. The session was published by the instructor and students received emails but the links didn't work and the session status remained closed.

Need to investigate if something broke in the recent release (v5.106) or it's a temporary glitch? May be caused by cached JS files?
",https://github.com/TEAMMATES/teammates/issues/7516#issuecomment-309786544,"Normally you could append the file get requests with a time stamp. But this way, user would be forced to download the file over and over within the same release, which is useless. Appending the release number would be a better way to go I guess ?"
TEAMMATES/teammates,"<!-- Before opening a new issue, please check that no existing issue covers the same topic -->

![image](https://cloud.githubusercontent.com/assets/1673303/18938029/0dccf0c6-8628-11e6-81b1-d79b43f6908c.png)
",https://github.com/TEAMMATES/teammates/issues/6078#issuecomment-250465211,"@damithc May I check what is the feedback path? I tried all the various combinations of the feedback giver and recipient but could not reproduce the error.
"
JabRef/jabref,"I am using the latest JabRef 5 master build:
Java 13.0.2
on Ubuntu 16.04

The value of the entry type field for an entry in the main table is not updating when changing its type by using the dropdown menu of the entry editor. To differentiate this from issue #5905, one can assume, that in the entry editor the tab ""biblatex source"" is not/never active.

**Steps to reproduce the behavior:**

1. Double click an entry in the main table (with e.g. entry type ""Article"")
2. Change entry type via the dropdown menu to a different entry type (e.g. entry type ""Misc"")
3. Do ""whatever you want"", but don't open the tab ""biblatex source"" in the entry editor.

_Observation:_ Commonly, the entry type will not change in the main table, even if shortly selecting a different entry in the main table and reselecting the edited one. Sometimes temporarily switching to a different opened library helps, but not always.

Contrarily, other fields in the main table will be updated immediately, when their values get changed.

---

**Subsequent observation (now allows viewing the tab ""biblatex source""):**

1. Perform steps 1. and 2. as above.
2. Save library with CTRL+S.
3. Switch to ""biblatex source""

_Observation:_ The library has been modifed (indicated with the star symbol ""*""), although no change was conduted.

For both cases, I assume it could be some reference problem.",https://github.com/JabRef/jabref/issues/5906#issuecomment-581176079,"@calixtus you recently fixed a bug and reused that code editor component. Maybe this is the issue now for the incorrect reference?

That would explain why we did not reuse the control, but recreated every time "
JabRef/jabref,"I am using the latest JabRef 5 master build:
JabRef-5.0-portable_linux.tar.gz
JabRef 5.0-beta.360--2020-01-21--7ddfd9f
Linux 4.4.0-171-generic amd64
Java 13.0.2
on Ubuntu 16.04

I have enabled the _biblatex mode_ for the current library as well as in the JabRef settings in general (""Default bibliography mode""). When I select an entry of e.g. type ""Misc"" in the list of references and I open the entry editor, then I cannot find the input field ""Editor"" in any of the listed tabs. This is independent of whether e.g. `editor={Abc, Def}` is actually defined in the this reference or not.",https://github.com/JabRef/jabref/issues/5859#issuecomment-577651780,This is totally odd. Could you please try resetting your preferences? 
JabRef/jabref,"JabRef version JabRef 5.0.0-dev--2019-10-25----681d6aa6f
Linux 5.0.0-37-generic amd64 
Java 12.0.2

- [ ] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists
(Nope haven't had the time to do so)

Steps to reproduce the behavior:
1. Import en entry into the database (via JabFox)
2. Right click on the full-text URL and select Download file
3. The downloaded file doesn't have a file extension

Expected behaviour: The file should have the file extension `.pdf`
Actual behaviour: The file ends with a dot and no extemsion (e.g. `test.` instead of `test.pdf`)
",https://github.com/JabRef/jabref/issues/5816#issuecomment-571114395,I had this problem too with some links but cannot remember which. Do you have a concrete example where this issue appears?
JabRef/jabref,"Most recent development version.
![image](https://user-images.githubusercontent.com/5037600/69288049-a36f5980-0bf8-11ea-82c3-ed2b6919aa76.png)

The list should show only the name of the entry type (e.g `Lecturenotes`) instead of the `toString` output. Moreover, the label ""Currently unknown:"" can be removed. ",https://github.com/JabRef/jabref/issues/5651#issuecomment-559434348,"Hi, can I work on this? "
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 
JabRef 5.0.0-dev--2019-11-19----ae02dcb46
Windows 7 6.1 amd64 
Java 13.0.1

<!-- IMPORTANT NOTE ->
<!-- 
      Please always test if the bug is still reproducible in the latest development version.
      We are constantly improving JabRef and some bugs may already be fixed.
      You can download the development version at: http://builds.jabref.org/master/
      Please make a backup of your library before you try out this version.
      If you already use a development version, ensure that you use the latest one.
 -->
- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behavior:
1. into the (websearch)Medline/Pubmed enter a number e.g. 29316417 and press search
2. the dialog pops up and shows ""Processing 29316417""
3. nothing furthers happens, I waited 70 min. 

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  Log file is empty. There is actually no logging.
</details>
",https://github.com/JabRef/jabref/issues/5645#issuecomment-562850201,"Does it only apply to the above id, or to every ID / query you try? 

I tried it and it worked for me. Moreover, we have automatic tests in place which also pass. Thus I guess there is a problem with your connection or something like that."
JabRef/jabref,"Unit tests that checks for correct help pages currently fails. Thus, we need to add redirects for the old links, and in addition upgrade the links to the new ones.",https://github.com/JabRef/jabref/issues/5607#issuecomment-553722989,"Would it be OK to just fix the tests? Redirects are much effort. See last
paragraph at
https://github.com/JabRef/help.jabref.org/issues/76#issuecomment-553632191

Tobias Diez <notifications@github.com> schrieb am Do., 14. Nov. 2019, 00:07:

> Assigned #5607 <https://github.com/JabRef/jabref/issues/5607> to @koppor
> <https://github.com/koppor>.
>
> ‚Äî
> You are receiving this because you were assigned.
> Reply to this email directly, view it on GitHub
> <https://github.com/JabRef/jabref/issues/5607?email_source=notifications&email_token=AAKNU7S2K3NT6I3EQ2M5CW3QTSCEVA5CNFSM4JNC5PM2YY3PNVWWK3TUL52HS4DFWZEXG43VMVCXMZLOORHG65DJMZUWGYLUNFXW5KTDN5WW2ZLOORPWSZGOU24PXGY#event-2797140891>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAKNU7SUDKJ76R4JMKZMHFLQTSCEVANCNFSM4JNC5PMQ>
> .
>
"
JabRef/jabref,"All special types of tests (fetcher, database and gui) are currently broken. At least the fetcher tests should be fixed before the release of 5.0.

I would also vote to remove the ""allow failure"" for these tests (as soon as they are fixed). ",https://github.com/JabRef/jabref/issues/5602#issuecomment-552663080,"For reference: 

- Test results before junit5 conversion: https://travis-ci.org/JabRef/jabref/builds/610556163?utm_source=github_status&utm_medium=notification
- Test results after junit 5 conversion: https://travis-ci.org/JabRef/jabref/builds/610581351?utm_source=github_status&utm_medium=notification 

We once decided to allow failures at the fetcher tests, because we cannot control the online services. PRs will fail, because some external servers are down. This is not what we want to achieve (maybe it got better in 2019 with the external servers; however: data formats change in 2019, too. See #5582)

We decided to have fetcher tests running on a periodical schedule. Now, this is (easily?) possible with GitHub workflows. So, why not move the fetcher tests to a separate GitHub workflow running each Monday 6am?

In case a PR touches fetchers, we can trigger the check manually (can we?) or a developer has to execute it locally (or [using gitpod](https://medium.com/gitpod/github-flows-better-with-gitpod-e455d17990f9))"
JabRef/jabref,"JabRef 5.0.0-dev--2019-10-31----ac7875a96
Linux 5.0.0-32-generic amd64 
Java 12.0.2

JabRef version <!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... -->


- [ X] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behaviour:
1. Fill out Author and date.  
2. Author in the form ""Surname, Firstname.""
3. Preferences set the default key pattern to ""[auth4:lower]-[year]""
4. Hit ""generate key""
5. The result is firs-2018.
6. It used to be - correctly - ""surn-2018""
",https://github.com/JabRef/jabref/issues/5551#issuecomment-548876341,Could you please add the entry here so that we can better check it?
JabRef/jabref,"Latest development version does not associate bib files with JabRef (using Windows installer, but probably applies to Linux and Mac as well).

jpackage has the following option:
> --file-associations <file path> ‚Äî Path to a Properties file that contains list of key, value pairs (absolute path or relative to the current directory). The keys ""extension"", ""mime-type"", ""icon"", and ""description"" can be used to describe the association. This option can be used multiple times.

The documentation is a bit sparse at this point. Probably needs a bit of experimentation using different formats. Relevant part of the build script: https://github.com/JabRef/jabref/blob/9fd49bcb2560a46c7f319dd59fdd9a58845415ce/build.gradle#L565-L607",https://github.com/JabRef/jabref/issues/5520#issuecomment-546634501,Can I poke around at this?
JabRef/jabref,"Latest master.

1, Merge two entries


![grafik](https://user-images.githubusercontent.com/320228/67601563-f9292100-f774-11e9-9992-c08fc9b8a805.png)
",https://github.com/JabRef/jabref/issues/5516#issuecomment-546585249,Hello! Is the desired colour for the field `-fx-light-text-color (#9aa3af)`?
JabRef/jabref,"JabRef 5.0.0-dev--2019-10-17----e81d58c51
Windows 10 10.0 amd64 
Java 12.0.2

The entry preview does not adapt to dark mode. This issue has already been reported by @Siedlerchr here (including an image):
https://github.com/JabRef/jabref/issues/5244#issuecomment-528028140",https://github.com/JabRef/jabref/issues/5463#issuecomment-543201575,"Hello, I'm pretty new to github but would like to work on this issue. Is it okay?"
JabRef/jabref,"JabRef 5.0-dev
Windows 10 10.0 amd64 
Java 11.0.3-bellsoft

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

The ViewModelCellListFactory produces strange behaviour in combination with comboBoxes. In long lists the hover-indicator is displaced in relation to how far the list can be scrolled down.
Appears only with comboBoxes, other lists seem to work well.
Despite this bug, selection works.

Bug was mentioned in the PRs #5185 and #5265 

Steps to reproduce the behavior:
1. Open Fetcher SidePane
2. Change Repository

![combobox-cellfactory](https://user-images.githubusercontent.com/50491877/64158167-4b665980-ce38-11e9-81ae-15ed90c501c6.gif)",https://github.com/JabRef/jabref/issues/5277#issuecomment-529197512,"JabRef 5.0-dev
Linux 5.0.0-27-generic amd64 
Java 1.8.0_222

Cannot reproduce the behaviour mentioned above. I reckon this has now been fixed with https://github.com/JabRef/jabref/pull/5265 (?)."
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 

JabRef version 5.0-dev

<!-- IMPORTANT NOTE ->
<!-- 
      Please always test if the bug is still reproducible in the latest development version.
      We are constantly improving JabRef and some bugs may already be fixed.
      You can download the development version at: http://builds.jabref.org/master/
      Please make a backup of your library before you try out this version.
      If you already use a development version, ensure that you use the latest one.
 -->
- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->
Jabref frequently reports external changes although there have been none (I could find the corresponding bug report). Now, it also reports changed fields. However, both values are identical, e.g.
```
Modification of field: DATE
Value set externally: 1987
Current value: 1987
Modification of field: LOCATION
Value set externally: Stroudsburg, PA, USA
Current value: Stroudsburg, PA, USA
```
",https://github.com/JabRef/jabref/issues/5257#issuecomment-529200813,"See also:
https://github.com/JabRef/jabref/issues/4877
https://github.com/JabRef/jabref/issues/4810

Might all represent the same bug (?)."
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-08-27--master--84436d795
Linux 5.0.0-25-generic amd64 
Java 11.0.4

- [X ] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

Steps to reproduce the behavior:
1. start Jabref 5 testversion
2. switch to one of the installed Ibus keyboards
3. when typing in the Jabref search box or in the entry editor, the international characters are not produced.",https://github.com/JabRef/jabref/issues/5255#issuecomment-530951275,"Could you please test, if this issue is still existing in the latest master?
https://help.jabref.org/en/Installation#jabref-5x
Use the JabRef-linux-master latest.tar.gz version, it now includes all necessary libraries to run JabRef.
"
JabRef/jabref,"Latest JabRef repository version on master 9daa645cc compiled on Mac OS X 10.14.5.

Currently, it is not possible to run `gradle build` on a freshly cloned JabRef. The one major issue are errors of the following kind:

```
jabref/src/jmh/java/org/jabref/preferences/LastFocusedTabPreferencesTest.java:5: error: package org.junit.jupiter.api does not exist
import org.junit.jupiter.api.AfterAll;
```

This error has its origin in the `build.gradle` where the jupiter dependency is included with 

```
testImplementation 'org.junit.jupiter:junit-jupiter:5.5.1'
```

However, the `LastFocusedTabPreferencesTest.java` does not live in the test directory. An easy fix is to use `implementation` instead of `testImplementation`.

Furthermore, for ages and on different machines I got this Gradle error

```
plug-in not found: ErrorProne
```

and @Siedlerchr confirmed that he also sees this error. I wonder why this package is used if obviously, its absence doesn't bother the built.

Finally, I got ~several~ two failing tests (after initializing the submodules):

```
RegExpBasedFileFinderTests. testAuthorWithDiacritics()
BibDatabaseTest. setStringAsCollectionWithUpdatedContentOverridesString()
```

I believe the aim should be that the master branch can be built without errors and all tests passing. This reduces confusion for possible new contributors, e.g. [like this one](https://github.com/JabRef/jabref/issues/5159).",https://github.com/JabRef/jabref/issues/5175#issuecomment-519671400,"For the citation style failures, did you run the `git submodule update --init`? "
JabRef/jabref,"Hello, I am on Fedora 30, running Jabref Snap Edge

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behavior:
1. Select two items
2. Open Merge entries dialogue.
3. Click Merge entries.
4. Watch Exception thrown.

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
  ```
1:06:21.749 [JavaFX Application Thread] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: Index: 5, Size: 4
	at java.util.ArrayList.rangeCheck(ArrayList.java:657) ~[?:1.8.0_222]
	at java.util.ArrayList.get(ArrayList.java:433) ~[?:1.8.0_222]
	at com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89) ~[jfxrt.jar:?]
	at javafx.collections.FXCollections$SynchronizedList.get(FXCollections.java:1085) ~[jfxrt.jar:?]
	at javafx.collections.FXCollections$UnmodifiableObservableListImpl.get(FXCollections.java:936) ~[jfxrt.jar:?]
	at org.jabref.gui.util.MappedList.sourceChanged(MappedList.java:67) ~[JabRef-5.0-dev.jar:?]
	at javafx.collections.transformation.TransformationList.lambda$getListener$1(TransformationList.java:106) ~[jfxrt.jar:?]
	at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73) ~[jfxrt.jar:?]
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233) ~[jfxrt.jar:?]
	at org.jabref.gui.util.UiThreadList.lambda$sourceChanged$934(UiThreadList.java:15) ~[JabRef-5.0-dev.jar:?]
	at com.sun.javafx.application.PlatformImpl.lambda$null$117(PlatformImpl.java:295) ~[jfxrt.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_222]
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$118(PlatformImpl.java:294) ~[jfxrt.jar:?]
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
	at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method) ~[jfxrt.jar:?]
	at com.sun.glass.ui.gtk.GtkApplication.lambda$null$450(GtkApplication.java:139) ~[jfxrt.jar:?]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_222]
  ```
</details>
",https://github.com/JabRef/jabref/issues/5169#issuecomment-531025456,"@Siedlerchr  I can reproduce this issue, but I'm not sure it's simply a snap error.
Is there a debug log we can get of the operation?"
JabRef/jabref,"This is similar to issue #4817, which has been closed already. However, the exception is different.

**Version:**

JabRef 5.0-dev
Linux 4.4.0-154-generic amd64 
Java 1.8.0_212

started via `./gradlew run` at commit add35be12

**Steps to reproduce:**

1. attach a file to an entry (filename must have different naming scheme than the format defined for cleanup)
2. select and cleanup the entry with the ""Rename PDFs to given filename format pattern"" option enabled
3. click OK to start cleanup process

Besides the exception, the renaming works, nevertheless.

**Error Log:**

<details>
<summary>Detail information:</summary>

```
Doing a cleanup for 1 entries...
Enabling live reloading of /home/stanley/Development/stuff/jabref/build/resources/main/org/jabref/gui/Base.css
Uncaught exception occurred in Thread[pool-3-thread-5,5,main]
java.lang.IllegalStateException: Not on FX application thread; currentThread = pool-3-thread-5
	at com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:229)
	at com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:423)
	at javafx.scene.Parent$2.onProposedChange(Parent.java:367)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:113)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:108)
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.updateChildren(LabeledSkinBase.java:575)
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.handleControlPropertyChanged(LabeledSkinBase.java:181)
	at com.sun.javafx.scene.control.skin.ListCellSkin.handleControlPropertyChanged(ListCellSkin.java:49)
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase.lambda$registerChangeListener$144(BehaviorSkinBase.java:197)
	at com.sun.javafx.scene.control.MultiplePropertyChangeListenerHandler$1.changed(MultiplePropertyChangeListenerHandler.java:55)
	at javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:89)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:105)
	at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)
	at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:146)
	at javafx.css.StyleableObjectProperty.set(StyleableObjectProperty.java:82)
	at javafx.beans.property.ObjectProperty.setValue(ObjectProperty.java:69)
	at javafx.scene.control.Labeled.setGraphic(Labeled.java:423)
	at org.jabref.gui.util.ViewModelListCellFactory$1.updateItem(ViewModelListCellFactory.java:149)
	at javafx.scene.control.ListCell.updateItem(ListCell.java:480)
	at javafx.scene.control.ListCell.lambda$new$77(ListCell.java:167)
	at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)
	at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at com.sun.javafx.collections.ObservableListWrapper.remove(ObservableListWrapper.java:167)
	at com.sun.javafx.binding.BidirectionalContentBinding$ListContentBinding.onChanged(BidirectionalContentBinding.java:135)
	at com.sun.javafx.binding.ListExpressionHelper$Generic.notifyListeners(ListExpressionHelper.java:593)
	at com.sun.javafx.binding.ListExpressionHelper$Generic.fireValueChangedEvent(ListExpressionHelper.java:571)
	at com.sun.javafx.binding.ListExpressionHelper.fireValueChangedEvent(ListExpressionHelper.java:109)
	at javafx.beans.property.ListPropertyBase.fireValueChangedEvent(ListPropertyBase.java:200)
	at javafx.beans.property.ListPropertyBase.lambda$new$22(ListPropertyBase.java:56)
	at com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)
	at javafx.beans.binding.ListExpression.setAll(ListExpression.java:370)
	at org.jabref.gui.util.BindingsHelper.lambda$bindContentBidirectional$652(BindingsHelper.java:125)
	at org.jabref.gui.util.BindingsHelper$BidirectionalListBinding.changed(BindingsHelper.java:262)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.StringPropertyBase.fireValueChangedEvent(StringPropertyBase.java:103)
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:110)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:144)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:49)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:57)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.updateLocked(BindingsHelper.java:234)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.changedB(BindingsHelper.java:227)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.binding.ObjectBinding.invalidate(ObjectBinding.java:172)
	at com.sun.javafx.binding.BindingHelperObserver.invalidated(BindingHelperObserver.java:51)
	at com.sun.javafx.collections.MapListenerHelper$Generic.fireValueChangedEvent(MapListenerHelper.java:320)
	at com.sun.javafx.collections.MapListenerHelper.fireValueChangedEvent(MapListenerHelper.java:72)
	at com.sun.javafx.collections.ObservableMapWrapper.callObservers(ObservableMapWrapper.java:115)
	at com.sun.javafx.collections.ObservableMapWrapper.put(ObservableMapWrapper.java:169)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:413)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:439)
	at org.jabref.model.entry.BibEntry.setFiles(BibEntry.java:801)
	at org.jabref.logic.cleanup.RenamePdfCleanup.cleanup(RenamePdfCleanup.java:57)
	at org.jabref.logic.cleanup.CleanupWorker.cleanup(CleanupWorker.java:31)
	at org.jabref.gui.cleanup.CleanupAction.doCleanup(CleanupAction.java:90)
	at org.jabref.gui.cleanup.CleanupAction.cleanup(CleanupAction.java:133)
	at org.jabref.gui.cleanup.CleanupAction.lambda$action$810(CleanupAction.java:65)
	at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:55)
	at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:52)
	at org.jabref.gui.util.DefaultTaskExecutor$1.call(DefaultTaskExecutor.java:122)
	at javafx.concurrent.Task$TaskCallable.call(Task.java:1423)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Uncaught exception occurred in Thread[pool-3-thread-5,5,main]
java.lang.IllegalStateException: Not on FX application thread; currentThread = pool-3-thread-5
	at com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:229)
	at com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:423)
	at javafx.scene.Parent$2.onProposedChange(Parent.java:367)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:113)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:108)
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.updateChildren(LabeledSkinBase.java:580)
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.handleControlPropertyChanged(LabeledSkinBase.java:181)
	at com.sun.javafx.scene.control.skin.ListCellSkin.handleControlPropertyChanged(ListCellSkin.java:49)
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase.lambda$registerChangeListener$144(BehaviorSkinBase.java:197)
	at com.sun.javafx.scene.control.MultiplePropertyChangeListenerHandler$1.changed(MultiplePropertyChangeListenerHandler.java:55)
	at javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:89)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:105)
	at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)
	at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:146)
	at javafx.css.StyleableObjectProperty.set(StyleableObjectProperty.java:82)
	at javafx.beans.property.ObjectProperty.setValue(ObjectProperty.java:69)
	at javafx.scene.control.Labeled.setGraphic(Labeled.java:423)
	at org.jabref.gui.util.ViewModelListCellFactory$1.updateItem(ViewModelListCellFactory.java:157)
	at javafx.scene.control.ListCell.updateItem(ListCell.java:471)
	at javafx.scene.control.ListCell.lambda$new$77(ListCell.java:167)
	at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)
	at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.addAll(ModifiableObservableListBase.java:113)
	at com.sun.javafx.binding.BidirectionalContentBinding$ListContentBinding.onChanged(BidirectionalContentBinding.java:138)
	at com.sun.javafx.binding.ListExpressionHelper$Generic.notifyListeners(ListExpressionHelper.java:593)
	at com.sun.javafx.binding.ListExpressionHelper$Generic.fireValueChangedEvent(ListExpressionHelper.java:571)
	at com.sun.javafx.binding.ListExpressionHelper.fireValueChangedEvent(ListExpressionHelper.java:109)
	at javafx.beans.property.ListPropertyBase.fireValueChangedEvent(ListPropertyBase.java:200)
	at javafx.beans.property.ListPropertyBase.lambda$new$22(ListPropertyBase.java:56)
	at com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)
	at javafx.beans.binding.ListExpression.setAll(ListExpression.java:370)
	at org.jabref.gui.util.BindingsHelper.lambda$bindContentBidirectional$652(BindingsHelper.java:125)
	at org.jabref.gui.util.BindingsHelper$BidirectionalListBinding.changed(BindingsHelper.java:262)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.StringPropertyBase.fireValueChangedEvent(StringPropertyBase.java:103)
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:110)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:144)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:49)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:57)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.updateLocked(BindingsHelper.java:234)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.changedB(BindingsHelper.java:227)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.binding.ObjectBinding.invalidate(ObjectBinding.java:172)
	at com.sun.javafx.binding.BindingHelperObserver.invalidated(BindingHelperObserver.java:51)
	at com.sun.javafx.collections.MapListenerHelper$Generic.fireValueChangedEvent(MapListenerHelper.java:320)
	at com.sun.javafx.collections.MapListenerHelper.fireValueChangedEvent(MapListenerHelper.java:72)
	at com.sun.javafx.collections.ObservableMapWrapper.callObservers(ObservableMapWrapper.java:115)
	at com.sun.javafx.collections.ObservableMapWrapper.put(ObservableMapWrapper.java:169)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:413)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:439)
	at org.jabref.model.entry.BibEntry.setFiles(BibEntry.java:801)
	at org.jabref.logic.cleanup.RenamePdfCleanup.cleanup(RenamePdfCleanup.java:57)
	at org.jabref.logic.cleanup.CleanupWorker.cleanup(CleanupWorker.java:31)
	at org.jabref.gui.cleanup.CleanupAction.doCleanup(CleanupAction.java:90)
	at org.jabref.gui.cleanup.CleanupAction.cleanup(CleanupAction.java:133)
	at org.jabref.gui.cleanup.CleanupAction.lambda$action$810(CleanupAction.java:65)
	at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:55)
	at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:52)
	at org.jabref.gui.util.DefaultTaskExecutor$1.call(DefaultTaskExecutor.java:122)
	at javafx.concurrent.Task$TaskCallable.call(Task.java:1423)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

One entry needed a clean up
Enabling live reloading of /home/stanley/Development/stuff/jabref/build/resources/main/org/jabref/gui/Base.css
```

</details>",https://github.com/JabRef/jabref/issues/5108#issuecomment-528793042,"The reason for this seems to be the Binding created in the constructor of `LinkedFilesEditorViewModel`:

```
BindingsHelper.bindContentBidirectional(
                                                files,
                                                text,
                                                LinkedFilesEditorViewModel::getStringRepresentation,
                                                this::parseToFileViewModel);
```

For this Binding, the fix from #4871 (and #4964 ) does not seem to work, because the binding is triggered directly from the call `entry.setFiles(files)` in `RenamePdfCleanup` which is executed in a background thread and therefore leads to the Exception.
Although it is a bit strange, because for other operations like `DoiCleanup` it is working fine and the method `UiThreadList.sourceChanged` is called (i had a look at it to compare the behaviour):

```
""pool-3-thread-3@7731"" prio=5 tid=0x21 nid=NA runnable
  java.lang.Thread.State: RUNNABLE
	  at org.jabref.gui.util.UiThreadList.sourceChanged(UiThreadList.java:15)
	  at javafx.collections.transformation.TransformationList.lambda$getListener$0(TransformationList.java:106)
	  at javafx.collections.transformation.TransformationList$$Lambda$424.901219265.onChanged(Unknown Source:-1)
	  at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)
	  at com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)
	  at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	  at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	  at javafx.collections.FXCollections$UnmodifiableObservableListImpl.lambda$new$0(FXCollections.java:955)
	  at javafx.collections.FXCollections$UnmodifiableObservableListImpl$$Lambda$198.652863251.onChanged(Unknown Source:-1)
	  at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)
	  at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	  at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	  at javafx.collections.FXCollections$SynchronizedObservableList.lambda$new$0(FXCollections.java:1204)
	  at javafx.collections.FXCollections$SynchronizedObservableList$$Lambda$296.756699190.onChanged(Unknown Source:-1)
	  at javafx.collections.WeakListChangeListener.onChanged(WeakListChangeListener.java:88)
	  at com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)
	  at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	  at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	  at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:485)
	  at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	  at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	  at com.sun.javafx.collections.ObservableListWrapper.access$200(ObservableListWrapper.java:45)
	  at com.sun.javafx.collections.ObservableListWrapper$1$1.invalidated(ObservableListWrapper.java:75)
	  at com.sun.javafx.collections.MapListenerHelper$Generic.fireValueChangedEvent(MapListenerHelper.java:320)
	  at com.sun.javafx.collections.MapListenerHelper.fireValueChangedEvent(MapListenerHelper.java:72)
	  at com.sun.javafx.collections.ObservableMapWrapper.callObservers(ObservableMapWrapper.java:115)
	  at com.sun.javafx.collections.ObservableMapWrapper.put(ObservableMapWrapper.java:169)
	  at org.jabref.model.entry.BibEntry.setField(BibEntry.java:414)
	  at org.jabref.model.entry.BibEntry.setField(BibEntry.java:440)
	  at org.jabref.logic.cleanup.DoiCleanup.cleanup(DoiCleanup.java:42)
	  at org.jabref.logic.cleanup.CleanupWorker.cleanup(CleanupWorker.java:31)
	  at org.jabref.gui.cleanup.CleanupAction.doCleanup(CleanupAction.java:90)
	  at org.jabref.gui.cleanup.CleanupAction.cleanup(CleanupAction.java:133)
	  at org.jabref.gui.cleanup.CleanupAction.lambda$action$1(CleanupAction.java:65)
	  at org.jabref.gui.cleanup.CleanupAction$$Lambda$1978.649778965.run(Unknown Source:-1)
	  at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:55)
	  at org.jabref.gui.util.BackgroundTask$2.call(BackgroundTask.java:52)
	  at org.jabref.gui.util.DefaultTaskExecutor$1.call(DefaultTaskExecutor.java:122)
	  at javafx.concurrent.Task$TaskCallable.call(Task.java:1425)
	  at java.util.concurrent.FutureTask.run(FutureTask.java:264)
	  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	  at java.util.concurrent.FutureTask.run(FutureTask.java:264)
	  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	  at java.lang.Thread.run(Thread.java:834)
```


@tobiasdiez What about adding a `Platform.runLater` call in the class `BindingsHelper.BidirectionalMapBinding` (which is used for `BindingsHelper.bindContentBidirectional`) to ensure all updates are executed on the JavaFX Thread?  "
JabRef/jabref,"On Ubuntu 18.10, I've successfully launched JabRef-4.3.1.jar using zulu8.38.0.13-ca-fx-jre8.0.212-linux_x64.

But trying to launch JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar gives the following exception:

```
$ /usr/local/lib/zulu8.38.0.13-ca-fx-jre8.0.212-linux_x64/bin/java -jar  ~/JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar
Gtk-Message: 00:19:29.568: Failed to load module ""overlay-scrollbar""
00:19:33.743 [JavaFX Application Thread] ERROR org.jabref.JabRefMain - Unexpected exception
java.lang.IllegalStateException: It is not allowed that the toReplace string: '<tt>author=smith and title=electrical</tt>' does not exist in the original string
        at org.jabref.gui.util.TooltipTextUtil.splitReplace(TooltipTextUtil.java:92) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.gui.util.TooltipTextUtil.formatToTexts(TooltipTextUtil.java:62) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.gui.search.GlobalSearchBar.setHintTooltip(GlobalSearchBar.java:291) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.gui.search.GlobalSearchBar.updateHintVisibility(GlobalSearchBar.java:311) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.gui.search.GlobalSearchBar.<init>(GlobalSearchBar.java:94) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.gui.JabRefFrame.<init>(JabRefFrame.java:148) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.JabRefGUI.<init>(JabRefGUI.java:50) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at org.jabref.JabRefMain.start(JabRefMain.java:76) ~[JabRef-5.0-dev--snapshot--2019-06-28--master--47cd33c1b.jar:?]
        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295) ~[jfxrt.jar:?]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_212]
        at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294) ~[jfxrt.jar:?]
        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
        at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method) ~[jfxrt.jar:?]
        at com.sun.glass.ui.gtk.GtkApplication.lambda$null$10(GtkApplication.java:245) ~[jfxrt.jar:?]
        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
```",https://github.com/JabRef/jabref/issues/5087#issuecomment-510108057,Could you please tell me if you use another as the default (english language)?
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-05-06--master--c168c4978
Windows 10 10.0 amd64 
Java 1.8.0_172

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

Steps to reproduce the behavior:
1. Add author field, ie: Directorate-General for Research and Innovation
2. Right-click and select Protect terms > Add {} around selected text
3. Error (see screenshot)
4. Even if the {} brackets are manually added, it is ignored in the main list

![image](https://user-images.githubusercontent.com/10846169/57295300-7929d480-70ca-11e9-96e6-e48c609ef328.png)

<details>
  <summary>Log File</summary>

  ```
  java.lang.IllegalStateException: Task must only be used from the FX Application Thread
	at javafx.concurrent.Task.checkThread(Task.java:1218)
	at javafx.concurrent.Task.isRunning(Task.java:985)
	at org.controlsfx.control.textfield.AutoCompletionBinding.onUserInputChanged(AutoCompletionBinding.java:333)
	at org.controlsfx.control.textfield.AutoCompletionBinding.setUserInput(AutoCompletionBinding.java:135)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.setUserInputText(AutoCompletionTextInputBinding.java:136)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.lambda$new$1074(AutoCompletionTextInputBinding.java:54)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextInputControl$TextProperty.fireValueChangedEvent(TextInputControl.java:1389)
	at javafx.scene.control.TextInputControl$TextProperty.markInvalid(TextInputControl.java:1393)
	at javafx.scene.control.TextInputControl$TextProperty.controlContentHasChanged(TextInputControl.java:1332)
	at javafx.scene.control.TextInputControl$TextProperty.access$1600(TextInputControl.java:1300)
	at javafx.scene.control.TextInputControl.lambda$new$162(TextInputControl.java:139)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextField$TextFieldContent.insert(TextField.java:87)
	at javafx.scene.control.TextInputControl.replaceText(TextInputControl.java:1204)
	at javafx.scene.control.TextInputControl.filterAndSet(TextInputControl.java:1171)
	at javafx.scene.control.TextInputControl.access$900(TextInputControl.java:79)
	at javafx.scene.control.TextInputControl$TextProperty.doSet(TextInputControl.java:1410)
	at javafx.scene.control.TextInputControl$TextProperty.set(TextInputControl.java:1323)
	at javafx.scene.control.TextInputControl$TextProperty.set(TextInputControl.java:1300)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:57)
	at com.sun.javafx.binding.BidirectionalBinding$TypedGenericBidirectionalBinding.changed(BidirectionalBinding.java:601)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.StringPropertyBase.fireValueChangedEvent(StringPropertyBase.java:103)
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:110)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:144)
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:49)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65)
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:57)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.updateLocked(BindingsHelper.java:234)
	at org.jabref.gui.util.BindingsHelper$BidirectionalBinding.changedB(BindingsHelper.java:227)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.binding.ObjectBinding.invalidate(ObjectBinding.java:172)
	at com.sun.javafx.binding.BindingHelperObserver.invalidated(BindingHelperObserver.java:51)
	at com.sun.javafx.collections.MapListenerHelper$Generic.fireValueChangedEvent(MapListenerHelper.java:320)
	at com.sun.javafx.collections.MapListenerHelper.fireValueChangedEvent(MapListenerHelper.java:72)
	at com.sun.javafx.collections.ObservableMapWrapper.callObservers(ObservableMapWrapper.java:115)
	at com.sun.javafx.collections.ObservableMapWrapper.put(ObservableMapWrapper.java:169)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:413)
	at org.jabref.model.cleanup.FieldFormatterCleanup.cleanupSingleField(FieldFormatterCleanup.java:63)
	at org.jabref.model.cleanup.FieldFormatterCleanup.cleanupAllTextFields(FieldFormatterCleanup.java:88)
	at org.jabref.model.cleanup.FieldFormatterCleanup.cleanup(FieldFormatterCleanup.java:32)
	at org.jabref.model.cleanup.FieldFormatterCleanups.applyAllActions(FieldFormatterCleanups.java:71)
	at org.jabref.model.cleanup.FieldFormatterCleanups.applySaveActions(FieldFormatterCleanups.java:61)
	at org.jabref.logic.exporter.BibDatabaseWriter.lambda$applySaveActions$192(BibDatabaseWriter.java:60)
	at java.util.Optional.ifPresent(Unknown Source)
	at org.jabref.logic.exporter.BibDatabaseWriter.applySaveActions(BibDatabaseWriter.java:57)
	at org.jabref.logic.exporter.BibDatabaseWriter.savePartOfDatabase(BibDatabaseWriter.java:172)
	at org.jabref.logic.exporter.BibDatabaseWriter.saveDatabase(BibDatabaseWriter.java:143)
	at org.jabref.logic.autosaveandbackup.BackupManager.performBackup(BackupManager.java:124)
	at java.util.Optional.ifPresent(Unknown Source)
	at org.jabref.logic.autosaveandbackup.BackupManager.lambda$new$132(BackupManager.java:49)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
  ```
</details>
",https://github.com/JabRef/jabref/issues/4958#issuecomment-491283105,"@DOFfactory It seems like you have save actions enabled. Do you maybe have Latex2Unicode formatting enabled as save actions?
Please look at the  LIbrary-> Library Propertes menu and post the list of save actions"
JabRef/jabref,"When executed, the menu item `File` -> `Recent libraries` -> `mylibrary.bib` will produce a giant stack of `java.lang.IllegalStateException` dialog windows. However, after closing all these dialog windows, the library `mylibrary.bib` does seem to open correctly. Full stack trace below.

JabRef 5.0-dev--snapshot--2019-05-01--master--f1b4b5be3
Mac OS X 10.14.4 x86_64 
Java 1.8.0_212

```java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = JabRef CachedThreadPool
	at com.sun.glass.ui.Application.checkEventThread(Application.java:443)
	at com.sun.glass.ui.MenuItem.<init>(MenuItem.java:64)
	at com.sun.glass.ui.Application.createMenuItem(Application.java:619)
	at com.sun.glass.ui.Application.createMenuItem(Application.java:614)
	at com.sun.glass.ui.Application.createMenuItem(Application.java:609)
	at com.sun.javafx.tk.quantum.GlassSystemMenu.insertMenuItem(GlassSystemMenu.java:251)
	at com.sun.javafx.tk.quantum.GlassSystemMenu.lambda$insertMenu$345(GlassSystemMenu.java:169)
	at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.add(ModifiableObservableListBase.java:155)
	at com.sun.javafx.scene.control.GlobalMenuAdapter.insertItem(GlobalMenuAdapter.java:134)
	at com.sun.javafx.scene.control.GlobalMenuAdapter.access$100(GlobalMenuAdapter.java:54)
	at com.sun.javafx.scene.control.GlobalMenuAdapter$2.onChanged(GlobalMenuAdapter.java:106)
	at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.add(ModifiableObservableListBase.java:155)
	at java.util.AbstractList.add(AbstractList.java:108)
	at org.jabref.gui.menus.FileHistoryMenu.addItem(FileHistoryMenu.java:58)
	at org.jabref.gui.menus.FileHistoryMenu.setItems(FileHistoryMenu.java:50)
	at org.jabref.gui.menus.FileHistoryMenu.newFile(FileHistoryMenu.java:43)
	at org.jabref.gui.importer.actions.OpenDatabaseAction.openFiles(OpenDatabaseAction.java:168)
	at org.jabref.gui.importer.actions.OpenDatabaseAction.openFile(OpenDatabaseAction.java:119)
	at org.jabref.gui.menus.FileHistoryMenu.lambda$openFile$398(FileHistoryMenu.java:74)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
```",https://github.com/JabRef/jabref/issues/4940#issuecomment-488968148,@kbarros  I think I found the issue. Could you please test this version here and report back if it works for you? https://builds.jabref.org/fixFileHistoryMac/
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-04-23--master--8f9358d9e
Windows 10 10.0 amd64 
Java 1.8.0_172

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

I have a user-defined entry preview style. The style is successfully loaded in the Preferences window, but not in the Entry Preview window (see attached screenshot).

Could you please amend this?

![entry preview](https://user-images.githubusercontent.com/10846169/56730493-6d4c2300-6758-11e9-8dd3-82a7288f606b.png)
",https://github.com/JabRef/jabref/issues/4923#issuecomment-486668290,"Hm that is odd, could you please paste your style here so I can check that?"
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-04-03--master--a273eb1fa
Windows 7 6.1 amd64 
Java 1.8.0_201
- [+] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->
The error is new since the latest version I tested (2019-03-30--master--40600b354)
Steps to reproduce the behavior:
1. ...
2. ...
3. ...

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
`java.lang.NullPointerException
	at com.jfoenix.controls.JFXSnackbar.refreshPopup(JFXSnackbar.java:269)
	at com.jfoenix.controls.JFXSnackbar.lambda$new$1(JFXSnackbar.java:87)
	at com.jfoenix.controls.JFXSnackbar$$Lambda$2.changed(Unknown Source)
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.Node$LazyBoundsProperty.invalidate(Node.java:9316)
	at javafx.scene.Node.impl_layoutBoundsChanged(Node.java:3401)
	at javafx.scene.Node.impl_notifyLayoutBoundsChanged(Node.java:3814)
	at javafx.scene.Node.impl_geomChanged(Node.java:3765)
	at javafx.scene.Parent.childBoundsChanged(Parent.java:1757)
	at javafx.scene.Node.notifyParentOfBoundsChange(Node.java:3836)
	at javafx.scene.Node.transformedBoundsChanged(Node.java:3798)
	at javafx.scene.Node.localBoundsChanged(Node.java:3780)
	at javafx.scene.Node.impl_geomChanged(Node.java:3766)
	at javafx.scene.Parent$1.onChanged(Parent.java:343)
	at com.sun.javafx.collections.TrackableObservableList.lambda$new$22(TrackableObservableList.java:45)
	at com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)
	at com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)
	at javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)
	at javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)
	at javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)
	at javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)
	at javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:108)
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:142)
	at com.jfoenix.controls.JFXSnackbar.lambda$enqueue$10(JFXSnackbar.java:242)
	at com.jfoenix.controls.JFXSnackbar$$Lambda$10.run(Unknown Source)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)
`
<details>
  <summary>Log File</summary>
  
  ```
  Paste an excerpt of your log file here
  ```
</details>
",https://github.com/JabRef/jabref/issues/4840#issuecomment-479448322,"@r0light  Seems like a follow up error of the Snackbar move. Could you please look into this?
May also be a threading error"
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-03-28--master--a9115a256
Windows 7 6.1 amd64 
Java 1.8.0_201
- [+] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->
Once you have selected a file for attachment to an entry Jabref opens a dialogue where you can confirm your selection of refuse it. You can select either the ""cancel"" or the ""apply"", however confirmation with ""enter"" does not work in both cases, you must use the mouse left click. The selection can, however, be changed with ""tab"".
![grafik](https://user-images.githubusercontent.com/9216487/55157441-a8a90100-515c-11e9-96d0-2984819a8bdc.png)

Steps to reproduce the behavior:
1. ...
2. ...
3. ...

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
  ```
  Paste an excerpt of your log file here
  ```
</details>
",https://github.com/JabRef/jabref/issues/4820#issuecomment-477617317,"If you want to use the keyboard in combination with tab, you can use <kbd>space</kbd> instead of <kbd>enter</kbd> to fire buttons when the button is selected.

Is this an appropriate way to go for you?"
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 

JabRef version <!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... -->

<!-- IMPORTANT NOTE ->
<!-- 
      Please always test if the bug is still reproducible in the latest development version.
      We are constantly improving JabRef and some bugs may already be fixed.
      You can download the development version at: http://builds.jabref.org/master/
      Please make a backup of your library before you try out this version.
      If you already use a development version, ensure that you use the latest one.
 -->
- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behavior:
1. ...import ris file (control i)

Please see the attached ris.gz file.  Using either JabRef 4.3.1 or dev-5.0, JabRef imports publication year as 2019, when it is really 2005.

At first I thought it was a problem with the journal (J. Chem. Phys.) web site.  Then I saw that the Y1 and PY fields in the ris file were correctly set to 2005.  The Y2 field is 2019, but that is supposed to be the access date.

The bib file works fine, since it does not contain a field for access date.

Please let me know if the problem is really with the journal after all, and I'll communicate with them.

Thanks for JabRef!

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
  ```
  Paste an excerpt of your log file here
  ```
</details>
",https://github.com/JabRef/jabref/issues/4816#issuecomment-477554872,@CodeSJS  Thanks for your report. Unfortuantely here is no attached file visible. Could you please add this?
JabRef/jabref,"JabRef version 
JabRef 5.0-dev--snapshot--2019-03-16--master--d7dd41b00
Linux 4.15.0-46-generic amd64 
Java 1.8.0_201

on Linux Mint 19.1


- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behavior:
1. open Options/Preferences/BibTeX key generator
2. set the key to ""[auth4:lower]-[year]""
3. In the entry editor, using ctrl+G to create the key produces output without the hyphen.  E.g., ""smit2019"" instead of the expected ""smit-2019"".

It worked fine in JabRef 5.0 dev until recently, and it works in older version of JR.

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
Opening: /home/dom/Dropbox/localtexmf/bibtex/bib/biblio4-utf8.bib
Opening: /tmp/jabref1689428551091217694.bib
Opening: /tmp/jabref1689428551091217694.bib
Opening: /home/dom/Dropbox/localtexmf/bibtex/bib/biblio4-utf8.bib
Opening: /home/dom/Dropbox/localtexmf/bibtex/bib/biblio4-utf8.bib
</details>
",https://github.com/JabRef/jabref/issues/4767#issuecomment-473648517,Maybe a side effect from #4709? 
JabRef/jabref,"JabRef--master--latest.jar (https://builds.jabref.org/master/) as well as version 4.3.1-2 form Arch AUR (https://aur.archlinux.org/packages/jabref/)

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

Right clicking on any entry in any database and selecting ""Open folder"" results in the NullPointer exception below. The setup experiencing this problem is Arch Linux with i3 window manager and without desktop environment. Hence it could be that there is a dependency to some external SW that is not satisfied. This problem exists over multiple version already (~1y) over different Arch machines I operate. My guess is that there is some unknown dependency that I lack on my systems, which causes ""open folder"" to silently crash. I would be interested in tracking down what exactly is causing that issue. Might be something very obvious to you guys.

Steps to reproduce the behavior:
1. On Arch Linux + Jabref master latest or Jabref 4.3.1-2 from AUR: open any database where files have associated pdfs in their entires.
2. Right click, ""open folder"" --> exception below

<details>
  <summary>Log File</summary>
  
  ```
  10:51:41.270 [JabRef CachedThreadPool] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JabRef CachedThreadPool,5,main]
java.lang.NullPointerException: null
	at org.jabref.gui.desktop.os.Linux.openFolderAndSelectFile(Linux.java:54) ~[JabRef--master--latest.jar:?]
	at org.jabref.gui.desktop.JabRefDesktop.openFolderAndSelectFile(JabRefDesktop.java:171) ~[JabRef--master--latest.jar:?]
	at org.jabref.gui.BasePanel.lambda$null$49(BasePanel.java:348) ~[JabRef--master--latest.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_201]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_201]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_201]
  ```

Used Java version:
```
java version ""1.8.0_201""
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)
```
</details>

I'm happy to provide further details!",https://github.com/JabRef/jabref/issues/4763#issuecomment-473318584,"I am able to reproduce this on my setup (same as that of the author). 
Could you please tell what the expected behavior is, should it open the folder, in a file explorer, where the file resides?"
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 

JabRef version 4.3.1 on Windows 7.

There are certain diacritics (and other symbols) that produce undesired output when generating bibtex keys. I am using `[auth3][shortyear]` as generation pattern. Examples with first authors' last names and year:

- M√ºller, 2019 -> Muel19 (4 characters instead of 3 when converting umlaut, i.e. √§, √∂, √º)
- Al-Ketan, 2019 -> Al-19 (dash in bibtex key is awkward, should probably be ignored in favor of the next letter and become AlK19)
- D'Alessandro, 2019 -> DA19 (Apostrophe is correctly ignored, but the name is reduced to 2 characters when it should probably be DAl19)

Some other diacritics that I quickly tested (√á, √Ç, √©) are handled more gracefully, i.e. the corresponding letter without diacritic is used.

Steps to reproduce the behavior:
1. Use [auth3][shortyear] as pattern for bibtex key generation. 
2. Enter one of the last names mentioned above in the last author field of a new article. Enter any year.
3. Generate bibtex key (CTRL+G)
",https://github.com/JabRef/jabref/issues/4709#issuecomment-468999661,Can I work on this issue?
JabRef/jabref,"JabRef version: 5.0-dev

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

When copying and pasting a bibtex entry into jabref, it creates duplicate entries for the citation. This occurs regardless of if I have All Entries open, or am just viewing a group or subgroup.

<details>
  <summary>Log File</summary>
Opening: /Users/adamg/Dropbox/adam.bib
Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
Can only load style files: Preview
Opening: /var/folders/8w/wfth0jx51l960l8mgcjlxn580000gn/T/jabref7386437712883599037.bib
Opening: /Users/adamg/Dropbox/adam.bib
Opening: /var/folders/8w/wfth0jx51l960l8mgcjlxn580000gn/T/jabref7386437712883599037.bib
Opening: /Users/adamg/Dropbox/adam.bib
Opening: /var/folders/8w/wfth0jx51l960l8mgcjlxn580000gn/T/jabref7386437712883599037.bib
Opening: /Users/adamg/Dropbox/adam.bib
Opening: /var/folders/8w/wfth0jx51l960l8mgcjlxn580000gn/T/jabref7386437712883599037.bib
Opening: /Users/adamg/Dropbox/adam.bib
Can only load style files: Preview  
</details>
",https://github.com/JabRef/jabref/issues/4699#issuecomment-470553368,"I tried copy pasting a _BibTex_ entry into _JabRef_ but it did not create duplicates, am I missing something?
"
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 

JabRef version 4.3.1 and 5.0-dev on Windows 10.

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

When exporting a bibliography with a 'von' part, the 'von' part is omitted from the XML file.

Steps to reproduce the behavior:
1. Add an entry with as author, for example, John von Neumann (preserve caps)
2. Export to MS Office 2007 XML
3. Observe that your entry has `<b:Last>Neumann</b:Last>`, and ""von"" is nowhere to be found

I suspect this is due to the fact that the XML format does not offer a separate tag for the ""von"" part, and the [model of the author in JabRef](https://github.com/JabRef/jabref/blob/master/src/main/java/org/jabref/logic/msbib/MsBibAuthor.java#L51) omits the ""von"" when returning a last name.

<details>
<summary>Bibtex file</summary>

```bibtex
@Article{Neumann1987,
  author  = {John von Neumann},
  title   = {ABC},
  journal = {aaa},
  year    = {1987},
}
```

</details>
<details>
<summary>XML file fragment</summary>

```xml
<b:NameList>
<b:Person>
<b:Last>Neumann</b:Last>
<b:First>John</b:First>
</b:Person>
</b:NameList>
```

</details>",https://github.com/JabRef/jabref/issues/4655#issuecomment-469044471,"@grebnetiew is the issue still persist or it is solved? because when I exported to MS 2007 in ubuntu using the latest master development version, then it includes middle name."
JabRef/jabref,"

JabRef version JabRef 5.0-dev--snapshot--2019-01-21--master--40d049e08 on Ubuntu 16.04

- [X] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

Steps to reproduce the behavior:
1. Open any database
2. Select an entry and copy & past the same entry, so that a duplicate is created
3. Click Quality => Find duplicates
4. The duplicate window is totally empty, no boxes or text showing up. Only the buttons at the bottom show. (If I try the same thing in v 4.3.1 it works as expected; two duplicates are showing in the left and right halves for the window.)

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

No errors are showing up in the console when starting from command line. 
",https://github.com/JabRef/jabref/issues/4598#issuecomment-456471908,"Working on this, could you please do me a favor and add a screenshot of the dialog in 4.3.1? That helps me to convert the dialog. "
JabRef/jabref,"JabRef 5.0-dev--snapshot--2019-01-10--master--84573cc38
Windows 10 10.0 amd64 
Java 1.8.0_172

- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

Steps to reproduce the behavior:
1. Open 2 bib files on separate tabs
2. Switch from one tab to another
3. On the bottom always a notification appears ""Preview style changed to: Preview""

There should not be any such a notification _all the time_. This is not a type of notification we should be warned about every single occurrence. 

A side note: did you consider to link the notifications in Windows/macOS to Notification panel/banners?",https://github.com/JabRef/jabref/issues/4580#issuecomment-453814974,"Hi I'm interested to take up this issue. Would you like to remove the notification from the panel? 
Can I also know what is a preview style?"
JabRef/jabref,"Hello.

JabRef_windows-x64_5_0-dev--snapshot--2018-11-15--master--81f15e9e6.exe
Windows 7 x64

1. Select an entry on your bibliography 
2. Go to the menu ""Quality"" -> ""Lookup Full Text Document"" 
3. If something is found  A Windows will be opened.
4. Select ""Save File"" 
5. The option ""Browse"" doesn't work.

",https://github.com/JabRef/jabref/issues/4489#issuecomment-447205645,"I'd like to start on this one, @tobiasdiez.  Any tips on where to look first?"
JabRef/jabref,"<!-- 
Note: Please use the GitHub issue tracker only for bug reports. 
Feature requests, questions and general feedback is now handled at http://discourse.jabref.org.
Thanks! 
--> 

JabRef version 5dev on Windows 10

<!-- IMPORTANT NOTE ->
<!-- 
      Please always test if the bug is still reproducible in the latest development version.
      We are constantly improving JabRef and some bugs may already be fixed.
      You can download the development version at: http://builds.jabref.org/master/
      Please make a backup of your library before you try out this version.
      If you already use a development version, ensure that you use the latest one.
 -->
- [x] I have tested the latest development version from http://builds.jabref.org/master/ and the problem persists

<!-- Add a clear and concise description of what the bug is. -->

Steps to reproduce the behavior:
1. Open entry editor > General fields tab
2. Using the ""Download button"" next to the file field, try to download an url with parameters like `https://www.jstor.org/stable/pdfplus/10.2307/2373250.pdf?acceptTC=true`
3. Get exception

<!-- If applicable, add excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

  
  ```
  java.nio.file.InvalidPathException: Illegal char <?> at index 65: Smale1965 - An Infinite Dimensional Version of Sard's Theorem.pdf?accepttc=true
	at sun.nio.fs.WindowsPathParser.normalize(Unknown Source)
	at sun.nio.fs.WindowsPathParser.parse(Unknown Source)
	at sun.nio.fs.WindowsPathParser.parse(Unknown Source)
	at sun.nio.fs.WindowsPath.parse(Unknown Source)
	at sun.nio.fs.WindowsFileSystem.getPath(Unknown Source)
	at sun.nio.fs.AbstractPath.resolve(Unknown Source)
	at org.jabref.gui.fieldeditors.LinkedFileViewModel.lambda$download$375(LinkedFileViewModel.java:370)
	at org.jabref.gui.util.BackgroundTask$1.call(BackgroundTask.java:46)
	at org.jabref.gui.util.BackgroundTask$3.call(BackgroundTask.java:171)
	at org.jabref.gui.util.DefaultTaskExecutor$1.call(DefaultTaskExecutor.java:116)
	at javafx.concurrent.Task$TaskCallable.call(Task.java:1423)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

  ```





",https://github.com/JabRef/jabref/issues/4480#issuecomment-452420932,"Hello, I'm new to contributing to open source projects. Has this issue been solved yet? If not I'd like to try and fix it."
JabRef/jabref,"Steps to reproduce the behavior:
1. File -> (New Bibtex library) or (New Biblatex library)
2. Add some entry 
Number of entry will be 0. 
![image](https://user-images.githubusercontent.com/15236829/47781510-0ceba400-dd28-11e8-9293-dab196344bc5.png)

",https://github.com/JabRef/jabref/issues/4441#issuecomment-435147526,"Is it always an incorrect number, or does this only happen the first time you assign a item to a new group? 

I noticed this behaviour before, but as far as I remember you get the correct numbers of items contained in a group, if you save your database, then close JabRef and then reopen the database in JabRef.

This is still, obviously, a bug, but a less serious one, I guess - it is basically the updating process of the groups panel, that does not work properly (which I think is also responsible for some other issues we see with the groups panel)."
JabRef/jabref,"When I run JabRef_windows-x64_5_0-dev--snapshot--2018-10-30--master--274fed486.exe nothing happens.
The program appears on Windows task manager but there is no usable Window.
I have the same problem with several older Jabref 5.0 versions I've tried.  
Version 4 was working well.

Then I have tried to run it from the command line with
java -jar JabRefxxxx.jar and I get this error messages:

```
C:\Program Files\JabRef>java -jar JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar
20:12:24.051 [JavaFX Application Thread] INFO  org.jabref.logic.importer.OpenDatabase - Opening: C:\Personal\women\person-years.bib
20:12:25.617 [JavaFX Application Thread] ERROR org.jabref.logic.citationstyle.CitationStyle - Could not find file: /ieee.csl
java.nio.file.NoSuchFileException: \ieee.csl
        at sun.nio.fs.WindowsException.translateToIOException(Unknown Source) ~[?:1.8.0_191]
        at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source) ~[?:1.8.0_191]
        at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source) ~[?:1.8.0_191]
        at sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source) ~[?:1.8.0_191]
        at java.nio.file.Files.newByteChannel(Unknown Source) ~[?:1.8.0_191]
        at java.nio.file.Files.newByteChannel(Unknown Source) ~[?:1.8.0_191]
        at java.nio.file.Files.readAllBytes(Unknown Source) ~[?:1.8.0_191]
        at org.jabref.logic.citationstyle.CitationStyle.createCitationStyleFromFile(CitationStyle.java:110) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.logic.citationstyle.CitationStyle.getDefault(CitationStyle.java:127) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.logic.citationstyle.CitationStyleCache.<init>(CitationStyleCache.java:29) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.gui.BasePanel.<init>(BasePanel.java:177) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.gui.JabRefFrame.addTab(JabRefFrame.java:1211) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.gui.JabRefFrame.addParserResult(JabRefFrame.java:1010) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefGUI.openWindow(JabRefGUI.java:123) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefGUI.<init>(JabRefGUI.java:62) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefMain.start(JabRefMain.java:77) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295) ~[jfxrt.jar:?]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]
        at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294) ~[jfxrt.jar:?]
        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177) ~[jfxrt.jar:?]
        at java.lang.Thread.run(Unknown Source) [?:1.8.0_191]
20:12:26.171 [JavaFX Application Thread] ERROR org.jabref.JabRefMain - Unexpected exception
java.nio.file.FileSystemNotFoundException: null
        at com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171) ~[zipfs.jar:1.8.0_191]
        at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157) ~[zipfs.jar:1.8.0_191]
        at java.nio.file.Paths.get(Unknown Source) ~[?:1.8.0_191]
        at org.jabref.gui.util.ThemeLoader.addAndWatchForChanges(ThemeLoader.java:93) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.gui.util.ThemeLoader.installCss(ThemeLoader.java:82) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefGUI.openWindow(JabRefGUI.java:153) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefGUI.<init>(JabRefGUI.java:62) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at org.jabref.JabRefMain.start(JabRefMain.java:77) ~[JabRef-5.0-dev--snapshot--2018-10-29--master--11a62dd5e.jar:?]
        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295) ~[jfxrt.jar:?]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]
        at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294) ~[jfxrt.jar:?]
        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177) ~[jfxrt.jar:?]
        at java.lang.Thread.run(Unknown Source) [?:1.8.0_191]
```


In order to try it I've added antivirus and firewall exceptions (and also tried disabling them).
I'm using Windows 10 x64 and Java(TM) SE Runtime Environment (build 1.8.0_191-b12).
I can't add a screenshot nor excerpt of log (available in the error console) because I can't even start the program.",https://github.com/JabRef/jabref/issues/4438#issuecomment-434491654,@florian-beetz any idea? Does it have to do with the submodule? 
JabRef/jabref,"preference->Entry table columns

1.  The _Field name_ is not editable
2.  The value in _Field name_ is not identical with table header
2.  The two buttons in bottom looks the same
3.  _Column width_ is float which is not compatible with jabref-4.3.1. 

![image](https://user-images.githubusercontent.com/8992037/47720209-4f5da400-dc88-11e8-99b3-01590d0069ee.png)

**table header:**
![image](https://user-images.githubusercontent.com/8992037/47720778-a748da80-dc89-11e8-8aab-0d3b776cf22c.png)

",https://github.com/JabRef/jabref/issues/4437#issuecomment-434342055,"I have a group for a school project and we would like to contribute to this issue, is it available?"
JabRef/jabref,"Tested with JabRef 4.21 64 bit Windows

Steps to reproduce the behavior:

1. Create new BibTeX library
2. Import into current library
3. Select PDFContent and choose pdf file.
4. Select Open
file is opened
//import second pdf file
5. Import into current library
6. Select PDFContent and choose pdf file.
7. Select Open
file is not opened
status. importing in unknown format...

Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.ArrayIndexOutOfBoundsException: -1
	at org.jabref.logic.importer.fileformat.PdfContentImporter.proceedToNextNonEmptyLine(PdfContentImporter.java:525)
	at org.jabref.logic.importer.fileformat.PdfContentImporter.importDatabase(PdfContentImporter.java:228)
	at org.jabref.gui.importer.ImportMenuItem$MyWorker.run(ImportMenuItem.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at spin.Invocation.evaluate(Invocation.java:175)
	at spin.off.SpinOffEvaluator.evaluate(SpinOffEvaluator.java:120)
	at spin.ProxyFactory.evaluteInvocation(ProxyFactory.java:85)
	at spin.JDKProxyFactory$SpinInvocationHandler.invoke(JDKProxyFactory.java:102)
	at com.sun.proxy.$Proxy30.run(Unknown Source)
	at org.jabref.gui.importer.ImportMenuItem.automatedImport(ImportMenuItem.java:78)
	at org.jabref.gui.importer.ImportFormats$1ImportAction.doImport(ImportFormats.java:88)
	at org.jabref.gui.importer.ImportFormats$1ImportAction.lambda$actionPerformed$0(ImportFormats.java:75)
	at java.util.Optional.ifPresent(Unknown Source)
	at org.jabref.gui.importer.ImportFormats$1ImportAction.lambda$actionPerformed$1(ImportFormats.java:75)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)

",https://github.com/JabRef/jabref/issues/4422#issuecomment-433699324,Could you please test with the latest development version? https://builds.jabref.org/master/
JabRef/jabref,"JabRef version on Windows 10/Java 8.
- I am having trouble installing the JabRef.exe from http://builds.jabref.org/master/. I have tested checking out the latest from master.

<!-- Add a clear and concise description of what the bug is. -->
In Preferences, there are instances at which we need to select an option through radio buttons. Eg: Check screenshot attached. There are many instances in the Preferences where I am able to select multiple radio buttons for each group. Either we need to use checkboxes if multi-select is to be allowed or we should group the radio buttons under a toggle group as done here https://github.com/JabRef/jabref/pull/4408/files#diff-e0f0e1ade7c4cee8c43b0bb2254c21ebR123

I debugged an verified this issue. If multiple options are selected then always the first option (out of all the other selected options) in the if-else condition gets set as the preference.
Steps to reproduce the behavior:
1. Start the app
2. Go to Options > Preferences > Entry Editor
3. Enable autocomplete options
4. Under the ""Name format used for auto completion"" option, you should be able to select all the options


![image](https://user-images.githubusercontent.com/7998085/47560233-4dd55a00-d8dd-11e8-8dcd-a28c86d5edd7.png)
",https://github.com/JabRef/jabref/issues/4409#issuecomment-433428758,Toggle Group seems like the best solution to me. Do you want to fix this?
JabRef/jabref,"I'm not familiar to bug reports, but I'll try my best. Unfortunately Jabref runs very unstable on my system. One error I can reproduce is when I click on the Optional fields Tab of the entry in the attached database, CPU load goes to max and the whole system does not react on mouse clicks anymore. It reacts on keyboard strokes though.

- [ x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists


JabRef 5.0-dev--snapshot--2018-09-11--master--4c3e520a3
Linux 4.9.0-8-amd64 amd64 
Java 1.8.0_181


Steps to reproduce:

1. Open the database
2. Click on entry
3. Click on optional fields

Here is the bibtex file:




<details>
<summary>Bibtex File</summary>

% Encoding: UTF-8

@Article{Punj2013NatureNanotechnology,
  author    = {Punj, Deep and Mivelle, Mathieu and Moparthi, Satish Babu and van Zanten, Thomas S. and Rigneault, Herv{\'e} and van Hulst, Niek F. and Garc{\'i}a-Paraj{\'o}, Mar{\'i}a F. and Wenger, J{\'e}r{\^o}me},
  title     = {A plasmonic 'antenna-in-box' platform for enhanced single-molecule analysis at micromolar concentrations},
  journal   = {Nature Nanotechnology},
  year      = {2013},
  volume    = {8},
  pages     = {512 - 517},
  month     = {Jun},
  abstract  = {Single-molecule fluorescence techniques are key for a number of applications, including DNA sequencing, molecular and cell biology and early diagnosis. Unfortunately, observation of single molecules by diffraction-limited optics is restricted to detection volumes in the femtolitre range and requires pico- or nanomolar concentrations, far below the micromolar range where most biological reactions occur. This limitation can be overcome using plasmonic nanostructures, which enable the confinement of light down to nanoscale volumes. Although these nanoantennas enhance fluorescence brightness, large background signals and/or unspecific binding to the metallic surface have hampered the detection of individual fluorescent molecules in solution at high concentrations. Here we introduce a novel ‚Äòantenna-in-box‚Äô platform that is based on a gap-antenna inside a nanoaperture. This design combines fluorescent signal enhancement and background screening, offering high single-molecule sensitivity (fluorescence enhancement up to 1,100-fold and microsecond transit times) at micromolar sample concentrations and zeptolitre-range detection volumes. The antenna-in-box device can be optimized for single-molecule fluorescence studies at physiologically relevant concentrations, as we demonstrate using various biomolecules.},
  day       = {09},
  doi       = {10.1038/nnano.2013.98},
  groups    = {Unread},
  keywords  = {Fluorescence enhancement, Nanoantenna},
  publisher = {Nature Publishing Group},
  url       = {http://dx.doi.org/10.1038/nnano.2013.98}
}

@Comment{jabref-meta: databaseType:biblatex;}

  <summary>Log File</summary>
  

Here is what is printed in the terminal: 

17:22:45.985 [JabRef CachedThreadPool] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JabRef CachedThreadPool,5,main]
java.lang.IllegalStateException: Not on FX application thread; currentThread = JabRef CachedThreadPool
	at com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:236) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:423) ~[jfxrt.jar:?]
	at javafx.scene.Parent$2.onProposedChange(Parent.java:367) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:113) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:108) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.updateChildren(LabeledSkinBase.java:575) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.handleControlPropertyChanged(LabeledSkinBase.java:204) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabelSkin.handleControlPropertyChanged(LabelSkin.java:49) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase.lambda$registerChangeListener$0(BehaviorSkinBase.java:197) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.MultiplePropertyChangeListenerHandler$1.changed(MultiplePropertyChangeListenerHandler.java:55) ~[jfxrt.jar:?]
	at javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:89) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.fireValueChangedEvent(StringPropertyBase.java:103) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:110) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:144) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:49) ~[jfxrt.jar:?]
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65) ~[jfxrt.jar:?]
	at javafx.scene.control.Labeled.setText(Labeled.java:145) ~[jfxrt.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:199) ~[JabRef.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:195) ~[JabRef.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:179) ~[JabRef.jar:?]
	at org.jabref.gui.JabRefFrame.output(JabRefFrame.java:1025) ~[JabRef.jar:?]
	at org.jabref.gui.importer.actions.OpenDatabaseAction.openTheFile(OpenDatabaseAction.java:200) ~[JabRef.jar:?]
	at org.jabref.gui.importer.actions.OpenDatabaseAction.lambda$openFiles$2(OpenDatabaseAction.java:174) ~[JabRef.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
17:22:46.026 [JabRef CachedThreadPool] INFO  org.jabref.logic.importer.OpenDatabase - Opening: /home/nils/Schreibtisch/test.bib
17:22:46.039 [JabRef CachedThreadPool] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JabRef CachedThreadPool,5,main]
java.lang.IllegalStateException: Not on FX application thread; currentThread = JabRef CachedThreadPool
	at com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:236) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:423) ~[jfxrt.jar:?]
	at javafx.scene.Parent$2.onProposedChange(Parent.java:367) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:113) ~[jfxrt.jar:?]
	at com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:108) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.updateChildren(LabeledSkinBase.java:575) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabeledSkinBase.handleControlPropertyChanged(LabeledSkinBase.java:204) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.LabelSkin.handleControlPropertyChanged(LabelSkin.java:49) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase.lambda$registerChangeListener$0(BehaviorSkinBase.java:197) ~[jfxrt.jar:?]
	at com.sun.javafx.scene.control.MultiplePropertyChangeListenerHandler$1.changed(MultiplePropertyChangeListenerHandler.java:55) ~[jfxrt.jar:?]
	at javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:89) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.fireValueChangedEvent(StringPropertyBase.java:103) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:110) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:144) ~[jfxrt.jar:?]
	at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:49) ~[jfxrt.jar:?]
	at javafx.beans.property.StringProperty.setValue(StringProperty.java:65) ~[jfxrt.jar:?]
	at javafx.scene.control.Labeled.setText(Labeled.java:145) ~[jfxrt.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:199) ~[JabRef.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:195) ~[JabRef.jar:?]
	at com.jfoenix.controls.JFXSnackbar.show(JFXSnackbar.java:179) ~[JabRef.jar:?]
	at org.jabref.gui.JabRefFrame.output(JabRefFrame.java:1025) ~[JabRef.jar:?]
	at org.jabref.gui.importer.actions.OpenDatabaseAction.addNewDatabase(OpenDatabaseAction.java:278) ~[JabRef.jar:?]
	at org.jabref.gui.importer.actions.OpenDatabaseAction.openTheFile(OpenDatabaseAction.java:256) ~[JabRef.jar:?]
	at org.jabref.gui.importer.actions.OpenDatabaseAction.lambda$openFiles$2(OpenDatabaseAction.java:174) ~[JabRef.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
</details>
",https://github.com/JabRef/jabref/issues/4331#issuecomment-420980889,"Hi,
could you please test with the latest master version from here?  http://builds.jabref.org/master/"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

- [ +] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists
JabRef 5.0-dev--snapshot--2018-09-06--docbookfive--9ea5747f1
Windows 7 6.1 amd64 
Java 1.8.0_181


Steps to reproduce:

1. Shut down Jabref by right clicking the Jabref button in the taskbar, select ""close window"".
2. JabRef is closed.
3. Installation of another Jabref failed because it was not completely stopped as judged by the task manager. This is certainly an error.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
  ```
  Paste an excerpt of your log file here
  ```
</details>
",https://github.com/JabRef/jabref/issues/4321#issuecomment-426381188,"Still an issue`? (Do not confuse this with the other issue, the port issue/starting multiple instances of JabRef)"
JabRef/jabref,"Feature request/bug report from the Forum:

1. Copy the following in the source tab of an entry
2. Try to open the url
3. Explorer is opened (on windows)

Solution would be to trim the url field automatically

```
URL = {
https://doi.org/10.1175/1520-0469(2003)060 1<1655:TOSOCC>2.0.CO;2
},
```

http://discourse.jabref.org/t/jabref-cannot-identify-the-url-if-there-is-space-between-the-url-and-opening-and-closing-braces/1314",https://github.com/JabRef/jabref/issues/4288#issuecomment-415449480,I thought opening and closing spaces were automatically trimmed for each field before?
JabRef/jabref,"@tobiasdiez  


![grafik](https://user-images.githubusercontent.com/320228/44518962-fbed3980-a6cb-11e8-95ef-45cedb52139a.png)

And you should set the colspan of the gridpane which includes the pane of the biblatex key panel to 2
",https://github.com/JabRef/jabref/issues/4287#issuecomment-421591137,"As a first timer, can I pick this issue if nobody is working on it?"
JabRef/jabref,"JabRef 5.0-dev--snapshot--2018-07-12--master--dd9b22911
Linux 4.15.0-29-generic amd64 
Java 1.8.0_181

Steps to reproduce:

1. open [BugRep.bib.txt](https://github.com/JabRef/jabref/files/2223289/BugRep.bib.txt)
2. merge entries
![screenshot from 2018-07-24 12-54-00](https://user-images.githubusercontent.com/15687581/43134164-60d3e490-8f41-11e8-96d9-ae29e5a4cbd6.png)
3. nothing happens

```tex
@PhdThesis{swails2013free,
  author    = {Swails, Jason M.},
  title     = {Free energy simulations of complex biological systems at constant {pH}},
  school    = {University of Florida},
  year      = {2013},
  file      = {:PhDJK/Literature/MD/Swails_2013_DissertationUniversityofFlorida.pdf:PDF},
  publisher = {University of Florida},
  url       = {https://search.proquest.com/openview/7d3d4ac9f59cef5b9ab91b075ae3f09a/1?pq-origsite=gscholar&cbl=18750&diss=y},
}

@PhdThesis{proquest1520243924,
  author    = {Swails, Jason},
  title     = {Free energy simulations of complex biological systems at constant pH},
  year      = {20130101},
  isbn      = {9781303822889},
  keywords  = {Molecular Chemistry ; Physical Chemistry ; Theoretical Physics ; Molecular Chemistry ; Physical Chemistry ; Theoretical Physics ; Pure Sciences ; Biomolecules ; Free Energy ; Ph-Dependent Behavior},
  language  = {eng},
  owner     = {jkalliau},
  pages     = {ProQuest Dissertations and Theses},
  publisher = {ProQuest Dissertations Publishing},
  timestamp = {2018.07.24},
  url       = {http://search.proquest.com/docview/1520243924/},
}
```


<details>

<summary>Event-log</summary>

Opening: /home/jkalliau/ownCloud/PhDJK/LaTeX/Style/BugRep.bib
runCommand error: null
java.lang.NullPointerException
	at org.jabref.gui.mergeentries.MergeEntries.updateAll(MergeEntries.java:443)
	at org.jabref.gui.mergeentries.MergeEntries.initialize(MergeEntries.java:206)
	at org.jabref.gui.mergeentries.MergeEntries.<init>(MergeEntries.java:113)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.init(MergeEntriesDialog.java:65)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.<init>(MergeEntriesDialog.java:41)
	at org.jabref.gui.BasePanel.lambda$setupActions$3(BasePanel.java:346)
	at org.jabref.gui.BasePanel.runCommand(BasePanel.java:696)
	at org.jabref.gui.actions.OldCommandWrapper.execute(OldCommandWrapper.java:31)
	at org.jabref.gui.actions.JabRefAction.lambda$new$2(JabRefAction.java:29)
	at org.controlsfx.control.action.Action.handle(Action.java:419)
	at org.controlsfx.control.action.Action.handle(Action.java:64)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.control.MenuItem.fire(MenuItem.java:462)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1405)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.lambda$createChildren$343(ContextMenuContent.java:1358)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)
	at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)
	at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)
	at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$353(GlassViewEventHandler.java:432)
	at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)
	at com.sun.glass.ui.View.handleMouseEvent(View.java:555)
	at com.sun.glass.ui.View.notifyMouse(View.java:937)
	at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
	at com.sun.glass.ui.gtk.GtkApplication.lambda$null$48(GtkApplication.java:139)
	at java.lang.Thread.run(Thread.java:748)

runCommand error: null
java.lang.NullPointerException
	at org.jabref.gui.mergeentries.MergeEntries.updateAll(MergeEntries.java:443)
	at org.jabref.gui.mergeentries.MergeEntries.initialize(MergeEntries.java:206)
	at org.jabref.gui.mergeentries.MergeEntries.<init>(MergeEntries.java:113)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.init(MergeEntriesDialog.java:65)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.<init>(MergeEntriesDialog.java:41)
	at org.jabref.gui.BasePanel.lambda$setupActions$3(BasePanel.java:346)
	at org.jabref.gui.BasePanel.runCommand(BasePanel.java:696)
	at org.jabref.gui.actions.OldCommandWrapper.execute(OldCommandWrapper.java:31)
	at org.jabref.gui.actions.JabRefAction.lambda$new$2(JabRefAction.java:29)
	at org.controlsfx.control.action.Action.handle(Action.java:419)
	at org.controlsfx.control.action.Action.handle(Action.java:64)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.control.MenuItem.fire(MenuItem.java:462)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1405)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.lambda$createChildren$343(ContextMenuContent.java:1358)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)
	at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)
	at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)
	at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$353(GlassViewEventHandler.java:432)
	at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)
	at com.sun.glass.ui.View.handleMouseEvent(View.java:555)
	at com.sun.glass.ui.View.notifyMouse(View.java:937)
	at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
	at com.sun.glass.ui.gtk.GtkApplication.lambda$null$48(GtkApplication.java:139)
	at java.lang.Thread.run(Thread.java:748)

runCommand error: null
java.lang.NullPointerException
	at org.jabref.gui.mergeentries.MergeEntries.updateAll(MergeEntries.java:443)
	at org.jabref.gui.mergeentries.MergeEntries.initialize(MergeEntries.java:206)
	at org.jabref.gui.mergeentries.MergeEntries.<init>(MergeEntries.java:113)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.init(MergeEntriesDialog.java:65)
	at org.jabref.gui.mergeentries.MergeEntriesDialog.<init>(MergeEntriesDialog.java:41)
	at org.jabref.gui.BasePanel.lambda$setupActions$3(BasePanel.java:346)
	at org.jabref.gui.BasePanel.runCommand(BasePanel.java:696)
	at org.jabref.gui.actions.OldCommandWrapper.execute(OldCommandWrapper.java:31)
	at org.jabref.gui.actions.JabRefAction.lambda$new$2(JabRefAction.java:29)
	at org.controlsfx.control.action.Action.handle(Action.java:419)
	at org.controlsfx.control.action.Action.handle(Action.java:64)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.control.MenuItem.fire(MenuItem.java:462)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1405)
	at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.lambda$createChildren$343(ContextMenuContent.java:1358)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)
	at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)
	at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)
	at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$353(GlassViewEventHandler.java:432)
	at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)
	at com.sun.glass.ui.View.handleMouseEvent(View.java:555)
	at com.sun.glass.ui.View.notifyMouse(View.java:937)
	at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
	at com.sun.glass.ui.gtk.GtkApplication.lambda$null$48(GtkApplication.java:139)
	at java.lang.Thread.run(Thread.java:748)

</details>",https://github.com/JabRef/jabref/issues/4233#issuecomment-409566479,Hi. Does anyone mind if I try to fix this one?
JabRef/jabref,"JabRef 5.0-dev--snapshot--2018-07-12--master--dd9b22911
Windows 7 6.1 amd64 
Java 1.8.0_172
- [ ] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

Steps to reproduce:

1. load jabref 5.0dev and any library
2. try to save a pdf entry for an entry
3. you will notice that the path which is saved is the full path, the directory in the standard directory entry included

This is a Verschlimmbesserung, sorry for the nice German word. it means changing not for the better, but for the worth.

For first entry is manually edited, the second not
![grafik](https://user-images.githubusercontent.com/9216487/42723317-e533c108-875b-11e8-8c41-4102e171cb8d.png)
the standard directory is:
![grafik](https://user-images.githubusercontent.com/9216487/42723330-1c08e69a-875c-11e8-8090-24fa5e38ec8d.png)


",https://github.com/JabRef/jabref/issues/4201#issuecomment-405023780,"Did you add the pdf manually or did you use a fetcher?
As far as I remember there was nothing changed in the behavior. Maybe a cleanup call is needed. I currently have the code not at hand. "
JabRef/jabref,"No longer works, e.g `https://www.ebook.de/de/tools/isbn2bibtex?isbn=+0-387-90026-8`. @koppor do you have the contact from these guys?",https://github.com/JabRef/jabref/issues/4198#issuecomment-404865206,Refs #4172?!
JabRef/jabref,"JabRef 5.0-dev--snapshot--2018-07-02--master--aed7712bc
Windows 10 10.0 amd64 
Java 1.8.0_171

I am using the latest jabref snapshot and I was surprised to see that the ""new article"" dialog window is no longer there. I used this all the time to generated a new entry from a doi. Now it seems you have to go to the DOI field and generate the entry from there. However this is not working, ie nothing happens when I press either the  ""lookup doi"" or ""generate bibtex from doi"" button.

Steps to reproduce:

1. Click the ""+"" icon, new article entry
2. Go to the general tab and fill in a doi,  10.1103/PhysRev.47.777 
3. Press the  ""lookup doi"" or ""generate bibtex from doi""  button
4. Nothing happens
",https://github.com/JabRef/jabref/issues/4164#issuecomment-403272318,"Hi, I'm a freshman to OSS, mind if I make some enhancement? I together with my partner will work to fix it. :) And could you give me some help please such as the idea of which class or package would relate to his the problem? Thanks. :)"
JabRef/jabref,"This happened with version 4.3.1 on a Linux system: I added a few dozen new entries, saving the database after each new added entry, when suddenly the GUI told me that the database has changed on disk and forced me to review the changes, showing me the changes I have just made myself!
I am pretty sure no other process has actually updated the database on disk. 
I know that there is nothing to review and I do not care if for some reasons the file modification date is not what jabref expects, I just want it to save and override the file on disk, but Jabref apparentlly does not allow that. This is very annoying.
So what I have to do is kill/abort jabref (losing the entry I was in the process of adding) and start it again.",https://github.com/JabRef/jabref/issues/4143#issuecomment-398925916,DO you have autosave feature enabled? That could be causing issues in your case
JabRef/jabref,"- [+] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists
JabRef 4.4-dev--snapshot--2018-06-04--master--ee669a542
Windows 7 6.1 amd64 
Java 1.8.0_172

In 4.1 I could move in the entry editor to the next entry using Ctrl-Shift ‚Üì (the latter from the numeric key pad. That it must be the numeric key pad is not mentioned in the help.
However with the latest snapshot this changing entries is no langer supported. Within the field Ctrl Shift ‚Üì or Ctrl Shift ‚Üë move to the end or beginning of that field. Moving to the next or previous entry seems no longer supported. 

",https://github.com/JabRef/jabref/issues/4104#issuecomment-394810471,Have you tried resettting the keybindings?
JabRef/jabref,"Hi,

JabRef version 4.2 
MacOS High Sierra 
Java 1.8.0_112 (also tested on 10.0.1)

Steps to reproduce:

1. Launch JabRef and TeXstudio
2. Select a bibliographic item
3. Click push to TeXstudio
4. Nothing happens

In settings 'External Programs' path to TeXstudio: /Applications/texstudio.app/Contents/MacOS/texstudio

Previously worked very well until latest upgrade JabRef to 4.2.

Thanks in advance,
",https://github.com/JabRef/jabref/issues/4041#issuecomment-390908480,"Do you get any error in the log? Help-> View Event log?
On Windows 10 this works as expected. "
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

- [X] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists


JabRef version 4.2 on Windows 7 6.1 amd64, Java 1.8.0_161
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

I am using a database with 12000+ entries and a large number of keyword groups, which are arranged in a hierarchical tree (via using sub groups). In the group dialog, the sub branches of the group tree can be folded or unfolded via the small arrow symbols at the right side. Further, it is possible to right-click on a group or sub-group and get a context menu which allows to ""add selected entries to this group"". 

The problem is that already clicking on the fold/unfold symbol immediately affects the filtering status of the main entry list. Also right-clicking on a group or subgroup has the same effect. In jabref-3.x it was possible to fold/unfold a sub branch by clicking on a ""+"" symbol without changing the filtering state in the entry viewer. Also, getting the context menu via right-clicking did not change the filtering state. 

Currently, when I add a new literature entry and want to connect it with some keyword groups, it is not possible to do this via the right-clicking context menu, because at the moment of right-clicking, my entry disappears from the main list (because at the moment of righ-clicking it is not yet in that group, but filtering becomes immediately effective). 

An alternative way is to drag-drop the literature entry onto a group element. However in case of nested subgroups, the subbranch needs to be unfolded first, and by unfolding the subgroup the literature entry again disappears in the main entry list. Thus the way to do this is

- Find the right place in the group list and unfold the required subbranches of subgroups 
- Scroll to the top of the group list and click on ""All entries""
- Scroll back to the place, where the desired subbranch is unfolded
- In some cases it is again required to find and mark the literature entry in the entry list (which temporarily disappeared)
- Finally drag-drop the literature entry onto the subgroup

A second workaround is right-clicking on the literature entry and select ""add to group"" in the context menu, however this opens a separate dialog box with the same list of groups, which again needs scrolling and unfolding of subgroups and allows for selecting only one group per time. In case of multiple group selections this dialog box has to be opened for each group individually and always starts at the top of the group list with all sub branches folded. 

Both workarounds are rather cumbersome. A ""simple"" (at least conceptually simple, I'm not aware of the coding details...) solution would be preventing the group filtering in the main entry window upon right-clicking on a group or upon clicking on the small arrow for folding/unfolding. The filtering should become effective only upon clicking with the left mouse button onto a group name. At least in jabref-3.x it always worked this way. ",https://github.com/JabRef/jabref/issues/4025#issuecomment-413603858,"@andre8s: Thanks for the feedback!

The number in front of the entries was indeed completely removed. We couldn't think of a use case where this number would be helpful for the user and thus removed it to make room for more important information. Why do you miss it?

The other issue that you mention sounds like a real bug to me. Can you please open a new issue here on github and add an example entry for which this problem occurs (and maybe readd the screenshots that gone missing when you posted via mail). Thanks!"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

- [ ] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists


JabRef 4.3-dev--snapshot--2018-05-07--maintable-beta--35b068386
Windows 7 6.1 amd64 
Java 1.8.0_171

Steps to reproduce:

1. Open a large database (2300 entries)...
2. add a color and and icon e.g yellow and folder to a group description
3. jabref stops working with 4.9 GB in memory, the some 150 entries in the group were lost, the dialogue which opened when right clicking on an entry was passed to other programs

![20180508screenshotjabreferror](https://user-images.githubusercontent.com/9216487/39779501-ab1deda8-5309-11e8-8b47-8b57e5479662.PNG)



",https://github.com/JabRef/jabref/issues/4022#issuecomment-388041911,Can confirm this behaviour. It seems to completely reload the whole?  group tree. Tested with the Huge-File.bib 
JabRef/jabref,"When trying to fetch an entry from ACM, JabRef seems to 

- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists


JabRef version:
JabRef 4.3-dev--snapshot--2018-05-05--master--b8ea55bc2
Windows 7 6.1 amd64 
Java 1.8.0_172


Steps to reproduce:

1. Open web search and select the ACM portal
2. Paste the DOI 10.1145/72551.72553 for example
3. Click fetch
4. The dialog window in the first screenshot below opens
5. Mark ""Keep"" on the entry
6. Click ""Ok""
7. Another dialog window opens which seems to make no progress and does not contain the entry selected previously


<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Screenshots</summary>
  
  ![grafik](https://user-images.githubusercontent.com/22543341/39743064-fdbfe9b8-529f-11e8-9dbf-a91ca49cf2d4.png)  
  Screenshot of first dialog after searching
  
  ![grafik](https://user-images.githubusercontent.com/22543341/39743370-f7aa5d64-52a0-11e8-9db2-937af5865ce3.png)
  Screenshot of second dialog
</details>
",https://github.com/JabRef/jabref/issues/4018#issuecomment-387313629,"Thanks for your report. I can confirm that. The fetcher runs into an error: 
I'll take a look at that
```
java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1960) ~[?:1.8.0_162]
	at org.jabref.gui.importer.fetcher.ACMPortalFetcher.downloadEntryBibTeX(ACMPortalFetcher.java:324) ~[main/:?]
	at org.jabref.gui.importer.fetcher.ACMPortalFetcher.getEntries(ACMPortalFetcher.java:180) ~[main/:?]
	at org.jabref.gui.importer.fetcher.GeneralFetcher.lambda$4(GeneralFetcher.java:198) ~[main/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_162]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_162]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_162]
```
"
JabRef/jabref,"- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists


JabRef version 4.2+ on Fedora 27


Steps to reproduce:

1. Add a custom export filter https://github.com/alick/jabref-export/tree/master/listrefs with the name 'test'
2. Export a selected bib entry
3. In the save file dialog, look for the custom filter entry in the popdown filter list.
4. There are two 'HTML list file (*.html)' entries in the popdown list. Neither gives the custom result. No entry for 'test'.

![screenshot from 2018-05-05 21-51-15](https://user-images.githubusercontent.com/933935/39669337-9dc2d22a-50ae-11e8-827c-b5acc0571ddf.png)
![screenshot from 2018-05-05 22-00-05](https://user-images.githubusercontent.com/933935/39669375-b5901858-50af-11e8-8e3f-5edc1b23854b.png)

Notes:

- I think I might have filename clash with shipped filter. But after I changed my custom one to a new name, the result is still the same.
- With JabRef 4.1, the 'test' filter appears in the popdown list, but with a wrong suffix (DEFAULT) although it is .html in the 'Manage custom export' dialog.
",https://github.com/JabRef/jabref/issues/4013#issuecomment-386909102,"Thanks for the feedback, I could reproduce that and I think I found a way to fix this. At least my tests were succesful. Could you please try the updated version here? https://builds.jabref.org/fixCustomExportFileType/
The current version contains the commit id  1a0cde3 in the version number"
JabRef/jabref,"I just downloaded 4.2 and noticed that copy from the preview screen has a few bugs.

- [ ] Firstly, selecting the preview, and clicking right + copy preview does not behave like its shortcut shift-control-c. The former copies the html code rather than the text only. 

- [ ] Secondly, after having copied a preview entry, returning to the preview box makes Jabref crash (window just closes abruptly). This is reproducible. 

(JabRef 4.2 Windows 10 10.0 amd64  Java 1.8.0_171)
",https://github.com/JabRef/jabref/issues/3992#issuecomment-385002523,@koppor What should the copy preview result in? The text of the preview or the HTML code?
JabRef/jabref,"**Versions:**
Issue persists in dev snapshot: https://builds.jabref.org/master/JabRef-4.3-dev--snapshot--2018-04-26--master--7629b3171.jar

Tested on Windows 7 with Java x64 Build 1.8.0_162-b12

**Issue:**

On a database with about 2000 entries, most of them with associated PDFs, the search box behaves even worse in 4.2 than it did in 4.1.

Problems are:

1. Random duplication of entered search strings (see issue #3921 )
2. Random lockups of the complete search box (no new text can be entered, old text cannot be deleted, no text can be marked)
3. Random vertical shifts of the already entered characters as if a new blank line was added.

Problems 1) and 2) were already present in 4.1, Problem 3) seems to be a new addition of 4.2. I also have the feeling that the crashes will come faster now, on average it takes only 3-4 searches until something bad happens and you have to restart JabRef entirely.",https://github.com/JabRef/jabref/issues/3989#issuecomment-384893699,"I really cannot reproduce this with Win10 and a bib database with '>6.000 entries.
It could be a memory problem. How much RAM do you installed in your machine?
 Do you have the entry open when searching`? Probably at the General Tab?
When you close the entry editor, or switch to another tab the search should be way faster.


"
JabRef/jabref,"I have indeed tested the latest master version from http://builds.jabref.org/master/ and the problem persists.

Version: Jabref 4.1 on Windows 7 on Java x64 Version 8 Update 162


Steps to reproduce:

1. Use large datebase (>1800 entries) with almost every entry having an associated PDF
2. Type something like ""author = M""
3. Randomly observe that the searchbox will suddenly show ""author=Mauthor=M"". This does not happen every time, but on our system it takes about 
![image](https://user-images.githubusercontent.com/2142589/38296490-c33ba890-37f1-11e8-88a4-dc92e4648979.png)
4. The search will be largely broken afterwards

The only way to fix this is restarting Jabref.

",https://github.com/JabRef/jabref/issues/3921#issuecomment-378572976,Do you have autocompletion enabled?
JabRef/jabref,"It is quite ugly when you first startup the maintable beta version of `JabRef`:

![image](https://user-images.githubusercontent.com/13306020/37550834-182dc12a-29cf-11e8-93bf-cd25c15f1f44.png)

Plus, it won't memorize my modifications, either. That is, after I modify the size to a better one, it restores to the default again when I restart it.

This is better:

![image](https://user-images.githubusercontent.com/13306020/37550862-e0d5988c-29cf-11e8-9cef-1577fd533f35.png)


```
JabRef 4.2-dev--snapshot--2018-03-16--maintable-beta--2c2a302a5
Windows 10 10.0 amd64 
Java 1.8.0_161
```",https://github.com/JabRef/jabref/issues/3859#issuecomment-395216800,I felt this annoying too. Just adding `mainStage.setMaximized(true);` on starting would provide a wider visualization. Is that ok?
JabRef/jabref,"```
ScienceDirect API request failed
com.mashape.unirest.http.exceptions.UnirestException: java.lang.RuntimeException: java.lang.RuntimeException: org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]
	at com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:143)
	at com.mashape.unirest.request.BaseRequest.asJson(BaseRequest.java:68)
	at org.jabref.logic.importer.fetcher.ScienceDirect.getUrlByDoi(ScienceDirect.java:87)
	at org.jabref.logic.importer.fetcher.ScienceDirect.findFullText(ScienceDirect.java:47)
	at org.jabref.logic.importer.FulltextFetchers.findFullTextPDF(FulltextFetchers.java:50)
	at org.jabref.gui.fieldeditors.LinkedFilesEditorViewModel.lambda$fetchFulltext$5(LinkedFilesEditorViewModel.java:181)
	at org.jabref.gui.util.BackgroundTask$1.call(BackgroundTask.java:39)
	at org.jabref.gui.util.DefaultTaskExecutor$1.call(DefaultTaskExecutor.java:98)
	at javafx.concurrent.Task$TaskCallable.call(Task.java:1423)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]
	at com.mashape.unirest.http.HttpResponse.<init>(HttpResponse.java:106)
	at com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:139)
	... 14 more
Caused by: java.lang.RuntimeException: org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]
	at com.mashape.unirest.http.JsonNode.<init>(JsonNode.java:51)
	at com.mashape.unirest.http.HttpResponse.<init>(HttpResponse.java:95)
	... 15 more
Caused by: org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]
	at org.json.JSONTokener.syntaxError(JSONTokener.java:433)
	at org.json.JSONArray.<init>(JSONArray.java:106)
	at org.json.JSONArray.<init>(JSONArray.java:145)
	at com.mashape.unirest.http.JsonNode.<init>(JsonNode.java:48)
	... 16 more
```

Full text download seems to be really slow too now...",https://github.com/JabRef/jabref/issues/3852#issuecomment-373496373,Is this fixed with your pr? 
JabRef/jabref," When I import from pubmed using the internet search->pubmed, I see an little yellow triangle beside the author field in the entry editor, saying that the author do not fullfill bibtex formats. Adding dots to each of the single latter first names made the triangle go away.

- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

JabRef 4.2-dev--snapshot--2018-03-12--master--586b934ba
Windows 7 6.1 amd64 
Java 1.8.0_161


Steps to reproduce:

1. import from pubmed e.g. PMID 10399915
2. open the entry editor, note the yellow triangle
3. add dots to single letter first names

",https://github.com/JabRef/jabref/issues/3848#issuecomment-373082007,"Dots are added in AuthorListParser via #concatTokens:
```
        String firstAbbr = firstPartStart < 0 ? null : concatTokens(tokens, firstPartStart, firstPartEnd,
                OFFSET_TOKEN_ABBR, true);
```"
JabRef/jabref,"JabRef 4.2-dev--snapshot--2018-03-13--master--90c7afa1c
Linux 4.13.0-36-generic amd64 
Java 1.8.0_161



Steps to reproduce:

1. open options/preferences
2. make any change, e.g., entry table columns, or export sort order, or anything afaik
3. press OK

Nothing happens.  The preferences window stays open, and no changes are saved.


Log:

Opening: /home/dom/Dropbox/Projects/HSSA/issue 5.2 rasayana issue/07 Sehnalova/paper/sehnalova.bib
Opening: /home/dom/Dropbox/localtexmf/bibtex/bib/biblio4-utf8.bib
Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArithmeticException: / by zero
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCyclePosition(PreviewPreferences.java:80)
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCycle(PreviewPreferences.java:72)
	at org.jabref.gui.preftabs.PreviewPrefsTab.storeSettings(PreviewPrefsTab.java:247)
	at org.jabref.gui.preftabs.PreferencesDialog.storeAllSettings(PreferencesDialog.java:243)
	at org.jabref.gui.preftabs.PreferencesDialog.access$000(PreferencesDialog.java:54)
	at org.jabref.gui.preftabs.PreferencesDialog$OkAction.actionPerformed(PreferencesDialog.java:271)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArithmeticException: / by zero
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCyclePosition(PreviewPreferences.java:80)
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCycle(PreviewPreferences.java:72)
	at org.jabref.gui.preftabs.PreviewPrefsTab.storeSettings(PreviewPrefsTab.java:247)
	at org.jabref.gui.preftabs.PreferencesDialog.storeAllSettings(PreferencesDialog.java:243)
	at org.jabref.gui.preftabs.PreferencesDialog.access$000(PreferencesDialog.java:54)
	at org.jabref.gui.preftabs.PreferencesDialog$OkAction.actionPerformed(PreferencesDialog.java:271)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArithmeticException: / by zero
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCyclePosition(PreviewPreferences.java:80)
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCycle(PreviewPreferences.java:72)
	at org.jabref.gui.preftabs.PreviewPrefsTab.storeSettings(PreviewPrefsTab.java:247)
	at org.jabref.gui.preftabs.PreferencesDialog.storeAllSettings(PreferencesDialog.java:243)
	at org.jabref.gui.preftabs.PreferencesDialog.access$000(PreferencesDialog.java:54)
	at org.jabref.gui.preftabs.PreferencesDialog$OkAction.actionPerformed(PreferencesDialog.java:271)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArithmeticException: / by zero
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCyclePosition(PreviewPreferences.java:80)
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCycle(PreviewPreferences.java:72)
	at org.jabref.gui.preftabs.PreviewPrefsTab.storeSettings(PreviewPrefsTab.java:247)
	at org.jabref.gui.preftabs.PreferencesDialog.storeAllSettings(PreferencesDialog.java:243)
	at org.jabref.gui.preftabs.PreferencesDialog.access$000(PreferencesDialog.java:54)
	at org.jabref.gui.preftabs.PreferencesDialog$OkAction.actionPerformed(PreferencesDialog.java:271)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArithmeticException: / by zero
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCyclePosition(PreviewPreferences.java:80)
	at org.jabref.preferences.PreviewPreferences$Builder.withPreviewCycle(PreviewPreferences.java:72)
	at org.jabref.gui.preftabs.PreviewPrefsTab.storeSettings(PreviewPrefsTab.java:247)
	at org.jabref.gui.preftabs.PreferencesDialog.storeAllSettings(PreferencesDialog.java:243)
	at org.jabref.gui.preftabs.PreferencesDialog.access$000(PreferencesDialog.java:54)
	at org.jabref.gui.preftabs.PreferencesDialog$OkAction.actionPerformed(PreferencesDialog.java:271)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2237)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2295)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4889)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4526)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4467)
	at java.awt.Container.dispatchEventImpl(Container.java:2281)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
",https://github.com/JabRef/jabref/issues/3845#issuecomment-372991725,"You seem to have some odd things in your Preview Preferences Tab, Could you try adding and removing some of the Preview Styles? and see if it works afterwards?"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

JabRef 4.2-dev--snapshot--2018-03-13--master--90c7afa1c
Windows 10 10.0 amd64 
Java 1.8.0_161

**Description:**
The entry editor breaks, displaying graphical errors and no longer displaying any fields for any entry. Closing and re-opening the library fixes the problem, until steps are repeated.

**Steps to reproduce:**
1. Open entry editor for an entry.
2. Switch to the ""General"" panel
3. Switch to the ""BibTeX source"" panel
4. Close entry editor
5. Open the entry editor for an entry again.
6. Switch to any other panel.

Order of panel selection doesn't matter, i.e. first switching to the source and then to the general panel also creates the error. As does closing the entry editor between steps 2 & 3.

![image](https://user-images.githubusercontent.com/4972547/37354987-2b871238-26e3-11e8-9306-d7966ee3500a.png)

<details>
  <summary>Log File</summary>
  
  ```
  Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.awt.IllegalComponentStateException: component must be showing on the screen to determine its location
	at java.awt.Component.getLocationOnScreen_NoTreeLock(Unknown Source)
	at java.awt.Component.getLocationOnScreen(Unknown Source)
	at sun.awt.windows.WInputMethod$1.run(Unknown Source)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
	at java.awt.EventQueue.access$500(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue$4.run(Unknown Source)
	at java.awt.EventQueue$4.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)

Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [-2147483648, 9) is not a valid range within [0, 9)
	at org.reactfx.util.Lists.checkRange(Lists.java:128)
	at org.reactfx.util.Lists.checkRange(Lists.java:123)
	at org.reactfx.collection.MemoizationListImpl.forget(MemoizationList.java:184)
	at org.fxmisc.flowless.CellListManager.cropTo(CellListManager.java:82)
	at org.fxmisc.flowless.CellPositioner.cropTo(CellPositioner.java:29)
	at org.fxmisc.flowless.Navigator.cropToNeighborhoodOf(Navigator.java:227)
	at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:200)
	at org.fxmisc.flowless.Navigator.visit(Navigator.java:129)
	at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:85)
	at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:78)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:257)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Scene.doLayoutPass(Scene.java:552)
	at javafx.scene.Scene.preferredSize(Scene.java:1646)
	at javafx.scene.Scene.impl_preferredSize(Scene.java:1720)
	at javafx.stage.Window$9.invalidated(Window.java:864)
	at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)
	at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:144)
	at javafx.stage.Window.setShowing(Window.java:940)
	at javafx.stage.Window.show(Window.java:955)
	at com.sun.javafx.stage.EmbeddedWindow.show(EmbeddedWindow.java:58)
	at javafx.embed.swing.JFXPanel.lambda$addNotify$51(JFXPanel.java:833)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)

  ```
</details>
",https://github.com/JabRef/jabref/issues/3843#issuecomment-373061725,This also happens for me when I switch the type of the entry. Pretty annoying...Can we fix this or are we near enough a maintable release?
JabRef/jabref,"JabRef 4.2-dev--snapshot--2018-03-05--master--0d2620309
Windows 10 10.0 amd64 
Java 1.8.0_162

Steps to reproduce:

1. Create a bibtex mode db with some entries 
2. One Entry A should have a pdf link and a another pdf file in the folder so that the Autolink files finder kicks in
3. Create another entry B with no files attached
4. Open the entry A in the  entry editor and go to General tab
5. Go to source tab in entry A
6. Go to entry B,  Click on any other tab -> Freeze

With this combination I could reproduce the error everytime 

Exception logged: 
```
Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [-2147483648, 11) is not a valid range within [0, 11)
	at org.reactfx.util.Lists.checkRange(Lists.java:128)
	at org.reactfx.util.Lists.checkRange(Lists.java:123)
	at org.reactfx.collection.MemoizationListImpl.forget(MemoizationList.java:184)
	at org.fxmisc.flowless.CellListManager.cropTo(CellListManager.java:82)
	at org.fxmisc.flowless.CellPositioner.cropTo(CellPositioner.java:29)
	at org.fxmisc.flowless.Navigator.cropToNeighborhoodOf(Navigator.java:227)
	at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:200)
	at org.fxmisc.flowless.Navigator.visit(Navigator.java:129)
	at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:85)
	at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:78)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:257)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Scene.doLayoutPass(Scene.java:552)
	at javafx.scene.Scene.preferredSize(Scene.java:1646)
	at javafx.scene.Scene.impl_preferredSize(Scene.java:1720)
	at javafx.stage.Window$9.invalidated(Window.java:864)
	at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)
	at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:144)
	at javafx.stage.Window.setShowing(Window.java:940)
	at javafx.stage.Window.show(Window.java:955)
	at com.sun.javafx.stage.EmbeddedWindow.show(EmbeddedWindow.java:58)
	at javafx.embed.swing.JFXPanel.lambda$addNotify$51(JFXPanel.java:833)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)

```
",https://github.com/JabRef/jabref/issues/3810#issuecomment-371176256,Could you also reproduce this issue for the maintable branch?
JabRef/jabref,"Tried to test #3795 
@koppor  It might actually be useful to add the missing keys to other language files.


```

16:07:34.023 [JavaFX Application Thread] ERROR org.jabref.gui.util.ControlHelper - Problem loading fxml for control
javafx.fxml.LoadException: Resource ""Close window"" not found.
/E:/workspace/JabRef/jabref/bin/main/org/jabref/gui/entryeditor/EntryEditor.fxml:22

	at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader$Element.resolvePrefixedValue(FXMLLoader.java:424) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader$Element.processValue(FXMLLoader.java:363) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:325) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:235) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:767) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441) ~[jfxrt.jar:?]
	at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409) ~[jfxrt.jar:?]
	at org.jabref.gui.util.ControlHelper.loadFXMLForControl(ControlHelper.java:29) ~[main/:?]
	at org.jabref.gui.entryeditor.EntryEditor.<init>(EntryEditor.java:76) ~[main/:?]
```
```",https://github.com/JabRef/jabref/issues/3796#issuecomment-371896280,"Which duplicates? Did git merge something wrong? We should remove the
untranslated keys again from the translation files or are they already
removed?

Am 09.03.2018 18:03 schrieb ""Christoph"" <notifications@github.com>:

> The problem is now that the Duplication finder complains about duplicates
> and I think this is a problem with the merge of #3798
> <https://github.com/JabRef/jabref/pull/3798>
>
> ‚Äî
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/JabRef/jabref/issues/3796#issuecomment-371874917>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/ABTafolXpEXqSDFxdSaKvhBy46zq7pgfks5tcrXHgaJpZM4SaB10>
> .
>
"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

- [X ] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

JabRef 4.2-dev--snapshot--2018-02-16--master--bb2b07833
Windows 10 10.0 amd64 
Java 1.8.0_161

Steps to reproduce:

1. open editor by double-clicking reference
2. change type from 'article' to 'thesis'
3. type is changed in main window but the editor becomes non-responsive. Screen is empty.

![image](https://user-images.githubusercontent.com/12788982/36331604-31d331f2-1334-11e8-9608-3df4a012cb81.png)

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
Switched from obsolete look and feel com.jgoodies.looks.windows.WindowsLookAndFeel to com.sun.java.swing.plaf.windows.WindowsLookAndFeel
Opening: d:\Users\chuck\Documents\Birds\Tyrannidae\Mitrephanes.bib
Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.ArrayIndexOutOfBoundsException: 5
	at com.sun.javafx.text.TextRun.getWidth(TextRun.java:187)
	at com.sun.javafx.text.PrismTextLayout.layout(PrismTextLayout.java:1070)
	at com.sun.javafx.text.PrismTextLayout.ensureLayout(PrismTextLayout.java:223)
	at com.sun.javafx.text.PrismTextLayout.getBounds(PrismTextLayout.java:246)
	at javafx.scene.text.Text.getLogicalBounds(Text.java:358)
	at javafx.scene.text.Text.getYRendering(Text.java:1069)
	at javafx.scene.text.Text.access$4400(Text.java:95)
	at javafx.scene.text.Text$TextAttribute$11.computeValue(Text.java:1785)
	at javafx.scene.text.Text$TextAttribute$11.computeValue(Text.java:1777)
	at javafx.beans.binding.ObjectBinding.get(ObjectBinding.java:153)
	at javafx.beans.binding.ObjectExpression.getValue(ObjectExpression.java:50)
	at javafx.beans.property.ObjectPropertyBase.get(ObjectPropertyBase.java:132)
	at com.sun.javafx.scene.control.skin.TextFieldSkin.lambda$new$198(TextFieldSkin.java:233)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:105)
	at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)
	at javafx.beans.property.ObjectPropertyBase.access$000(ObjectPropertyBase.java:51)
	at javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:233)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.binding.ObjectBinding.invalidate(ObjectBinding.java:172)
	at javafx.scene.text.Text.impl_geomChanged(Text.java:769)
	at javafx.scene.text.Text.needsTextLayout(Text.java:194)
	at javafx.scene.text.Text.needsFullTextLayout(Text.java:189)
	at javafx.scene.text.Text.access$200(Text.java:95)
	at javafx.scene.text.Text$2.invalidated(Text.java:389)
	at javafx.beans.property.StringPropertyBase.markInvalid(StringPropertyBase.java:109)
	at javafx.beans.property.StringPropertyBase.access$000(StringPropertyBase.java:49)
	at javafx.beans.property.StringPropertyBase$Listener.invalidated(StringPropertyBase.java:230)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.beans.binding.StringBinding.invalidate(StringBinding.java:171)
	at com.sun.javafx.binding.BindingHelperObserver.invalidated(BindingHelperObserver.java:51)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:349)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextInputControl$TextProperty.fireValueChangedEvent(TextInputControl.java:1389)
	at javafx.scene.control.TextInputControl$TextProperty.markInvalid(TextInputControl.java:1393)
	at javafx.scene.control.TextInputControl$TextProperty.controlContentHasChanged(TextInputControl.java:1332)
	at javafx.scene.control.TextInputControl$TextProperty.access$1600(TextInputControl.java:1300)
	at javafx.scene.control.TextInputControl.lambda$new$162(TextInputControl.java:139)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextField$TextFieldContent.insert(TextField.java:87)
	at javafx.scene.control.TextInputControl.replaceText(TextInputControl.java:1204)
	at javafx.scene.control.TextInputControl.updateContent(TextInputControl.java:556)
	at javafx.scene.control.TextInputControl.replaceText(TextInputControl.java:548)
	at com.sun.javafx.scene.control.skin.TextFieldSkin.replaceText(TextFieldSkin.java:576)
	at com.sun.javafx.scene.control.behavior.TextFieldBehavior.replaceText(TextFieldBehavior.java:202)
	at com.sun.javafx.scene.control.behavior.TextInputControlBehavior.defaultKeyTyped(TextInputControlBehavior.java:238)
	at com.sun.javafx.scene.control.behavior.TextInputControlBehavior.callAction(TextInputControlBehavior.java:139)
	at com.sun.javafx.scene.control.behavior.BehaviorBase.callActionForEvent(BehaviorBase.java:218)
	at com.sun.javafx.scene.control.behavior.TextInputControlBehavior.callActionForEvent(TextInputControlBehavior.java:127)
	at com.sun.javafx.scene.control.behavior.BehaviorBase.lambda$new$74(BehaviorBase.java:135)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Node.fireEvent(Node.java:8413)
	at com.sun.javafx.scene.control.skin.ComboBoxPopupControl.lambda$new$292(ComboBoxPopupControl.java:110)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventFilterRecord.handleCapturingEvent(CompositeEventHandler.java:282)
	at com.sun.javafx.event.CompositeEventHandler.dispatchCapturingEvent(CompositeEventHandler.java:98)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:223)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:180)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchCapturingEvent(CompositeEventDispatcher.java:43)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:52)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$KeyHandler.process(Scene.java:3964)
	at javafx.scene.Scene$KeyHandler.access$1800(Scene.java:3910)
	at javafx.scene.Scene.impl_processKeyEvent(Scene.java:2040)
	at javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2501)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$null$299(EmbeddedScene.java:310)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$keyEvent$300(EmbeddedScene.java:296)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.ArrayIndexOutOfBoundsException: -1
	at java.util.ArrayList.elementData(Unknown Source)
	at java.util.ArrayList.get(Unknown Source)
	at com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89)
	at com.sun.javafx.collections.VetoableListDecorator.get(VetoableListDecorator.java:306)
	at com.sun.javafx.scene.control.skin.TextAreaSkin.getCharacterBounds(TextAreaSkin.java:893)
	at com.sun.javafx.scene.control.skin.TextInputControlSkin$11.getTextLocation(TextInputControlSkin.java:385)
	at javafx.scene.Scene$InputMethodRequestsDelegate.getTextLocation(Scene.java:4011)
	at javafx.embed.swing.InputMethodSupport$InputMethodRequestsAdapter.getTextLocation(InputMethodSupport.java:61)
	at sun.awt.im.InputMethodContext.getTextLocation(Unknown Source)
	at sun.awt.windows.WInputMethod$1.run(Unknown Source)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
	at java.awt.EventQueue.access$500(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue$4.run(Unknown Source)
	at java.awt.EventQueue$4.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)

Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [-2147483648, 18) is not a valid range within [0, 18)
	at org.reactfx.util.Lists.checkRange(Lists.java:128)
	at org.reactfx.util.Lists.checkRange(Lists.java:123)
	at org.reactfx.collection.MemoizationListImpl.forget(MemoizationList.java:184)
	at org.fxmisc.flowless.CellListManager.cropTo(CellListManager.java:82)
	at org.fxmisc.flowless.CellPositioner.cropTo(CellPositioner.java:29)
	at org.fxmisc.flowless.Navigator.cropToNeighborhoodOf(Navigator.java:227)
	at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:200)
	at org.fxmisc.flowless.Navigator.visit(Navigator.java:129)
	at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:85)
	at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:78)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:257)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Scene.doLayoutPass(Scene.java:552)
	at javafx.scene.Scene.preferredSize(Scene.java:1646)
	at javafx.scene.Scene.impl_preferredSize(Scene.java:1720)
	at javafx.stage.Window$9.invalidated(Window.java:864)
	at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)
	at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:144)
	at javafx.stage.Window.setShowing(Window.java:940)
	at javafx.stage.Window.show(Window.java:955)
	at com.sun.javafx.stage.EmbeddedWindow.show(EmbeddedWindow.java:58)
	at javafx.embed.swing.JFXPanel.lambda$addNotify$51(JFXPanel.java:833)
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)
	at java.lang.Thread.run(Unknown Source)

  ```
</details>
",https://github.com/JabRef/jabref/issues/3730#issuecomment-366435596,"Hi, I also tested the latest version on Windows 10 and I have no problems changing the entry type.
Could you please specify, how you change the entry type? e.G. right click on the entry or through the menu?
"
JabRef/jabref,"- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

JabRef version 4.1 on Windows 10
(JabRef 4.1, Windows 10 10.0 amd64, Java 1.8.0_144)

Steps to reproduce:

1. Open a bibtex-file ([test0.txt](https://github.com/JabRef/jabref/files/1643240/test0.txt)). Create Automatic keyword group. Use proposed standard values, only change "","" to "";"" as separator.
2. Close JabRef. The bibtex-file looks like this: [test.txt](https://github.com/JabRef/jabref/files/1643209/test.txt)
3. Start JabRef.
4. JabRef doesn't start: It appears in the task manager, using the CPU a short time and then stays at 0% CPU with a constant amount of RAM used. No window opens.

If within the test file the `\;` which stands for the separator (the second one after `keywords`, I guess) is changed to `,` or `-` JabRef opens again. If this `\;` is changed to `;` JabRef doesn't start.

Regards

",https://github.com/JabRef/jabref/issues/3646#issuecomment-359188556,"Okay I could reproduce this: It produces an exception when parsing the line. Seems like it gets problems with the delimiter.
@tobiasdiez  What is your opinion: Should we disallow the semicolon as separator?


```
java.lang.StringIndexOutOfBoundsException: String index out of range: 0
	at java.lang.String.charAt(String.java:658) ~[?:1.8.0_162]
	at org.jabref.logic.importer.util.GroupsParser.automaticKeywordGroupFromString(GroupsParser.java:130) ~[main/:?]
	at org.jabref.logic.importer.util.GroupsParser.fromString(GroupsParser.java:99) ~[main/:?]
	at org.jabref.logic.importer.util.GroupsParser.importGroups(GroupsParser.java:47) ~[main/:?]
	at org.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:65) ~[main/:?]
	at org.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:35) ~[main/:?]
	at org.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:221) ~[main/:?]
	at org.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:154) ~[main/:?]
	at org.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[main/:?]
	at org.jabref.logic.importer.Importer.importDatabase(Importer.java:88) ~[main/:?]
	at org.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[main/:?]
	at org.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:72) ~[main/:?]
	at org.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:51) ~[main/:?]
	at org.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:207) ~[main/:?]
	at org.jabref.JabRefGUI.openWindow(JabRefGUI.java:91) ~[main/:?]
	at org.jabref.JabRefGUI.<init>(JabRefGUI.java:60) ~[main/:?]
	at org.jabref.JabRefMain.lambda$1(JabRefMain.java:193) ~[main/:?]
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311) ~[?:1.8.0_162]
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758) ~[?:1.8.0_162]
	at java.awt.EventQueue.access$500(EventQueue.java:97) ~[?:1.8.0_162]
	at java.awt.EventQueue$3.run(EventQueue.java:709) ~[?:1.8.0_162]
	at java.awt.EventQueue$3.run(EventQueue.java:703) ~[?:1.8.0_162]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_162]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80) ~[?:1.8.0_162]
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728) ~[?:1.8.0_162]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205) [?:1.8.0_162]
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116) [?:1.8.0_162]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105) [?:1.8.0_162]
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:1.8.0_162]
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93) [?:1.8.0_162]
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82) [?:1.8.0_162]
```
"
JabRef/jabref,"- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

This is a regression of 3.x to 4.1. I'm not sure which version it worked at last.

Steps to reproduce:

1. Store a file in bibdir/subdir
2. Execute cleanup

![grafik](https://user-images.githubusercontent.com/1366654/34679725-2473b2b8-f497-11e7-9c5f-1b240d20cce1.png)

3. File is renamend AND MOVED to bibdir

Expected: File should be put into bibdir/subdir.
",https://github.com/JabRef/jabref/issues/3619#issuecomment-356083443,Didn't we introduce the `file directory pattern` to handle the placement in subdirectories? Maybe I just don't see your usecase but I would like to keep the algorithm as simple as possible.
JabRef/jabref,"JabRef version <4.1> on <Mac OS X 10.13.2>

Steps to reproduce: Start the app and then hit CTRL-I to import a citations. The app then hangs and I can't even find a pid in terminal to force quit.

See screenshot showing the screen at the hang.

I did add my hostname to /etc/hosts see <
https://dzone.com/articles/macos-sierra-problems-with-javanetinetaddress-getl>. This did not change anything.

The problem does not occur when I use JR 3.8.2.

I can't find the log file in Console. Any suggestions would be most appreciated.
![jr-4 1-hang](https://user-images.githubusercontent.com/29470512/34449719-5c5d3170-ecb0-11e7-849e-76577ccc41a3.png)

Thanks!
",https://github.com/JabRef/jabref/issues/3589#issuecomment-354554640,Does this ref https://github.com/JabRef/jabref/issues/3236 or another closed issue (https://github.com/JabRef/jabref/issues?q=is%3Aissue+label%3Aosx+is%3Aclosed)?
JabRef/jabref,"After opening the library properties window, if you click directly on OK, the file is shown as modified while no properties was modified by the user.

- [x] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists 

JabRef 4.1-dev--snapshot--2017-12-21--master--55abd5e2e
Linux 3.11-2-amd64 amd64 
Java 1.8.0_131


Steps to reproduce:

1. File -> New bibTeX library
2. File -> Save library as...
3. Enter a file name, like test.bib
4. Click on OK
Note that, at this point, the file is not shown as modified (no star in the name tab). Which is ok.
3. File -> Library properties
4. Click on OK  (without modifying any properties)
The file is shown as modified (star in the name tab)

Nothing special in the console.
",https://github.com/JabRef/jabref/issues/3562#issuecomment-353768581,can I work on this ?
JabRef/jabref,"MacOS 10.12.6
java version ""1.8.0_151""
Version: JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar
Invoked with ""java -jar"" on a command line

I moved to using the latest version of JabRef a couple of days ago (as above), and
have a new bug. JabRef works well for while, but at a certain point, trying
to add a new entry causes the field area to hang and become
non-responsive. (Figure hopefully included.) 

The following error is generated:

19:30:17.470 [JavaFX Application Thread] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [-2147483648, 16) is not a valid range within [0, 16)
	at org.reactfx.util.Lists.checkRange(Lists.java:128) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.reactfx.util.Lists.checkRange(Lists.java:123) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.reactfx.collection.MemoizationListImpl.forget(MemoizationList.java:184) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.CellListManager.cropTo(CellListManager.java:82) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.CellPositioner.cropTo(CellPositioner.java:29) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.Navigator.cropToNeighborhoodOf(Navigator.java:227) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:200) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.Navigator.visit(Navigator.java:129) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:85) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:78) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1087) ~[jfxrt.jar:?]
	at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:257) ~[JabRef-4.1-dev--snapshot--2017-12-08--master--6f39151a7.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1087) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Scene.doLayoutPass(Scene.java:552) ~[jfxrt.jar:?]
	at javafx.scene.Scene.preferredSize(Scene.java:1646) ~[jfxrt.jar:?]
	at javafx.scene.Scene.impl_preferredSize(Scene.java:1720) ~[jfxrt.jar:?]
	at javafx.stage.Window$9.invalidated(Window.java:846) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:144) ~[jfxrt.jar:?]
	at javafx.stage.Window.setShowing(Window.java:922) ~[jfxrt.jar:?]
	at javafx.stage.Window.show(Window.java:937) ~[jfxrt.jar:?]
	at com.sun.javafx.stage.EmbeddedWindow.show(EmbeddedWindow.java:58) ~[jfxrt.jar:?]
	at javafx.embed.swing.JFXPanel.lambda$addNotify$49(JFXPanel.java:799) ~[jfxrt.jar:?]
	at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295) ~[jfxrt.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_151]
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294) ~[jfxrt.jar:?]
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	~[jfxrt.jar:?]


The previous versions I was using,

JabRef-4.1-dev--snapshot--2017-11-13--master--c1d425a31.jar and

JabRef-4.1-dev--snapshot--2017-10-29--autofilelink--19481127d.jar

didn't have this problem.

![screen shot 2017-12-14 at 7 40 10 pm](https://user-images.githubusercontent.com/32746366/34021238-aa7a3584-e106-11e7-9aba-8a3a53c21c6b.jpg)

Clicking the check mark top-left of the panel closes and opens the panel correctly, but doesn't restore it to a working state. The following info is generated:

java.lang.RuntimeException: Requested texture dimensions (2516x2147483647) require dimensions (2516x0) that exceed maximum texture size (16384)
	at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
	at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
	at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
	at java.lang.Thread.run(Thread.java:748)

",https://github.com/JabRef/jabref/issues/3532#issuecomment-352259915,"Have the same issue. Looks to be an overflow bug. 

> java.lang.IndexOutOfBoundsException: [-2147483648, 16)

Are older snapshot builds available anywhere? "
JabRef/jabref,"- [x ] I have tested the latest master version from http://builds.jabref.org/master/ and the problem persists

JabRef 4.1-dev--snapshot--2017-11-30--master--d45d7ca38
Linux 3.16.0-38-generic amd64 
Java 1.8.0_151
on Mint 17 (Ubuntu 14.04)

Steps to reproduce:

1. import new entry
2. add file with bibtex key into file directory
3. open new entry in entry editor

I just switched from v4.0 to the latest development version, because Medline import did not work in v4.0 anymore. Unfortunately, now files appear to be added with absolute paths to the library. E.g., I added entry Lake2016 and Jabref now automatically adds the corresponding file as `/home/bitzer/papers/Lake2016.pdf` instead of as `Lake2016.pdf` as before. So I have to manually edit the file link to get the relative path. Is that intended behaviour and how do I get Jabref to automatically add relative links again?",https://github.com/JabRef/jabref/issues/3476#issuecomment-352179866,Is the location of the bibfile the same as /home/bitzer/papers? If not then uncheck the combobox
JabRef/jabref,"JabRef version 4 Windows7
First time I got this error. We have trouble with our university network, so it could explained. But in this case, I guess user should receive an error message (for now, it just turns endless).

```
107024 results found. Only 50 relevant results will be fetched by default.
Uncaught exception occurred in Thread[JabRef CachedThreadPool,6,main]
java.lang.NullPointerException
	at org.jabref.logic.importer.fileformat.MedlineImporter.parseArticle(MedlineImporter.java:344)
	at org.jabref.logic.importer.fileformat.MedlineImporter.importDatabase(MedlineImporter.java:162)
	at org.jabref.logic.importer.fetcher.MedlineFetcher.fetchMedline(MedlineFetcher.java:207)
	at org.jabref.logic.importer.fetcher.MedlineFetcher.performSearch(MedlineFetcher.java:179)
	at org.jabref.gui.importer.fetcher.SearchBasedEntryFetcher.processQuery(SearchBasedEntryFetcher.java:37)
	at org.jabref.gui.importer.fetcher.GeneralFetcher.lambda$actionPerformed$5(GeneralFetcher.java:216)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
```
Thanks

",https://github.com/JabRef/jabref/issues/3463#issuecomment-347729652,"@melTr and @lenhard 

It may be something on the medline side! 

I am experiencing multiple versions of JabRef on multiple hosts that did work with Pubmed/Medline suddenly not working today. They were working as recently as yesterday. I went and tried a recent development snapshot to make sure.

20:00:38.641 [JabRef CachedThreadPool] ERROR net.sf.jabref.FallbackExceptionHandler - Uncaught exception Occurred in Thread[JabRef CachedThreadPool,6,main]
java.lang.NullPointerException: null
	at net.sf.jabref.logic.importer.fileformat.MedlineImporter.parseArticle(MedlineImporter.java:344) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.logic.importer.fileformat.MedlineImporter.importDatabase(MedlineImporter.java:162) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.logic.importer.fetcher.MedlineFetcher.fetchMedline(MedlineFetcher.java:204) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.logic.importer.fetcher.MedlineFetcher.performSearch(MedlineFetcher.java:176) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.gui.importer.fetcher.SearchBasedEntryFetcher.processQuery(SearchBasedEntryFetcher.java:37) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.gui.importer.fetcher.GeneralFetcher.lambda$actionPerformed$5(GeneralFetcher.java:217) ~[JabRef-3.8.2.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_144]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_144]



20:07:59.728 [JabRef CachedThreadPool] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JabRef CachedThreadPool,6,main]
java.lang.NullPointerException: null
	at org.jabref.logic.importer.fileformat.MedlineImporter.parseArticle(MedlineImporter.java:344) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at org.jabref.logic.importer.fileformat.MedlineImporter.importDatabase(MedlineImporter.java:162) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at org.jabref.logic.importer.fetcher.MedlineFetcher.fetchMedline(MedlineFetcher.java:207) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at org.jabref.logic.importer.fetcher.MedlineFetcher.performSearch(MedlineFetcher.java:179) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at org.jabref.gui.importer.fetcher.SearchBasedEntryFetcher.processQuery(SearchBasedEntryFetcher.java:37) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at org.jabref.gui.importer.fetcher.GeneralFetcher.lambda$actionPerformed$5(GeneralFetcher.java:216) ~[JabRef-4.1-dev--snapshot--2017-11-27--master--42a959d1d.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_144]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_144]

curt@curt-laptop-ubuntu:~/bin$ java -version
java version ""1.8.0_144""
Java(TM) SE Runtime Environment (build 1.8.0_144-b01)
Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)

Did something change in the medline output recently?

Is anybody else seeing this?

Curt

"
JabRef/jabref,"In this issue https://github.com/JabRef/jabref/issues/3437#issuecomment-345182095, the reporter pointed out he could not install the `dmg` file from the development builds. I tried to reproduce the problem on my MacBook (10.12.6) and I got as well the following error:

<img width=""532"" alt=""screen shot 2017-11-17 at 18 26 57"" src=""https://user-images.githubusercontent.com/511683/32960567-a33b70cc-cbc5-11e7-89a8-e2e5fe5eba73.png"">

That is something we need to fix ASAP. Could the dev who is responsible for the release building on CI look at this? I can help and test, but I cannot build the release myself as there seem to be some local settings that are required that I don't have.",https://github.com/JabRef/jabref/issues/3440#issuecomment-345316468,"Could you try to test with an older version of here?
http://builds.jabref.org/fixfetcherisbn/
I am unsure whether it is caused by a certficiation issue (the code signing expired) or if its caused by a commit "
JabRef/jabref,"Have both java 9.01 and java 8 installed: (latter one is default)

![grafik](https://user-images.githubusercontent.com/320228/32846827-978fba74-ca28-11e7-8ed9-9c12362e19e5.png)

C:\Windows\System32>java -version
java version ""1.8.0_152""
Java(TM) SE Runtime Environment (build 1.8.0_152-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)",https://github.com/JabRef/jabref/issues/3434#issuecomment-344655246,"Well, that is quite nice. I'm using

```
JAVA_VERSION = System.getProperty(""java.version"");
```

to extract the java version from the running JabRef instance. I believed this is the standard way of extracting this information. I have not the slightest idea why this happens. Can you set a [break-point here](https://github.com/JabRef/jabref/blob/master/src/main/java/org/jabref/logic/util/JavaVersion.java#L21) and check other properties inside the debugger? You could use the static methods of `org.apache.commons.lang3.SystemUtils` to access all important information. "
JabRef/jabref,"JabRef version 4.1-dev (latest) on Arch

Steps to reproduce:

1. Click on ""Get fulltext""

<details>
  <summary>Log File</summary>
  
  ```
15:05:09.807 [pool-3-thread-3] INFO  org.jabref.logic.importer.fetcher.DoiResolution - Fulltext PDF found @ https://doi.org/10.1515/9783110213881.2.920
java.lang.NullPointerException
        at javafx.embed.swing.SwingDnD$DnDTransferable.getTransferDataFlavors(SwingDnD.java:387)
        at sun.awt.dnd.SunDropTargetContextPeer.getTransferDataFlavors(SunDropTargetContextPeer.java:192)
        at sun.awt.datatransfer.TransferableProxy.getTransferDataFlavors(TransferableProxy.java:65)
        at java.awt.dnd.DropTargetContext$TransferableProxy.getTransferDataFlavors(DropTargetContext.java:344)
        at javafx.embed.swing.CachingTransferable.updateData(CachingTransferable.java:76)
        at javafx.embed.swing.SwingDragSource.updateContents(SwingDragSource.java:52)
        at javafx.embed.swing.SwingDnD$3.dragOver(SwingDnD.java:171)
        at java.awt.dnd.DropTarget.dragOver(DropTarget.java:382)
        at sun.awt.dnd.SunDropTargetContextPeer.processMotionMessage(SunDropTargetContextPeer.java:475)
        at sun.awt.X11.XDropTargetContextPeer.processMotionMessage(XDropTargetContextPeer.java:178)
        at sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchMotionEvent(SunDropTargetContextPeer.java:824)
        at sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:770)
        at sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:48)
        at java.awt.Component.dispatchEventImpl(Component.java:4744)
        at java.awt.Container.dispatchEventImpl(Container.java:2294)
        at java.awt.Component.dispatchEvent(Component.java:4711)
        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)
        at java.awt.LightweightDispatcher.processDropTargetEvent(Container.java:4599)
        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4461)
        at java.awt.Container.dispatchEventImpl(Container.java:2280)
        at java.awt.Window.dispatchEventImpl(Window.java:2746)
        at java.awt.Component.dispatchEvent(Component.java:4711)
        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
        at java.awt.EventQueue.access$500(EventQueue.java:97)
        at java.awt.EventQueue$3.run(EventQueue.java:709)
        at java.awt.EventQueue$3.run(EventQueue.java:703)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
        at java.awt.EventQueue$4.run(EventQueue.java:731)
        at java.awt.EventQueue$4.run(EventQueue.java:729)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:82  ```
</details>
",https://github.com/JabRef/jabref/issues/3429#issuecomment-344041978,Not reproducible under Windows 10 . Are you using GTK Look and Feel? It is known to make problems
JabRef/jabref,"On Windows 10, it works. On Ubuntu, there is the following issue. 

JabRef version:

JabRef 4.1-dev--snapshot--2017-11-05--master--b42825cfb

Linux 4.10.0-38-generic amd64 

Java 1.8.0_151

OS: Ubuntu 16.04.3 kernel 4.10.0-38

Steps to reproduce:

1. Open JabRef on Linux with `java -jar JabRef-4.1.jar`
2. Double click an article entry and go to the General tab
3. Click on the Download (if you have the URL for the PDF) or Auto Search for PDF download button.
4. While it's downloading files, the program freezes.

<details>
  <summary>Log File</summary>
  
  ```
  $ java -jar JabRef-4.1.jar 
  AI: INFO 05-11-2017 20:09, 20: Configuration file has been successfully found as resource
  Error parsing gtk-icon-sizes string: ''
  20:09:12.517 [AWT-EventQueue-0] INFO  org.jabref.logic.importer.OpenDatabase - Opening: 
  /media/test/References/Archive/Archive.bib
  File: grouptree.fxml not found, attempting with camel case
  File: grouptree.css not found, attempting with camel case
  ```
</details>
",https://github.com/JabRef/jabref/issues/3406#issuecomment-342083385,"Which look and feel are you using? If it is the GTK look and feel, please try another one: https://help.jabref.org/en/Installation#freezes-when-running-jabref"
JabRef/jabref,"Reproduced from [this forum post](http://discourse.jabref.org/t/key-generation-doesnt-work-on-4-1-dev/872/3?u=siedlerchr)

Windows, current master 

1. Add a new article entry
2. Go to Source tab, paste some bibtex code onto it
3. Press Keygeneration
4. Select other entry in the main table 
Exception occurs:
Tabs no longer clickable. 

Exception seems to be triggerd by the updateSource in the EntryEditor

```
23:20:35.019 [pool-3-thread-1] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[pool-3-thread-1,5,main]
java.lang.IndexOutOfBoundsException: [31, 32) is not a valid range within [0, 16)
	at org.reactfx.util.Lists.checkRange(Lists.java:128) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.Lists.checkRange(Lists.java:123) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl.force(MemoizationList.java:118) ~[reactfx-2.0-M5.jar:?]
	at org.fxmisc.flowless.SizeTracker.lambda$new$4(SizeTracker.java:60) ~[flowless-0.5.2.jar:?]
	at org.reactfx.value.Val$2.computeValue(Val.java:705) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.getValue(ValBase.java:17) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val.lambda$combine$7(Val.java:584) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val$2.computeValue(Val.java:705) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.getValue(ValBase.java:17) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val.lambda$combine$10(Val.java:645) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val$2.computeValue(Val.java:705) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.getValue(ValBase.java:17) ~[reactfx-2.0-M5.jar:?]
	at java.util.Optional.map(Optional.java:215) ~[?:1.8.0_152]
	at org.reactfx.value.FlatMapped.computeValue(FlatMapped.java:33) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.getValue(ValBase.java:17) ~[reactfx-2.0-M5.jar:?]
	at javafx.beans.property.BooleanPropertyBase$1.computeValue(BooleanPropertyBase.java:174) ~[jfxrt.jar:?]
	at javafx.beans.binding.BooleanBinding.get(BooleanBinding.java:157) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase.get(BooleanPropertyBase.java:130) ~[jfxrt.jar:?]
	at javafx.scene.Node$5.invalidated(Node.java:1153) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase.access$000(BooleanPropertyBase.java:49) ~[jfxrt.jar:?]
	at javafx.beans.property.BooleanPropertyBase$Listener.invalidated(BooleanPropertyBase.java:245) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81) ~[jfxrt.jar:?]
	at javafx.beans.binding.BooleanBinding.invalidate(BooleanBinding.java:176) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.BindingHelperObserver.invalidated(BindingHelperObserver.java:51) ~[jfxrt.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.FlatMapped.selectedInvalidated(FlatMapped.java:54) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.FlatMapped.lambda$null$1(FlatMapped.java:41) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val$2.lambda$connect$0(Val.java:691) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val$2.lambda$connect$0(Val.java:691) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.OrElseConst.lambda$connect$0(OrElseConst.java:24) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.ListReduction.lambda$connect$0(ListReduction.java:53) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.LiveList.lambda$observeChanges$9(LiveList.java:268) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl$MemoizedView.publishNotifications(MemoizationList.java:58) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl$MemoizedView.access$300(MemoizationList.java:30) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl.sourceChanged(MemoizationList.java:89) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MappedList.sourceChanged(MappedList.java:41) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl.sourceChanged(MemoizationList.java:88) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MappedList.sourceChanged(MappedList.java:41) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.SuspendableBase.resume(SuspendableBase.java:64) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.CloseableOnceGuard.close(Guard.java:49) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.MultiGuard.close(Guard.java:83) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.Suspendable$1.resumeSource(Suspendable.java:118) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.Suspendable$1.suspendSource(Suspendable.java:104) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.NonAccumulativeStreamNotifications.lambda$head$0(NotificationAccumulator.java:134) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ProperEventStream.emit(ProperEventStream.java:18) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.EventStreams$3.lambda$observeInputs$0(EventStreams.java:105) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ChangeListenerWrapper.accept(Val.java:786) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.SuspendableBoolean.release(SuspendableBoolean.java:24) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.CloseableOnceGuard.close(Guard.java:49) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.Suspendable.suspendWhile(Suspendable.java:49) ~[reactfx-2.0-M5.jar:?]
	at org.fxmisc.richtext.model.GenericEditableStyledDocumentBase.update(GenericEditableStyledDocumentBase.java:222) ~[richtextfx-0.7-M5.jar:?]
	at org.reactfx.util.Tuple3.exec(Tuple3.java:43) ~[reactfx-2.0-M5.jar:?]
	at org.fxmisc.richtext.model.GenericEditableStyledDocumentBase.replace(GenericEditableStyledDocumentBase.java:129) ~[richtextfx-0.7-M5.jar:?]
	at org.fxmisc.richtext.model.SimpleEditableStyledDocument.replace(SimpleEditableStyledDocument.java:7) ~[richtextfx-0.7-M5.jar:?]
	at org.fxmisc.richtext.GenericStyledArea.replace(GenericStyledArea.java:1302) ~[richtextfx-0.7-M5.jar:?]
	at org.fxmisc.richtext.GenericStyledArea.replaceText(GenericStyledArea.java:1297) ~[richtextfx-0.7-M5.jar:?]
	at org.fxmisc.richtext.model.EditActions.insertText(EditActions.java:32) ~[richtextfx-0.7-M5.jar:?]
	at org.fxmisc.richtext.model.EditActions.appendText(EditActions.java:15) ~[richtextfx-0.7-M5.jar:?]
	at org.jabref.gui.entryeditor.SourceTab.updateSourcePane(SourceTab.java:69) ~[bin/:?]
	at org.jabref.gui.entryeditor.EntryEditor.lambda$4(EntryEditor.java:228) ~[bin/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_152]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_152]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_152]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_152]
```",https://github.com/JabRef/jabref/issues/3375#issuecomment-340750187,"I cannot reproduce it but @lenhard reported a similar exception in https://github.com/JabRef/jabref/pull/3366#pullrequestreview-73128567
````
12:04:25.997 [JavaFX Application Thread] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [-2147483648, 8) is not a valid range within [0, 8)
        at org.reactfx.util.Lists.checkRange(Lists.java:128) ~[reactfx-2.0-M5.jar:?]
        at org.reactfx.util.Lists.checkRange(Lists.java:123) ~[reactfx-2.0-M5.jar:?]
        at org.reactfx.collection.MemoizationListImpl.forget(MemoizationList.java:184) ~[reactfx-2.0-M5.jar:?]
        at org.fxmisc.flowless.CellListManager.cropTo(CellListManager.java:71) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.CellPositioner.cropTo(CellPositioner.java:24) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.Navigator.cropToNeighborhoodOf(Navigator.java:209) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:182) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.Navigator.visit(Navigator.java:111) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:49) ~[flowless-0.5.2.jar:?]
        at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:67) ~[flowless-0.5.2.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1087) ~[jfxrt.jar:?]
        at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:165) ~[flowless-0.5.2.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1087) ~[jfxrt.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
        at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
        at javafx.scene.Scene.doLayoutPass(Scene.java:552) ~[jfxrt.jar:?]
        at javafx.scene.Scene.preferredSize(Scene.java:1646) ~[jfxrt.jar:?]
        at javafx.scene.Scene.impl_preferredSize(Scene.java:1720) ~[jfxrt.jar:?]

        at javafx.stage.Window$9.invalidated(Window.java:846) ~[jfxrt.jar:?]
        at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109) ~[jfxrt.jar:?]
        at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:144) ~[jfxrt.jar:?]
        at javafx.stage.Window.setShowing(Window.java:922) ~[jfxrt.jar:?]
        at javafx.stage.Window.show(Window.java:937) ~[jfxrt.jar:?]
        at com.sun.javafx.stage.EmbeddedWindow.show(EmbeddedWindow.java:58) ~[jfxrt.jar:?]
        at javafx.embed.swing.JFXPanel.lambda$addNotify$49(JFXPanel.java:799) ~[jfxrt.jar:?]
        at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295) ~[jfxrt.jar:?]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_121]
        at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294) ~[jfxrt.jar:?]
        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method) ~[jfxrt.jar:?]
        at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191) ~[jfxrt.jar:?]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]
````
"
JabRef/jabref,"JabRef version: JabRef 4.0
Linux 4.4.8-040408-generic amd64 
Java 1.8.0_151

Steps to reproduce:
1. Create a new entry.
2. Fill in fields, switch tabs in the entry editor.
3. The entry is not selected in the entry table nor it is scrolled to to make it visible. I would expect displaying and selecting the new entry in the table just after its creation.

In previous versions, the entry was selected in the entry table (or at least shown, I'm not sure) after switching tabs within the entry editor, which was very handy, because otherwise shortcuts do not work for this new entry, but rather for some previously selected entry from the table. One for example cannot F4 to open a newly linked pdf without first finding and selecting the new entry in the table.",https://github.com/JabRef/jabref/issues/3373#issuecomment-352180537,"Windows 10, can not reproduce this with the current master version:

![grafik](https://user-images.githubusercontent.com/320228/34070336-10eff024-e265-11e7-8373-c0505460c4d1.png)
Could you please check this with the master version from here?
http://builds.jabref.org/master/
"
JabRef/jabref,"It seems that in 4.0 (Mac version), when I customize the key generator to [author][year][veryshorttitle], the generated keys will include the trailing colon if there is one in the title. It also includes other special characters like (`). 

I remember this wasn't the case in 3.6.",https://github.com/JabRef/jabref/issues/3359#issuecomment-339986510,"Could you please re-check the behavior with the most recent development version available here: http://builds.jabref.org/master/ and report what you find?

Since the release of 4.0 there have been changes in the key generation, which might also have affected this."
JabRef/jabref,"This is 4.1dev Oct.25 on Linux x86_64 with java 1.8.0_152.

1. Open a bib file
2. Double clck on an entry so that the source editor window opens up
3. Click into the editor source window
4. Then click onto one of the other bib entries shown in the table above the editor
5. The other entry is duplicated

I also had a problem with changes done via the source editor not being saved. It may be related to
above. Will investigate further.",https://github.com/JabRef/jabref/issues/3352#issuecomment-339748255,"@lenhard didn't you implement the CoarseChangeFilter which only fires, if one leaves the field? Can't we re-use that here?"
JabRef/jabref,"**JabRef version**
JabRef 4.0
Linux 4.4.8-040408-generic amd64 
Java 1.8.0_151

**Steps to reproduce:**
1. Select an entry without the file link for which there is a matching file.
2. Press F7. The file link should be set automatically but is not.
3. Select the item from menu (Automatically set file links). The link is set correctly.
4. Press F4. The file just set opens correctly.

The button within the entry editor (Automatically set file links for this entry) is also not working.

Not sure whether this is related, but there is an exception in the log, enclosing below.
<details>
  ```
Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: 619 not in [0, 1]
	at org.reactfx.util.Lists.checkPosition(Lists.java:110)
	at org.reactfx.util.Lists.checkPosition(Lists.java:105)
	at org.reactfx.util.FingerTree$NonEmptyFingerTree.locateProgressively(FingerTree.java:51)
	at org.fxmisc.richtext.model.ReadOnlyStyledDocument$Pos.offsetBy(ReadOnlyStyledDocument.java:378)
	at org.fxmisc.richtext.model.ReadOnlyStyledDocument.offsetToPosition(ReadOnlyStyledDocument.java:207)
	at org.fxmisc.richtext.model.GenericEditableStyledDocumentBase.offsetToPosition(GenericEditableStyledDocumentBase.java:119)
	at org.fxmisc.richtext.model.SimpleEditableStyledDocument.offsetToPosition(SimpleEditableStyledDocument.java:7)
	at org.fxmisc.richtext.GenericStyledArea.lambda$new$7(GenericStyledArea.java:664)
	at org.reactfx.value.Val$2.computeValue(Val.java:705)
	at org.reactfx.value.ValBase.getValue(ValBase.java:17)
	at org.reactfx.value.ValBase.newObserver(ValBase.java:40)
	at org.reactfx.value.ValBase.newObserver(ValBase.java:8)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:110)
	at org.reactfx.value.Val.addInvalidationObserver(Val.java:52)
	at org.reactfx.value.Val.addListener(Val.java:70)
	at org.reactfx.value.Val.observeInvalidations(Val.java:432)
	at org.reactfx.value.MappedVal.connect(MappedVal.java:28)
	at org.reactfx.value.ValBase.observeInputs(ValBase.java:26)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:108)
	at org.reactfx.ObservableBase.observe(ObservableBase.java:100)
	at org.reactfx.value.Val.observeInvalidations(Val.java:61)
	at org.reactfx.value.Val$1.observeInputs(Val.java:104)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:108)
	at org.reactfx.ObservableBase.observe(ObservableBase.java:100)
	at org.reactfx.EventStream.subscribe(EventStream.java:53)
	at org.reactfx.SuspendableBase.observeInputs(SuspendableBase.java:49)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:108)
	at org.reactfx.value.Val.addInvalidationObserver(Val.java:52)
	at org.reactfx.value.Val.addListener(Val.java:70)
	at org.reactfx.value.Val$2.connect(Val.java:693)
	at org.reactfx.value.ValBase.observeInputs(ValBase.java:26)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:108)
	at org.reactfx.value.Val.addInvalidationObserver(Val.java:52)
	at org.reactfx.value.Val.addListener(Val.java:80)
	at org.reactfx.EventStreams$3.observeInputs(EventStreams.java:106)
	at org.reactfx.ObservableBase.addObserver(ObservableBase.java:108)
	at org.reactfx.ObservableBase.observe(ObservableBase.java:100)
	at org.reactfx.EventStream.subscribe(EventStream.java:53)
	at org.fxmisc.richtext.GenericStyledArea.createCell(GenericStyledArea.java:1375)
	at org.fxmisc.richtext.GenericStyledArea.lambda$new$13(GenericStyledArea.java:760)
	at org.fxmisc.flowless.CellPool.getCell(CellPool.java:20)
	at org.fxmisc.flowless.CellListManager.cellForItem(CellListManager.java:75)
	at org.reactfx.collection.MappedList.get(MappedList.java:27)
	at org.reactfx.collection.MemoizationListImpl.get(MemoizationList.java:99)
	at org.fxmisc.flowless.CellListManager.getCell(CellListManager.java:64)
	at org.fxmisc.flowless.CellPositioner.getSizedCell(CellPositioner.java:129)
	at org.fxmisc.flowless.CellPositioner.placeStartAt(CellPositioner.java:95)
	at org.fxmisc.flowless.Navigator.placeStartAtMayCrop(Navigator.java:183)
	at org.fxmisc.flowless.Navigator.visit(Navigator.java:111)
	at org.fxmisc.flowless.StartOffStart.accept(TargetPosition.java:49)
	at org.fxmisc.flowless.Navigator.layoutChildren(Navigator.java:67)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at org.fxmisc.flowless.VirtualFlow.layoutChildren(VirtualFlow.java:165)
	at javafx.scene.Parent.layout(Parent.java:1087)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Parent.layout(Parent.java:1093)
	at javafx.scene.Scene.doLayoutPass(Scene.java:552)
	at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2397)
	at com.sun.javafx.tk.Toolkit.lambda$runPulse$29(Toolkit.java:398)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:397)
	at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:424)
	at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:510)
	at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:490)
	at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$403(QuantumToolkit.java:319)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)
	at com.sun.glass.ui.gtk.GtkApplication.lambda$null$48(GtkApplication.java:139)
	at java.lang.Thread.run(Thread.java:748)
  ```
</details>
",https://github.com/JabRef/jabref/issues/3346#issuecomment-340221125,"Hi,
could you please try the current version from here?
http://builds.jabref.org/autofilelink/"
JabRef/jabref,"JabRef version 4.0 on Mac OS Sierra 10.12.6

Steps to reproduce:

1. do a few drag&drops to reorganize groups
2. at some point (often after only 1 or 2 group moving) nothing happens when reorganizing groups.
3. after a few unworking tries, application freezes


",https://github.com/JabRef/jabref/issues/3345#issuecomment-339345879,"It seems that Mac OS Sierra and JavaFX do not go together nicely. 

Please make sure that your Java8/JavaFX runtimes are up-to-date.

Also, could you have a look at #3227 and  try out the hostname solution described there?"
JabRef/jabref,"I installed Jabref 4, and my environment is OSX sierra 10.12.6
I have java version ""1.8.0_144""

Jabref wont open. I can only see Jabref written on the top menubar but nothing else.

I downloaded the platform independent jar file and that works.
",https://github.com/JabRef/jabref/issues/3306#issuecomment-336697811,"Which Java Virtual machine are you using? I mean not just the version, but the whole console output of
`java -version`"
JabRef/jabref,"Hi there,

I installed High Sierra (clean install) on my mac. Afterwards I installed the latest stable version of JabRef. After the installation I opened JabRef. The icon of JabRef is available in the dock but no window of JabRef appears. It's not possible to use the mac menu bar because when clicking on it nothing happens.

My environment
- macOS High Sierra (10.13 (17A405))
- JabRef v 4.0",https://github.com/JabRef/jabref/issues/3298#issuecomment-336472915,"Hi @fahu 

Could you have a look at #3236? Does the host mapping solution described there solve your problem or maybe your Java / JavaFX runtimes are not up to date?"
JabRef/jabref,"JabRef version JabRef-4.1-dev--snapshot--2017-10-10--fix3235--a43057b72.jar on Ubuntu 16.04


I had a bibliography entry and I tried to update its info based on the doi. After I choose what to keep from which side the program freezes on the replace original entry. This has happened also before on previous 4.0 / 4.1 versions, but its the first time I have the dump file.
Additionally, irrelevant of the log file the db is a shared database also backed up on a local file.

<details>
  <summary>Log File</summary>
AI: INFO 12-10-2017 20:54, 20: Configuration file has been successfully found as resource
20:54:11.904 [AWT-EventQueue-0] INFO  org.jabref.logic.importer.OpenDatabase - Opening: /xxx/xxx/xxx/Jabref.bib
File: grouptree.fxml not found, attempting with camel case
File: grouptree.css not found, attempting with camel case
log4j:WARN No appenders could be found for logger (io.netty.util.internal.logging.InternalLoggerFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
21:02:17.214 [pool-3-thread-4] WARN  org.jabref.logic.net.URLDownload - Fix SSL exceptions by accepting ALL certificates
Oct 12, 2017 9:09:52 PM com.google.common.eventbus.EventBus$LoggingHandler handleException
SEVERE: Exception thrown by subscriber method listen(org.jabref.model.entry.event.EntryChangedEvent) on subscriber org.jabref.gui.entryeditor.EntryEditor[,0,460,1605x406,layout=java.awt.BorderLayout,alignmentX=0.0,alignmentY=0.0,border=,flags=9,maximumSize=,minimumSize=,preferredSize=] when dispatching event: org.jabref.model.entry.event.FieldChangedEvent@42a4643b
java.lang.IllegalStateException: Not on FX application thread; currentThread = AWT-EventQueue-0
	at com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:236)
	at com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:423)
	at javafx.scene.Parent$2.onProposedChange(Parent.java:367)
	at com.sun.javafx.collections.VetoableListDecorator$VetoableSubListDecorator.clear(VetoableListDecorator.java:529)
	at com.sun.javafx.binding.ContentBinding$ListContentBinding.onChanged(ContentBinding.java:114)
	at org.reactfx.collection.ChangeListenerWrapper.onChange(LiveList.java:439)
	at org.reactfx.collection.ChangeListenerWrapper.onChange(LiveList.java:417)
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57)
	at org.reactfx.collection.MappedList.sourceChanged(MappedList.java:41)
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.collection.MemoizationListImpl$MemoizedView.publishNotifications(MemoizationList.java:58)
	at org.reactfx.collection.MemoizationListImpl$MemoizedView.access$300(MemoizationList.java:30)
	at org.reactfx.collection.MemoizationListImpl.sourceChanged(MemoizationList.java:89)
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57)
	at org.reactfx.collection.MappedList.sourceChanged(MappedList.java:41)
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.SuspendableBase.resume(SuspendableBase.java:64)
	at org.reactfx.CloseableOnceGuard.close(Guard.java:49)
	at org.reactfx.MultiGuard.close(Guard.java:83)
	at org.reactfx.Suspendable$1.resumeSource(Suspendable.java:118)
	at org.reactfx.Suspendable$1.suspendSource(Suspendable.java:104)
	at org.reactfx.util.NonAccumulativeStreamNotifications.lambda$head$0(NotificationAccumulator.java:134)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57)
	at org.reactfx.ProperEventStream.emit(ProperEventStream.java:18)
	at org.reactfx.EventStreams$3.lambda$observeInputs$0(EventStreams.java:105)
	at org.reactfx.value.ChangeListenerWrapper.accept(Val.java:786)
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68)
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57)
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32)
	at org.reactfx.SuspendableBoolean.release(SuspendableBoolean.java:24)
	at org.reactfx.CloseableOnceGuard.close(Guard.java:49)
	at org.reactfx.Suspendable.suspendWhile(Suspendable.java:49)
	at org.fxmisc.richtext.model.GenericEditableStyledDocumentBase.update(GenericEditableStyledDocumentBase.java:222)
	at org.reactfx.util.Tuple3.exec(Tuple3.java:43)
	at org.fxmisc.richtext.model.GenericEditableStyledDocumentBase.replace(GenericEditableStyledDocumentBase.java:129)
	at org.fxmisc.richtext.model.SimpleEditableStyledDocument.replace(SimpleEditableStyledDocument.java:7)
	at org.fxmisc.richtext.GenericStyledArea.replace(GenericStyledArea.java:1302)
	at org.fxmisc.richtext.GenericStyledArea.replaceText(GenericStyledArea.java:1297)
	at org.fxmisc.richtext.model.EditActions.clear(EditActions.java:140)
	at org.jabref.gui.entryeditor.SourceTab.updateSourcePane(SourceTab.java:74)
	at org.jabref.gui.entryeditor.EntryEditor.listen(EntryEditor.java:237)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)
	at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)
	at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)
	at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)
	at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)
	at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)
	at com.google.common.eventbus.EventBus.post(EventBus.java:217)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:429)
	at org.jabref.model.entry.BibEntry.setField(BibEntry.java:448)
	at org.jabref.gui.mergeentries.MergeFetchedEntryDialog$ReplaceAction.actionPerformed(MergeFetchedEntryDialog.java:137)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2236)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2294)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)
	at java.awt.Container.dispatchEventImpl(Container.java:2280)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)
	at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:184)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:229)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:227)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:227)
	at java.awt.Dialog.show(Dialog.java:1084)
	at java.awt.Component.show(Component.java:1671)
	at java.awt.Component.setVisible(Component.java:1623)
	at java.awt.Window.setVisible(Window.java:1014)
	at java.awt.Dialog.setVisible(Dialog.java:1005)
	at org.jabref.gui.mergeentries.FetchAndMergeWorker.done(FetchAndMergeWorker.java:67)
	at javax.swing.SwingWorker$5.run(SwingWorker.java:737)
	at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.run(SwingWorker.java:832)
	at sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:112)
	at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.actionPerformed(SwingWorker.java:842)
	at javax.swing.Timer.fireActionPerformed(Timer.java:313)
	at javax.swing.Timer$DoPostEvent.run(Timer.java:245)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

</details>
",https://github.com/JabRef/jabref/issues/3294#issuecomment-336547258,"Hi, could you please test with the current version from here?
http://builds.jabref.org/mergeFreeze/"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version `4.0`<!-- version as shown in the about box --> on Windows 10<!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... -->
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Sometimes it might happen when I click on certain group to show the entries in that group, the `Entry Table` suddenly turns messy just as the following screenshot.

![aliases](https://user-images.githubusercontent.com/13306020/31344239-b77ac8b6-ad44-11e7-8d60-8b3e12676c6d.png)

And when I try to `View event log`, there is nothing abnormal. When I move my mouse over the messy region and click my mouse to select one of the entries, the messy region will just disapear.
",https://github.com/JabRef/jabref/issues/3281#issuecomment-335230120,"wtf...
Are you using an up-to-date Java version?"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version `4.0`<!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... --> `Java 1.8.0_144`
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

I guess the group titles have a `mouseover` method, which displays the group descriptions. Unfortunately, they are a little bit messy here. For example, the following first screenshot suggests the description of **BART** group is **The articles about ....**, but in fact it should be **The Balloon Analogue Risk Task** (see the second screenshot).

![image](https://user-images.githubusercontent.com/13306020/31304117-4da53b18-ab4d-11e7-8879-31d1389bee3c.png)

![image](https://user-images.githubusercontent.com/13306020/31304129-9efc9f60-ab4d-11e7-92f6-0284a88d9695.png)

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>

I do not know whether the logged details is relevant or not.
  <summary>Log File</summary>
  
  ```java
Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.NullPointerException
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:17)
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:11)
	at org.jabref.gui.maintable.MainTable.matches(MainTable.java:545)
	at org.jabref.gui.maintable.MainTable.getCellRenderer(MainTable.java:247)
	at javax.swing.plaf.basic.BasicTableUI.paintCell(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paintCells(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paint(Unknown Source)
	at javax.swing.plaf.ComponentUI.update(Unknown Source)
	at javax.swing.JComponent.paintComponent(Unknown Source)
	at javax.swing.JComponent.paint(Unknown Source)
	at javax.swing.JComponent.paintToOffscreen(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)
	at javax.swing.RepaintManager.paint(Unknown Source)
	at javax.swing.JComponent._paintImmediately(Unknown Source)
	at javax.swing.JComponent.paintImmediately(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.access$1200(Unknown Source)
	at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
	at java.awt.EventQueue.access$500(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.NullPointerException
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:17)
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:11)
	at org.jabref.gui.maintable.MainTable.matches(MainTable.java:545)
	at org.jabref.gui.maintable.MainTable.getCellRenderer(MainTable.java:247)
	at javax.swing.plaf.basic.BasicTableUI.paintCell(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paintCells(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paint(Unknown Source)
	at javax.swing.plaf.ComponentUI.update(Unknown Source)
	at javax.swing.JComponent.paintComponent(Unknown Source)
	at javax.swing.JComponent.paint(Unknown Source)
	at javax.swing.JComponent.paintToOffscreen(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)
	at javax.swing.RepaintManager.paint(Unknown Source)
	at javax.swing.JComponent._paintImmediately(Unknown Source)
	at javax.swing.JComponent.paintImmediately(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.access$1200(Unknown Source)
	at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
	at java.awt.EventQueue.access$500(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)

Uncaught exception occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.NullPointerException
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:17)
	at org.jabref.gui.groups.GroupMatcher.matches(GroupMatcher.java:11)
	at org.jabref.gui.maintable.MainTable.matches(MainTable.java:545)
	at org.jabref.gui.maintable.MainTable.getCellRenderer(MainTable.java:247)
	at javax.swing.plaf.basic.BasicTableUI.paintCell(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paintCells(Unknown Source)
	at javax.swing.plaf.basic.BasicTableUI.paint(Unknown Source)
	at javax.swing.plaf.ComponentUI.update(Unknown Source)
	at javax.swing.JComponent.paintComponent(Unknown Source)
	at javax.swing.JComponent.paint(Unknown Source)
	at javax.swing.JComponent.paintToOffscreen(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)
	at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)
	at javax.swing.RepaintManager.paint(Unknown Source)
	at javax.swing.JComponent._paintImmediately(Unknown Source)
	at javax.swing.JComponent.paintImmediately(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at javax.swing.RepaintManager$4.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source)
	at javax.swing.RepaintManager.access$1200(Unknown Source)
	at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
	at java.awt.EventQueue.access$500(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.awt.EventQueue$3.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)

  ```
</details>
",https://github.com/JabRef/jabref/issues/3275#issuecomment-337890240,@psychelzh Could you please try out the version available here http://builds.jabref.org/fixNPE/ and let us know if it fixes the problem?
JabRef/jabref,"1. Open a library
2. double click an entry to open the entry editor
3. freezes

When the entry editor is opened, then move the down arrow to move the entry to the next one, and then freezes

JabRef 4.0-dev--snapshot--2017-09-26--master--35c447bd8
Mac OS X 10.13 x86_64 
Java 1.8.0_144

This problem appears on the version snapshot--2017-09-26 and the current one",https://github.com/JabRef/jabref/issues/3236#issuecomment-333088089,"I can confirm this bug on High Sierra (10.13), which was not there on Sierra (10.12).
This bug only affects the entry editor, but not the about window (which is also a javafx component).
There are no hints in the log files/console output and updating to the java8u152(beta) did not change anything.
Is there any high resolution specific stuff in the entry editor (especially fonts)? @tobiasdiez "
JabRef/jabref,"JabRef 4.0-dev--snapshot--2017-09-13--master--343545ee8
Linux 4.10.0-33-generic amd64 
Java 1.8.0_144

Steps to reproduce:

1. open a blank Article for editing
2. Go to Optional Fields tab and enter the DOI.  Download the DOI info and ""replace"" the current (empty) fields.
3. The Required Fields and Optional Fields tabs are now populated correctly
3. The biblatex source tab is empty except for the DOI

See video log at [https://www.dropbox.com/s/3vwxppehvkyulp6/jabref%20report.mp4?dl=0](https://www.dropbox.com/s/3vwxppehvkyulp6/jabref%20report.mp4?dl=0)


",https://github.com/JabRef/jabref/issues/3217#issuecomment-340809973,"I just tested this on current master with the DOI `10.1103/PhysRevLett.119.177201`. Now, the source tab and the other tabs are populated correctly, so this is almost fixed.

Almost, since I also get an exception. A normal user would not notice this since the entry editor keeps working, but it still cannot be good:
```
[JavaFX Application Thread] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IndexOutOfBoundsException: [0, 11) is not a valid range within [0, 1)
	at org.reactfx.util.Lists.checkRange(Lists.java:128) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.Lists.checkRange(Lists.java:123) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.SparseList.getPresentCountBetween(SparseList.java:278) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.SparseList.collect(SparseList.java:310) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.MemoizationListImpl.sourceChanged(MemoizationList.java:83) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.ListNotifications.lambda$takeHead$0(NotificationAccumulator.java:317) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.ProperLiveList.fireModification(ProperLiveList.java:25) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.ProperLiveList.fireContentReplacement(ProperLiveList.java:42) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.collection.DynamicallyMappedList.mapperInvalidated(MappedList.java:109) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.MappedVal.lambda$connect$0(MappedVal.java:28) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.InvalidationListenerWrapper.accept(Val.java:765) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.fxmisc.flowless.SizeTracker$1.lambda$connect$0(SizeTracker.java:117) ~[flowless-0.5.2.jar:?]
	at org.reactfx.value.ChangeListenerWrapper.accept(Val.java:786) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.util.AbstractReducingStreamNotifications.lambda$head$0(NotificationAccumulator.java:248) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:68) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.ObservableBase.notifyObservers(ObservableBase.java:57) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.ValBase.invalidate(ValBase.java:32) ~[reactfx-2.0-M5.jar:?]
	at org.reactfx.value.Val$2.lambda$connect$0(Val.java:691) ~[reactfx-2.0-M5.jar:?]
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:349) ~[jfxrt.jar:?]
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81) ~[jfxrt.jar:?]
	at javafx.scene.Node$LazyBoundsProperty.invalidate(Node.java:9318) ~[jfxrt.jar:?]
	at javafx.scene.Node.impl_layoutBoundsChanged(Node.java:3403) ~[jfxrt.jar:?]
	at javafx.scene.layout.Region.widthChanged(Region.java:872) ~[jfxrt.jar:?]
	at javafx.scene.layout.Region.setWidth(Region.java:856) ~[jfxrt.jar:?]
	at javafx.scene.layout.Region.resize(Region.java:1364) ~[jfxrt.jar:?]
	at org.fxmisc.richtext.GenericStyledArea.layoutChildren(GenericStyledArea.java:1339) ~[richtextfx-0.7-M5.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1087) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Parent.layout(Parent.java:1093) ~[jfxrt.jar:?]
	at javafx.scene.Scene.doLayoutPass(Scene.java:552) ~[jfxrt.jar:?]
	at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2397) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.Toolkit.lambda$runPulse$30(Toolkit.java:355) ~[jfxrt.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_121]
	at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:354) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:381) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:510) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:490) ~[jfxrt.jar:?]
	at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$404(QuantumToolkit.java:319) ~[jfxrt.jar:?]
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method) ~[jfxrt.jar:?]
	at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191) ~[jfxrt.jar:?]
	at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]
```

@tobiasdiez Can you reproduce this exception?"
JabRef/jabref,"I am using JabRef 4.0 beta3, so i guess #2995 is merged, this issue is identical to #2993.

I am using a shared (PostgreSQL) database and have the ""Automatically save the library to"" option enabled.

When starting to enter a brace `{` into a field I get an error dialog that sais:

```
Save library
Could not save file...
Error in field '...': Braces don't match.
```

When I disable ""Automatically save the library to"" this is not an issue.
Also there is a latency while typing.
Maybe you should only sync when leaving the field and not on every keystroke?",https://github.com/JabRef/jabref/issues/3167#issuecomment-325911866,"@MarioLipinski Thanks for your report.

You've already linked the right issue and PR above. This fixes the same problem for local files, but it seems that shared databases need extra attention.

I think I've found the problem and fixed it (by applying the same solution as we have for local databases). But I haven't worked with the shared database feature before and I have no way of testing this properly. So you'll have to help me a little here. Could you please install the latest build from http://builds.jabref.org/master/ and let me know if the error message is gone?"
JabRef/jabref,"JabRef 4.0-dev--snapshot--2017-08-27--master--6a26798aa
Linux 4.8.0-58-generic amd64 
Java 1.8.0_144

1. In editing tab, title field,
2. select a word,
3. right click and choose ""protected terms/Add selected text to list""

previous lists aren't shown, and can't be selected.  the only option is to create a new list.

Also, because one can't select an existing list, ""Format Field"" does nothing.

Problem disappears if one closes the editing window and re-opens it.

",https://github.com/JabRef/jabref/issues/3161#issuecomment-325220523,"This only occurs when you inside the editor create a new list and then **immediately** want to assign terms to this new list. If you switch to an other entry it shows up. And next time you start JabRef, the list is shown. 
@lenhard  This sounds like one of these ""mark as dirty"" issues you recently worked in the entry editor. Any idea?

"
JabRef/jabref,"JabRef version 4.0-beta3
The menu bar is included into the main windows as it should be fixed into the Mac OS menu bar.


",https://github.com/JabRef/jabref/issues/3146#issuecomment-325373730,"@cedmfr Can you provide a screenshot to clarify the problem? For me the title bar is quite where I would expect it.

JabRef 4.0-dev
Mac OS X 10.12.6 x86_64 
Java 1.8.0_144"
JabRef/jabref,"Jabref3.8.2
Windows 7 6.1 amd64
Java 1.8.0_131
 
Steps to reproduce:

1. using this line on the console
java -jar C:\Programme\JabRef\JabRef-3.8.2.jar -o ch04BiB.xml,docbook -n true chapter04.bib
2. getting amongst chai4BiB.xml 
09:35:10.136 [AWT-EventQueue-0] WARN  net.sf.jabref.logic.exporter.ExportFormat - The following formatters could not be found: CreateDocBookEditors

The books with editors in that library are not well transformed:
A Formatter for the editor field is not found which would be analogous to the author field:
```
<editor><firstname></firstname><surname></surname></editor>
```
Furthermore, the offending entry is ""incollection"" in the Bib-library, however the xml export lists it as article.
From the official documentation DocBook 5_ The Definitive Guide - Norman Walsh.prc:

     Additional attributes: pubwork (enumeration) = ‚Äúarticle‚Äù | ‚Äúbbs‚Äù | ‚Äúbook‚Äù | ‚Äúcdrom‚Äù | ‚Äúchapter‚Äù | ‚Äúdvd‚Äù |  emailmessage‚Äù | ‚Äúgopher‚Äù | ‚Äújournal‚Äù | ‚Äúmanuscript‚Äù | ‚Äúnewsposting‚Äù | ‚Äúpart‚Äù | ‚Äúrefentry‚Äù | ‚Äúsection‚Äù |  series‚Äù | ‚Äúset‚Äù | ‚Äúwebpage‚Äù | ‚Äúwiki‚Äù 

it looks that section would be appropriate. 
```
<biblioentry xreflabel=""BD03"" id=""BD03"">
   <authorgroup>
       <author><firstname>Robin P.</firstname><surname>Boushey</surname></author>
       <author><firstname>Daniel J.</firstname><surname>Drucker</surname></author> 
       [Formatter not found: CreateDocBookEditors] Larsen, P. Reed and Kronenberg, Henry M. and Melmed, Shlomo and Polonsky, Kenneth 
   </authorgroup>
   <citetitle pubwork=""article"">Gastrointestinal Hormones and Gut Endocrine Tumors</citetitle>
   <publisher>
      <publishername>Saunders&#44; Philadelphia PA</publishername>
   </publisher>
   <edition>10</edition> 
   <artpagenums>1777&#x2013;1796</artpagenums> 
   <pubdate>2003</pubdate>  

</biblioentry>
```
It is obviously an ommission.
Regards Bernhard",https://github.com/JabRef/jabref/issues/3134#issuecomment-323588350,"@bernhard-kleine I think you've already reported this bug one month ago and we fixed it, see #3020

Above you're using 3.8.2. Could you please try again with a more version, e.g. the current master build http://builds.jabref.org/master/ and report back if it works?"
JabRef/jabref,"Ubuntu 16.04
Enter something in the journal field 

<details>
<summary>Detail information:</summary>

```
Opening: /home/osboxes/test
Opening: /home/osboxes/Documents/JABREFTEMP/references.bib
Uncaught exception Occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.IllegalStateException: Task must only be used from the FX Application Thread
	at javafx.concurrent.Task.checkThread(Task.java:1218)
	at javafx.concurrent.Task.isRunning(Task.java:985)
	at org.controlsfx.control.textfield.AutoCompletionBinding.onUserInputChanged(AutoCompletionBinding.java:332)
	at org.controlsfx.control.textfield.AutoCompletionBinding.setUserInput(AutoCompletionBinding.java:134)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.setUserInputText(AutoCompletionTextInputBinding.java:136)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.lambda$new$0(AutoCompletionTextInputBinding.java:54)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextInputControl$TextProperty.fireValueChangedEvent(TextInputControl.java:1389)
	at javafx.scene.control.TextInputControl$TextProperty.markInvalid(TextInputControl.java:1393)
	at javafx.scene.control.TextInputControl$TextProperty.controlContentHasChanged(TextInputControl.java:1332)
	at javafx.scene.control.TextInputControl$TextProperty.access$1600(TextInputControl.java:1300)
	at javafx.scene.control.TextInputControl.lambda$new$162(TextInputControl.java:139)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextField$TextFieldContent.delete(TextField.java:96)
	at javafx.scene.control.TextInputControl.replaceText(TextInputControl.java:1200)
	at javafx.scene.control.TextInputControl.filterAndSet(TextInputControl.java:1171)
	at javafx.scene.control.TextInputControl.access$900(TextInputControl.java:79)
	at javafx.scene.control.TextInputControl$TextProperty.doSet(TextInputControl.java:1410)
	at javafx.scene.control.TextInputControl$TextProperty.set(TextInputControl.java:1323)
	at javafx.scene.control.TextInputControl.setText(TextInputControl.java:349)
	at org.jabref.gui.search.GlobalSearchBar.setSearchTerm(GlobalSearchBar.java:430)
	at org.jabref.gui.JabRefFrame.lambda$init$1(JabRefFrame.java:627)
	at javax.swing.JTabbedPane.fireStateChanged(JTabbedPane.java:416)
	at javax.swing.JTabbedPane$ModelListener.stateChanged(JTabbedPane.java:270)
	at javax.swing.DefaultSingleSelectionModel.fireStateChanged(DefaultSingleSelectionModel.java:132)
	at javax.swing.DefaultSingleSelectionModel.setSelectedIndex(DefaultSingleSelectionModel.java:67)
	at javax.swing.JTabbedPane.setSelectedIndexImpl(JTabbedPane.java:616)
	at javax.swing.JTabbedPane.setSelectedIndex(JTabbedPane.java:591)
	at javax.swing.plaf.basic.BasicTabbedPaneUI$Handler.mousePressed(BasicTabbedPaneUI.java:3647)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.Component.processMouseEvent(Component.java:6530)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2236)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2294)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4522)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)
	at java.awt.Container.dispatchEventImpl(Container.java:2280)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

Uncaught exception Occurred in Thread[AWT-EventQueue-0,6,main]
java.lang.IllegalStateException: Task must only be used from the FX Application Thread
	at javafx.concurrent.Task.checkThread(Task.java:1218)
	at javafx.concurrent.Task.isRunning(Task.java:985)
	at org.controlsfx.control.textfield.AutoCompletionBinding.onUserInputChanged(AutoCompletionBinding.java:332)
	at org.controlsfx.control.textfield.AutoCompletionBinding.setUserInput(AutoCompletionBinding.java:134)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.setUserInputText(AutoCompletionTextInputBinding.java:136)
	at org.jabref.gui.autocompleter.AutoCompletionTextInputBinding.lambda$new$0(AutoCompletionTextInputBinding.java:54)
	at com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:361)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextInputControl$TextProperty.fireValueChangedEvent(TextInputControl.java:1389)
	at javafx.scene.control.TextInputControl$TextProperty.markInvalid(TextInputControl.java:1393)
	at javafx.scene.control.TextInputControl$TextProperty.controlContentHasChanged(TextInputControl.java:1332)
	at javafx.scene.control.TextInputControl$TextProperty.access$1600(TextInputControl.java:1300)
	at javafx.scene.control.TextInputControl.lambda$new$162(TextInputControl.java:139)
	at com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:137)
	at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
	at javafx.scene.control.TextField$TextFieldContent.delete(TextField.java:96)
	at javafx.scene.control.TextInputControl.replaceText(TextInputControl.java:1200)
	at javafx.scene.control.TextInputControl.filterAndSet(TextInputControl.java:1171)
	at javafx.scene.control.TextInputControl.access$900(TextInputControl.java:79)
	at javafx.scene.control.TextInputControl$TextProperty.doSet(TextInputControl.java:1410)
	at javafx.scene.control.TextInputControl$TextProperty.set(TextInputControl.java:1323)
	at javafx.scene.control.TextInputControl.setText(TextInputControl.java:349)
	at org.jabref.gui.search.GlobalSearchBar.setSearchTerm(GlobalSearchBar.java:430)
	at org.jabref.gui.JabRefFrame.lambda$init$1(JabRefFrame.java:627)
	at javax.swing.JTabbedPane.fireStateChanged(JTabbedPane.java:416)
	at javax.swing.JTabbedPane$ModelListener.stateChanged(JTabbedPane.java:270)
	at javax.swing.DefaultSingleSelectionModel.fireStateChanged(DefaultSingleSelectionModel.java:132)
	at javax.swing.DefaultSingleSelectionModel.setSelectedIndex(DefaultSingleSelectionModel.java:67)
	at javax.swing.JTabbedPane.setSelectedIndexImpl(JTabbedPane.java:616)
	at javax.swing.JTabbedPane.setSelectedIndex(JTabbedPane.java:591)
	at javax.swing.plaf.basic.BasicTabbedPaneUI$Handler.mousePressed(BasicTabbedPaneUI.java:3647)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:279)
	at java.awt.Component.processMouseEvent(Component.java:6530)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2236)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2294)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4522)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)
	at java.awt.Container.dispatchEventImpl(Container.java:2280)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

```

</details>",https://github.com/JabRef/jabref/issues/3133#issuecomment-323726113,"Ok, I just wanted to fix this and I have to admit that I can no longer produce the error. Maybe this was on my Win10 system (am on Win7 now) or maybe this has been fixed by something else.

@Siedlerchr Can you still reproduce this?"
JabRef/jabref,"JabRef 4.0-beta3
Windows 7 6.1 amd64 
Java 1.8.0_131
Steps to reproduce:
1. Ctrl-R
2. + versus . only for the Bibtexkey field
3. Upon Enter nothing happens.

you will note the same 183 results

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
![screenshotjabrefbeforesearch](https://user-images.githubusercontent.com/9216487/29484312-379c80a4-84bc-11e7-8d3d-7422de3b92c0.PNG)

![grafik](https://user-images.githubusercontent.com/9216487/29484297-de1f3c06-84bb-11e7-8e89-ba2700f9db2c.png)


<details>
  <summary>Log File</summary>
  
  ```
  Opening: K:\BuchprojektSpringer\VierteAuflage\Literatur\chapter04.bib
  ```
</details>
",https://github.com/JabRef/jabref/issues/3132#issuecomment-323519174,"Wow, I didn't even know JabRef had this functionality :)

Could you try ""bibtexkey"", instead of ""Bibtexkey""?"
JabRef/jabref,"JabRef version 4.0-beta2 on Ubuntu 17.04 with oracle JVM

Steps to reproduce:

1. Add an entry to a group
2. Right click and press move to group
3. The entry is added to the new group but not removed from the old one",https://github.com/JabRef/jabref/issues/3101#issuecomment-322178182,"I can confirm this.

@tobiasdiez What is the actual desired behavior for ""Move to group""? Clear all prior groups and move it to the new one?"
JabRef/jabref,"JabRef version 4.0-beta2 on Debian 9 Stretch AMD64

Steps to reproduce:

1. Add a book entry
2. Add `title`, `author` etc. and save
3. Add `subtitle` and save
4. Switch to another entry
5. Return to the previous entry --> `subtitle` disappeared!!!!

It is very annoying and happens also with other fields.",https://github.com/JabRef/jabref/issues/3086#issuecomment-320891071,Which java version? Did you try our latest build? You can also try `snap install jabref --edge --devmode`. - [snapd should be available at Debian testing](https://snapcraft.io/docs/core/install-debian).
JabRef/jabref,"JabRef 4.0-dev--snapshot--2017-08-02--master--63414b030
Windows 10 10.0 amd64 
Java 1.8.0_66
Steps to reproduce:

1. Type a known author in the search box
2. When the first suggestion comes up, hit enter
3. Now press shift+home to select the entire content of the search box and press del
4. The first bib entry is removed (in addition to the contents of the search box)


",https://github.com/JabRef/jabref/issues/3067#issuecomment-319667892,"Do you mean the search field at the top in JabRef or do you mean typing an author in the entry editor?
In the entry editor it works, but apparently not in the search field on top of JabRef.


PS: You should upgrade your java version, the latest java version is 144:
http://www.oracle.com/technetwork/java/javase/downloads/index.html"
JabRef/jabref,"data in a shorthand field gets displayed in a keywords field.

JabRef version 

JabRef 4.0-dev--snapshot--2017-07-19--master--2f12fecfb
Linux 4.8.0-58-generic amd64 
Java 1.8.0_131


Steps to reproduce:

1. In biblatex source tab, enter:

```
@Book{pys,
  title     = {PƒÅta√±jalayoga≈õƒÅstra},
  shorthand = {PY≈ö},
}
```

2. switch to the Optional fields tab

3. looks like the attached image.

It's a bit odd too, because the field data area for ""shorthand"" doesn't display.



![screenshot from 2017-07-24 17-20-55](https://user-images.githubusercontent.com/762246/28530554-847ce5ee-7094-11e7-873e-545d5e006591.png)
",https://github.com/JabRef/jabref/issues/3046#issuecomment-317465386,"I cannot reproduce this on Win7 with current master. Could this be related in some way to a custom field configuration? When I add a `@Book` entry in biblatex mode, then the ""Keywords"" field is displayed in the General tab and not in the Optional fields tab. Moreover, I have no Shorthand field anywhere in the entry editor."
JabRef/jabref,"Error messages are displayed in the console at startup (see logfile below)

JabRef version JabRef-4.0-dev--snapshot--2017-07-22--master--8730d02d9.jar 
using
````
openjdk version ""1.8.0_131""
OpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-1~bpo8+1-b11)
OpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)
````
and 
````
openjfx-8u60
````
 on Linux Mint Debian Edition (using Cinnamon)



Steps to reproduce:

1. starts JabRef from command line
<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
  
  ```
ERROR StatusLogger Unrecognized format specifier [d]
ERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [thread]
ERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [level]
ERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [logger]
ERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [msg]
ERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [n]
ERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.
ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property 'org.apache.logging.log4j.simplelog.StatusLogger.level' to TRACE to show Log4j2 internal initialization logging.
ERROR StatusLogger Unrecognized format specifier [d]
ERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [thread]
ERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [level]
ERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [logger]
ERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [msg]
ERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.
ERROR StatusLogger Unrecognized format specifier [n]
ERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.
AI: INFO 24-07-2017 16:26, 19: Configuration file has been successfully found as resource
File: grouptree.fxml not found, attempting with camel case
Jul 24, 2017 4:26:18 PM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.60
File: grouptree.css not found, attempting with camel case
  ```
</details>
",https://github.com/JabRef/jabref/issues/3045#issuecomment-317479884,"Which changes do you mean? Can you provide me to a PR?

We did NOT merge in https://github.com/JabRef/jabref/pull/3015 and I cannot remember to have changed the logging at other places, did we?"
JabRef/jabref,"JabRef version 4-beta2 on Ubuntu 16.04 with open JDK 1.8.0_131 (happens also under Windows 7)

Steps to reproduce:

Issue A:
1. Drag new entry into a group
2. Jabref freezes - need to kill process to continue

Workaround: Assign a new entry to a group by  using right-click context menu -> add to group
This will add an article to the assigned group.

Issue B:
1. Drag an entry in the groups menu into a different position
2. Jabref freezes - need to kill process to continue

Workaround: None found yet.
",https://github.com/JabRef/jabref/issues/3036#issuecomment-318916358,The available snapshot **2017-07-25--master--0847f5d15.exe** does not solve this. Where to get the files?
JabRef/jabref,"OS: Xubuntu 17.04
Computer keyboard map: Brazilian ABNT2
Java version: 
openjdk version ""1.8.0_131""
OpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-0ubuntu1.17.04.1-b11)
OpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)

JabRef version: JabRef-4.0-dev--snapshot--2017-07-19--master--2f12fecfb.jar

I **can't** insert (only) these accentuated character (comma separated) : ~, ^, `, ', ""
Because of this, I can't make these letters: √†, √°, √£, √¢, √¥, √≥, √≤, √©, √™, √º, etc.
I can't insert these on Fields or Biblatex source tabs;
(Edit to reduce ambiguity) Inserting others special characters works ok: $, %, &, *, (, ¬∫",https://github.com/JabRef/jabref/issues/3028#issuecomment-316626765,"I've tried this with the current master branch on Win7. Everything works as expected, I can enter whatever characters I wish.

Is anyone able to reproduce this?"
JabRef/jabref,"Currently it throws a 500 error.
We should check why, and try to fix it, if possible.

Refs. https://github.com/JabRef/jabref/pull/3012",https://github.com/JabRef/jabref/issues/3013#issuecomment-316315569,Should work again now?
JabRef/jabref,"JabRef 4.0.0-dev--snapshot--2017-07-11--master--e35b6ac2c
Mac OS X 10.11.6 x86_64 
Java 1.8.0_131

The bugs: 
1. The autocompletion does not work in the author and journal fields. 

2. The autocompletion dropdown box gives many same items. When you search something once more, there are two dropdown boxes overlap there.

![screen shot 2017-07-12 at 6 47 45 am](https://user-images.githubusercontent.com/28705547/28094335-9cc7078a-66ce-11e7-8a02-64ab54fa8818.png)
![screen shot 2017-07-12 at 6 48 05 am](https://user-images.githubusercontent.com/28705547/28094343-a2713444-66ce-11e7-9815-9e6af682f719.png)
",https://github.com/JabRef/jabref/issues/2998#issuecomment-314859802,"Thanks for the quick feedback! 

This should be fixed in the latest development version. Could you please check the build from http://builds.jabref.org/master/. Thanks!
Sometimes you still get the same suggestion in the search bar. This happens when the same author is entered in different ways (for example, once as ""Tao, I."" and also as ""Tao, IdontKnow"" so that the suggestion is ""Tao, I."" in both cases). There is nothing I can do at the moment but reporting the issue at []().

Moreover, I couldn't replicate the two overlapping dropdown boxes (on Windows). What are the exact steps to reproduce this problem?
"
JabRef/jabref,"JabRef version - development release

Steps to reproduce:

1. Cut article from some group
2. Paste to another group

The article is copied to another group but it is not removed from original group. 
",https://github.com/JabRef/jabref/issues/2989#issuecomment-314389139,"How do you cut and paste ""from the group""?
The usual Cut/Paste operations are semantically performed against the database, that is, cut removes the entry from the database and paste inserts it (in a possible different database). All information like the group membership are preserved in the process. So for example if you have two databases with the same groups then copying/cutting an entry and pasting it in the other database still assigns the entry to the correct group. Thus the behavior you describe is expected.

If you want to change the group membership you can right click the entry and use ""Add/Remove from group"" or use the corresponding options in the right click menu of the group."
JabRef/jabref,"When my bib location is set as the primary file directory, the new auto paper finder doesn't find pdf files, and clicking the ""+"" icon (General tab, next to ""File"") sends me to a random directory, not the primary file directory.

*Details*

1.  I have put into my ""papers"" directory a pdf with the same name as a new entry's bibtex key.  ""papers"" is a directory immediately below where my .bib file is.  
2. In File->Library properties->General file directory, I have entered ""papers"".  
3. In Options->Preferences->File, I have clicked""Use the BIB file location as primary file directory.""

*Version*

JabRef 4.0.0-dev--snapshot--2017-07-07--master--eaf53f75d
Windows 7 6.1 amd64 
Java 1.8.0_131",https://github.com/JabRef/jabref/issues/2985#issuecomment-314411148,Documentation for the feature: http://help.jabref.org/en/FileLinks - Maybe needed to be adapted?
JabRef/jabref,"If I put the cursor on an entry and run ""copy BibTex key and link"" with either the mouse menu or the keyboard shortcut, nothing is put into the clipboard

JabRef 4.0.0-dev--snapshot--2017-07-07--master--eaf53f75d
Windows 7 6.1 amd64 
Java 1.8.0_131",https://github.com/JabRef/jabref/issues/2983#issuecomment-313938069,"Seems like a bug with the javafx clipboard.  @tobiasdiez  any idea on this?

Maybe we need to still use a swing/awt hack?
http://elliotth.blogspot.de/2005/01/copying-html-to-clipboard-from-java.html"
JabRef/jabref,"![selection_094](https://user-images.githubusercontent.com/298682/27906614-92f1f884-6244-11e7-92d0-1a91412f3d55.png)

Changes were made, a star appeared next to the filename. 
Now press Ctrl+S, but the star does not disappear.
But Ctrl+S was defined:
![selection_097](https://user-images.githubusercontent.com/298682/27906693-e7e47fc4-6244-11e7-8b37-a7d6b54bf572.png)

```
JabRef 4.0.0-dev--snapshot--2017-07-03--master--6897b10fb
Linux 4.4.0-78-generic amd64 
Java 1.8.0_131
```",https://github.com/JabRef/jabref/issues/2976#issuecomment-313357323,Can you check if the changes were written to the file system? It might very well be the case that this is only a UI problem and the star does not disappear although the changes were written to disk.
JabRef/jabref,"How to reproduce:

1. Select a group with N members
2. add a new entry (for example via doi import)
3. the **group shows N+1 members**, but does **not list the new entry**.
4. open another group, then open the old group again and the entry is displayed.


```
JabRef 4.0.0-dev--snapshot--2017-07-03--master--6897b10fb
Linux 4.4.0-78-generic amd64 
Java 1.8.0_131
```",https://github.com/JabRef/jabref/issues/2974#issuecomment-314054929,"Maybe a duplicate of this (?):
https://github.com/JabRef/jabref/issues/1903"
JabRef/jabref,"How to reproduce:

add doi 10.1088/0953-8984/27/44/446001

which provides
```
@Article{Stein2015b,
  author    = {J Stein and M Baum and S Holbein and T Cronert and V Hutanu and A C Komarek and M Braden},
  title     = {Control of multiferroic domains by external electric fields in {TbMnO}3},
  journal   = {Journal of Physics: Condensed Matter},
  year      = {2015},
  volume    = {27},
  number    = {44},
  month     = {oct},
  pages     = {446001},
  doi       = {10.1088/0953-8984/27/44/446001},
  publisher = {{IOP} Publishing},
}
```

Now click with the right mouse button on the title and  convert LaTeX -> UTF

Finally try **undo**. It does not work. The conversion function ""forgot"" to save before changing.
It should be undoable.

```
JabRef 4.0.0-dev--snapshot--2017-07-03--master--6897b10fb
Linux 4.4.0-78-generic amd64 
Java 1.8.0_131
```",https://github.com/JabRef/jabref/issues/2973#issuecomment-313671551,"It seems that the undo/redo operations of all right-click operations in the entry editor got lost when rewriting the entry editor with JavaFX.

@tobiasdiez The undo is working for the field contents themselves. Could you give a hint on how the undo is supported there so that we can replicate it with the right-click menu?"
JabRef/jabref,"What I did: I tried to link a PDF to one entry. In the menu select files I clicked on Browse.
No window opened. Not even in the background. I could not click other buttons in Jabref anymore and had to kill it.

System: Linux Mint, Mate 18.1, Filesystem: ext4 + samba mounts for some folders

![selection_082](https://user-images.githubusercontent.com/298682/27859891-90286fcc-617a-11e7-8971-dc9937ff97fe.png)

```
JabRef 4.0.0-dev--snapshot--2017-07-03--master--6897b10fb
Linux 4.4.0-78-generic amd64 
Java 1.8.0_131

```",https://github.com/JabRef/jabref/issues/2969#issuecomment-321817299,"@Siedlerchr You fixed the issue you linked above. Did this also fix this one?

At least I tried to link a PDf to an entry right now and it works."
JabRef/jabref,"
JabRef-4.0.0-dev--snapshot--2017-07-03--master--6897b10fb.jar on LInux Mint LMDE.

java version ""1.8.0_66""
Java(TM) SE Runtime Environment (build 1.8.0_66-b17)
Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)


Steps to reproduce:

1. create a new database
2. Menu BibTeX -> New entry...
3. Select an entry type (such as article)

JabRef does not do anything (processor idle) and cannot even be closed.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Log File</summary>
$   java -jar ./bin/JabRef-4.0.0-dev--snapshot--2017-07-03--mast--6897b10fb.jar 
AI: INFO 04-07-2017 11:56, 19: Configuration file has been successfully found as resource
File: grouptree.fxml not found, attempting with camel case
Jul 04, 2017 11:56:48 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
File: grouptree.css not found, attempting with camel case
Jul 04, 2017 11:57:44 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66
Jul 04, 2017 11:57:45 AM javafx.fxml.FXMLLoader$ValueElement processValue
WARNING: Loading FXML document with JavaFX API of version 8.0.112 by JavaFX runtime of version 8.0.66


</details>
",https://github.com/JabRef/jabref/issues/2963#issuecomment-312840804,"Could you please try again with an updated JRE? The log indicates that your runtime version is older than the  version with which the javafx stuff was created
The current version is:
```
java version ""1.8.0_131""
Java(TM) SE Runtime Environment (build 1.8.0_131-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)

```"
JabRef/jabref,"On Linux and Unix systems it is very common to assign a key to the compose function.
https://en.wikipedia.org/wiki/Compose_key
The user can write international special characters on a standard QWERTY keyboard.

This worked in Jabref 3.8.2 but unfortunately it fails on 4.x

Users can not write umlauts anymore with Compose "" o -> √∂ 
or Compose / O -> √ò

JabRef 4.0.0-dev--snapshot--2017-06-29--master--7e50e84a1
Linux 4.4.0-78-generic amd64 
Java 1.8.0_131",https://github.com/JabRef/jabref/issues/2954#issuecomment-312218644,"Does it still works in the old Swing text inputs (like the search bar)?

Edit: Maybe related: https://github.com/TomasMikula/RichTextFX/issues/280"
JabRef/jabref,Changes like generating a new bibtexkey or renaming the file are not displayed in the entry editor.,https://github.com/JabRef/jabref/issues/2946#issuecomment-314444590,"@tobiasdiez Is it possible that the `ObjectBinding` between the editor and the `BibEntry` breaks when you change something in the map of its fields, for instance by calling `fields.put()`? Can you please have a look at that?"
JabRef/jabref,"Hi there, first of all I would have loved to use the issue tracker and automatic Report BUT there seams to be an error in the link directing to the automated issue report. The automated not working link ist:

https://github.com/JabRef/jabref/issues/new?title=Automatic+Bug+Report+-+20170617222228&body=JabRef+4.0.0-dev--snapshot--2017-06-17--master--c0fd08ec3%0D%0AWindows+10+10.0+amd64+%0D%0AJava+1.8.0_121%0A%0ASteps+to+reproduce%3A%0A%0A1.+...%0A2.+...%0A3.+...%0A%

That was the first issue. Now with the latest dev snapshot I have the following other issues

1. When more than one document is attatched I am not able to Switch between documents to retriev annotations. (Dropdown Menue does not work)
2. When more than one document ist attatched I cannot directly delete access files no longer needed via right mouse click delete local entry. In fact the only way I can do that is by deleting the file in the BibTex Key, then saving, then swopping between two entries, then going back to the original one and the access file is gone.

The next issue and probs one of the most annoying is, that often annotationspage does not fully build up. Also when using Jabref not in full window the Annotation window for highligts does not allow Scrolling passt a specific window size. It would also be a Suggestion to allow the user more flexibel to resize the annotations area for comments and Highlights. I use no comments but Highlights and it is a real pain at the current state because I often cannot read the full texts or the scroll bar gets completely locked despite the length of the text in the box.

Next issue. When there is trouble with the annotation area at the same time I am also not able to use the Status bar. However am able to use the varios Buttons and the program is otherwise functional.

Next issue, and that is one that makes the document viewer pretty useless. If there are highlights in the PDF document in the vewer instead of highlighting the text it is completely covered. The text can no longer be read.
JabRef+4.0.0-dev--snapshot--2017-06-17--master--   Windows10+10.0+amd64
Java+1.8.0_121

<details>  
Opening: C:\Users\Vieth\OneDrive\Abschicken\P-VEMA\VEMA.bib
Uncaught exception Occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IllegalArgumentException: Cannot parse key binding SHIFT
	at javafx.scene.input.KeyCombination.valueOf(KeyCombination.java:429)
	at org.jabref.gui.keyboard.KeyBindingRepository.checkKeyCombinationEquality(KeyBindingRepository.java:81)
	at org.jabref.gui.keyboard.KeyBindingRepository.checkKeyCombinationEquality(KeyBindingRepository.java:170)
	at org.jabref.gui.keyboard.KeyBindingRepository.mapToKeyBinding(KeyBindingRepository.java:135)
	at org.jabref.gui.entryeditor.EntryEditor.lambda$setupKeyBindings$2(EntryEditor.java:183)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventFilterRecord.handleCapturingEvent(CompositeEventHandler.java:282)
	at com.sun.javafx.event.CompositeEventHandler.dispatchCapturingEvent(CompositeEventHandler.java:98)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:223)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:180)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchCapturingEvent(CompositeEventDispatcher.java:43)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:52)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$KeyHandler.process(Scene.java:3964)
	at javafx.scene.Scene$KeyHandler.access$1800(Scene.java:3910)
	at javafx.scene.Scene.impl_processKeyEvent(Scene.java:2040)
	at javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2501)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$null$300(EmbeddedScene.java:310)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$keyEvent$301(EmbeddedScene.java:296)
	at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)
	at java.lang.Thread.run(Unknown Source)

Uncaught exception Occurred in Thread[JavaFX Application Thread,5,main]
java.lang.IllegalArgumentException: Cannot parse key binding SHIFT
	at javafx.scene.input.KeyCombination.valueOf(KeyCombination.java:429)
	at org.jabref.gui.keyboard.KeyBindingRepository.checkKeyCombinationEquality(KeyBindingRepository.java:81)
	at org.jabref.gui.keyboard.KeyBindingRepository.checkKeyCombinationEquality(KeyBindingRepository.java:170)
	at org.jabref.gui.keyboard.KeyBindingRepository.mapToKeyBinding(KeyBindingRepository.java:135)
	at org.jabref.gui.entryeditor.EntryEditor.lambda$setupKeyBindings$2(EntryEditor.java:183)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventFilterRecord.handleCapturingEvent(CompositeEventHandler.java:282)
	at com.sun.javafx.event.CompositeEventHandler.dispatchCapturingEvent(CompositeEventHandler.java:98)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:223)
	at com.sun.javafx.event.EventHandlerManager.dispatchCapturingEvent(EventHandlerManager.java:180)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchCapturingEvent(CompositeEventDispatcher.java:43)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:52)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$KeyHandler.process(Scene.java:3964)
	at javafx.scene.Scene$KeyHandler.access$1800(Scene.java:3910)
	at javafx.scene.Scene.impl_processKeyEvent(Scene.java:2040)
	at javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2501)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$null$300(EmbeddedScene.java:310)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.EmbeddedScene.lambda$keyEvent$301(EmbeddedScene.java:296)
	at com.sun.javafx.application.PlatformImpl.lambda$null$173(PlatformImpl.java:295)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.application.PlatformImpl.lambda$runLater$174(PlatformImpl.java:294)
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)
	at java.lang.Thread.run(Unknown Source)

</details>",https://github.com/JabRef/jabref/issues/2922#issuecomment-309784750,"Hi @HViethen85,
It seems like you're the first user that is using the possibility to link several files to a BibEntry. (;
We are currently migrating large parts of the UI to a newer UI technology (JavaFX) so it might take a bit longer until these very valid issues that you have reported are fixed.
Would you mind attaching some screenshots to help us identifying all problems?"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version `JabRef 4.0.0-dev--snapshot--2017-06-15--master--31b345e00`
on Windows 10 10.0 amd64 Java 1.8.0_121 


Steps to reproduce:

1. Open JabRef
2. New biblatex library
3. New entry (Ctrl+N)
4. Use ID-based entry generator from DOI, say `10.1086/261527`
5. Generate
6. Find that the `date` field is (incorrectly) populated with the current date (2017-06-15) and not the entry date (1988), the field `year` is correctly populated with `1988`.

Ideally JabRef would use the `date` field instead of `year` and `month` in `biblatex` mode. But that might be something to fix on the side of the info provider, not JabRef.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

<details>
  <summary>Generated `.bib` file</summary>
  
  ```
  @Article{Bollerslev1988,
  author    = {Tim Bollerslev and Robert F. Engle and Jeffrey M. Wooldridge},
  title     = {A Capital Asset Pricing Model with Time-Varying Covariances},
  journal   = {Journal of Political Economy},
  year      = {1988},
  date      = {2017-06-15},
  volume    = {96},
  number    = {1},
  month     = {feb},
  pages     = {116--131},
  doi       = {10.1086/261527},
  publisher = {University of Chicago Press},
}
  ```
</details>
",https://github.com/JabRef/jabref/issues/2915#issuecomment-308955558,"Thanks for your report. In biblatex, the year is an alias of date for background compatibility with bibtex.  So this is definitely a bug of the new entry editor
Could you please try if the clean up operation convert to biblatex mode then writes the year field into the date field? (I doubt it, but worth checking)
"
JabRef/jabref,"JabRef 4.0.0-dev--snapshot--2017-06-11--master--c711a7fdf
Mac OS X 10.12.5 x86_64 
Java 1.8.0_121

Steps to reproduce:

1. find DOI from article https://doi.org/10.1088/1741-4326/aa4feb
2. add article by DOI
3. freeze



",https://github.com/JabRef/jabref/issues/2905#issuecomment-307786702,"Thanks for your report. On Windows I cannot reproduce this.
New Entry -> I enter the doi  `10.1088/1741-4326/aa4feb`
Do you get any errors in the log?
"
JabRef/jabref,"Bug report: After import of fields yearAccessed monthAccessed dayAccessed from an office xml file, they are stored in format mm dd, yy in the field msbib-accessed (or mm dd, yyyy).

Re-export fails as it expects format \d{2}\s*[.,-/]\s*\d{2}\s*[.,-/]\s*\d{2,4} but \d{2} \d{2}, \d{2,4} doesn't match.

Possible fixes: change DATE_PATTERN s.t. month and day may be separated by \s*[ .,-/]
OR line 168 of MSBibEntry.java to `sbDateAccesed.append(', ');` (Typo ""Accesed"" present in source code).

Additionally, shouldn't the biblatex field ""urldate"" be exported to the fields yearAccessed monthAccessed dayAccessed in an office xml file? And vice versa for import? In that case importing into msbib-accessed should be replaced by importing into urldate (except for possible cases where urldate wouldn't be appropriate).

In case that urldate doesn't correspond to yearAccessed monthAccessed dayAccessed in some or all cases, importing into msbib-accessed could be changed to yyyy-mm-dd (yy-mm-dd) to make it coherent with biblatex date format. Parse msbib-accessed as year month date if pattern \d{2,4}\s*-\s*\d{2}\s*-\s*\d{2} is matched, if not try DATE_PATTERN \d{2}\s*[ .,-/]\s*\d{2}\s*[.,-/]\s*\d{2,4} for month year day.",https://github.com/JabRef/jabref/issues/2859#issuecomment-303112504,"@gnu9 Thanks for your report!

@Siedlerchr : You have worked on this, if I recall it correctly. Can you comment here?"
JabRef/jabref,"Text Highligh and Comments created with FoxitReader for Linux and Evince (with copy and past of the text inside the pop-up note, this is how it works on Docear) do not appear on File annotations tab.",https://github.com/JabRef/jabref/issues/2839#issuecomment-301232620,"Thanks for reporting this issue @kafran. We need some more information to resolve the issue.

Have you checked the event log (Help -> View event log) for messages related to this problem?
If there are not messages the easiest would be to send us a PDF file where the issue occurs."
JabRef/jabref,"JabRef version 4.0.0-beta on Windows 7 (x86_64)

When using the beta version JabRefs RAM usage is at roughly over 1.000.000K and the CPU usage minimum 25% when it is idle.
For scale: Using the old (v. 3.8.2) version the CPU usage is between 0 and 1% and the RAM is at about 180.000K.

The problem is reproducable and occurs everytime I start JabRef.
",https://github.com/JabRef/jabref/issues/2837#issuecomment-301172684,"Thanks for the report @andipabst.

Can you provide us some more specifics?  How many databases did you open? How many entries are in your BibDatabase(s)? Does the memory spike fast after opening it or does it increase with time like reported in https://github.com/JabRef/jabref/issues/2533? Are there any special operations (like performing a search or sorting the table) that increase the memory dramatically?"
JabRef/jabref,"JabRef 4.0.0-dev--snapshot--2017-05-09--master--78185153b
Linux 4.10.14-200.fc25.x86_64 amd64
Java 1.8.0_131

Not always, but some times, when I select a group, the view does not change but instead JabRef crashes.",https://github.com/JabRef/jabref/issues/2834#issuecomment-301173112,"Also, can you please give us a hint in which way this is different from https://github.com/JabRef/jabref/issues/2804?"
JabRef/jabref,"JabRef version:
JabRef 4.0.0-dev--snapshot--2017-05-07--master--4832e5d86
Windows 7 6.1 amd64 
Java 1.8.0_92
The problem persists when I reset all options to their default values.

**Steps to reproduce:**
1. Open the below BibLaTeX file (or, apparently, any other).
2. Double click on any of the three entries, press ENTER with one selected, or click on the ""Edit entry"" button.
3. Problem: the entry editor does not open (meaning that I have no way to make any changes to entries).

**Comment:**
I had this problem before in version 2.10 or so. Then it seemed to be related to the particular option settings that I used. But now the problem does not go away even when I reset all options.
N.B. This problem does not yet appear in 
JabRef 3.8.2
windows 7 6.1 amd64 
Java 1.8.0_92

**BibLaTeX file:**
% Encoding: UTF-8

@Article{Item:1,
  author    = {Rodriguez Fernandez, Jos√© Mar√≠a},
  title     = {L'arc du ciel},
  date      = {2016},
}

@Article{Item:2,
  author    = {Jos√© Mar√≠a {Rodriguez Fernandez}},
  title     = {L'arc du ciel},
  date      = {2016},
}

@Article{Item:3,
  author = {Jos√© Martinez},
  title  = {Jabref's Issues},
  date   = {2017},
}

@Comment{jabref-meta: databaseType:biblatex;}
",https://github.com/JabRef/jabref/issues/2829#issuecomment-300237628,"I can also confirm this, although I get a slightly different stack trace:
```
19:14:12.489 [JabRef CachedThreadPool] INFO  org.jabref.logic.importer.OpenDatabase - Opening: /tmp/biblatex.bib
19:14:26.908 [JavaFX Application Thread] ERROR org.jabref.FallbackExceptionHandler - Uncaught exception Occurred in T
hread[JavaFX Application Thread,5,main]
java.lang.NullPointerException: null
        at org.jabref.gui.entryeditor.EntryEditorTab.setupPanel(EntryEditorTab.java:164) ~[main/:?]
        at org.jabref.gui.entryeditor.EntryEditorTab.lambda$new$0(EntryEditorTab.java:88) ~[main/:?]
        at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295) ~[jfxrt.jar:?]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_121]
        at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294) ~[jfxrt.jar:?]
        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) ~[jfxrt.jar:?]
        at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method) ~[jfxrt.jar:?]
        at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139) ~[jfxrt.jar:?]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]
java.lang.RuntimeException: Requested texture dimensions (2147483647x2147483647) require dimensions (0x0) that exceed maximum texture size (16384)
        at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
        at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
        at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
        at java.lang.Thread.run(Thread.java:745)
java.lang.RuntimeException: Requested texture dimensions (2147483647x2147483647) require dimensions (0x0) that exceed maximum texture size (16384)
        at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
        at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
        at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
        at java.lang.Thread.run(Thread.java:745)
java.lang.RuntimeException: Requested texture dimensions (2147483647x2147483647) require dimensions (0x0) that exceed maximum texture size (16384)
        at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
        at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
        at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
        at java.lang.Thread.run(Thread.java:745)
java.lang.RuntimeException: Requested texture dimensions (2147483647x2147483647) require dimensions (0x0) that exceed maximum texture size (16384)
        at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
        at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
        at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
        at java.lang.Thread.run(Thread.java:745)
java.lang.RuntimeException: Requested texture dimensions (2147483647x2147483647) require dimensions (0x0) that exceed maximum texture size (16384)
        at com.sun.prism.es2.ES2RTTexture.create(ES2RTTexture.java:220)
        at com.sun.prism.es2.ES2ResourceFactory.createRTTexture(ES2ResourceFactory.java:157)
        at com.sun.javafx.tk.quantum.UploadingPainter.run(UploadingPainter.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)
        at java.lang.Thread.run(Thread.java:745)
```
"
JabRef/jabref,"JabRef 4.0.0-dev--snapshot--2017-05-06--master--98e2e4379
Windows 7 6.1 amd64 
Java 1.8.0_131

Steps to reproduce:

1. right-click any entry
2. choose attach-file
3. a file dialog which displays a window with files in the selected directory, does not open

The error in previous snapshot version that clicking the + in edit window -> General does not open the window is gone. One can use the dialog there to link files, once again.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

```
Put the excerpt of the log file here
```
",https://github.com/JabRef/jabref/issues/2825#issuecomment-299649645,"Can reproduce this.
```
18:14:23.494 [AWT-EventQueue-0] ERROR org.jabref.gui.util.DefaultTaskExecutor - java.util.concurrent.ExecutionException: java.lang.IllegalArgumentException: Folder parameter must be a valid folder

java.lang.NullPointerException: null
	at org.jabref.gui.filelist.FileListEntryEditor.lambda$0(FileListEntryEditor.java:105) ~[bin/:?]
	at org.jabref.gui.filelist.FileListEntryEditor$3.lambda$0(FileListEntryEditor.java:247) ~[bin/:?]
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311) ~[?:1.8.0_131]
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756) ~[?:1.8.0_131]
	at java.awt.EventQueue.access$500(EventQueue.java:97) ~[?:1.8.0_131]
	at java.awt.EventQueue$3.run(EventQueue.java:709) ~[?:1.8.0_131]
	at java.awt.EventQueue$3.run(EventQueue.java:703) ~[?:1.8.0_131]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_131]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80) ~[?:1.8.0_131]
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726) ~[?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109) [?:1.8.0_131]
	at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:184) [?:1.8.0_131]
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:229) [?:1.8.0_131]
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:227) [?:1.8.0_131]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_131]
	at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:227) [?:1.8.0_131]
	at java.awt.Dialog.show(Dialog.java:1084) [?:1.8.0_131]
	at java.awt.Component.show(Component.java:1671) [?:1.8.0_131]
	at java.awt.Component.setVisible(Component.java:1623) [?:1.8.0_131]
	at java.awt.Window.setVisible(Window.java:1014) [?:1.8.0_131]
	at java.awt.Dialog.setVisible(Dialog.java:1005) [?:1.8.0_131]
	at org.jabref.gui.filelist.FileListEntryEditor.setVisible(FileListEntryEditor.java:322) [bin/:?]
```"
JabRef/jabref,"JabRef 4.0.0-dev--snapshot--2017-05-01--master--fcac52707
Linux 4.10.12-200.fc25.x86_64 amd64 
Java 1.8.0_131


as noted in the opening post of #2808, in my version the timestamp is not updated. even though I configured it to be updated (and it worked in recent versions)
![screenshot mon may 01 2017 20 39 04 gmt 0200 cest 1145x75](https://cloud.githubusercontent.com/assets/20518297/25589862/80548fda-2eae-11e7-974a-8af5d1e95745.png)

The user experience is related to #2812: to some degree the changed timestamp is simply not immediately shown.

However, for some entries (and I do not recognise a pattern yet) the timestamp is not updated at all (i.e. even no change of timestamp after change and save and restart of jabref.

",https://github.com/JabRef/jabref/issues/2810#issuecomment-299630314,"@tobiasdiez I think that it makes sense that @ayanzunaid works on that. I suppose, the code has to be adapted to use our eventing system?"
JabRef/jabref,"JabRef 4.0.0-beta
Linux 4.10.12-200.fc25.x86_64 amd64 
Java 1.8.0_131

Working with the beta version for 2 days, I have experienced repeated crashes of JabRef. Unfortunately, several times, when trying to recover earlier versions of the file, it had lost all content. the log report does not offer anything helpful (maybe except ""Nested field/group entries are not implemented!""). If you let me know how to produce more log data, I can offer it here...",https://github.com/JabRef/jabref/issues/2804#issuecomment-298607081,I fear without more information we can't do anything about a) the crashes and b) the empty files. Under which condition do you experience this issues? Is it reproducible? Does JabRef successfully writes a backup file?
JabRef/jabref,"JabRef version 4.0.0-beta on Windows 10


Steps to reproduce:

1. Perform a web search using the ""IEEEXplore"" fetcher
2. result is always ""Invalid search term""

no more logs shown...
",https://github.com/JabRef/jabref/issues/2789#issuecomment-297012550,"@jeff-kerr Can you take a look at this, please? Where did you get the initial information for the API when you first wrote the code?"
JabRef/jabref,"JabRef 4.0.0-beta (from April 20, 2017)
Windows 7 6.1 amd64 
Java 1.8.0_121


Steps to reproduce:

1. Open jabref 4.00-beta...
2. the groups are gone
3. ...

![screenjabrefgroupsgone](https://cloud.githubusercontent.com/assets/9216487/25286580/8550534a-26be-11e7-9a2c-f6645660f37d.PNG)

Actually, they were there when I opened the file with jabref. I then edited some groups titles and saved the file. I wanted to check what was displayed in the snapshot I have been working before. The groups in the group list were no longer displayed, while the group entry was shown. Strange! I killed the file and reopened: Now the All entries does only count 82 while the entry list shows 726 entries. Very strange

Any proposal?",https://github.com/JabRef/jabref/issues/2779#issuecomment-296259016,"This is really strange.
Is there anything in the log window? An exception?

Am 21.04.2017 6:47 nachm. schrieb ""Bernhard Kleine"" <
notifications@github.com>:

> JabRef 4.0.0-beta (from April 20, 2017)
> Windows 7 6.1 amd64
> Java 1.8.0_121
>
> Steps to reproduce:
>
>    1. Open jabref 4.00-beta...
>    2. the groups are gone
>    3. ...
>
> [image: screenjabrefgroupsgone]
> <https://cloud.githubusercontent.com/assets/9216487/25286580/8550534a-26be-11e7-9a2c-f6645660f37d.PNG>
>
> Actually, they were there when I opened the file with jabref. I then
> edited some groups titles and saved the file. I wanted to check what was
> displayed in the snapshot I have been working before. The groups in the
> group list were no longer displayed, while the group entry was shown.
> Strange! I killed the file and reopened: Now the All entries does only
> count 82 while the entry list shows 726 entries. Very strange
>
> Any proposal?
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/JabRef/jabref/issues/2779>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AATi5A2NHl7BFrQaBWENdtl9iikIN7CLks5ryN2LgaJpZM4NEiY5>
> .
>
"
JabRef/jabref,"I wanted to demonstrate the feature on following entry

```
@Manual{TOSCA,
  title =        {Topology and Orchestration Specification for Cloud Applications Version 1.0},
  year =         {2012},
  organization = {OASIS},
  month =        {10},
}
```

Other entries work fine :)

In the concrete case:

Invalid byte 1 of 1-byte UTF-8 sequence.
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.


```
Invalid byte 1 of 1-byte UTF-8 sequence.
com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.scanData(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanCDATASection(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source)
	at javax.xml.parsers.SAXParser.parse(Unknown Source)
	at org.jabref.logic.importer.fileformat.MrDLibImporter.isRecognizedFormat(MrDLibImporter.java:54)
	at org.jabref.logic.importer.fetcher.MrDLibFetcher.performSearch(MrDLibFetcher.java:58)
	at org.jabref.gui.entryeditor.EntryEditorTabRelatedArticles$MrDLibFetcherWorker.doInBackground(EntryEditorTabRelatedArticles.java:176)
	at org.jabref.gui.entryeditor.EntryEditorTabRelatedArticles$MrDLibFetcherWorker.doInBackground(EntryEditorTabRelatedArticles.java:163)
	at javax.swing.SwingWorker$1.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at javax.swing.SwingWorker.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

```
",https://github.com/JabRef/jabref/issues/2733#issuecomment-293939752,Cannot reproduce this issue. Maybe a temporary wrong response from the server?
JabRef/jabref,"Hi, I'm having issues with adding, deleting, etc groups JabRef 4 on OSX. Basically, it stops working.

I've also experience problems with groups on earlier versions (3.8.2), such as references are not added to a group, or JabRef mess them up in different groups. 

Anyone knows about these issues? I really need my groups, its a great feature.

Thanks!",https://github.com/JabRef/jabref/issues/2722#issuecomment-292712712,"So it just stops working without error message? Do you see some errors reported in the `Help -> Event log`?

@chochreiner can you reproduce these errors on OSX?"
JabRef/jabref,"bib entry:

```
@InProceedings{DBLP:conf/zeus/KoppLUW11,
  author    = {Oliver Kopp and Frank Leymann and Tobias Unger and Sebastian Wagner},
  title     = {Towards The Essential Flow Model},
  booktitle = {3rd Central-European Workshop on Services and their Composition, Services und ihre Komposition, {ZEUS} 2011, Karlsruhe, Germany, February 21-22, 2011. Proceedings},
  year      = {2011},
  editor    = {Daniel Eichhorn and Agnes Koschmider and Huayu Zhang},
  volume    = {705},
  series    = {{CEUR} Workshop Proceedings},
  pages     = {26--33},
  publisher = {CEUR-WS.org},
  bibsource = {dblp computer science bibliography, http://dblp.org},
  biburl    = {http://dblp.uni-trier.de/rec/bib/conf/zeus/KoppLUW11},
  timestamp = {Mon, 30 May 2016 16:43:12 +0200},
  url       = {http://ceur-ws.org/Vol-705/paper4.pdf},
}
```

If I change `pages` to `_pages`, that field is **mostly** completely removed.

```
Unable to parse stored date for field 'timestamp' with current settings. Clear button in calender popup will not work.

runCommand error: null
java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextNode(Unknown Source)
	at java.util.HashMap$EntryIterator.next(Unknown Source)
	at java.util.HashMap$EntryIterator.next(Unknown Source)
	at org.jabref.gui.entryeditor.EntryEditor.storeSource(EntryEditor.java:862)
	at org.jabref.gui.entryeditor.EntryEditor.access$3300(EntryEditor.java:128)
	at org.jabref.gui.entryeditor.EntryEditor$StoreFieldAction.actionPerformed(EntryEditor.java:1366)
	at org.jabref.gui.entryeditor.EntryEditor.storeCurrentEdit(EntryEditor.java:796)
	at org.jabref.gui.BasePanel.storeCurrentEdit(BasePanel.java:1611)
	at org.jabref.gui.exporter.SaveDatabaseAction.run(SaveDatabaseAction.java:130)
	at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at spin.Invocation.evaluate(Invocation.java:175)
	at spin.off.SpinOffEvaluator$1.run(SpinOffEvaluator.java:108)
	at java.lang.Thread.run(Unknown Source)
```

When testing it with a ""minimal"" example, JabRef saves the file without issues:

```
@InProceedings{DBLP:conf/zeus/KoppLUW11,
  title     = {Towards The Essential Flow Model},
  timestamp = {Mon, 30 May 2016 16:43:12 +0200},
  url       = {http://ceur-ws.org/Vol-705/paper4.pdf},
}
```



",https://github.com/JabRef/jabref/issues/2713#issuecomment-293524265,How should we reproduce this? For me changing field names work as expected.
JabRef/jabref," 
JabRef 4.0.0-dev--snapshot--2017-03-27--master--893f0d659
Windows 7 6.1 amd64 
Java 1.8.0_121



Steps to reproduce:

1. Check Options->Advanced->Listen to remote operation on port 6050
2. Use Jabfox with Zotero for Import from Firefox
3. Use the Task Manager to observe that a new Jabref session is created.

![grafik](https://cloud.githubusercontent.com/assets/9216487/24552089/714ede06-1625-11e7-9418-e5fb0ebac6fe.png)
the last jabref session was created while I looked in the taskmanager what happens",https://github.com/JabRef/jabref/issues/2698#issuecomment-291166939,@bernhard-kleine I tried to fix this and was (hopefully) successful. At least it works for me locally now. Could you give it a try with a version available here http://builds.jabref.org/shutdown-duplicates/ and check that the problem is also gone on your system?
JabRef/jabref,"While checking the problem with the Underscores in the groups from  #2599, I noticed it's a problem of the Latex2Unicode formatter:  

Create a new entry with title `Underscore_Underscore`
Save
In the main table the entry is shown as `Underscore_(U)nderscore`


",https://github.com/JabRef/jabref/issues/2664#issuecomment-287545143,Is it possible to file an issue at https://github.com/tomtung/latex2unicode/issues?
JabRef/jabref,"JabRef version 3.8.2 on Windows 7

Steps to reproduce:
1. On windows, import a reference + PDF with a really long name.
2. Cleanup entry > check rename PDF

I filename is long enough this creates a PDF (path to file > 260 characters) that cannot be handled appropriately by the Windows OS.

Perhaps truncate or give a warning when new filename is > 100 characters long?",https://github.com/JabRef/jabref/issues/2622#issuecomment-284445323,"Could you please test the current dev version? It should trow an error if the renaming can not be done.
https://builds.jabref.org/master/"
JabRef/jabref,"JabRef version as of today on Win 10.

Steps to reproduce:

1. Double click third entry
2. Click on third entry to focus it on the main table
3. Press <kbd>Ctrl</kbd> + <kbd>A</kbd>
4. Expected behavior: All entries are selected.

![ctrl-a](https://cloud.githubusercontent.com/assets/1366654/23591197/15690b1c-01ed-11e7-8453-067ccf7f38a1.gif)
",https://github.com/JabRef/jabref/issues/2615#issuecomment-284324201,"Related: #2322 

Wasn't this the expected behavior? But anyway, it would be perfectly fine by me to ditch emacs-specific behavior and just do a select all.

Btw.: An interesting color scheme you have there :-)"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version <!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... --> 3.8.2
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Steps to reproduce:

1. Create an empty database
2. Create a group (no need to add anything to it)
3. Add 16 subgroups to this group. The first 15 subgroups are added without a problem. After adding the 16 subgroup you will notice a visual bug - an empty space above the 16 subgroup.
4. Remove the 16th subgroup.
5. The database is broken and jabref will not start, trying to open this database.
6. Console output when starting jabref after the database became corrupt is below.
Please, help me restore my database, I've been working on it for 4 months.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
java -jar '/home/ph0boss/portablesoftlinux/Jabref/JabRef-3.8.2.jar'
13:43:22.015 [AWT-EventQueue-0] INFO  net.sf.jabref.logic.importer.OpenDatabase - Opening: /home/ph0boss/Downloads/temp/arst.bib
13:43:22.104 [AWT-EventQueue-0] ERROR net.sf.jabref.FallbackExceptionHandler - Uncaught exception Occurred in Thread[AWT-EventQueue-0,6,main]
java.util.NoSuchElementException: No value present
        at java.util.Optional.get(Optional.java:135) ~[?:1.8.0_121]
        at net.sf.jabref.logic.importer.util.GroupsParser.importGroups(GroupsParser.java:51) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:63) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:33) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:218) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:150) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.Importer.importDatabase(Importer.java:65) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:64) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:43) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:210) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:94) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:63) ~[JabRef-3.8.2.jar:?]
        at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:128) ~[JabRef-3.8.2.jar:?]
        at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311) ~[?:1.8.0_121]
        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756) ~[?:1.8.0_121]
        at java.awt.EventQueue.access$500(EventQueue.java:97) ~[?:1.8.0_121]
        at java.awt.EventQueue$3.run(EventQueue.java:709) ~[?:1.8.0_121]
        at java.awt.EventQueue$3.run(EventQueue.java:703) ~[?:1.8.0_121]
        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_121]
        at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80) ~[?:1.8.0_121]
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:726) ~[?:1.8.0_121]
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201) [?:1.8.0_121]
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116) [?:1.8.0_121]
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105) [?:1.8.0_121]
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:1.8.0_121]
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93) [?:1.8.0_121]
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:82) [?:1.8.0_121]

```
Example of a broken database
```
% Encoding: UTF-8

@Comment{jabref-meta: databaseType:bibtex;}

@Comment{jabref-meta: groupstree:
0 AllEntriesGroup:;
1 ExplicitGroup:12\;0\;;
2 ExplicitGroup:1\;0\;;
2 ExplicitGroup:2\;0\;;
2 ExplicitGroup:3\;0\;;
2 ExplicitGroup:4\;0\;;
2 ExplicitGroup:5\;0\;;
2 ExplicitGroup:6\;0\;;
2 ExplicitGroup:7\;0\;;
2 ExplicitGroup:8\;0\;;
2 ExplicitGroup:9\;0\;;
2 ExplicitGroup:10\;0\;;
2 ExplicitGroup:11\;0\;;
2 ExplicitGroup:12\;0\;;
2 ExplicitGroup:13\;0\;;
2 ExplicitGroup:14\;0\;;
2 ExplicitGroup:15\;0\;;
0 ExplicitGroup:16\;0\;;
2 ExplicitGroup:17\;0\;;
}",https://github.com/JabRef/jabref/issues/2600#issuecomment-284080001,"I fixed the import/opening, but your database has to be fixed as well: You are apparently using the old? groups format without the slashes.
So I took your group code and manually converted it to new structure:
The hierarchy is the same.

```
@Comment{jabref-meta: groupstree:
0 AllEntriesGroup:;
1 ExplicitGroup:12\;0\;;
2 ExplicitGroup:1\;0\;;
2 ExplicitGroup:2\;0\;;
2 ExplicitGroup:3\;0\;;
2 ExplicitGroup:4\;0\;;
2 ExplicitGroup:5\;0\;;
2 ExplicitGroup:6\;0\;;
2 ExplicitGroup:7\;0\;;
2 ExplicitGroup:8\;0\;;
2 ExplicitGroup:9\;0\;;
2 ExplicitGroup:10\;0\;;
2 ExplicitGroup:11\;0\;;
2 ExplicitGroup:12\;0\;;
2 ExplicitGroup:13\;0\;;
2 ExplicitGroup:14\;0\;;
2 ExplicitGroup:15\;0\;;
0 ExplicitGroup:16\;0\;;
2 ExplicitGroup:17\;0\;;
}
```"
JabRef/jabref,"Hi, I can't get the camel key in the key pattern to work for some reason.  I'm using the latest release: 

Here is my key pattern: 
[auth][year][camel]

Here is my bibtex file: 

> % Encoding: UTF-8
> 
> @Article{Trapnell2009,
>   author  = {Trapnell, Cole and Pachter, Lior and Salzberg, Steven L.},
>   title   = {TopHat: discovering splice junctions with RNA-Seq},
>   journal = {Bioinformatics},
>   year    = {2009},
>   volume  = {25},
>   number  = {9},
>   pages   = {1105-1111},
>   issn    = {1367-4803, 1460-2059},
>   doi     = {10.1093/bioinformatics/btp120},
>   type    = {Journal Article},
>   url     = {http://bioinformatics.oxfordjournals.org/content/25/9/1105
> http://www.ncbi.nlm.nih.gov/pubmed/19289445
> http://bioinformatics.oxfordjournals.org/content/25/9/1105.abstract},
> }
> 
> @Comment{jabref-meta: databaseType:bibtex;}
> ",https://github.com/JabRef/jabref/issues/2589#issuecomment-283097718,"Hi @traversc 

What exactly is the error? Looking at the description here http://help.jabref.org/en/BibtexKeyPatterns I would say that the key `Trapnell2009` is exactly what I would expect from the key pattern `[auth][year][camel]`. 

Do you expect more author names? Then you should use `[authors][year][camel]`."
JabRef/jabref,"JabRef version 3.8.2 on Windows 10

Editing keywords clears the fields priority, ranking, quality and relevance

Steps to reproduce:

__Write values of special fields as separate fields to BiBTeX__ enabled!
1. Add a value to any of the fields: priority, ranking, quality and relevance
2. Edit the keyword field
3. Save or change focus from the keywords field in the entry editor

The fields priority, ranking, quality and relevance are now removed.

No events reported in the log
",https://github.com/JabRef/jabref/issues/2580#issuecomment-281610710,"Please have a look at your preferences: Options->Preferences->Entry table columns.

Do you have ""synchronize with keywords"" enabled by any chance? In this case, the fields you describe above are synchronized with your keywords. Thus, if you enter something else in the keywords field and no information regarding these fields is present, they are cleared."
JabRef/jabref,"![image](https://cloud.githubusercontent.com/assets/2141507/23121265/0c23f7e8-f760-11e6-855c-2e51361e7bf5.png)

Not possible to select different folder.
",https://github.com/JabRef/jabref/issues/2572#issuecomment-281058305,"Do you get an error when clicking opening like ""no valid folder""?
Maybe similar to #2527 "
JabRef/jabref,"Every time I am using the quality -> lookup full text documents I get a pdf which is completely irrelevant
Any suggestions ?

I am using jabref 3.8.2 , java-runtime 8, antergos os , gnome 3.22.2
",https://github.com/JabRef/jabref/issues/2570#issuecomment-280919732,Can you give us a concrete example please? Everytime makes no sense. This should only happen in rare occasions.
JabRef/jabref,"JabRef 3.8.2
windows 10 10.0 amd64 
Java 1.8.0_121

I think this is not actually a bug (although I'm not sure), but I just wanted to report it as a reference in case someone comes across this problem.

Steps to reproduce:
1. Add the following entry to your JabRef database:

```
@Article{Redding2006,
  author   = {Redding, David W. and Mooers, Arne {\O}.},
  title    = {{Incorporating {evolutionary} {measures} into {conservation} {prioritization}}},
  journal  = {Conservation Biology},
  year     = {2006},
  volume   = {20},
  pages    = {1670--1678},
}
```

2. Check the entry in the entry preview. It is correctly displayed as:

> Redding, D. W. & Mooers, A. √ò. Incorporating evolutionary measures into conservation prioritization Conservation Biology, 2006, 20, 1670-1678

3. Now change the special character of the second author's name. Change `{\O}.` to `{\{O}}.`. You end up with the following entry:

```
@Article{Redding2006,
  author   = {Redding, David W. and Mooers, Arne {\{O}}.},
  title    = {{Incorporating {evolutionary} {measures} into {conservation} {prioritization}}},
  journal  = {Conservation Biology},
  year     = {2006},
  volume   = {20},
  pages    = {1670--1678},
}
```

4. Save the database and close JabRef.
5. Restart JabRef and reopen the database. The entry preview of the article is no longer correctly displayed. Instead, the following is shown:

> Redding, D. W. & Mooers, A. √ò#.#.

Indeed, the BibTex source panel also shows just:

```
@Article{Redding2006,
author   = {Redding, David W. and Mooers, Arne {\{O}}.}
```

6. Close JabRef and open the bibtex file with a text editor of your choice. Search for Redding2006. As you can see, the article entry is still complete. Change the author's name back to `{\O}`. The entry should look again like this:

```
@Article{Redding2006,
  author   = {Redding, David W. and Mooers, Arne {\O}.},
  title    = {{Incorporating {evolutionary} {measures} into {conservation} {prioritization}}},
  journal  = {Conservation Biology},
  year     = {2006},
  volume   = {20},
  pages    = {1670--1678},
}
```

7. Restart JabRef and open the database. The entry is again correctly displayed.

It appears that using `{\{O}}` instead of `{\O}` causes issues with the entry preview of JabRef. As far as I can tell `{\O}` is the proper way of writing the respective character in Latex/BibTex (http://www.bibtex.org/SpecialSymbols/), but sometimes it is suggested to use the additional set of braces. While this works for many special characters, it does not in this case. I just wanted to point out this behaviour, but, as mentioned at the beginning, I don't think this is a bug with JabRef. In fact, JabRef is probably working as intended, as this wrong (?) special character is a user mistake.",https://github.com/JabRef/jabref/issues/2561#issuecomment-280629719,Can you please try the most recent version from the master branch?
JabRef/jabref,"
JabRef version 3.8.2 on Windows 10<!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... -->
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Steps to reproduce:

Search for anything in ACM Portal search.
Select it
The next page is blank.",https://github.com/JabRef/jabref/issues/2552#issuecomment-280312171,"@mew1033 Can you post the information of your problematic data, so we can check? I guess it is invalid data coming from ACM as in my example."
JabRef/jabref,"Using JabRef-4.0.0-dev--snapshot--2017-02-10--master--2b886cb71.jar,
if the author is set as
````  author   = {Franck {Taboado Varia}},````
it is displayed in the main window as 
````Varia````

I.e., the output is the same as for 
````author={Franck Taboado Varia},````
It means the additional {} (used to group the compound last name) are not taken into account.",https://github.com/JabRef/jabref/issues/2534#issuecomment-278933094,"This is not related to #2532, but to the unicode conversion in the main table as whole. A fix is provided in  #2536 and a working version should be available at http://builds.jabref.org/maintable-authors/

@mlep Can you please try this out and check if it solves the issue for you?"
JabRef/jabref,"JabRef_windows-x64_4_0_0-dev--snapshot--2017-02-05--multicleanup--ddecdfd3f
Windows 7
java 1.8.0_121

Steps to reproduce:

1. open a new database 
2. input from medline PMID 27151464
3. run cleanup
4. try **save** or **save as**

this does not give any reaction; the program when run exit notices there is something to save but the file dialog does not open.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->

```
Put the excerpt of the log file here
```
btw: where to find the log file?",https://github.com/JabRef/jabref/issues/2522#issuecomment-277628367,"Unfortunately, I cannot reproduce this problem.

Can't you save the database at all? Or does this depend on the clean up? If so, can you provide a screenshot of your cleanup settings?

> btw: where to find the log file?

Since 4.0.0dev you can find it using `Help` -> `View event log`"
JabRef/jabref,"JabRef version 3.8.2 and  JabRef-4.0.0-dev--snapshot--2017-01-29--masr--7191a7055.jar 
on Linux LMDE Betsy



Steps to reproduce:

1. Create a new entry
2. As title of the article, type ````L'oscillation```` (for example)
3. In the table entry, the title is displayed as ````L√≤scillation````
Note: the display is OK in the entry preview

![apostrophe](https://cloud.githubusercontent.com/assets/6931104/22422399/6b22c9a6-e6ec-11e6-96b3-e0a50f2ca94c.png)
",https://github.com/JabRef/jabref/issues/2500#issuecomment-276050779,"Isn't the ""correct"" LaTeX command (without the usage of special packages) `{\'o}` or `\'{o}`?"
JabRef/jabref,"JabRef version 3.8.1 on macOS 10.12.2

Steps to reproduce:

1. Run JabRef
2. Go to About This Mac -> Display
3. Check current GPU in use


JabRef requires for some reason a discrete GPU, which seriously affects a battery life. Tested with both MacOS packed .app and cross-platform .jar

Is it really necessary? Or it is possible to turn off discrete GPU dependancy in the future release?",https://github.com/JabRef/jabref/issues/2470#issuecomment-273308236,The question really is why does this happen?
JabRef/jabref,"JabRef 3.8.1 on Linux Mint 17.3

The Latex backslash tilde escaped diacritic ""\\\~"" does not display correctly in the entry table. So, for example, the bibtex entry of ""Monta\\\~{n}a"" displays as ""Monta na"". Note the space in the middle of the word. The ""\\"" escape character seems to be ignored and the ""~"" character treated as a non-breaking space.

Peter",https://github.com/JabRef/jabref/issues/2458#issuecomment-272213972,"Turns out it was not a problem in the converter. We simply forgot to apply the converter for the author column.

@pirlite2 In a few minutes a new version of JabRef that fixes this issue will be available at http://builds.jabref.org/fix-conversion-of-tilde-n/ Could you please install this and verify that it solves your problem?"
JabRef/jabref,"JabRef version 3.8.1 on Windows 7

Steps to reproduce:

1. Create bibliography with linked pdf in file field - relative path
2. Pdf must be located in the user-specific file directory
3. General and user-specific file directories must be set in database properties
4. Cleanup Entries and enable `Move linked files to default file directory`
5. Attached files do net get moved from the user-specific to the general file directory

I tested this bug with older JabRef versions and I can confirm Cleanup Entries does correctly move the files in versions 3.7 and lower. It seems the issue got introduced with version 3.8.",https://github.com/JabRef/jabref/issues/2456#issuecomment-272124029,"Thanks for your report! I recently reworked some of the move files code, could you please test if this bug is still present in this dev version?
http://builds.jabref.org/moveFileDir/

"
JabRef/jabref,"Hello,

JabRef version: JabRef 3.8; linux 4.4.0-57-generic amd64; Java 1.8.0_111 on Ubuntu 16.04
Steps to reproduce:

1. Create a new, empty database (bibtex mode)
2. Add a keyword under manage content selectors for journal: Test {\""U}mlaut
3. Hit Save
4. Check comment in editor: ... Test {\\""U}mlaut ...
5. Restart Jabref
6. Hit Save
7. Check comment in editor: ...Test {\\\\""U}mlaut

So with every save each Backslash is escaped again and again. 

### 1. Save
```
% Encoding: ISO-8859-1

@Comment{jabref-meta: databaseType:bibtex;}

@Comment{jabref-meta: selector_journal:Test {\\""U}mlaut;}
```

### 2. Save
```
% Encoding: ISO-8859-1

@Comment{jabref-meta: databaseType:bibtex;}

@Comment{jabref-meta: selector_journal:Test {\\\\""U}mlaut;}
```

I hope this provides all necassary and relevant information. I hope I haven't missed something. :-)
",https://github.com/JabRef/jabref/issues/2426#issuecomment-270636598,"@universal In a few minutes, a dev version of JabRef that fixes this issue should be available here: http://builds.jabref.org/contentselector-escaping/ Can you please try it out?

Please note that meta data information in JabRef has to be escaped. Thus, if you enter a new selector keyword `{\""U}mlaut` in the UI, it should be written into the bibfile on save as `{\\""U}mlaut`, but upon parsing `{\""U}mlaut` should be displayed in the UI and written into an entry if you select it."
JabRef/jabref,"JabRef 3.8

This is a regression that was introduced between JabRef 3.7 and JabRef 3.8-dev--snapshot--2016-12-12--master--59d9e35. It is still present in the release version of JabRef 3.8.

1. Open a large JabRef database (>9,000 entries, several hundred groups). The ""Groups panel"" needs to be visible.
2. Scroll down in the ""Groups panel"" by leftcklicking onto the scrollbar in the panel and dragging it to the bottom. You've reached the bottom of the ""Groups panel"".
3. Now scroll upwards in the ""Groups panel"" without using the scrollbar. Instead, use the mouse wheel. You can scroll upwards up to a certain group. When this group has been reached, it is no longer possible to scroll further upwards using the mouse wheel (even though there are still many groups above that issue-causing group). If you click onto the scrollbar and drag it further upwards, however, it is possible to move further upwards in the groups panel. It is not possible, however, to do that by using the mouse wheel. The upward scrolling reproducibly always stops at the same group.
Furthermore, a couple of groups are invisible above the group which causes/shows (?) the scrolling error. These groups are displayed in JabRef 3.7, but in JabRef 3.8 these groups remain invisible (these might be the actual issue-causing groups???). This means, that in JabRef 3.8 an empty row appears in the group panel instead of the actual group name.

I'm able to reproduce this behaviour with my database. But, I'm not sure, whether it is possible to do that with another database with similar dimensions - I guess, it has something to do with the issue-causing groups, but I can't figure out how the differ from the other groups. If needed, I can provide you with my database, but I would like to not upload it here and rather send it via email/pm (i. e., the database should not be made public).

",https://github.com/JabRef/jabref/issues/2404#issuecomment-268054303,"Do the erratic groups contain some special characters? There was a problem with those which has been fixed lately (see #2394) - as this has been fixed you could check the latest builds at  http://builds.jabref.org/master/

If it is not yet fixed we would gladly use your database for debugging purposes. You can send it to developers@jabref.org"
JabRef/jabref,"JabRef 3.8, but also JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar

java version ""1.8.0_66""
Java(TM) SE Runtime Environment (build 1.8.0_66-b17)
Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)

The timestamp features does not work well:
- a click on `Today` raises an exception (see below)
- a click on `Clear` does not clear the field content
- a double-click in the field sets the timestamp value to the current date (i.e. today). Is it the intended behavior?


```
15:10:15.023 [AWT-EventQueue-0] INFO  net.sf.jabref.logic.importer.OpenDatabase - Opening: /home/fdarboux/Documents/Biblio/biblio.bib
15:10:15.964 [AWT-EventQueue-0] INFO  net.sf.jabref.logic.importer.OpenDatabase - Opening: /home/fdarboux/Documents/Biblio/darboux.bib
15:11:06.100 [AWT-EventQueue-0] ERROR net.sf.jabref.FallbackExceptionHandler - Uncaught exception Occurred in Thread[AWT-EventQueue-0,6,main]
java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: 2016-12-19 of type java.time.LocalDate
	at java.time.ZonedDateTime.from(ZonedDateTime.java:565) ~[?:1.8.0_66]
	at net.sf.jabref.gui.date.DatePickerButton.dateChanged(DatePickerButton.java:57) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.DatePicker.zInternalSetLastValidDateAndNotifyListeners(DatePicker.java:846) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.DatePicker.zEventTextFieldChanged(DatePicker.java:896) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.DatePicker.zInternalSetDateTextField(DatePicker.java:831) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.DatePicker.setDate(DatePicker.java:561) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.CalendarPanel.userSelectedADate(CalendarPanel.java:1192) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.CalendarPanel.labelSetDateToTodayMousePressed(CalendarPanel.java:945) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.CalendarPanel.access$600(CalendarPanel.java:42) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.components.CalendarPanel$7.mouseLiberalClick(CalendarPanel.java:1207) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at com.github.lgooddatepicker.zinternaltools.MouseLiberalAdapter.mouseReleased(MouseLiberalAdapter.java:161) ~[JabRef-3.8.1-dev--snapshot--2016-12-19--master--8cfbc41.jar:?]
	at java.awt.Component.processMouseEvent(Component.java:6535) ~[?:1.8.0_66]
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324) ~[?:1.8.0_66]
	at java.awt.Component.processEvent(Component.java:6300) ~[?:1.8.0_66]
	at java.awt.Container.processEvent(Container.java:2236) ~[?:1.8.0_66]
	at java.awt.Component.dispatchEventImpl(Component.java:4891) ~[?:1.8.0_66]
	at java.awt.Container.dispatchEventImpl(Container.java:2294) ~[?:1.8.0_66]
	at java.awt.Component.dispatchEvent(Component.java:4713) ~[?:1.8.0_66]
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888) ~[?:1.8.0_66]
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525) ~[?:1.8.0_66]
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466) ~[?:1.8.0_66]
	at java.awt.Container.dispatchEventImpl(Container.java:2280) ~[?:1.8.0_66]
	at java.awt.Window.dispatchEventImpl(Window.java:2750) ~[?:1.8.0_66]
	at java.awt.Component.dispatchEvent(Component.java:4713) ~[?:1.8.0_66]
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758) ~[?:1.8.0_66]
	at java.awt.EventQueue.access$500(EventQueue.java:97) ~[?:1.8.0_66]
	at java.awt.EventQueue$3.run(EventQueue.java:709) ~[?:1.8.0_66]
	at java.awt.EventQueue$3.run(EventQueue.java:703) ~[?:1.8.0_66]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_66]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76) ~[?:1.8.0_66]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[?:1.8.0_66]
	at java.awt.EventQueue$4.run(EventQueue.java:731) ~[?:1.8.0_66]
	at java.awt.EventQueue$4.run(EventQueue.java:729) ~[?:1.8.0_66]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_66]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76) ~[?:1.8.0_66]
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728) ~[?:1.8.0_66]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201) [?:1.8.0_66]
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116) [?:1.8.0_66]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105) [?:1.8.0_66]
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:1.8.0_66]
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93) [?:1.8.0_66]
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82) [?:1.8.0_66]
Caused by: java.time.DateTimeException: Unable to obtain ZoneId from TemporalAccessor: 2016-12-19 of type java.time.LocalDate
	at java.time.ZoneId.from(ZoneId.java:466) ~[?:1.8.0_66]
	at java.time.ZonedDateTime.from(ZonedDateTime.java:553) ~[?:1.8.0_66]
	... 41 more
```
",https://github.com/JabRef/jabref/issues/2403#issuecomment-267975735,"Okay... perhaps I was too optimistic :wink:

This already works fine for me. Can you please provide me the DateFormat you have set in your preferences? (Prefs -> General)"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version <!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... -->
<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Steps to reproduce:

1. Have two different files attached to the paper of the same type (i.e. `.pdf`)
2. Do ""Move file to file directory"" twice and observe that one file is overriden by another

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->",https://github.com/JabRef/jabref/issues/2385#issuecomment-267436760,"I am having problems to reproduce the error and need some more details on your setup:

I have a database-specific General file directory C:\XXXX\asdfasdf
I have an entry with 2 different pdf files.  Both pdf files are in C:\YYYY\
Bib filie lies in C:\YYY\biblocation 

I execute **only** Cleanup: Move files to file directory + make links relative 
The cleanup moves the files to the target directory (ignoring fiileDirPattern atm)  correctly, but reports that no entry needed a cleanup. 

Did you execute Rename PDF Cleanup, too?

"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version 3.7 on Ubuntu 16.04 with PostgreSQL database


Steps to reproduce:
The metadata of the user are saved in the database as common metadata. Therefore the last users general file directory is saved in the database and when an other user opens the database he loads these metadata, and this general file directory
This also affects #2255 
Furthermore is the groups structure somehow handled in SQL databases?

",https://github.com/JabRef/jabref/issues/2284#issuecomment-261750785,"Firstly, #2219 has to be fixed. Otherwise, metadata is lost anyway.

When you use the ""User-specific file directory"", everything should work as expected: Each user has its own file directory. This assumes that each user has a separate Windows/Linux/Mac login name. This name is used at the user-specific-file-directory-setting. The general file directory, as you also noticed, applies for all users.

In any case, each user can configure his JabRef instance at Options->Preferences->File->""Main file directory"". This directory also applies for shared databases.

All in all, I think, this is more a documentation issue (http://help.jabref.org/en/FileLinks is outdated) than a real issue of JabRef. Could you try with the ""user-specific dirctory""?

The storage of the group structure has changed since version 3.4 (https://github.com/JabRef/jabref/pull/1276). It still has some issues (https://github.com/JabRef/jabref/issues/1495), but works well in other regards.
"
JabRef/jabref,"JabRef 3.6
windows 7 6.1 amd64 
Java 1.8.0_111

Reset preferences and Import preferences does not work for custom entry types.

Steps to reproduce the reset issue:
1. Customize entry types, e.g. by adding new entry types and/or by removing and/or adding fields
2. Close/Start JabRef
3. Watch preferences in JabRef preferences -> custom entry types can be found there -> ok
4. Reset preferences
5. Close/Start JabRef
6. Watch preferences in JabRef preferences -> custom entry types can still be found there 

Steps to reproduce the import issue:
1. Customize entry types, e.g. by adding new entry types and/or by removing and/or adding fields
2. Close/Start JabRef
3. Export preferences
4. Import preferences in JabRef installed on a different system (Win 7 as well in my case)
5. Watch preferences in JabRef preferences -> imported custom entry types can not be found
",https://github.com/JabRef/jabref/issues/2261#issuecomment-259922201,"Could you try the latest dev build from https://builds.jabref.org?
"
JabRef/jabref,"## Version information

JabRef version JabRef 3.7-dev--snapshot--2016-11-07--master--f07fa32 windows 7 6.1 amd64 Java 1.8.0_112 on Windows 7

## Issue description

JabRef is no longer capable of getting through our authenticating firewall. I used to start JabRef like this:

`""C:\Program Files\Java\jre1.8.0_112\bin\javaw.exe"" -Dhttp.proxyHost=""<myproxy>"" -Dhttp.proxyPort=""8080"" -jar ""C:\Users\<myname>\AppData\Local\JabRef\JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar""`

This still worked with the 2016-10-16 snapshot but now no longer works with the 2016-11-07 snapshot. I also tried to specify proxy/port and user/password in JabRef's settings explicitly, which did not help either.

If possible, it would be great if you made the 2016-10-16 jar file available to me again (which was removed by the update) so that I can check that this older version still works with the proxy and that this issue is is not due to some changes on our side.

## Error console - messages caused by starting a medline search

```
10:56:46.754 [JabRef CachedThreadPool] ERROR net.sf.jabref.gui.importer.fetcher.SearchBasedEntryFetcher - Error while fetching from Medline
net.sf.jabref.logic.importer.FetcherException: Unable to get PubMed IDs
	at net.sf.jabref.logic.importer.fetcher.MedlineFetcher.getPubMedIdsFromQuery(MedlineFetcher.java:114) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fetcher.MedlineFetcher.performSearch(MedlineFetcher.java:162) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.gui.importer.fetcher.SearchBasedEntryFetcher.processQuery(SearchBasedEntryFetcher.java:37) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.gui.importer.fetcher.GeneralFetcher.lambda$actionPerformed$5(GeneralFetcher.java:217) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_112]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_112]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_112]
Caused by: java.net.UnknownHostException: eutils.ncbi.nlm.nih.gov
	at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.PlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.Socket.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.NetworkClient.doConnect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsClient.<init>(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsClient.New(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source) ~[?:1.8.0_112]
	at java.net.URL.openStream(Unknown Source) ~[?:1.8.0_112]
	at net.sf.jabref.logic.importer.fetcher.MedlineFetcher.getPubMedIdsFromQuery(MedlineFetcher.java:76) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	... 6 more
```

## Error console - messages at startup

By the way, I already get quite a number of warnings just after startup before doing anything in the application:

```
10:55:06.760 [AWT-EventQueue-0] INFO  net.sf.jabref.logic.importer.OpenDatabase - Opening: C:\local\Bibliography\bibliography.bib
10:55:07.906 [AWT-EventQueue-0] WARN  net.sf.jabref.model.search.rules.GrammarBasedSearchRule - Search query invalid
org.antlr.v4.runtime.misc.ParseCancellationException: null
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:90) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at org.antlr.v4.runtime.Parser.match(Parser.java:227) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.start(SearchParser.java:110) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.init(GrammarBasedSearchRule.java:91) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.validateSearchStrings(GrammarBasedSearchRule.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.SearchRules.getSearchRuleByQuery(SearchRules.java:18) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.getSearchRule(GroupSearchQuery.java:35) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.<init>(GroupSearchQuery.java:20) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.groups.SearchGroup.<init>(SearchGroup.java:42) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.searchGroupFromString(GroupsParser.java:168) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.fromString(GroupsParser.java:79) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.importGroups(GroupsParser.java:39) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:54) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:237) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:169) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:89) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.Importer.importDatabase(Importer.java:74) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:43) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:213) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:97) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:123) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_112]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_112]
Caused by: org.antlr.v4.runtime.InputMismatchException
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:85) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	... 38 more
10:55:07.913 [AWT-EventQueue-0] WARN  net.sf.jabref.model.search.rules.GrammarBasedSearchRule - Search query invalid
org.antlr.v4.runtime.misc.ParseCancellationException: null
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:90) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at org.antlr.v4.runtime.Parser.match(Parser.java:227) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.expression(SearchParser.java:220) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.start(SearchParser.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.init(GrammarBasedSearchRule.java:91) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.validateSearchStrings(GrammarBasedSearchRule.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.SearchRules.getSearchRuleByQuery(SearchRules.java:18) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.getSearchRule(GroupSearchQuery.java:35) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.<init>(GroupSearchQuery.java:20) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.groups.SearchGroup.<init>(SearchGroup.java:42) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.searchGroupFromString(GroupsParser.java:168) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.fromString(GroupsParser.java:79) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.importGroups(GroupsParser.java:39) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:54) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:237) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:169) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:89) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.Importer.importDatabase(Importer.java:74) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:43) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:213) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:97) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:123) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_112]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_112]
Caused by: org.antlr.v4.runtime.InputMismatchException
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:85) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	... 39 more
10:55:07.917 [AWT-EventQueue-0] WARN  net.sf.jabref.model.search.rules.GrammarBasedSearchRule - Search query invalid
org.antlr.v4.runtime.misc.ParseCancellationException: null
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:90) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at org.antlr.v4.runtime.Parser.match(Parser.java:227) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.expression(SearchParser.java:220) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.start(SearchParser.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.init(GrammarBasedSearchRule.java:91) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.validateSearchStrings(GrammarBasedSearchRule.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.SearchRules.getSearchRuleByQuery(SearchRules.java:18) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.getSearchRule(GroupSearchQuery.java:35) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.<init>(GroupSearchQuery.java:20) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.groups.SearchGroup.<init>(SearchGroup.java:42) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.searchGroupFromString(GroupsParser.java:168) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.fromString(GroupsParser.java:79) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.importGroups(GroupsParser.java:39) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:54) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:237) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:169) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:89) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.Importer.importDatabase(Importer.java:74) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:43) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:213) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:97) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:123) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_112]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_112]
Caused by: org.antlr.v4.runtime.InputMismatchException
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:85) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	... 39 more
10:55:07.921 [AWT-EventQueue-0] WARN  net.sf.jabref.model.search.rules.GrammarBasedSearchRule - Search query invalid
org.antlr.v4.runtime.misc.ParseCancellationException: null
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:90) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at org.antlr.v4.runtime.Parser.match(Parser.java:227) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.expression(SearchParser.java:220) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.search.SearchParser.start(SearchParser.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.init(GrammarBasedSearchRule.java:91) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.GrammarBasedSearchRule.validateSearchStrings(GrammarBasedSearchRule.java:108) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.rules.SearchRules.getSearchRuleByQuery(SearchRules.java:18) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.getSearchRule(GroupSearchQuery.java:35) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.search.GroupSearchQuery.<init>(GroupSearchQuery.java:20) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.model.groups.SearchGroup.<init>(SearchGroup.java:42) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.searchGroupFromString(GroupsParser.java:168) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.fromString(GroupsParser.java:79) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.groups.GroupsParser.importGroups(GroupsParser.java:39) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.util.MetaDataParser.parse(MetaDataParser.java:54) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parseFileContent(BibtexParser.java:237) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:169) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexParser.parse(BibtexParser.java:89) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:70) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.Importer.importDatabase(Importer.java:74) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.fileformat.BibtexImporter.importDatabase(BibtexImporter.java:62) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.logic.importer.OpenDatabase.loadDatabase(OpenDatabase.java:43) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openLastEditedDatabases(JabRefGUI.java:213) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:97) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:66) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:123) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_112]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_112]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_112]
	at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_112]
	at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_112]
Caused by: org.antlr.v4.runtime.InputMismatchException
	at org.antlr.v4.runtime.BailErrorStrategy.recoverInline(BailErrorStrategy.java:85) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	... 39 more
10:55:07.926 [AWT-EventQueue-0] INFO  net.sf.jabref.logic.importer.OpenDatabase - Opening: C:\local\Bibliography\16349.bib
10:55:11.014 [SwingWorker-pool-5-thread-1] WARN  net.sf.jabref.gui.worker.VersionWorker - Could not connect to the updateserver.
java.net.UnknownHostException: api.github.com
	at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.PlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at java.net.Socket.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.NetworkClient.doConnect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.http.HttpClient.openServer(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsClient.<init>(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsClient.New(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:1.8.0_112]
	at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source) ~[?:1.8.0_112]
	at net.sf.jabref.logic.util.Version.getAllAvailableVersions(Version.java:93) ~[JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.gui.worker.VersionWorker.doInBackground(VersionWorker.java:55) [JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at net.sf.jabref.gui.worker.VersionWorker.doInBackground(VersionWorker.java:29) [JabRef-3.7-dev--snapshot--2016-11-07--master--f07fa32.jar:?]
	at javax.swing.SwingWorker$1.call(Unknown Source) [?:1.8.0_112]
	at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_112]
	at javax.swing.SwingWorker.run(Unknown Source) [?:1.8.0_112]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_112]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_112]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_112]

```
",https://github.com/JabRef/jabref/issues/2249#issuecomment-259111806,"I uploaded a jar based on commit 38fe410 from 2016-10-16 here: http://www.filedropper.com/jabref-37dev-fat

Regarding the other exceptions: Can you please send us your bib file - or at the least the group-meta-data to developers@jabref.org?

You can find the meta-data at the bottom of your bib-file if you open the file with a text editor. Thanks!
"
JabRef/jabref,"The functionality added in https://github.com/JabRef/jabref/issues/1023 is broken in the current build. Namely it fails to fetch the pdf file. It generates an empty file without extension. 

Also by default when adding an entry from the ArXiv web search it includes the online link. I would like to deactivate that or a way to order that last with respect to the local PDF copy.
",https://github.com/JabRef/jabref/issues/2222#issuecomment-257806444,"For me, it works as expected on current master with the reference mentioned in #1023, which is this one: https://arxiv.org/abs/1603.06570v1

@barefeg Could you please provide your JabRef and Java versions, as well as an entry that fails? Maybe it is not JabRef, but your machine that is being blocked for some reason.
"
JabRef/jabref,"JabRef 3.7-dev--snapshot--2016-11-01--master--458ee79
windows 10 10.0 amd64 
Java 1.8.0_111

Steps to reproduce:

1. open entry editor
2. change entry
3. Freeze. 50% CPU

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
",https://github.com/JabRef/jabref/issues/2220#issuecomment-257681779,"Can you do a git bisect run to determine which commit is the cause?
"
JabRef/jabref,"JabRef 3.7dev--snapshot--2016-10-24--master--7d6ee2b
linux 3.13.0-100-generic i386 
Java 1.8.0_91

When dealing with shared databases (Postgres at least) metadata other then databaseType get lost on reconnect. No exceptions.

Steps to reproduce:

1. Create a (local Postgres) database
2. Populate it with JabRef
3. Change e.g. ""general file directory"" in the database properties dialogue
4. Without disconnecting, check that the METADATA table contains a record for fileDirectory and that it is respected by JabRef
5. Disconnect, connect again. fileDirectory is gone",https://github.com/JabRef/jabref/issues/2219#issuecomment-259957547,"What is the status of this issue? @tobiasdiez @obraliar 
"
JabRef/jabref,"It seems that our implementation of the Astrophysics Data System Fetcher is broken.

We are getting a 503 Service Unavailable error, although the service is well up and running. I can reproduce the error locally and also travis gets it, which breakes the master build. The URLs mentioned in the tests can be accessed when copying them into the browser and visiting the entry manually. Maybe this is some bot-detection defense on their side.

I turned of the failing tests in master with 573328c7bd12c93dd37109852e3ac3732f1d7598, so that we have a working master again. The commit can be reverted once we have a working fetcher again.

Here comes an excerpt of the travis build
```
net.sf.jabref.logic.importer.fetcher.AstrophysicsDataSystemTest > testPerformSearchByXiongSunEntry FAILED

    net.sf.jabref.logic.importer.FetcherException: An I/O exception occurred

        at net.sf.jabref.logic.importer.IdBasedParserFetcher.performSearchById(IdBasedParserFetcher.java:85)

        at net.sf.jabref.logic.importer.fetcher.AstrophysicsDataSystemTest.testPerformSearchByXiongSunEntry(AstrophysicsDataSystemTest.java:187)

        Caused by:

        java.io.IOException: Server returned HTTP response code: 503 for URL: http://adsabs.harvard.edu/doi/10.1109/TGRS.2006.890567?data_type=BIBTEXPLUS

            at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1876)

            at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1474)

            at java.net.URL.openStream(URL.java:1045)

            at net.sf.jabref.logic.importer.IdBasedParserFetcher.performSearchById(IdBasedParserFetcher.java:63)

            ... 1 more
```
",https://github.com/JabRef/jabref/issues/2218#issuecomment-257268786,"Potential quickfix: User Agent?
"
JabRef/jabref,"JabRef current master.
1. Open JabRef
2. Open a database with groups
3. Toggle groups interface to have it shown
4. Close JabRef
5. Open JabRef

Groups interface is not shown, but an exception is printed to the console:

```
11:59:03.633 [AWT-EventQueue-0] ERROR net.sf.jabref.gui.SidePaneManager - Following side pane could not be found: groups
java.lang.ClassNotFoundException: groups
    at java.net.URLClassLoader.findClass(Unknown Source) ~[?:1.8.0_101]
    at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_101]
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) ~[?:1.8.0_101]
    at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_101]
    at java.lang.Class.forName0(Native Method) ~[?:1.8.0_101]
    at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_101]
    at net.sf.jabref.gui.SidePaneManager.getPreferredPositions(SidePaneManager.java:169) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.SidePaneManager.access$000(SidePaneManager.java:25) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.SidePaneManager$PreferredIndexSort.<init>(SidePaneManager.java:215) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.SidePaneManager.show(SidePaneManager.java:126) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.SidePaneManager.show(SidePaneManager.java:98) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.openoffice.OpenOfficeSidePanel.<init>(OpenOfficeSidePanel.java:23) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.openoffice.OpenOfficePanel.<init>(OpenOfficePanel.java:136) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.JabRefFrame.initSidePane(JabRefFrame.java:721) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.JabRefFrame.init(JabRefFrame.java:614) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.gui.JabRefFrame.<init>(JabRefFrame.java:546) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.JabRefGUI.openWindow(JabRefGUI.java:103) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.JabRefGUI.<init>(JabRefGUI.java:66) ~[JabRef-dev-fat.jar:?]
    at net.sf.jabref.JabRefMain.lambda$start$1(JabRefMain.java:136) ~[JabRef-dev-fat.jar:?]
    at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_101]
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_101]
    at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_101]
    at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_101]
    at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_101]
    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_101]
    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_101]
    at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_101]
    at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_101]
```
",https://github.com/JabRef/jabref/issues/2201#issuecomment-256619089,"Using IntelliJ to run master toggling works (but the toggled pane is not shown on next startup, which is a known issue - however, there is no exception for me).

Are you using a jar version or are you running from the source?
"
JabRef/jabref,"Reproducible in current master: https://github.com/JabRef/jabref/commit/3f61baeb4c22a2b3950d6a6bd5a684edd877ebd7
Steps to reproduce: 
1. Have a Database with 1 entry.
2. Move file to position after entry (see Screenshot)
3. Exception occurs.

As far as I can tell this is just a dev bug

![jabrefdraganddrop](https://cloud.githubusercontent.com/assets/320228/19420072/2edf0c08-93e4-11e6-93f0-b8f23b454b1a.png)

```
exception in thread ""JabRef CachedThreadPool"" java.lang.IndexOutOfBoundsException: Cannot get at -1 on list of size 1
    at ca.odell.glazedlists.TransformedList.get(TransformedList.java:105)
    at net.sf.jabref.gui.maintable.MainTable.getEntryAt(MainTable.java:355)
    at net.sf.jabref.gui.externalfiles.DroppedFileHandler.linkPdfToEntry(DroppedFileHandler.java:173)
    at net.sf.jabref.pdfimport.PdfImporter.importPdfFilesInternal(PdfImporter.java:160)
    at net.sf.jabref.pdfimport.PdfImporter.importPdfFiles(PdfImporter.java:114)
    at net.sf.jabref.gui.groups.EntryTableTransferHandler.lambda$0(EntryTableTransferHandler.java:313)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)

```
",https://github.com/JabRef/jabref/issues/2171#issuecomment-265452494,@Siedlerchr Works for me with Jabref 3.7 and creates a new entry. Can you please check if this is still valid?
JabRef/jabref,"Follow up for the problem in #1989 
@tschechlovdev 

Atm the commit was reverted in #2077 

I found this discussion here: 

http://stackoverflow.com/questions/2326107/what-happened-to-jaxbs-namespaceprefixmapper-in-jdk6u18
",https://github.com/JabRef/jabref/issues/2078#issuecomment-249983664,"So if I get it right, I should not use the NamespacePrefixMapper any more. There is an interface for an [JAXBNamepsacePrefixMapper](http://mvnrepository.com/artifact/com.googlecode.jaxb-namespaceprefixmapper-interfaces/JAXBNamespacePrefixMapper/2.2.4). Can this be used?
"
JabRef/jabref,"I've observed a regression with #2002. Under certain conditions other fields are not displayed. It's better to undo the commit. Should I add a new pull request to revert the changes?
",https://github.com/JabRef/jabref/issues/2064#issuecomment-249524966,"Okay, I merged your undo PR in. Would you like to investigate if you could find a solution for the problem?
"
JabRef/jabref,"JabRef 3.7dev--snapshot--2016-09-16--master--629c3f0
windows 10 10.0 amd64 
Java 1.8.0_101

With the current master branch (master--629c3f0) there is a significant decrease in performance when using the ""search"" feature of Jabref compared to a previous master branch (master--4913665).

Before the update entering a search term led to an instantaneous search and nearly instantaneous results. Now I have to wait up to 3 sec every time I'm entering a search term or modifying it. As I'm using the search feature quite extensively this is quite annoying.

The database is quite large (>8000 entries), but this shouldn't be the problem as it worked before the update.

Unfortunately I forgot to save the previous installer - Could you provide me with the older master--4913665?
",https://github.com/JabRef/jabref/issues/1993#issuecomment-247555319,"I cannot confirm this on my ~2200 entry database. There, search returns instant results. However, my database is also considerably smaller than yours. Also, I am not up to date with the recent changes in search. @koppor?

Also, @JabRef/developers What is the largest test file we have for testing performance?
"
JabRef/jabref,"JabRef version3.6 on Mac OS X 10.11.6 is frequently, but not always, freezing when, after entering required fields and some optional fields, I return to Required fields and click the ""Magic Wand"" to try to generate a BibTeX key. Int freezes to the point that I cannot even bring up the OS X Dock.

I'm new to JabRef (please be gentle!) and so don't know where the log file is stored.

Note: I did see the discussion at http://tex.stackexchange.com/questions/327128/jabref-3-6-impossible-to-generate-bibtex-keys, which is evidently for a Windows version, whereas my platform is OS X. And I see no preference allowing  ""automatic generation of BibTex keys when they are empty"", such as is mentioned in that post.
",https://github.com/JabRef/jabref/issues/1966#issuecomment-246595572,"@chochreiner @steimlfk Can you have a look?

Can you send us an example entry and your BibTeX key generator pattern?
"
JabRef/jabref,"JabRef version 3.7dev (latest) on Windows 10

Steps to reproduce:
1. Have an entry with url field `http://www.thinkmind.org/index.php?view=article&amp;articleid=cloud_computing_2013_1_20_20130`
2. Check integrity
3. As url has `&amp;` inside it, an integrity check violation is shown. But the url is perfectly valid and no integrity check violation should be shown.
",https://github.com/JabRef/jabref/issues/1958#issuecomment-246617937,"Like this? `if (!InternalBibtexFields.getFieldProperties(field.getKey()).contains(FieldProperty.VERBATIM)) {`
"
JabRef/jabref,"JabRef version 3.6 on Debian 8 Jessie
Steps to reproduce:
1. click on Help inside Jabref
2. A browser opens at [https://help.jabref.org/it/](https://help.jabref.org/it/)

Obviously, this depends on the fact that my operating system is in Italian and that there is no documentation in this language.
Could you make sure that, in the absence of documentation in a particular language, Jabref points to the documentation in, for ex., English?

Thank you very much for your attention,
Domenico
",https://github.com/JabRef/jabref/issues/1937#issuecomment-245529725,"To implement redirection, we would have to add redirect statements for all unavailable localizations to all english help pages, am I right?

Sounds pretty doable, overall.
"
JabRef/jabref,"JabRef 3.5
windows 10 10.0 amd64 
Java 1.8.0_101
1. File > Open database, open a bib file
2. Show preferences, string working directory
3. string is a full path (with bib file) not a directory

""Save database as"" works correct.
",https://github.com/JabRef/jabref/issues/1803#issuecomment-241285935,"Is this just a ui issue or has this any Consequences in the logic right now?
"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef 3.6dev--snapshot--2016-08-16--master--257ba21 windows 10 10.0 amd64 Java 1.8.0_101

Steps to reproduce:
1. Web search interface
2. Google Scholar
3. Fetch
4. Preview with wrong encoding

![scholar](https://cloud.githubusercontent.com/assets/15456836/17736650/550a85cc-6489-11e6-9f4f-d0068af0cac6.png)
",https://github.com/JabRef/jabref/issues/1762#issuecomment-240833981,"Have not checked the source... @oscargus Have you made a change in one of your recent PRs that always an encoding must be set in the fetchers? I don't exactly remember this... 
"
JabRef/jabref,"JabRef version 3.5 on Windows 10

Steps to reproduce:
1. Insert [{a in article's title field
2. Save database
3. Error setting field empty
4. forced: Kill JabRef process

![jabref - c__users_lange_downloads_test bib_ bibtex mode _2016-08-17_01-54-20](https://cloud.githubusercontent.com/assets/15456836/17719978/bf292780-641e-11e6-8084-b4e528022000.png)
(covering another message box: Error: Braces don't match)
",https://github.com/JabRef/jabref/issues/1757#issuecomment-240325845,"Thank you for your report.
I have tried to reproduce it with the current development version (on my linux computer): It shows the message box ""Error:Braces don't match"", but I could click on ""OK"" and continue editing the file. So, it seems to work.
Please, could you try with the dev version on your windows 10?
You can find the development version here: http://builds.jabref.org/master/
"
JabRef/jabref,"JabRef version 3.6dev

Steps to reproduce:
1. Use the character ""@"" in a field of an entry
2. Save the file; Entry looks like this:

```
@Article{asda,
  author = {b√∂ser Tit@l},
  title  = {change...},
}
```
1. Change the entry
2. Save again - file is broken:

```
@Article{asda,
  author = {b√∂ser Tit

@Article{asda,
  author = {b√∂ser Tit@l},
  title  = {change...},
}
```

I don't have any clue why this is happening. But this is clearly a blocker for a 3.6 release. @lenhard You want to waste some of your valuable vacation time? :wink: 
",https://github.com/JabRef/jabref/issues/1716#issuecomment-239325608,"Original reported USER robustness feature request.
Ver2.9.2 managed to read the file that had been corrupted by Ver3.6dev, but could not open if   Ver3.6dev saved it/exported it again! The development version could open the file it created, but not any second saved or exported versions! Doesn't make sense to me, but again a pre V3 seems more robust. Robustness is more important than speed for me.

Is it possible to read .bib a file in a way that, if a single entry corrupts, JabRef detects the start of the next entry so that only the affected part is lost (not the whole file)? Exporting corrupt entries to ""corrupt bib entries.txt"" would allow easier checking and resurrecting the entries as required by non-experts.

Sometimes I do direct PFE edits on my bib file. This is a great strength of JabRef/.bib files and so far so good, but entry corruption is easy. 

The current error message for this issue identified the last line in the file, and I only identified it by luck the last listed entry in Jabref corresponded to the fault in the file! By adding a 'new entry' identifier to the read in parser the error location could also be more closely specified. I imagine searching for @'something' and where the 'something' was all entry types used in the .bib file. If this adds too much time if put inline could it be a 'try read corrupt file' option?
"
JabRef/jabref,"JabRef version 3.5 on Windows 10

Steps to reproduce:
1. (Main menu) Groups
2. Toggle groups interface
3. Automatically create groups for database (Magic wand symbol)
4. Generate groups for author last names
5. (Some) Group entries are created in Latex code (example: B{""{o}}hmer)
6. Selecting entries fails (no result)
",https://github.com/JabRef/jabref/issues/1681#issuecomment-237844684,"I tried this now and to me it works (current development version, but I do not see that anything should have been fixed since 3.5). I'm wondering if it related to how the names are written? To me, the following works: `Palom\""aki`, `Curtic\u{a}pean`, `P\'{a}pay`, `K\""{a}llstr\""{o}m`. After doing Latex -> Unicode -> Latex it also works for `Curtic{\u{a}}pean`, etc.

Do you have the number of entries showing? Are there any entries in the group you selected? (Groups settings button.)
"
JabRef/jabref,"1. doi import does not work with the DO or M3 (RIS standard fields)
2. patent is imported as ""other""
",https://github.com/JabRef/jabref/issues/1647#issuecomment-236545484,"Thanks for reporting. Could you please write the steps to reproduce and the file(s) you have used ? That would help me a lot. 
"
JabRef/jabref,"JabRef 3.5
windows 10 10.0 amd64 
Java 1.8.0_101

The Jabref websearch with Google Scholar does not show any results on the second pop-up menu
Steps to reproduce:
1. Set Web search in Jabref to ""Google Scholar""
2. Copy ""On the relationship between tooth shape and masticatory efficiency: a finite element study"" into the Web search field
3. Fetch
4. One article is found
5. Tick the ""Keep"" box and click on ""OK""
6. The second menu turns up: No entry to select is shown. The ""Select all"", ""Deselect all"", ""Delete"", ""Generate now"", ""OK"" and ""Cancel"" buttons are all shown as activable.

I guess this is the exact same problem as described in:
https://sourceforge.net/p/jabref/mailman/message/32485880/

I haven't had this problem with an earlier development version of Jabref 3.5 (JabRef-3.5dev--snapshot--2016-06-28--master--a24b544), but since I've upgraded I've encountered it now a couple of times. Can you confirm this issue?

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
",https://github.com/JabRef/jabref/issues/1639#issuecomment-236146844,"I can confirm it. Probably related to the email you found in that it is a consequence of Google Scholar changing format on the web page. Here it seems like they changed relative links to full links as the error message reads:

```

12:20:11.696 [JabRef CachedThreadPool] WARN  net.sf.jabref.importer.fetcher.GoogleScholarFetcher - Cannot download entry from Google scholar
java.net.UnknownHostException: scholar.google.comhttp
    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_101]
    at java.net.PlainSocketImpl.connect(Unknown Source) ~[?:1.8.0_101]
```

so what was earlier a relative link `/...` is now a full link `http://...`.
"
JabRef/jabref,"JabRef version: Latest developer

Search for e.g. `booktitle=(` without regex or `booktitle=\(` with regex. It seems like the parser does not find the field as it says `any field that contains booktitle=(`. Maybe a weird case, but I actually wanted to do that right now.

Searching for `(` works well though.
",https://github.com/JabRef/jabref/issues/1633#issuecomment-238762667,"Although this is closed I post here as a user report as I think my experience is related to the ‚Äúuncertain‚Äù search nomenclature that is required.  Also related is issue #1505 regarding the apparent heterogeneous regex-regular expression implementation. IMHO being able to search reliably IS ESSENTIAL and of high priority for large database situation.
I was attempting to do a general search with a specific exclusion (word1 and not word2) and conclude that at best the current help files http://help.jabref.org/en/SearchHelp and http://jabref.sourceforge.net/help/SearchHelp.php for `Search` are misleading and incomplete. The poor search behaviour has been present within JabRef and the recent changes have unfortunately not corrected these issues it seems.

Hover-over the search entry shows the full logic in words. This is a great feature, but doesn't seem to reflect what the help file suggest is should, not what Search seems to do.

""""word1 and not word2""""  selects all entries and highlights all those words including 'and' and 'not'.
""""word1 not word2"""" selects all entries and highlights all those words including 'not'.

If I enter ""word1 and not field2=word2""""  eg: ""flow and not memo=PhD"" search totally fails with hover-over showing ""... flowand and  not and memo=PhD""  It appears to not recognise the and, instead ignoring the space and adding it to the word, then inserting extra ands!

I concluded the algorithm has be rewritten to look for `Field2=word1...Field2=word2...` but how do you specify to search all fields for one word? From the helpfile the following should work
 title|keywords = ""image processing"" 
 title--keywords = ""image processing""  but neither works.
 eg: (author = miller or title|keywords = ""image processing"") and not author = brown cut and paste from the help file does work (neither with a hyphen or a double hypen).

Interestingly `Search` automatically decides content in a non-regex entry is regex, but it doesn't seem to work.
A very useful trick to solve my composite entry requiring a search on all fields would be .\* =flow . The hover-over pop-up states that ""any entries in which the field matching .\* contains the word flow."" however it does not do this in practice. 

entrytype=Phdthesis where = means contains works
entrytype!=PhD where != means does not contain works
entrytype==Phdthesis  where == means is exactly works
""word1 word2 word 3"" where """" indicate a string works

Bracketing doesn't work at all as I expect from the help files with spaces before and after words changing the hover-over displayed meaning.

I expect the problems identified are the different logic and regexpertise level of the programmers exacerbated by the limited help available. If so could this flag an upgrade of the help file with more extensive examples of multipart searches.
"
JabRef/jabref,"JabRef version <Latest master>

I got a BIB file from a comment to clean up and it couldn't be read. The ""Error opening file"" gave the informative message ""null"".

The reasons seems to be this line:

```
@Comment Any references
```

as the log message says (the line above is line 5):

```
11:28:12.979 [JabRef CachedThreadPool] ERROR net.sf.jabref.importer.OpenDatabaseAction - Error loading database C:\Users\Oscar\Documents\bibl.bib
java.io.IOException: Error in line 5: Expected { but received  
    at net.sf.jabref.importer.fileformat.BibtexParser.consume(BibtexParser.java:915) ~[bin/:?]
    at net.sf.jabref.importer.fileformat.BibtexParser.parseBracketedTextExactly(BibtexParser.java:856) ~[bin/:?]
```

Not sure what I expect to happen, but maybe that the error message ""Error in line 5: Expected { but received   "" is shown. Not sure if it is worthwhile to support this somehow understandable interpretation of @Comment though...
",https://github.com/JabRef/jabref/issues/1632#issuecomment-235544712,"... I think the current implementation is ""wrong"" with respect to the information provided in the link as JabRef only accepts `@comment { .... }` as valid comments... right? @lenhard 
"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version <!-- version as shown in the about box --> on <!-- Windows 10|Ubuntu 14.04|Mac OS X 10.8|... --> 3.5

<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Steps to reproduce:
1. click on world icon to import from DOI to BibTeX
2. Choose any DOI e.g. 10.1103/PhysRevC.93.064002
3. Click Fetch

Everything is imported except the article number. Physical review no longer has regular page numbers but an article number, which is used in place of page number in citing articles.
Thanks for the great program.

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
",https://github.com/JabRef/jabref/issues/1603#issuecomment-233588549,"Thanks for your report! 

However, I think that the problem is on the side of the journal and not on JabRef. When I follow the DOI you gave above, I arrive at the following bibtex entry on export:

```
@article{PhysRevC.93.064002,
  title = {Testing semilocal chiral two-nucleon interaction in selected electroweak processes},
  author = {Skibi\ifmmode \acute{n}\else \'{n}\fi{}ski, R. and Golak, J. and Topolnicki, K. and Wita\l{}a, H. and Epelbaum, E. and Krebs, H. and Kamada, H. and Mei\ss{}ner, Ulf-G. and Nogga, A.},
  journal = {Phys. Rev. C},
  volume = {93},
  issue = {6},
  pages = {064002},
  numpages = {14},
  year = {2016},
  month = {Jun},
  publisher = {American Physical Society},
  doi = {10.1103/PhysRevC.93.064002},
  url = {http://link.aps.org/doi/10.1103/PhysRevC.93.064002}
}
```

In BibTeX, an article number is stored in the `number` field. If the journal exports data in the wrong BibTeX fields, there is nothing we can do.

Can a second person please re-check and close on confirmation?
"
JabRef/jabref,"<!-- Note: Please use the GitHub Issue tracker only for BugReports. 
Feature requests,  questions and general feedback is now handled at http://discourse.jabref.org 
Thanks! --> 

JabRef version latest dev on Windows 10

<!-- Hint: If you use a development version (available at http://builds.jabref.org/master/), ensure that you use the latest one. -->

Steps to reproduce:
1. Activate Groups Edit mode (under Groups Settings)
2. Deactivate it again, everything looks fine
3. Restart JabRef and edit mode is active again

By the way, what is the purpose of this edit mode??

<!-- If applicable, excerpt of the bibliography file, screenshot, and excerpt of log (available in the error console) -->
",https://github.com/JabRef/jabref/issues/1550#issuecomment-231009941,"[The help](http://help.jabref.org/en/GroupsHelp) talks about double clicking for edit mode.

What does your edit mode describe? Maybe, it is an ancient feature? Does git blame or a `gitk --all` on the Java class implementing that edit mode give some hints?

Is there a screenshot available?
"
JabRef/jabref,"JabRef 3.4
windows 7 6.1 amd64 
Java 1.8.0_74

Steps to reproduce:
1. Database with 2 different entries
2. Hit Get Fulltext on entry 1 (e.g. ABC)  -> Searching for Fulltext starts
3. Hit Get Fulltext on entry 2  (e.g. DEF) -> Searching for Fulltext starts 
4. Download Dialog appears: PDF is named after the second entry
5. Download Dialog appears a second time: PDF is named after the second entry
6. If you rename the second pdf, e.g. _2.pdf and look at its content: Different files
",https://github.com/JabRef/jabref/issues/1496#issuecomment-259963868,"@stefan-kolb, @oscargus what is the status of this bug? Is it indeed fixed with #1869?
"
JabRef/jabref,"When moving from JabRef 9.10 to 3.4, the philosophy governing groups changed. Rather than 
a key being linked to a group in ""jabref-meta: groupstree"" the group is attached to the individual entry, as in ""groups    = {culture},"", 

The big disadvantage is that groups are no longer in a hierarchy but a independent. As the result, a key associated, say, with ""culture"", is associated with that term everywhere it appears in the database. So when I select ""culture"", hundreds of keys are elected that use the word ""culture"" in a different context or meaning. If I understand the situation there is no way now to avoid the hundreds of irrelevant links. 

The issue is now to avoid duplicating the situation in the future. I find that if a BibEntries share a
string, they are viewed as the same. Since they are case sensitive, I can distinguish Culture, cUlture, cuLture, etc. Then go through all the keys selected by ""culture"" and re-associate them with one of the new names. Since this is hundreds of hours of work, I wonder if there is a better method.
",https://github.com/JabRef/jabref/issues/1495#issuecomment-225511635,"So the issue is when the group name is used multiple times in a large group hierarchy at different places? Like you have `GroupA -> culture, GroupB -> GroupC -> culture` and in this case the two groups will be merged falsely? Did I get your question right?

JabRef should not be doing something like this. We need a step to uniquify the group names before they are converted. What do you think @tobiasdiez ? Or this this already done? I am a little bit uncertain if I have understood the question correctly.
"
JabRef/jabref,"JabRef adds now the registry entries 
HKCU\Software\JabRef
and
HKLM\Software\JabRef
as I requested in #1362

However, when uninstalling JabRef 3.4 these registry paths were not removed.
",https://github.com/JabRef/jabref/issues/1490#issuecomment-225625450,"Does the fix solve your issue? @donovaly 
"
JabRef/jabref,"JabRef 3.4dev--snapshot--2016-05-19--master--ed638e2
windows 10 10.0 amd64 
Java 1.8.0_92

Save actions are saved in a single line at the moment. 

``` diff
@Comment{jabref-meta: saveActions:enabled;
-pages[normalize_page_numbers]
-month[normalize_month]
-author[normalize_names]
-booktitle[ordinals_to_superscript]
-;}
+pages[normalize_page_numbers]month[normalize_month]author[normalize_names]booktitle[ordinals_to_superscript];}
```

Expected:

``` diff
@Comment{jabref-meta: saveActions:enabled;
pages[normalize_page_numbers]
month[normalize_month]
author[normalize_names]
booktitle[ordinals_to_superscript]
;}
```
",https://github.com/JabRef/jabref/issues/1419#issuecomment-220981561,"JabRef 3.4dev--snapshot--2016-05-23--master--4aa51a3
windows 7 6.1 amd64 
Java 1.8.0_92

I just tried this in current master and everything works as expected. The save actions are written to file as you outline under ""Expected"". Can someone else reproduce this issue? Might there be something strange going on with your newline configuration?
"
JabRef/jabref,"JabRef 3.4dev--snapshot--2016-05-13--master--f28466e
windows 7 6.1 amd64 

Steps to reproduce:
1. Take any bib file, and press export to html
2. Open the html in a texteditor, there will be no < / body > or < / htm l>

Also a custom export I have been using seems to suffer (as if the end.layout is not used).

Thanks in advance for looking into it!
",https://github.com/JabRef/jabref/issues/1399#issuecomment-219212399,"Thank you for your report :+1:
What do you expect?
Can you give a minimal example of your problem? I tried it with the the current `master` and exported 2 entries and couldn't see what's missing.
"
JabRef/jabref,"A new personal journal list can't be created in the journal abbreviations dialog.
JabRef 3.4dev
mac os x 10.11.1 x86_64 
Java 1.8.0_77

Steps to reproduce:
1. Click the ""Manage journal abbreviations"" menu item in the ""Options"" menu
2. In the journal abbreviations dialog make sure the ""New file"" checkbox is selected and choose a new path and file name
3. Click the ""+"" Button and add a test entry
4. Click the ""OK"" button of the journal abbreviations dialog
5. You should see the error message ""Error opening file: <yourFilePath>""

![screen shot 2016-05-13 at 10 31 34](https://cloud.githubusercontent.com/assets/15340757/15242991/5f373968-18f9-11e6-893b-72c341eb52e0.png)
",https://github.com/JabRef/jabref/issues/1394#issuecomment-218990082,"Thanks for your report. I will try to reproduce it on other systems as well.
Could you please check if the Error Log contains further information?

2016-05-13 11:00 GMT+02:00 Tobias Boceck notifications@github.com:

> A new personal journal list can't be created in the journal abbreviations
> dialog.
> JabRef 3.4dev
> mac os x 10.11.1 x86_64
> Java 1.8.0_77
> 
> Steps to reproduce:
> 1. Click the ""Manage journal abbreviations"" menu item in the ""Options""
>    menu
> 2. In the journal abbreviations dialog make sure the ""New file""
>    checkbox is selected and choose a new path and file name
> 3. Click the ""+"" Button and add a test entry
> 4. Click the ""OK"" button of the journal abbreviations dialog
> 5. You should see the error message ""Error opening file: ""
> 
> [image: screen shot 2016-05-13 at 10 31 34]
> https://cloud.githubusercontent.com/assets/15340757/15242991/5f373968-18f9-11e6-893b-72c341eb52e0.png
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub
> https://github.com/JabRef/jabref/issues/1394
"
JabRef/jabref,"# JabRef version 3.3 on Windows 7 64 bit

The option ""Save entries in their original order"" in database properties does not apply. When saving the database, all entries are re-sorted by the field ""YEAR""! It worked in 3.2!
",https://github.com/JabRef/jabref/issues/1357#issuecomment-218111344,"Did you try the most recent development build? Is is reproducible there?

Could you provide an example bib file, along with your preferences?
"
JabRef/jabref,"JabRef version 3.3 and 3.4-master-2016-05-03 on Windows 10 x64 doen't update displayer BibTex key in DOI fetch dialog is not updated after clicking ""Generate Now"". 

Steps to reproduce:
1. Open Jabref
2. Fetch Information by DOI
3. Press ""Generate now"" button to update BibTex key
4. Displayed BibTex Key should be updated to generated according to user preferences, but it's not. If the entry is saved now, it would contain updated key
",https://github.com/JabRef/jabref/issues/1353#issuecomment-217244650,"I can not reproduce this in the current master 1023c50c7cfc293811761a01afa3211e4eb88672
As far as I know there have been no recent changes on it.
Did you check the BibTexKey Generator Settings if they are correct?

I tried is using the following DOI: `10.2753/mis0742-1222280402`:
1. Fetch->DOI2BibTex
2. 
   ![jabreffetchdoi](https://cloud.githubusercontent.com/assets/320228/15053729/3592b8ee-1304-11e6-93d1-f3cfa2b07ae0.png)

The BibTex Key is in incorrect format `Vlas_2012` 
3. Generate now 
4. Save
The correct  generated BibTex Key is displayed both in step 3 and step 4
![jabreffetchdoi_correctkey](https://cloud.githubusercontent.com/assets/320228/15053769/64d45130-1304-11e6-9aee-2a1f71a595ac.png)
And importing the entry again, it is generated as `Vlas2012a`
"
JabRef/jabref,"JabRef version 3.3
(the issue is still present in 3.4dev--snapshot--2016-05-01--master--71eca69)

Steps to reproduce:
1. Export a BibTeX file with ""File > Export"" to BibTeXML format.

An author field entry of the form

```
Burri, Emanuel and Beglinger, Christoph and von Felten, Stefanie and Lehmann, Frank Serge
```

is exported to

```
<bibtex:author>Burri&#44 and Emanuel and Beglinger&#44 and Christoph and von Felten&#44 and Stefanie and Lehmann&#44 and Frank Serge</bibtex:author>
```

instead of (as in version 3.2)

```
<bibtex:author>Burri&#44; Emanuel and Beglinger&#44; Christoph and von Felten&#44; Stefanie and Lehmann&#44; Frank Serge</bibtex:author>
```
",https://github.com/JabRef/jabref/issues/1337#issuecomment-216124167,"Nice to see that someone is using BibTeXML. We are discussing its future at #938. What is your usecase of BibTeXML?

I feel that the author field of BibTeXML is underspecified. Maybe the ideas of docbook (http://www.docbook.org/tdg/en/html/author.html) or biblatex, which [(as default) distinguishes between](http://mirror.unl.edu/ctan/macros/latex/exptl/biblatex/RELEASE) `prefix,family,suffix,given`. - If xml elements such as `given-name` were used, one could improve XSLT scripts to provide different output formats.
"
JabRef/jabref,"If I set ""Preferences > File> Main file directory"" to ""lit"", then the default ""Link"" after ""Look up full text document"" will be ""/Applications/JabRef.app/Contents/java/app/lit/some.pdf"" instead of ""/path/to/bib/lit/some.pdf""

Version 3.3
",https://github.com/JabRef/jabref/issues/1324#issuecomment-215854549,"I can not really reproduce this in the current master: 1aa214510eee23cc586aad116780e4a875538e00
Please try again with v3.3 or the latest development snapshot from http://builds.jabref.org/master/

My settings are as follows: 
1.  Open bib databse e.g . `\JabRef\Data\myBibs\test.bib`
2.  Set Main file directory to ""lit""  (so the relative path is `myBibs\lit` )
3.  **Check ""Allow file links relative to bib""** <- Maybe you did not check that?
4. Auto ink files with names starting with bibtex keys 
5. Select an entry in the database -> File -> Auto

And now the file is attached using its relative path:
![jabrefrelativefilepath](https://cloud.githubusercontent.com/assets/320228/14927147/867888c8-0e50-11e6-8218-bc5f4593802d.png)
"
JabRef/jabref,"JabRef version 3.3 on Windows 7 64 bit

Just updated from 3.2 to 3.3, but existing external file links (relative to bib-file) are not working anymore. Found out that in Preferences... File.. ""Allow file links relative...."" was not ticked anymore. But changing the tick box has no effect!? And when restarting Jabref, the tickbox is deactivated, so preferences are actually NOT SAVED!

Can anyone reproduce?

Additional comment:
Ok, there is obviously a conflict with the Database properties - a special path was given here as a general file directory to override the preferences. It was set as a relative path, but only absolute path is obviously possible here, nevertheless what the preferences tick box say.

However: Still without the path set in database properties, the tick box  ""Allow file links relative....""  does not work anymore and is not saved with the preferences!
",https://github.com/JabRef/jabref/issues/1313#issuecomment-215392453,"Yes. This option seems not be saved correctly.

However, relative links are working for me (even without this option).

Please post an example BibTeX entry with further information where the bib-file and the referenced file is located.
Are there any messages in the different tabs of the Error Console (Help -> Show error console)?
"
JabRef/jabref,"Big issue (at least for me), linking of pdf doesn't work. Either in JabRef 3.3 or JabRef-3.4dev--snapshot--2016-04-26--master--baef229.jar

1- Instead of linking local files (my bibkey and document folder are correctly set), its seems to try to download.
2- After a while, received a dialog saying ""Fail to download cited document"" (my translation, I don't use english interface).
3- Try with different types of documents, entrytypes or differents database.
4- Even entry having an url failed. (but I never used this functionnality, so maybe my University network is not allowing this).
5- Doesn't work in either bibtex or biblatex mode.

Thanks
",https://github.com/JabRef/jabref/issues/1305#issuecomment-214875309,"Thank you for your report :+1: 

I just tried to reproduce this issue on `master`. It is working as expected for me. I need more information and maybe files to reproduce your issue. Did you try to reset your preferences?
"
JabRef/jabref,"JabRef version 3.3 on Ubuntu 14.04

Steps to reproduce:
1. Search for something in the database e.g. ""Doe""
2. Hit enter
3. Search performs correctly
4. Switch tab to another bib file
5. Switch back to tab with ""Doe"" entries.

-> ""Doe"" gets highlighted in the search field, suggesting that it has the focus to enter a new search term, similar to the behavior of web-browsers. However, in contrast to browsers, a keyboard input is not recognized by the search bar.
![image](https://cloud.githubusercontent.com/assets/8830305/14782697/28fcf048-0aeb-11e6-8ad0-85acd69f4e76.png)

Expected behavior:
- either the search field should get the focus, so a new search term can be typed immediately
- or: the search term should be highlighted only after the user clicked into the search bar. 
",https://github.com/JabRef/jabref/issues/1293#issuecomment-214293976,"Maybe this is an OS issue? On windows, I cannot reproduce. 

When switching back, the search term should not be focused/selected. 
"
JabRef/jabref,"Using JabRef version 3.3 on Windows 7 I seem to be getting exceptions when requesting BibTex data from DOI after dragging and dropping certain papers which auto populated the DOI.  

If I restart JabRef and request BibTex data from DOI again it works fine, and then fails a few papers later.

Log

```
5:52:07.499 [AWT-EventQueue-0] INFO  net.sf.jabref.importer.fetcher.CrossRef - DOI 10.1109/im.2001.924423 for Efficient Variants of the ICP Algorithm found.
```

Exception:

```
Exception in thread ""AWT-EventQueue-0"" java.lang.NullPointerException
    at java.util.Objects.requireNonNull(Unknown Source)
    at net.sf.jabref.logic.util.DOI.<init>(DOI.java:63)
    at net.sf.jabref.importer.fetcher.DOItoBibTeXFetcher.getEntryFromDOI(DOItoBibTeXFetcher.java:86)
    at net.sf.jabref.gui.mergeentries.MergeEntryDOIDialog.<init>(MergeEntryDOIDialog.java:72)
    at net.sf.jabref.gui.entryeditor.FieldExtraComponents.lambda$getDoiExtraComponent$4(FieldExtraComponents.java:193)
    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
    at java.awt.Component.processMouseEvent(Unknown Source)

```

Any ideas?
",https://github.com/JabRef/jabref/issues/1239#issuecomment-211976739,"See #1234?
"
JabRef/jabref,"JabRef version 3.2, 3.3 on Windows 10 with German Keyboard

Steps to reproduce:
1. Default Key-Binding for ""Delete Entry"" is `DELETE`
2. Change key-binding for ""Delete Entry"" using the ""grab"" functionality and hit `Entf` key on a german keyboard. Save changes and restart jabref.
3. Select and entry in the main table and hit ""Entf"" key
4. nothing happens...
",https://github.com/JabRef/jabref/issues/1235#issuecomment-222689175,"@matthiasgeiger will you have a look here? Otherwise, move it to the milestone 3.5
"
JabRef/jabref,"JabRef version JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar on Linux Mint LMDE

Steps to reproduce:
1. Options -> Preferences
2. Select ""Brazilian Portuguese""
3. Restart JabRef
   ==> English interface...
   (all other languages work as expected)

Log:

22:03:37.907 [AWT-EventQueue-0] WARN  net.sf.jabref.logic.l10n.Localization - Could not find bundles for language pt_br, switching to full english language
java.util.MissingResourceException: Can't find bundle for base name l10n/JabRef, locale pt_br
    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564) ~[?:1.8.0_66]
    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387) ~[?:1.8.0_66]
    at java.util.ResourceBundle.getBundle(ResourceBundle.java:890) ~[?:1.8.0_66]
    at net.sf.jabref.logic.l10n.Localization.createResourceBundles(Localization.java:41) ~[JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar:?]
    at net.sf.jabref.logic.l10n.Localization.setLanguage(Localization.java:32) ~[JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar:?]
    at net.sf.jabref.JabRef.start(JabRef.java:84) ~[JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar:?]
    at net.sf.jabref.JabRefMain.lambda$main$0(JabRefMain.java:10) ~[JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar:?]
    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311) [?:1.8.0_66]
    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756) [?:1.8.0_66]
    at java.awt.EventQueue.access$500(EventQueue.java:97) [?:1.8.0_66]
    at java.awt.EventQueue$3.run(EventQueue.java:709) [?:1.8.0_66]
    at java.awt.EventQueue$3.run(EventQueue.java:703) [?:1.8.0_66]
    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_66]
    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76) [?:1.8.0_66]
    at java.awt.EventQueue.dispatchEvent(EventQueue.java:726) [?:1.8.0_66]
    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201) [?:1.8.0_66]
    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116) [?:1.8.0_66]
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105) [?:1.8.0_66]
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:1.8.0_66]
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93) [?:1.8.0_66]
    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82) [?:1.8.0_66]
Caused by: java.lang.NullPointerException
    at java.io.Reader.<init>(Reader.java:78) ~[?:1.8.0_66]
    at java.io.InputStreamReader.<init>(InputStreamReader.java:113) ~[?:1.8.0_66]
    at net.sf.jabref.logic.l10n.EncodingControl.newBundle(EncodingControl.java:51) ~[JabRef-3.3dev--snapshot--2016-04-12--master--f8bce59.jar:?]
    at java.util.ResourceBundle.loadBundle(ResourceBundle.java:1501) ~[?:1.8.0_66]
    at java.util.ResourceBundle.findBundle(ResourceBundle.java:1465) ~[?:1.8.0_66]
    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1361) ~[?:1.8.0_66]
    ... 19 more
",https://github.com/JabRef/jabref/issues/1182#issuecomment-311401438,"I'm using 3.8.2, and I'm facing the same problem. I think it's the same case issue.

@simonharrer @Siedlerchr @matthiasgeiger 

Log:

```
12:45:11.153 [AWT-EventQueue-0] WARN  net.sf.jabref.logic.l10n.Localization - Could not find bundles for language pt_br, switching to full english language
java.util.MissingResourceException: Can't find bundle for base name l10n/JabRef, locale pt_br
	at java.util.ResourceBundle.throwMissingResourceException(Unknown Source) ~[?:1.8.0_131]
	at java.util.ResourceBundle.getBundleImpl(Unknown Source) ~[?:1.8.0_131]
	at java.util.ResourceBundle.getBundle(Unknown Source) ~[?:1.8.0_131]
	at net.sf.jabref.logic.l10n.Localization.createResourceBundles(Localization.java:44) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.logic.l10n.Localization.setLanguage(Localization.java:35) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.JabRefMain.start(JabRefMain.java:56) ~[JabRef-3.8.2.jar:?]
	at net.sf.jabref.JabRefMain.lambda$main$0(JabRefMain.java:40) ~[JabRef-3.8.2.jar:?]
	at java.awt.event.InvocationEvent.dispatch(Unknown Source) [?:1.8.0_131]
	at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_131]
	at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_131]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_131]
	at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_131]
	at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_131]
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_131]
	at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_131]
	at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_131]
Caused by: java.lang.NullPointerException
	at java.io.Reader.<init>(Unknown Source) ~[?:1.8.0_131]
	at java.io.InputStreamReader.<init>(Unknown Source) ~[?:1.8.0_131]
	at net.sf.jabref.logic.l10n.EncodingControl.newBundle(EncodingControl.java:51) ~[JabRef-3.8.2.jar:?]
	at java.util.ResourceBundle.loadBundle(Unknown Source) ~[?:1.8.0_131]
	at java.util.ResourceBundle.findBundle(Unknown Source) ~[?:1.8.0_131]
	... 20 more
```"
JabRef/jabref,"Latest development version, freshly installed  on Win10 using installer with default settings

![keygenerator](https://cloud.githubusercontent.com/assets/320228/14455796/b6550326-00a1-11e6-81e5-bdfc28a70433.png)
",https://github.com/JabRef/jabref/issues/1174#issuecomment-208869558,"2016-04-11--master--b4c16d9cd6688156c660e2 works (English)

@Siedlerchr Could you add the commit id? It is hard to reproduce.
"
JabRef/jabref,"JabRef-3.3dev--snapshot--2016-04-07--master--b40a0d2.jar
on Linux Mint
$ java -version
java version ""1.8.0_66""
Java(TM) SE Runtime Environment (build 1.8.0_66-b17)
Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)

When activating ""View -> Toggle group interface"", the text ""Toggle group interface"" is not displayed anymore (or text and background have the same color?).
Same behavior for similar menu items: ""View -> Toggle group interface"" and ""Groups -> Disable highlight group matching entries"".

![ifselectednotextdsiplayed](https://cloud.githubusercontent.com/assets/6931104/14367263/41312314-fd17-11e5-8c3f-f534233be8c5.png)

Occurs with the default look and feel only (com.sun.java.swing.plaf.gtk.GTKLookAndFeel), not with the others (com.sun.java.swing.plaf.motif.MotifLookAndFeel, javax.swing.plaf.metal.MetalLookAndFeel and com.jgoodies.looks.plastic.Plastic3DLookAndFeel). 

Nothing in console.
",https://github.com/JabRef/jabref/issues/1145#issuecomment-218090382,"Is this also on OpenJDK and GTK L&F? Maybe we can close this then.
"
JabRef/jabref,"JabRef version 3.2

Steps to reproduce:
1. Right click on entry > Get BibTeX data from DOI
2. _Select information_
3. Replace original entry
4. _Changes are not applied!_

Maybe this has to do with the fact that the previous entry had an invalid entry type (`Other`).
",https://github.com/JabRef/jabref/issues/1062#issuecomment-203500350,"The problem is that the GUI suggest that you can change the type of the entry but the actual logic does only compare the fields of both entries. 

@oscargus You worked a little bit on the merge dialog?! Did you change anything or didn't we have this functionality at all?
"
JabRef/jabref,"JabRef version 3.3dev--snapshot--2016-03-28--master--f9f6cec on Ubuntu 14.04.

When I try to export a database to a different format (I tried simpleHTML and my own implementation of Markdown), the sorting order of the entries is not used. It doesn't matter if I set the current sorting by clicking on the columns or if I'm using the default sorting accessed through Preferences -> Entry Table.

The only thing the error console shows is

```
Mar 28, 2016 6:02:58 AM net.sf.jabref.exporter.ExportFormat performExport
WARNING: []
```

I found similar issues that were reported some years ago where the solution always was to set the _default sorting_. It would be helpful if someone could confirm that this indeed works.
",https://github.com/JabRef/jabref/issues/1051#issuecomment-202353101,"As there have been recently fixes with Entry exporting, did you try the latest version from master?
http://builds.jabref.org/master/
"
JabRef/jabref,"- JabRef version (available in the About box):JabRef_windows_3_3dev--snapshot--2016-03-18--master--70a65a6
- Operating system and version: windows 8.1 enterprise edition
- Steps to reproduce:
  1. open and bibtex file
  2. export(choose the endote or ris format)
  3. the program will tell you that there is an error ""could not save the file, java.lang.NullPointerException""
",https://github.com/JabRef/jabref/issues/1001#issuecomment-198893976,"Confirmed in latest development version:
Seems to have sth to do with the PR #982 
I just looked into it, it seems to only happen when no Entries are selected.
However, selecting all entries and then clicking export works.

Full error:

> WARN  net.sf.jabref.exporter.ExportFormats - Problem exporting
> java.lang.NullPointerException
>   at java.util.ArrayList.addAll(Unknown Source) ~[?:1.8.0_74]
>   at net.sf.jabref.exporter.BibDatabaseWriter.getSortedEntries(BibDatabaseWriter.java:97) ~[bin/:?]
>   at net.sf.jabref.exporter.ExportFormat.performExport(ExportFormat.java:230) ~[bin/:?]
>   at net.sf.jabref.exporter.ExportFormats$1ExportAction$1.run(ExportFormats.java:231) [bin/:?]
>   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_74]
>   at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_74]
>   at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_74]
>   at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_74]
>   at spin.Invocation.evaluate(Invocation.java:175) [spin.jar:?]
>   at spin.off.SpinOffEvaluator$1.run(SpinOffEvaluator.java:108) [spin.jar:?]
>   at java.lang.Thread.run(Unknown Source) [?:1.8.0_74]
"
JabRef/jabref,"JabRef-3.3dev--snapshot--2016-03-18--master--70a65a6 on Windows 10.
1. Create a new file
2. Create a new entry with type `Article`
3. Switch to `BibTeX source`
4. Paste following content

```
@Manual{BPEL20,
  Title                    = {{Web Services Business Process Execution Language Version 2.0 -- OASIS Standard}},
  Author                   = {OASIS},
  Year                     = {2007}
}

@Manual{BPEL20,
  Title                    = {{Web Services Business Process Execution Language Version 2.0 -- OASIS Standard}},
  Author                   = {OASIS},
  Year                     = {2007}
}
```
1. Press `CTRL+s`
2. A Window ""Problem with parsing entry"" appears.
3. Press ""Edit""
4. Wrong behavior: ""Save"" dialog appears
5. Save the file
6. Wrong behavior: Dialog ""Problem with parsing entry"" appears.
7. Press ""Edit""
8. Wrong behavior: Dialog ""Problem with parsing entry"" appears.
9. Press ""Edit""
",https://github.com/JabRef/jabref/issues/993#issuecomment-219475501,"@koppor Can you please try if this resolves your issue?
"
JabRef/jabref,"- JabRef version (available in the About box): JabRef-3.3dev--snapshot--2016-03-15--master--ee1c5d7
- Operating system and version: Ubuntu 15.10
- Steps to reproduce:
  1. Add File path or Url to entry.
  2. Try to open by clicking on icon in main table.

Status: Unable to open link.
In JabRef-3.3dev--snapshot--2016-03-14--master--63d5555 it works fine.
",https://github.com/JabRef/jabref/issues/972#issuecomment-197206662,"Thanks for your report! 
We have made some restructuring in the OS handling - apparently not everything works as it supposed to be... 

Can you please post the content of the error console?

Thanks!
"
JabRef/jabref,"When a URL encoded local URI is passed to the function

`MimeTypeDetector.isPdfContentType(String url)`

the return value turns out to be False if `url` is a local URI. 
If one likes to implement `FullTextFinder` using a temporary copy of some fetched PDF this needs to be changed.
",https://github.com/JabRef/jabref/issues/824#issuecomment-184914713,"You are thinking of URIs like `file:/C:/Users/Stefan/Desktop/Github/jabref/build/resources/test/net/sf/jabref/logic/io/empty.pdf`?
"
JabRef/jabref,"In the reference,

```
@Manual{JabRef_software,
  Title                    = {JabRef},
  Author                   = {{JabRef Development Team}},
  Year                     = {2015},
  Version                  = {Version 2.11.1},
  Url                      = {http://www.jabref.org}
}
```

The curly braces in the Author field are ignored, causing, for example, its associated in-text citation to be presented as ""(Team, 2015)"", rather than, ""(JabRef Development Team, 2015)"". Curly braces should be honored in in-text citations.
",https://github.com/JabRef/jabref/issues/815#issuecomment-183875201,"What do you mean by in-text citation? 
The above reference shows ""JabRef Development Team"" in the main table and 
`Manual (JabRef_software) JabRef Development Team JabRef 2015` in the preview. Both seem to be correct.
"
JabRef/jabref,"It shows all required and primaryOptional fields of biblatex entry type, even after restart.
Not sure if this happens for other entry types, too.
",https://github.com/JabRef/jabref/issues/801#issuecomment-185113008,"Are you sure that the mode is BibTeX? Can it be that the display of the mode is wrong but internally, the correct mode is used?
"
JabRef/jabref,"Hi,

When I try to import a file (in any format, e.g. .bib, .ris) to the current database, nothing happens. I opened the error console and the error message was:

`Fatal Error] :1:1: Content is not allowed in prolog.
Jan 29, 2016 8:40:54 AM net.sf.jabref.importer.OpenDatabaseAction loadDatabase
INFO: Synchronized special fields based on keywords
`

The file I tried to import, for example (although this happens with any file I try) is located [here](https://www.dropbox.com/s/ghkoym78lm7p9sa/pmcid-PMC3654245.ris?dl=0

I am using version 3.2.

Thank you,
",https://github.com/JabRef/jabref/issues/742#issuecomment-177502813,"@hellbourne Thanks for reporting. Unfortunately, I get a 404 when trying to access your file. Could you check if the file is correctly uploaded? Without it, it will be hard to reproduce the error.

@JabRef/developers Since this it about importers, it sounds very much like a task for our students.
"
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`): 7.6.0 BC3

    Version: 7.6.0, Build: default/docker/d90e0399161efda5d2386d9a1376ce1a11c070c6/2020-01-29T17:39:50.161706Z, JVM: 13.0.2

**Plugins installed**: None

**JVM version** (`java -version`):

    openjdk version ""13.0.2"" 2020-01-14
    OpenJDK Runtime Environment AdoptOpenJDK (build 13.0.2+8)
    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 13.0.2+8, mixed mode, sharing)

**OS version** (`uname -a` if on a Unix-like system): 

    Linux f693bd1687ce 4.15.0-72-generic #81-Ubuntu SMP Tue Nov 26 12:20:02 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux

(Running in Docker, FWIW.)

**Description of the problem including expected versus actual behavior**:

Using the new histogram field type, there seems to be differing behaviour when the field exists at the top level vs. as a field of another object. In particular, a `percentiles` aggregation works as expected on a top-level histogram field, but returns `null` for a histogram field within another object.

**Steps to reproduce**:

1. Create index mapping like so:

```
PUT /example
{
    ""mappings"": {
        ""properties"": {
            ""foo"": {
              ""properties"": {
                ""bar"": {
                  ""type"": ""histogram""
                },
                ""baz"": {
                  ""type"": ""double""
                }
              }
            },
            ""qux"": {
              ""type"": ""histogram""
            }
        }
    }
}
```

2. Index some data:

```
POST /example/_doc
{
    ""foo"" : {
      ""bar"": {
        ""values"": [1, 2, 3, 4, 5],
        ""counts"": [1, 2, 3, 4, 5]
      },
      ""baz"": [1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5]
    },
    ""qux"": {
      ""values"": [1, 2, 3, 4, 5],
      ""counts"": [1, 2, 3, 4, 5]
    }
}
```

3. Run percentiles aggregation on each of `foo.bar`, `foo.baz`, and `qux`

```
GET /example/_search
{
  ""size"": 0,
  ""aggs"": {
    ""percentiles_object_field_histogram"": {
      ""percentiles"": {
        ""field"": ""foo.bar"",
        ""percents"": [1, 5, 25, 50, 75, 95, 99]
      }
    },
    ""percentiles_individual_data"": {
      ""percentiles"": {
        ""field"": ""foo.baz"",
        ""percents"": [1, 5, 25, 50, 75, 95, 99]
      }
    },
    ""percentiles_top_level_histogram"": {
      ""percentiles"": {
        ""field"": ""qux"",
        ""percents"": [1, 5, 25, 50, 75, 95, 99]
      }
    }
  }
}
```

Output:

```
{
  ""took"" : 0,
  ""timed_out"" : false,
  ""_shards"" : {
    ""total"" : 1,
    ""successful"" : 1,
    ""skipped"" : 0,
    ""failed"" : 0
  },
  ""hits"" : {
    ""total"" : {
      ""value"" : 1,
      ""relation"" : ""eq""
    },
    ""max_score"" : null,
    ""hits"" : [ ]
  },
  ""aggregations"" : {
    ""percentiles_individual_data"" : {
      ""values"" : {
        ""1.0"" : 1.0,
        ""5.0"" : 1.25,
        ""25.0"" : 3.0,
        ""50.0"" : 4.0,
        ""75.0"" : 5.0,
        ""95.0"" : 5.0,
        ""99.0"" : 5.0
      }
    },
    ""percentiles_top_level_histogram"" : {
      ""values"" : {
        ""1.0"" : 1.0,
        ""5.0"" : 1.1666666666666667,
        ""25.0"" : 2.7,
        ""50.0"" : 3.857142857142857,
        ""75.0"" : 4.722222222222222,
        ""95.0"" : 5.0,
        ""99.0"" : 5.0
      }
    },
    ""percentiles_object_field_histogram"" : {
      ""values"" : {
        ""1.0"" : null,
        ""5.0"" : null,
        ""25.0"" : null,
        ""50.0"" : null,
        ""75.0"" : null,
        ""95.0"" : null,
        ""99.0"" : null
      }
    }
  }
}
```

I expect them all to succeed.",https://github.com/elastic/elasticsearch/issues/51847#issuecomment-582071004,"/cc @iverase 

@axw Were there any error messages / stack traces from the server?  Or just the null values in the response?"
elastic/elasticsearch,"**Elasticsearch version** (

7.5.2

**JVM version** (`java -version`): any JDK 8 or 11, gradle 4 and 5

**Description of the problem including expected versus actual behavior**:

actual: 
adding `compile group: 'org.elasticsearch.client', name: 'elasticsearch-rest-high-level-client', version: '7.5.2'`

to a gradle build, comes with `org.elasticsearch.client:elasticsearch-rest-client:6.4.3` and `org.elasticsearch:elasticsearch:6.4.3` as transitive dependencies

expected:

version: '7.5.2' of the transitive dependencies

***reproduce***:

simple gralde build, add the 7.5.2 high level rest client dependency;

```
 ./gradle :dependencyInsight --dependency :elasticsearch-rest-client:

> Task :dependencyInsight
org.elasticsearch.client:elasticsearch-rest-client:6.4.3 (selected by rule)
   variant ""runtime"" [
      org.gradle.status = release (not requested)
      Requested attributes not found in the selected variant:
         org.gradle.usage  = java-api
   ]

org.elasticsearch.client:elasticsearch-rest-client:7.5.2 -> 6.4.3
\--- org.elasticsearch.client:elasticsearch-rest-high-level-client:7.5.2
     \--- compileClasspath
```

",https://github.com/elastic/elasticsearch/issues/51623#issuecomment-579822025,Are you doing that with a spring boot project by any chance?
elastic/elasticsearch,"Today one can apply index settings when restoring a snapshot, but we are rather lenient about the settings that we accept:

```
POST /_snapshot/backing_repo/snap/_restore
{
  ""index_settings"": {
    ""index.setting.misspelled"": ""blah"",
    ""index.frozen"": true
  }
}
# 200 OK
# {
#   ""accepted"": true
# }

GET _settings
# 200 OK
# {
#   ""original"": {
#     ""settings"": {
#       ""index"": {
#         ""provided_name"": ""original"",
#         ""frozen"": ""true"",  // üí• this setting is PrivateIndex
#         ""number_of_shards"": ""1"",
#         ""uuid"": ""M5thzFiuTf6x-4_Fc82lMg"",
#         ""number_of_replicas"": ""0"",
#         ""version"": {
#           ""created"": ""8000099""
#         },
#         ""creation_date"": ""1578592744159""
#       },
#       ""archived"": {
#         ""index"": {
#           ""setting"": {
#             ""misspelled"": ""blah""  // üí• this setting is unknown
#           }
#         }
#       }
#     }
#   }
# }
```

Ideally either of these settings should have caused the restore to fail.",https://github.com/elastic/elasticsearch/issues/50837#issuecomment-572917686,@DaveCTurner I guess this is a sub-problem/duplicate of https://github.com/elastic/elasticsearch/issues/37485 ?
elastic/elasticsearch,"Before 7.2.0 dynamic mapping updates would block a `write` thread waiting for the master to acknowledge the new mapping. In #39793 we moved to an asynchronous model, freeing up the `write` thread to carry on with other indexing tasks.

One feature of the pre-7.2.0 blocking approach was that the number of `write` threads is limited and this limits the number of parallel dynamic mapping updates pending on the master. The asynchronous model has no such limit and may send a very large number of dynamic mapping updates in a short time since the shard bulks are processed much faster. Furthermore, many indexing operations may require the same mapping update but since they are now generated much more quickly it may be that many of the mapping updates sent to the master are duplicates.

Related [discussion thread](https://discuss.elastic.co/t/performance-degradation-after-upgrading-from-v6-3-2-to-v7-4-2/213466/5?u=davidturner).",https://github.com/elastic/elasticsearch/issues/50670#issuecomment-572379906,"I believe we are running into a very similar issue after an upgrade from 6.8.0 > 7.5.1. In 6.8.0 we would see a couple of minutes where the cluster would apply the new mappings and then recover, while in 7.5.1 we see the number of pending mapping changes reach 30,000+. This quickly results in the master node becoming unresponsive and data nodes repeatedly leaving/joining the cluster due to being unable to contact the master node in a timely manner.

Since our upgrade, each night at 12 AM (new date based indexes are created at this time) we have had to restart all of our master nodes simultaneously to bring the cluster back to a healthy state. 

Is there any timeline on a potential fix for this issue being made available, or a recommended workaround?"
elastic/elasticsearch,"* In order to ensure we don't get duplicate results if a job does the same work multiple times (for example after failing over from one node to another), our results documents have IDs generated from their contents, such that if two identical results are indexed the second will overwrite the first and we won't get a duplicate
* Since we cannot literally have the document ID be the whole result, because the document IDs are limited to 512 bytes and the result could contain more data than this, we create an ID using a formula that we thought was likely to avoid ID collisions for different results
  * In particular, since by/over/partition field values can be long, the document ID includes a combination of the hashes of these values, plus the total length - the assumption was that it would be unlikely for there to be a hash collision unless the total length was different
* Unfortunately, some by/over/partition values do produce hash collisions for identical total lengths of by/over/partition field values.  An example is:
  * by field value = L018, over field value = null, partition field value = 128
  * by field value = L017, over field value = null, partition field value = 228
  * Both produce a hash of -2073230751

More variation is needed in the document IDs.  However, before making the change an analysis of the possibilities for duplicate documents caused by the change is required.  We need to consider all the places where we're assuming that duplicate results will overwrite one another and the likelihood of occurrence.

The problem affects at least model plot, forecast and anomaly record results.  Other types of results, for example, influencer results, contain a hash of just one string.  We should consider consistency in the way IDs are created across the different types.",https://github.com/elastic/elasticsearch/issues/50613#issuecomment-570651978,"This might be lost to history, but why aren't we using `MurmurHash3` that is provided within `org.elasticsearch.common.hash`? Were we too scared of collisions with it?"
elastic/elasticsearch,"TL;DR `composite` aggs behave differently than `terms` agg when there is an index in the pattern that matches the prefix of the other indices that does NOT have a mapped field matching the aggregated field. They behave the same if the ""prefix index"" has the field, but it is indexed as the wrong type.

Assume we have the following indices
```
PUT test_index-0001
{
  ""mappings"": {
    ""properties"": {
      ""ip"": {
        ""type"": ""ip""
      }
    }
  }
}

PUT test_index-0002
{
  ""mappings"": {
    ""properties"": {
      ""ip"": {
        ""type"": ""ip""
      }
    }
  }
}

PUT test_index-0001/_doc/1
{
  ""ip"": ""10.2.1.1""
}
PUT test_index-0002/_doc/1
{
  ""ip"": ""10.1.1.2""
}
```

Lets add a new index that does not have an `ip` field
```
PUT test_index-0003
{
  ""mappings"": {
    ""properties"": {
      ""somefield"": {
        ""type"": ""ip""
      }
    }
  }
}
```

Composite aggs behaves as follows (as of 7.5).
```
GET test_index-0001,test_index-0002,test_index*/_search?size=0
{
  ""aggs"": {
    ""composite_ips"": {
      ""composite"": {
        ""sources"": [
          {
            ""ip"": {
              ""terms"": {
                ""field"": ""ip""
              }
            }
          }
        ]
      }
    }
  }
}
>
""aggregations"" : {
    ""composite_ips"" : {
      ""after_key"" : {
        ""ip"" : ""10.2.1.1""
      },
      ""buckets"" : [
        {
          ""key"" : {
            ""ip"" : ""10.1.1.2""
          },
          ""doc_count"" : 1
        },
        {
          ""key"" : {
            ""ip"" : ""10.2.1.1""
          },
          ""doc_count"" : 1
        }
      ]
    }
  }
```

But if the index that is added is instead:
```
PUT test_index
{
  ""mappings"": {
    ""properties"": {
      ""somefield"": {
        ""type"": ""ip""
      }
    }
  }
}
```
The following is returned from the same composite agg (image for readability)
<img width=""322"" alt=""image"" src=""https://user-images.githubusercontent.com/4357155/71724665-11658e00-2dff-11ea-9bdf-8e677c96c846.png"">

Note the difference with a plain `terms` agg
```
GET test_index-0001,test_index-0002,test_index*/_search?size=0
{
  ""aggs"": {
    ""term_ips"": {
      ""terms"": {
        ""field"": ""ip""
      }
    }
  }
}
>
""aggregations"" : {
    ""term_ips"" : {
      ""doc_count_error_upper_bound"" : 0,
      ""sum_other_doc_count"" : 0,
      ""buckets"" : [
        {
          ""key"" : ""10.1.1.2"",
          ""doc_count"" : 1
        },
        {
          ""key"" : ""10.2.1.1"",
          ""doc_count"" : 1
        }
      ]
    }
  }
```

NOTE: if the `test_index` has the following mapping, composite aggs and terms behave the ***SAME*** (showing raw bytes instead of human readable strings)
```
DELETE test_index
PUT test_index
{
  ""mappings"": {
    ""properties"": {
      ""ip"": {
        ""type"": ""ip""
      }
    }
  }
}

GET test_index-0001,test_index-0002,test_index*/_search?size=0
{
  ""aggs"": {
    ""term_ips"": {
      ""terms"": {
        ""field"": ""ip""
      }
    }
  }
}
```
(image for readability)
<img width=""323"" alt=""image"" src=""https://user-images.githubusercontent.com/4357155/71724876-e4fe4180-2dff-11ea-8906-7a7c424792d5.png"">


Related issues/PRs:
*  https://github.com/elastic/elasticsearch/issues/17705
* https://github.com/elastic/elasticsearch/pull/18408
* https://github.com/elastic/elasticsearch/pull/18003",https://github.com/elastic/elasticsearch/issues/50600#issuecomment-570630253,"The bug is that that rendering is full of bizzare characters, right? Just making sure."
elastic/elasticsearch,"### Problem Description
Discovery EC2 doesn't retry EC2 describe calls on throttle or exceptions due to `NO_RETRY_CONDITION`  which has the potential to make the throttling worse. Although there is a logic to exponentially backoff in such cases, backoff doesn't kick in.

https://github.com/elastic/elasticsearch/blob/7203ceefd8761cdbfd9d4510cdda1ac968caf11d/plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2ServiceImpl.java#L82-L90

AWS [reference](https://github.com/aws/aws-sdk-java/blob/de3ea40fbd783f1a667f24303399f5ed2a0279ec/aws-java-sdk-core/src/main/java/com/amazonaws/retry/RetryPolicy.java#L140-L148)

",https://github.com/elastic/elasticsearch/issues/50462#issuecomment-568778097,"@Bukhtawar I'm not sure this is entirely a small change. It seems we're not just using the EC2 SDK to make calls to the EC2 metadata service but also use `org.elasticsearch.discovery.ec2.Ec2NameResolver#resolve` which just works from `java.net.URL#openConnection()` to load single metadata values. Wouldn't we have to fix those as well to really get proper retrying here? It seems like we'd only be fixing part of the calls to retry if we just did something like move to using the default retry condition in the code you pasted?

(I ran into this when I tried to test retries by faking `500`s in the EC2 mock we use, if we only fixed this one spot which I'm not sure is all that valueable it still wouldn't be entirely trivial to test the fix either would it or do you have an idea?)"
elastic/elasticsearch,"Currently, when anonymous access is enabled, a request with an invalid/expired/wrong access token or an API Key would fallback to being authenticated as the anonymous user, as if the request wouldn't contain any Authorization header. This might be a confusing behavior for users and we should be explicit in our responses about treating no credentials and wrong credentials differently, even when anonymous access is enabled. ",https://github.com/elastic/elasticsearch/issues/50171#issuecomment-573841660,"Hey @jkakavas, is there any chance of getting this addressed for 7.6? Otherwise, any of Kibana's token based auth providers aren't going to work properly after a token expires for long enough that it's purged from the `.security-tokens-7` index and anonymous access is enabled. This is compounded by the fact that Cloud uses an anonymous user that has no privileges."
elastic/elasticsearch,"The cat nodes API performs a `ClusterStateAction` then a `NodesInfoAction`. It accepts the `?local` parameter and passes this to the `ClusterStateAction` but this parameter has no effect on the `NodesInfoAction`. This is surprising, because `GET _cat/nodes?local` looks like it might be a completely local call but in fact it still depends on every node in the cluster.

I think the `?local` parameter does not make sense on this API and we should remove it.",https://github.com/elastic/elasticsearch/issues/50088#issuecomment-567904489,Hi @DaveCTurner! May I work on this one? Any hints are appreciated.
elastic/elasticsearch,"A few things related to the `o.e.a.s.m.TransportMasterNodeAction` logging messages.

User reported the following debug messages showing up after upgrading to 7.5.0 (from 7.3):

```
[2019-12-03T22:47:59,669][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:09,650][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:19,618][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:29,713][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:39,655][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:49,669][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
[2019-12-03T22:48:59,668][DEBUG][o.e.a.s.m.TransportMasterNodeAction] [node.infra] Get stats for datafeed '_all'
```

These are showing up in the logs because Elasticsearch has the logger for `org.elasticsearch.action` set to DEBUG by default.  It seems like we may want to use a different package to log these under?

Also, this user has a Gold license but their nodes had ML enabled (explicitly via `xpack.ml.enabled: true`) because they were previously testing ML. After setting `xpack.ml.enabled: false`, the above messages stopped showing up (expected).  Should a gold license have disabled this type of monitoring stats for ML even when `xpack.ml.enabled` is set to true?",https://github.com/elastic/elasticsearch/issues/50056#issuecomment-564428119,"We'll surely move the log message to a more suitable place.

> Also, this user has a Gold license but their nodes had ML enabled (explicitly via xpack.ml.enabled: true) because they were previously testing ML. After setting xpack.ml.enabled: false, the above messages stopped showing up (expected). Should a gold license have disabled this type of monitoring stats for ML even when xpack.ml.enabled is set to true?

Licensing does not affect what gets loaded as far as I understand. We check the license in specific API calls. But we want the flexibility of being able to load the plugin as that allows different features in the plugin to be licensed differently (e.g. basic features).

"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

**Describe the feature**:
Hi, 
I found 'too many files open' problem in my ES enviroment.  And I use the commad `ls -al /proc/ES_PID/fd` , found that ES opened particularly large number of translog files.  
After some search on this problem , I tried to restart  a runing normally ES (6.6.1).  I found that Ôºå**every time ES is restarted, there will be one more translog file on some shards**. And all the translogs have no operation data, like  below( The server time is incorrectÔºåbut I don't think it's concern ):

![image](https://user-images.githubusercontent.com/16160751/70388387-0419d700-19ec-11ea-8699-6da28123a33f.png)

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):
Version: 6.6.1, Build: default/tar/1fd8f69/2019-02-13T17:10:04.160291Z, JVM: 1.8.0_60
**Plugins installed**: []
No Plugins
**JVM version** (`java -version`):
java version ""1.8.0_60""
Java(TM) SE Runtime Environment (build 1.8.0_60-b27)
**OS version** (`uname -a` if on a Unix-like system):
Centos 7.6
Linux 3.10.0-957.5.1.el7.x86_64 #1 SMP Fri Feb 1 14:54:57 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
**Description of the problem including expected versus actual behavior**:
Empty translog files(no operation data) keep increasing.
Old translog exist beyond 12 hours(index.translog.retention.age = 12h).
I think empty translog files should be deleted or don't creat new translog files.
**Steps to reproduce**:
restart ES node
Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1.  defautl index setting as follow:
`""settings"":{  
              ""index.number_of_replicas"":""0"",
              ""index.refresh_interval"":""10s"",
              ""index.number_of_shards"":""1"",
              ""index.routing.allocation.require.tag"":""hot"",
              ""index.indexing.slowlog.level"": ""info"",
              ""index.indexing.slowlog.threshold.index.trace"": ""500ms"",
              ""index.indexing.slowlog.threshold.index.debug"": ""2s"",
              ""index.indexing.slowlog.threshold.index.info"": ""5s"",
              ""index.indexing.slowlog.threshold.index.warn"": ""10s"",
              ""index.search.slowlog.level"": ""info"",
              ""index.search.slowlog.threshold.fetch.trace"": ""200ms"",
              ""index.search.slowlog.threshold.fetch.debug"": ""500ms"",
              ""index.search.slowlog.threshold.fetch.info"": ""800ms"",
              ""index.search.slowlog.threshold.fetch.warn"": ""1s"",
              ""index.search.slowlog.threshold.query.trace"": ""500ms"",
              ""index.search.slowlog.threshold.query.debug"": ""2s"",
              ""index.search.slowlog.threshold.query.info"": ""5s"",
              ""index.search.slowlog.threshold.query.warn"": ""10s"",
               ""index.translog.durability"": ""async"",
               ""index.translog.flush_threshold_size"": ""5000mb"",
               ""index.translog.sync_interval"": ""120s"",
               ""index.mapping.ignore_malformed"": true
   }
`
 2.  Auto create index use the dynamic mapping, and index name is created by date, only the index created today is active. Indices  created before today have no data to index.
 3.  Restart ES, the translog of indices  created before today (no data to index) keep increasing

If I missed some configurationÔºå please let me know.
I'd be happy to provide additional details, whatever is needed.

Thanks!

",https://github.com/elastic/elasticsearch/issues/49970#issuecomment-563188064,"I figured this would have been addressed by https://github.com/elastic/elasticsearch/pull/47414, and maybe also no longer an issue in 7.x thanks to https://github.com/elastic/elasticsearch/pull/45473, but in fact that's not true. After restarting a one-node 7.5.0 cluster repeatedly it had over 100 translog generations, despite the limit imposed in #47414. We do a kind of partial flush in `InternalEngine#recoverFromTranslogInternal`, calling `commitIndexWriter`, but only if there were ops to recover and we don't trim the translog there either way. Maybe we should?

In the meantime a `POST /index/_flush?force` will, I think, clean things up."
elastic/elasticsearch,"<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`): 7.4.2 - Java Client 7.4.2

**Plugins installed**: []

**JVM version** (`java -version`): jdk11

**OS version** (`uname -a` if on a Unix-like system): unix docker

**Description of the problem including expected versus actual behavior**:
Node-Sniffer for Java-Rest-Client fails parsing the new `hostname/ip:port` format properly.
Client is initalized with a consul-address containing the port. instead the hostname is just used with port 80, the sniff() fails with an ConnectionException.
=> expected IP and port are extracted 192.168.0.185:9202
=> actual only hostname is parsed integration-stack-01.com.pany

**Steps to reproduce**:

Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1. setup clusternode with hostname so publish_address : ""integration-stack-01.com.pany/192.168.0.185:9202""
 2. create simple main-Class Java starting a Client and Sniffer
 3. Sniffer fails at sniff() because address is parsed not properly

**Provide logs (if relevant)**:
```
GET http://elasticsearch3.service.int.consul:9202/_nodes/http?pretty
```
```
{
  ""_nodes"" : {
    ""total"" : 3,
    ""successful"" : 3,
    ""failed"" : 0
  },
  ""cluster_name"" : ""company-int-3"",
  ""nodes"" : {
    ""qGSyScvjRK2jbujcpo9t3g"" : {
      ""name"" : ""integration-stack-01"",
      ""transport_address"" : ""192.168.0.185:9302"",
      ""host"" : ""integration-stack-01.com.pany"",
      ""ip"" : ""192.168.0.185"",
      ""version"" : ""7.4.2"",
      ""build_flavor"" : ""default"",
      ""build_type"" : ""tar"",
      ""build_hash"" : ""2f90bbf7b93631e52bafb59b3b049cb44ec25e96"",
      ""roles"" : [
        ""ingest"",
        ""master"",
        ""data"",
        ""ml""
      ],
      ""attributes"" : {
        ""ml.machine_memory"" : ""67498500096"",
        ""ml.max_open_jobs"" : ""20""
      },
      ""http"" : {
        ""bound_address"" : [
          ""[::]:9202""
        ],
        ""publish_address"" : ""integration-stack-01.com.pany/192.168.0.185:9202"",
        ""max_content_length_in_bytes"" : 104857600
      }
    },
	...
```
Error:
```
16:46:03.278 [pool-1-thread-1] DEBUG org.apache.http.impl.nio.client.InternalHttpAsyncClient - [exchange: 13] connection request failed
16:46:03.278 [pool-1-thread-1] DEBUG org.elasticsearch.client.RestClient - request [GET http://integration-stack-03.com.pany/_nodes/http?timeout=1000ms] failed
```
Example:
```
package com.pany.elasticsearchrestclients;

import org.apache.http.HttpHost;
import org.elasticsearch.client.RestClient;
import org.elasticsearch.client.RestClientBuilder;
import org.elasticsearch.client.RestHighLevelClient;
import org.elasticsearch.client.sniff.SniffOnFailureListener;
import org.elasticsearch.client.sniff.Sniffer;

public class TestStarter
{
	public static void main(final String[] args)
	{
		SniffOnFailureListener sniffOnFailureListener = new SniffOnFailureListener();
		RestClientBuilder builder = RestClient.builder(new HttpHost(""elasticsearch3.service.int.consul"", 9202)).setFailureListener(sniffOnFailureListener);
		RestHighLevelClient client = new RestHighLevelClient(builder);
		Sniffer sniffer = Sniffer.builder(client.getLowLevelClient()).setSniffAfterFailureDelayMillis(1_000).setSniffIntervalMillis(500).build();
		sniffOnFailureListener.setSniffer(sniffer);
	}
}

```",https://github.com/elastic/elasticsearch/issues/48950#issuecomment-553100307,"Hi, can you clarify a few things here. Are you saying that the following line does not work?

```
		RestClientBuilder builder = RestClient.builder(new HttpHost(""elasticsearch3.service.int.consul"", 9202)).setFailureListener(sniffOnFailureListener);
```

When you say
>  Node-Sniffer for Java-Rest-Client fails parsing the new hostname/ip:port format properly.

What is giving out this address? is it consul itself? 
"
elastic/elasticsearch,"The missing value is not considered in min/max aggreagtions in es7 as they were in previous versions and I don't see this documented as a breaking change.  I believe this is due optimization of using segment min/max values.

To reproduce run the following against es6 and es7. The missing values should be returned as the min and max value of the aggregation.

```
curl -XPUT -H""Content-Type: application/json"" 'localhost:9200/testmissing/_doc/1' -d '{""title"": ""with value"", ""value"": 1}'
curl -XPUT -H""Content-Type: application/json"" 'localhost:9200/testmissing/_doc/2?refresh' -d '{""title"": ""missing value""}'
curl -XPOST -H""Content-Type: application/json"" 'localhost:9200/testmissing/_search?pretty' -d '{
    ""size"": 0,
    ""aggs"": {
        ""min_missing"": {
            ""min"": {
                ""field"": ""value"",
                ""missing"": -1
            }
        },
        ""max_missinng"": {
            ""max"": {
                ""field"": ""value"",
                ""missing"": 2
            }
        }
    }
}'
```",https://github.com/elastic/elasticsearch/issues/48905#issuecomment-551971260,"Which version of elasticsearch did you test it on. I just tried it on 7.4.2 and I am getting:

```
{
  ""took"" : 12,
  ""timed_out"" : false,
  ""_shards"" : {
    ""total"" : 1,
    ""successful"" : 1,
    ""skipped"" : 0,
    ""failed"" : 0
  },
  ""hits"" : {
    ""total"" : {
      ""value"" : 2,
      ""relation"" : ""eq""
    },
    ""max_score"" : null,
    ""hits"" : [ ]
  },
  ""aggregations"" : {
    ""max_missinng"" : {
      ""value"" : 2.0
    },
    ""min_missing"" : {
      ""value"" : -1.0
    }
  }
}
```

What am I missing? (some pun intended)"
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`): 7.3.2

**Plugins installed**: 
analysis-icu
analysis-kuromoji
analysis-nori
analysis-phonetic
analysis-smartcn
analysis-stconvert
analysis-stempel
ingest-attachment
repository-s3

**JVM version** (`java -version`):
1.8.0_181

**OS version** (`uname -a` if on a Unix-like system):
Linux ip-172-31-2-219 4.4.0-1074-aws #84-Ubuntu SMP Thu Dec 6 08:57:58 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux and Others

**Description of the problem including expected versus actual behavior**:

I've encountered what looks like a bug with scripted updates.  Running the following request (on a non-data node) results in the error below:

```
curl -XPOST ""localhost:9200/test/_update/1"" -H 'Content-Type: application/json' -d '{
  ""upsert"": {
    ""meta"": {
      ""version"": ""0""
    }
  },
  ""scripted_upsert"": true,
  ""script"": {
     ""source"": ""if (params.version == ctx._source?.meta?.version) { ctx._source.deleted = true; ctx._source.meta = new HashMap(); } else { ctx.op = '""'""'none'""'""'}"",
    ""params"": {
      ""version"": ""1""
    }
  }
}'
```

Error:

```
[2019-10-17T22:17:56,230][WARN ][r.suppressed             ] [ip-172-31-2-219] path: /test/_update/1, params: {index=test, id=1}
java.lang.NullPointerException: null
  at org.elasticsearch.index.get.GetResult.toXContentEmbedded(GetResult.java:262) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.update.UpdateResponse.innerToXContent(UpdateResponse.java:96) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.DocWriteResponse.toXContent(DocWriteResponse.java:296) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestStatusToXContentListener.buildResponse(RestStatusToXContentListener.java:57) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestStatusToXContentListener.buildResponse(RestStatusToXContentListener.java:33) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestToXContentListener.buildResponse(RestToXContentListener.java:42) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestToXContentListener.buildResponse(RestToXContentListener.java:34) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestResponseListener.processResponse(RestResponseListener.java:37) ~[elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.rest.action.RestActionListener.onResponse(RestActionListener.java:47) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:68) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:64) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$AsyncSingleAction$1.handleResponse(TransportInstanceSingleOperationAction.java:198) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$AsyncSingleAction$1.handleResponse(TransportInstanceSingleOperationAction.java:182) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1101) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.InboundHandler$1.doRun(InboundHandler.java:224) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:193) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.InboundHandler.handleResponse(InboundHandler.java:216) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.InboundHandler.messageReceived(InboundHandler.java:141) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.InboundHandler.inboundMessage(InboundHandler.java:105) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.TcpTransport.inboundMessage(TcpTransport.java:660) [elasticsearch-7.3.2.jar:7.3.2]
  at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:62) [transport-netty4-client-7.3.2.jar:7.3.2]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [netty-codec-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) [netty-codec-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) [netty-handler-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:682) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:582) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:536) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) [netty-transport-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:906) [netty-common-4.1.36.Final.jar:4.1.36.Final]
  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.36.Final.jar:4.1.36.Final]
  at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
```

If the command is run on the data node, everything works as expected.

**Steps to reproduce**:

1. Create a cluster of 1 master and 1 data node
2. Issue the above curl command to the master node
3. Optionally issue the above curl command to the data node to see how it should work

**Provide logs (if relevant)**:
See Above
",https://github.com/elastic/elasticsearch/issues/48215#issuecomment-549173332,"The same also happens with version 7.4.0. 
@dansimpson do you happen to know the latest version where it still works?

The script can be reduced to just
 ""source"": ""ctx.op = \""none\"";""
to reproduce

Edit:
Last working version seems to be 7.2.1"
elastic/elasticsearch,"In #45616 we added a deprecation warning to encourage users to remove the `es.http.cname_in_publish_address` property that we added to support BWC across a 6.x/7.x upgrade. However this warning is emitted whenever `es.http.cname_in_publish_address` is true, which is the default, so it's emitted even if the property is unset.

Relates https://discuss.elastic.co/t/deprecation-warnings-since-the-upgrade-to-7-4-0/201917/3",https://github.com/elastic/elasticsearch/issues/47436#issuecomment-559391492,"Hi! 

Is this really fixed? We just updated to 7.4.2 from 7.4.0 but still see multiple messages like this per second in our deprecation log even if we don't have this property set in our elasticsearch.yml

Greetings,
Johannes"
elastic/elasticsearch,"**Elasticsearch version**: 7.3.2

**Plugins installed**: []

**JVM version** (`java -version`): 1.8.0

**OS version**: Centos-7.4

We have been running an elasticsearch cluster consisting of 5 modes for quite some time now. After upgrade to v7, we have noticed a lot of times our nodes refuse to start with
an error `nested: IOException[failed to find metadata for existing index XXX`.

The first time I encountered this error, I searched the discuss board and found [this](https://discuss.elastic.co/t/failed-to-find-metadata-for-existing-index-after-node-restart/191507) which talks of stronger startup checks enforced by ES-7.x and points to data directory getting corrupted due to external factors. Thinking it may be the same probloem, I duly took the node offline and ran a disk check which reported no errors. So I deleted the data directory, started the node and that was that.

However, the next time I did a rolling upgrade of my cluster, a different node failed with a similar error (The index name was different). I followed the same emergency procedure (delete data directory and restart node) and cluster was fixed.

Now after every rolling upgrade I seem to run into this error with atleast one of my node. The index name always points to a closed index. The error occurs only on restart (never while elasticsearch is running).

I find it hard to believe that all 5 of my nodes have a disk problem because:
- I have run `fsck` everytime this error has occurred and no errors have been reported.
- Elasticsearch runs without a problem for days on end (A disk error or other programs corrupting the data would cause running elasticsearch to crash as had happended on one of my nodes about a year back).

Yesterday we had a power issue at the data-center which led to all nodes getting power cycled. Upon restart 4 out of 5 modes failed to start with same errors. On all 4 nodes, the names of indexes was different (The indexes in question were ""closed""). I had no option but to delete all data on those 4 nodes (Thus losing about 80% of elasticsearch data).

The errors seen were

```
[2019-09-30T10:36:58,205][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [esnode3] uncaught exception in thread [main]
org.elasticsearch.bootstrap.StartupException: ElasticsearchException[failed to bind service]; nested: IOException[failed to find metadata for existing index ssl-2019.09.20 [location: GmslGWkHTLGQowmMHFut7A, generation: 11]];
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.3.2.jar:7.3.2]
Caused by: org.elasticsearch.ElasticsearchException: failed to bind service
        at org.elasticsearch.node.Node.<init>(Node.java:617) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:258) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.3.2.jar:7.3.2]
        ... 6 more
Caused by: java.io.IOException: failed to find metadata for existing index ssl-2019.09.20 [location: GmslGWkHTLGQowmMHFut7A, generation: 11]
        at org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:99) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:492) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:258) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.3.2.jar:7.3.2]
        ... 6 more
[2019-09-30T10:36:58,210][INFO ][o.e.x.m.p.NativeController] [esnode3] Native controller process has stopped - no new native processes can be started
```


and

```
[2019-09-30T10:39:59,737][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [esnode2] uncaught exception in thread [main]
org.elasticsearch.bootstrap.StartupException: ElasticsearchException[failed to bind service]; nested: IOException[failed to find metadata for existing index dns-2019.09.22 [location: ZMenLry9Qxe5-2-XNrWj2A, generation: 15]];
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-7.3.2.jar:7.3.2]
        at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.3.2.jar:7.3.2]
Caused by: org.elasticsearch.ElasticsearchException: failed to bind service
        at org.elasticsearch.node.Node.<init>(Node.java:617) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:258) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.3.2.jar:7.3.2]
        ... 6 more
Caused by: java.io.IOException: failed to find metadata for existing index dns-2019.09.22 [location: ZMenLry9Qxe5-2-XNrWj2A, generation: 15]
        at org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:99) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:492) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.node.Node.<init>(Node.java:258) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.3.2.jar:7.3.2]
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.3.2.jar:7.3.2]
        ... 6 more
```

Is it possible that data of closed indexes is not being persisted properly (leading to issues at restart)? Can this be mitigated somehow (Maybe rolling back to less stronger consistency checks)?

",https://github.com/elastic/elasticsearch/issues/47276#issuecomment-536424070,"Hi @redbaron4. Thanks for reporting this. A few questions:
- Are these master-eligible nodes?
- Are these closed replicated indices (i.e. are there allocated shards for these indices)? Have these indices been closed in 6.x or 7.x?"
elastic/elasticsearch,"**Describe the feature**: The HLRC has a method for reindex, that allows to trigger an async reindex by running `RestHighLevelClient.submitReindexTask` and `RestHighLevelClient.reindex`. The delete by query however only has an `RestHighLevelClient.deleteByQuery` method (and its async counterpart), but no `RestHighLevelClient.submitDeleteByQueryTask`.",https://github.com/elastic/elasticsearch/issues/46395#issuecomment-531134587,@spinscale can I take a look at this bug? It is marked as good first issue and I want to start contributing.
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`):
v7.3.1

**Description of the problem including expected versus actual behavior**:

Using RestHighLevelClient to perform search request, sorting on number field is ok, sorting on string field will throw exception. it seems the client only try to decode the returned sort field as number.

**Steps to reproduce**:

Here is the sample document:
```
{
          ""times"" : 1,
          ""ip"" : ""10.1.35.240"",
          ""updateTime"" : ""2019-03-19T23:34:39.000Z"",
          ""interface"" : ""Ethernet111/1/31""
        }
```
Here is the sample request:
```
	SearchRequest searchRequest = new SearchRequest();
        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();
        searchRequest.indices(Constant.NETALERT_LOG_TRANS_INDEX_NAME+""-*"");
        searchSourceBuilder.query(QueryBuilders.matchAllQuery()).from(0).size(5);
        searchSourceBuilder.sort(""updateTime"",SortOrder.DESC);
```
This will be throw exception, as a good case, sort on `times` will be successful.

**Provide logs (if relevant)**:

```
		
Message: GatewayApp running failed
Error: xxxx.xxxx.common.error.UnknownException: BeanCreationException: Error creating bean with name 'netAlertBoardTransService': Invocation of init method failed; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=]]; nested: ElasticsearchException[Elasticsearch exception [type=class_cast_exception, reason=class java.lang.Long cannot be cast to class org.apache.lucene.util.BytesRef (java.lang.Long is in module java.base of loader 'bootstrap'; org.apache.lucene.util.BytesRef is in unnamed module of loader 'app')]];
	at xxxx.xxxx.common.error.BaseException.translate(BaseException.java:46)
	at xxxx.xxxx.impl.GatewayApp.main(GatewayApp.java:27)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'netAlertBoardTransService': Invocation of init method failed; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=]]; nested: ElasticsearchException[Elasticsearch exception [type=class_cast_exception, reason=class java.lang.Long cannot be cast to class org.apache.lucene.util.BytesRef (java.lang.Long is in module java.base of loader 'bootstrap'; org.apache.lucene.util.BytesRef is in unnamed module of loader 'app')]];
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at xxxx.xxxx.gateway.impl.GatewayApp.main(GatewayApp.java:23)
Caused by: ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=]]; nested: ElasticsearchException[Elasticsearch exception [type=class_cast_exception, reason=class java.lang.Long cannot be cast to class org.apache.lucene.util.BytesRef (java.lang.Long is in module java.base of loader 'bootstrap'; org.apache.lucene.util.BytesRef is in unnamed module of loader 'app')]];
	at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)
	at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1727)
	at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1704)
	at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1467)
	at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)
	at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)
	at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)
	at xxxx.xxxx.log.impl.timer.NetAlertBoardTransService.getLastTranLogTime(NetAlertBoardTransService.java:145)
	at xxxx.xxxx.log.impl.timer.NetAlertBoardTransService.init(NetAlertBoardTransService.java:55)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134)
	... 16 more
	Suppressed: org.elasticsearch.client.ResponseException: method [POST], host [https://10.1.240.240:9200], URI [/xxxx-xxxx-*/_search?typed_keys=true&ignore_unavailable=false&expand_wildcards=open&allow_no_indices=true&ignore_throttled=true&search_type=query_then_fetch&batched_reduce_size=512&ccs_minimize_roundtrips=true], status line [HTTP/1.1 500 Internal Server Error]
{""error"":{""root_cause"":[],""type"":""search_phase_execution_exception"",""reason"":"""",""phase"":""fetch"",""grouped"":true,""failed_shards"":[],""caused_by"":{""type"":""class_cast_exception"",""reason"":""class java.lang.Long cannot be cast to class org.apache.lucene.util.BytesRef (java.lang.Long is in module java.base of loader 'bootstrap'; org.apache.lucene.util.BytesRef is in unnamed module of loader 'app')""}},""status"":500}
		at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:253)
		at org.elasticsearch.client.RestClient.performRequest(RestClient.java:231)
		at org.elasticsearch.client.RestClient.performRequest(RestClient.java:205)
		at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1454)
		... 28 more
Caused by: ElasticsearchException[Elasticsearch exception [type=class_cast_exception, reason=class java.lang.Long cannot be cast to class org.apache.lucene.util.BytesRef (java.lang.Long is in module java.base of loader 'bootstrap'; org.apache.lucene.util.BytesRef is in unnamed module of loader 'app')]]
	at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:491)
	at org.elasticsearch.ElasticsearchException.fromXContent(ElasticsearchException.java:402)
	at org.elasticsearch.ElasticsearchException.innerFromXContent(ElasticsearchException.java:432)
	at org.elasticsearch.ElasticsearchException.failureFromXContent(ElasticsearchException.java:598)
	at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:169)
	... 31 more

********************************************************************************

Process finished with exit code 1
```",https://github.com/elastic/elasticsearch/issues/46362#issuecomment-528526089,"I cannot reproduce this. My steps to reproduce are as follows, running 7.3.1 docker containers for both elasticsearch and kibana.

I added two documents via kibana console
```
PUT foo/_doc/1
{
          ""times"" : 1,
          ""ip"" : ""10.1.35.240"",
          ""updateTime"" : ""2019-03-19T23:34:39.0001"",
          ""interface"" : ""Ethernet111/1/31""
        }

PUT foo/_doc/2
{
          ""times"" : 1,
          ""ip"" : ""10.1.35.240"",
          ""updateTime"" : ""2009-03-19T23:34:39.0001"",
          ""interface"" : ""Ethernet111/1/31""
        }
```
I went to my IDE and added the following code
```
 SearchRequest searchRequest = new SearchRequest();
        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();
        searchRequest.indices(""foo"");
        searchSourceBuilder.query(QueryBuilders.matchAllQuery()).from(0).size(5);
        searchSourceBuilder.sort(""updateTime"", SortOrder.DESC);

        RestHighLevelClient client = new RestHighLevelClient(
            RestClient.builder(
                new HttpHost(""localhost"", 9200, ""http"")));

        SearchResponse response = client.search(searchRequest, RequestOptions.DEFAULT);
        System.err.println(response);
        client.close();
```
and finally the result printed out

```
{
	""took"": 2,
	""timed_out"": false,
	""_shards"": {
		""total"": 1,
		""successful"": 1,
		""skipped"": 0,
		""failed"": 0
	},
	""hits"": {
		""total"": {
			""value"": 2,
			""relation"": ""eq""
		},
		""max_score"": 1.0,
		""hits"": [{
			""_index"": ""foo"",
			""_type"": ""_doc"",
			""_id"": ""1"",
			""_score"": 1.0,
			""_source"": {
				""times"": 1,
				""ip"": ""10.1.35.240"",
				""updateTime"": ""2019-03-19T23:34:39.0001"",
				""interface"": ""Ethernet111/1/31""
			}
		}, {
			""_index"": ""foo"",
			""_type"": ""_doc"",
			""_id"": ""2"",
			""_score"": 1.0,
			""_source"": {
				""times"": 1,
				""ip"": ""10.1.35.240"",
				""updateTime"": ""2009-03-19T23:34:39.0001"",
				""interface"": ""Ethernet111/1/31""
			}
		}]
	}
}
```

does it maybe have something to do with your mapping? have u tried issuing the same search in kibana console?"
elastic/elasticsearch,"Bug report

**Elasticsearch version** 
7.2.0 and 7.3.1 ESS

**Description of the problem including expected versus actual behavior**:
When I look at my indices under index management and apply the Lifecycle filters (hot, warm, cold) I see that I have a bunch of Filebeat indices that are not in any of the above states.  When I look at the details I see the state is ""completed"":

![image](https://user-images.githubusercontent.com/25182304/64300553-34fcf280-cf4b-11e9-892c-5ac3bb77a495.png)

Using the following ILM policy index should go to ""warm"" on rollover:
```
{
    ""policy"": {
        ""phases"": {
            ""hot"": {
                ""min_age"": ""0ms"",
                ""actions"": {
                    ""rollover"": {
                        ""max_age"": ""1h"",
                        ""max_size"": ""50mb"",
                        ""max_docs"": 100
                    }
                }
            },
            ""warm"": {
                ""min_age"": ""1h"",
                ""actions"": {
                    ""allocate"": {
                        ""include"": {},
                        ""exclude"": {},
                        ""require"": {
                            ""data"": ""warm""
                        }
                    }
                }
            }
        }
    }
}
```

**Steps to reproduce**:

1. Run `filebeat setup`
2. Edit ILM policy to reduce time (so you do not have to wait 30 days)
3. Run `filebeat`
4. Wait for rollover


",https://github.com/elastic/elasticsearch/issues/46357#issuecomment-528406565,"@DanRoscigno after the rollover, ILM moves the index into the `warm` phase and then immediately executes the allocate action, then moves the index into the `complete` phase. It sounds like you're expecting it to stay in the warm phase forever? This is expected behavior from ILM."
elastic/elasticsearch,"<!-- Bug report -->

**Elasticsearch version**:  7.3.1 running on Elastic Cloud

**Description of the problem including expected versus actual behavior**:
When attempting to enrich events with geoIP information in beats, with `netinfo.enabled: true` defined, the Elasticsearch Ingest processor fails if `host.ip` contains an array of IPs.  The expected behavior is that an array of IPs can be ingested into Elasticsearch.  The current workaround is to disable netinfo (i.e., `netinfo.enabled: false`)

**Steps to reproduce**:

Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1. Configure adding the [geoip-info ingest pipeline](https://www.elastic.co/guide/en/beats/packetbeat/7.3/packetbeat-geoip.html#packetbeat-configuring-geoip) in order to enrich events with geoIP information

2. Configure  the Elasticsearch output to use the `geoip-info` pipeline (i.e. `output.elasticsearch.pipeline: geoip-info`)

3. Configure a [top-level processor](https://www.elastic.co/guide/en/beats/packetbeat/7.3/defining-processors.html) in *beats (this impacts auditbeat, filebeat, heartbeat, metricbeat, packetbeat, and winlogbeat) to add geo information, with `netinfo.enabled: true`
<details><summary>configuration from `packetbeat.yml`</summary>

```
processors:
  - add_host_metadata:
      netinfo.enabled: true
  - add_cloud_metadata: ~
  - add_fields:
      when.network.source.ip: 10.100.10.0/24
      fields:
        source.geo.location:
          lat: 42
          lon: -93
        source.geo.continent_name: North America
        source.geo.region_iso_code: US-IA
        source.geo.country_iso_code: US
        source.geo.region_name: Iowa
      target: ''
  - add_fields:
      when.network.destination.ip: 10.100.10.0/24
      fields:
        destination.geo.location:
          lat: 42
          lon: -93
        destination.geo.continent_name: North America
        destination.geo.region_iso_code: US-IA
        destination.geo.country_iso_code: US
        destination.geo.region_name: Iowa
      target: ''
```

</details>

 4. Start packetbeat, it is unable to publish events to Elasticsearch, when not in DEBUG mode, the only response generated is:
```
ERROR    pipeline/output.go:121    Failed to publish events: temporary bulk send failure
```


**Provide logs (if relevant)**:
```
elasticsearch/client.go:533    Bulk item insert failed (i=0, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
```

<details><summary>more of the same `Bulk item insert failed` logs </summary>

```
2019-08-30T10:04:26.038-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:339	PublishEvents: 35 events have been published to elasticsearch in 130.0856ms.
2019-08-30T10:04:26.038-0500	DEBUG	[tcp]	tcp/tcp.go:177	tcp flow id: 0xc000e29900
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=0, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:216	flow id flags: 3089
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=1, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:94	get flow
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=2, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:96	lookup flow: {3089 0 255 255 255 12 255 255 255 255 255 20 24 1 0 1} => [124 173 116 146 217 104 248 177 86 165 135 119 104 198 38 169 10 100 10 20 187 1 193 226 3 0 0 0 0 0 0 0]
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:89	unlock flows
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=3, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[sniffer]	sniffer/sniffer.go:209	Packet number: 49991
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=4, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:173	decode packet data
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:84	lock flows
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=5, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:157	flowid: add eth
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=6, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:246	IPv4 packet
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=7, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=8, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:163	flowid: add ipv4
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=9, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:287	TCP packet
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:230	flowid: add tcp
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=10, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:216	flow id flags: 1041
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:94	get flow
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=11, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:96	lookup flow: {1041 0 255 255 255 12 255 255 255 255 255 20 255 1 0 1} => [0 80 182 150 119 253 248 177 86 165 135 119 10 100 10 15 10 100 10 20 21 194 61 13]
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=12, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=13, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:89	unlock flows
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=14, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=15, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[sniffer]	sniffer/sniffer.go:209	Packet number: 49992
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=16, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:173	decode packet data
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flows.go:84	lock flows
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=17, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=18, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=19, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:157	flowid: add eth
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=20, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:246	IPv4 packet
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:163	flowid: add ipv4
2019-08-30T10:04:26.039-0500	DEBUG	[decoder]	decoder/decoder.go:287	TCP packet
2019-08-30T10:04:26.039-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=21, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.039-0500	DEBUG	[flows]	flows/flowid.go:230	flowid: add tcp
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=22, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[decoder]	decoder/decoder.go:216	flow id flags: 1041
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=23, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flows.go:94	get flow
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=24, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flows.go:96	lookup flow: {1041 0 255 255 255 12 255 255 255 255 255 20 255 1 0 1} => [0 80 182 150 119 253 248 177 86 165 135 119 10 100 10 15 10 100 10 20 21 194 61 13]
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=25, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flows.go:89	unlock flows
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=26, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[sniffer]	sniffer/sniffer.go:209	Packet number: 49993
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=27, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[decoder]	decoder/decoder.go:173	decode packet data
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flows.go:84	lock flows
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=28, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flowid.go:157	flowid: add eth
2019-08-30T10:04:26.040-0500	DEBUG	[decoder]	decoder/decoder.go:246	IPv4 packet
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=29, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=30, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flowid.go:163	flowid: add ipv4
2019-08-30T10:04:26.040-0500	DEBUG	[decoder]	decoder/decoder.go:287	TCP packet
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=31, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flowid.go:230	flowid: add tcp
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=32, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flowid.go:236	flowid: add tcp connection id
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=33, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[tcp]	tcp/tcp.go:177	tcp flow id: 0xc000e29900
2019-08-30T10:04:26.040-0500	DEBUG	[elasticsearch]	elasticsearch/client.go:533	Bulk item insert failed (i=34, status=500): {""type"":""exception"",""reason"":""java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""java.lang.IllegalArgumentException: field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]"",""caused_by"":{""type"":""illegal_argument_exception"",""reason"":""field [host.ip] of type [java.util.ArrayList] cannot be cast to [java.lang.String]""}},""header"":{""processor_type"":""geoip""}}
2019-08-30T10:04:26.040-0500	DEBUG	[decoder]	decoder/decoder.go:216	flow id flags: 3089
2019-08-30T10:04:26.040-0500	DEBUG	[flows]	flows/flows.go:94	get flow
2019-08-30T10:04:26.040-0500	INFO	[publisher]	pipeline/retry.go:155	Drop batch
```

</details>

When not in DEBUG mode, the only response generated is:
```
ERROR    pipeline/output.go:121    Failed to publish events: temporary bulk send failure
```",https://github.com/elastic/elasticsearch/issues/46193#issuecomment-527182706,So the ip addresses are then provided as json array in the source field (the `field` setting in the pipeline config)? If that is the case then is the expected behaviour is that the geo information is appended in the configured `target_field` (in the order matching to the order of the ip addresses in the configured source field)?
elastic/elasticsearch,"The decuded mappings introduced in #43742 seems to miss exposing mappings based on scripted fields. For example, using the following in Kibana Dev Console:

```json
POST _data_frame/transforms/_preview
{
  ""source"": {
    ""index"": [
      ""filebeat-nginx-elasticco-anon-2017""
    ]
  },
  ""pivot"": {
    ""group_by"": {
      ""source.address"": {
        ""terms"": {
          ""field"": ""source.address""
        }
      }
    },
    ""aggregations"": {
      ""@timestamp_max"": {
        ""max"": {
          ""field"": ""@timestamp""
        }
      },
      ""@timestamp_min"": {
        ""min"": {
          ""field"": ""@timestamp""
        }
      },
      ""duration"": {
        ""bucket_script"": {
          ""buckets_path"": {
            ""min"": ""@timestamp_min"",
            ""max"": ""@timestamp_max""
          },
          ""script"": ""(params.max - params.min)/1000""
        }
      }
    }
  }
}
```

Will return:

```
{
  ""preview"" : [
    {
      ""duration"" : 3236636.783,
      ""@timestamp_min"" : ""2017-02-01T06:02:10.303Z"",
      ""@timestamp_max"" : ""2017-03-10T17:06:07.086Z"",
      ""source"" : {
        ""address"" : """"
      }
    },
    ...
   {
      ""duration"" : 0.0,
      ""@timestamp_min"" : ""2017-02-09T08:07:07.963Z"",
      ""@timestamp_max"" : ""2017-02-09T08:07:07.963Z"",
      ""source"" : {
        ""address"" : ""0.104.130.123""
      }
    }
  ],
  ""mappings"" : {
    ""properties"" : {
      ""@timestamp_min"" : {
        ""type"" : ""date""
      },
      ""@timestamp_max"" : {
        ""type"" : ""date""
      },
      ""source.address"" : {
        ""type"" : ""keyword""
      }
    }
  }
}
```

You can see that `duration` is part of the preview documents, but it's missing from the `mappings` part.

This affects the Kibana data frame transforms wizard in `7.3+`: For the transforms preview table, the columns visible are based on the `mappings`, so the `duration` column will not show up at all.",https://github.com/elastic/elasticsearch/issues/46070#issuecomment-525747739,"@walterra the mappings returned are the specific field mappings that we can actually deduce. When a field is not included, that means we defer to the Elasticsearch dynamic mapping logic.

For certain aggregations, there is no way for us to accurate deduce their field type. A specific example of this is `scripted_metric`.

I do not think we will ever include `scripted_metric` fields in this mapping. 

Why not make the columns that are visible be the fields in the preview objects? We return a set number of them, so iterating through them and picking out the unique field names seems more reliable. "
elastic/elasticsearch,"This looks somewhat similar to #45073

**Elasticsearch version** (`bin/elasticsearch --version`): 7.3.1

**Description of the problem including expected versus actual behavior**:

Running `./gradlew clean check` in an external plugin that uses 7.3.1 as dependency returns with this error

```
./gradlew clean check

FAILURE: Build failed with an exception.

* What went wrong:
Could not determine the dependencies of task ':copyRestSpec'.
> Could not resolve all files for configuration ':restSpec'.
   > Could not find org.elasticsearch.rest-api-spec:7.3.1:.
     Required by:
         project :

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 982ms
```",https://github.com/elastic/elasticsearch/issues/45891#issuecomment-524582878,@spinscale Did you do this perhaps in the middle of the 7.3.1 release? The artifact appears to exist now: https://search.maven.org/artifact/org.elasticsearch/rest-api-spec/7.3.1/jar
elastic/elasticsearch,"**Steps**

1. Create a repository with a slow write rate, like 1kb
2. Create policy that uses the slow repo
3. Execute that policy, observe that a snapshot is in progress, and the policy information includes in progress information
4. Execute the policy again while the snapshot hasn't finished, observe that the request hangs and eventually times out with a 504 response code",https://github.com/elastic/elasticsearch/issues/45594#issuecomment-521664558,"Can you describe how you reproduced this in more detail? When I run through the same behavior the second execute call returns with the snapshot name, which then fails (as expected) with a warning in the logs and registers it as a failed snapshot in the SLM policy

```
[elasticsearch] [2019-08-15T08:35:23,107][INFO ][o.e.x.s.SnapshotLifecycleTask] [node-0] snapshot lifecycle policy [daily-snapshots] issuing create snapshot [production-snap-2019.08.15-sdycfgceq1ozhvqhbdhyfg]
[elasticsearch] [2019-08-15T08:35:23,145][INFO ][o.e.s.SnapshotsService   ] [node-0] snapshot [repo:production-snap-2019.08.15-sdycfgceq1ozhvqhbdhyfg/eXVrbzxrRHmceBWpy70iPQ] started
[elasticsearch] [2019-08-15T08:35:23,188][INFO ][o.e.c.m.MetaDataCreateIndexService] [node-0] [.slm-history-1-2019.08] creating index, cause [auto(bulk api)], templates [.slm-history], shards [1]/[0], mappings [_doc]


[elasticsearch] [2019-08-15T08:35:27,333][INFO ][o.e.x.s.SnapshotLifecycleTask] [node-0] snapshot lifecycle policy [daily-snapshots] issuing create snapshot [production-snap-2019.08.15-e4coq5clrdaatbhcbzb93q]
[elasticsearch] [2019-08-15T08:35:27,356][WARN ][o.e.s.SnapshotsService   ] [node-0] [repo][production-snap-2019.08.15-e4coq5clrdaatbhcbzb93q] failed to create snapshot
[elasticsearch] org.elasticsearch.snapshots.ConcurrentSnapshotExecutionException: [repo:production-snap-2019.08.15-e4coq5clrdaatbhcbzb93q]  a snapshot is already running
[elasticsearch] 	at org.elasticsearch.snapshots.SnapshotsService$1.execute(SnapshotsService.java:286) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:47) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.MasterService.executeTasks(MasterService.java:697) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.MasterService.calculateTaskOutputs(MasterService.java:319) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:214) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:151) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:699) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:252) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:215) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
[elasticsearch] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
[elasticsearch] 	at java.lang.Thread.run(Thread.java:834) [?:?]
```

Repo/policy I'm using:

```
PUT /_snapshot/repo
{
  ""type"": ""fs"",
  ""settings"": {
    ""location"": ""repo"",
    ""max_snapshot_bytes_per_sec"": ""10b""
  }
}

PUT /_slm/policy/daily-snapshots
{
  ""schedule"": ""1 2 3 * * ?"",
  ""name"": ""<production-snap-{now/d}>"",
  ""repository"": ""repo"",
  ""config"": {
    ""indices"": [""foo-*"", ""important""],
    ""ignore_unavailable"": true,
    ""include_global_state"": false
  }
}
```"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`): `6.8.1`

**Plugins installed**: []

**JVM version** (`java -version`):
```
java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)
```

**OS version** (`uname -a` if on a Unix-like system):
```
Darwin Kernel Version 18.7.0: Thu Jun 20 18:42:21 PDT 2019; root:xnu-4903.270.47~4/RELEASE_X86_64 x86_6
```

**Description of the problem including expected versus actual behavior**:

Our example docs [1] show how to use the response from a _tasks/_cancel API call via the HLRC. However, the parser [2] is looking for a top level `tasks` object, but it's really nested under `nodes.*` in the actual response:

```
{
  ""nodes"" : {
    ""xRYjtvivTlKXuXDUL0Hhcw"" : {
      ""name"" : ""instance-0000000004"",
      ""transport_address"" : ""172.25.162.9:19987"",
      ""host"" : ""172.25.162.9"",
      ""ip"" : ""172.25.162.9:19987"",
      ""roles"" : [
        ""master"",
        ""data"",
        ""ingest""
      ],
      ""attributes"" : {
        ""logical_availability_zone"" : ""zone-0"",
        ""server_name"" : ""instance-0000000004.2ab4c8015d104467862e200444aeb2ac"",
        ""availability_zone"" : ""us-east-1e"",
        ""xpack.installed"" : ""true"",
        ""region"" : ""us-east-1"",
        ""instance_configuration"" : ""aws.data.highio.i3""
      },
      ""tasks"" : {
        ""xRYjtvivTlKXuXDUL0Hhcw:1481971"" : {
          ""node"" : ""xRYjtvivTlKXuXDUL0Hhcw"",
          ""id"" : 1481971,
          ""type"" : ""transport"",
          ""action"" : ""indices:data/write/reindex"",
          ""start_time_in_millis"" : 1565108484002,
          ""running_time_in_nanos"" : 18328639067,
          ""cancellable"" : true,
          ""headers"" : { }
        }
      }
    }
  }
}
```

[1] https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-cluster-cancel-tasks.html#_cancel_tasks_response
[2] https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java#L96-L99

",https://github.com/elastic/elasticsearch/issues/45414#issuecomment-522307951,"I never contributed actively to the project bit I think I could Pick It up.

About the approach suggested, you mean that `Request` and `Response` issued by the HLRC should not be those used in the server code base?
If so I think this approach Is correct.

Looking to other issues in HLRC such as #41228 and #29184 the approach you suggest seems the only way to decouple the HLRC from server dependencies, as the server requests and responses are tighty bound to core libraries and classes ( such ascfor example `ElasticSearchException`, `ExceptionHelper`, `StreamInput` and `StreamOutput` )."
elastic/elasticsearch,"On ES 6.x and below, date fields (i.e. fields of `""type"": ""date""`) used to accept values of the form `""2018-09""` (i.e. just year and month) whereas this no longer works on ES 7.x (tested on 7.3.0 and master).

This breaks recoveries from 6.x to 7.x and indexing pipelines.",https://github.com/elastic/elasticsearch/issues/45284#issuecomment-519354122,"The default parser for date fields is `strict_date_optional_time` (and a fallback to epoch millis, but that is unimportant for this discussion). It looks like confusing terminology in Joda has caused us to be too strict in several places with our conversion to java time.  It looks like myself and others who worked on the java time migration viewed the ""strict"" term here as correlated with the ""optional"" portion, meaning the above format would have a required date, but an optional time. But upon further inspection it appears strict has to do with validation of the fields of the date, eg allowing 13 as the month.  Unfortunately the ""dueling"" tests that we have comparing java time to joda did not compare these partial dates to joda.

Java time's facility for allowing lenient parsing is the ResolverStyle, which can be `LENIENT`, `SMART` or `STRICT`. `SMART` is actually the default, which will try to carry over field values out of the expected range (for example, july 32 would be translated to aug 1).  Switching the strict parsers we have to allow optional portions of dates, and changing the resolver style to strict should match the old joda behavior.

We should also be consistent about not using `SMART`, and maybe discuss whether we need the `LENIENT` resolved versions of date formatters at all? It is unclear how these would be used in Elasticsearch since in many places we necessarily convert date/times to epoch millis or nanos, and I don't think a lenient parsed field can be converted in this way without a custom field resolver.

/cc @spinscale @pgomulka "
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`): 7.3 (cloud)

**JVM version** (`java -version`): Cloud

**OS version** (`uname -a` if on a Unix-like system): Cloud

**Description of the problem including expected versus actual behavior**:
Since upgrading to 7.3 on my cloud cluster I have been unable to create working rollup jobs. If I create one via API I get a success beck, but then the job does not show up when I try to GET it and I'm told the task doesn't exist if I try to delete it. At the same time if I try to create it again I'm told one with that id already exists, if I delete that I'm then told the metadata exists, if I delete the rollup index I'm then still told a task with that id exists. I've found not way to view or delete the task if that's separate from the job. Trying again with a new id ""works"" and then repeats this pattern of being invisible and unable to start because it ""doesn't exist"" even though it ""already exists"" when creating anew.

I've also tried to create the job via Kibana with problems. I get an error on creation ""Request failed with a error. An internal server error occurred."" followed by the same issues about the job already existing while it's also not showing up on the list of jobs. I did once or twice get a job with no terms or metrics to create, but even then that seems to mostly fail. The log shows the following error when creating via kibana (note that this happens even with most ""empty"" jobs that don't mention the heat_set_point field, which is one I am trying to target with the real job).

[instance-0000000004] failed to notify ClusterStateListener java.lang.IllegalArgumentException: Two sibling aggregations cannot have the same name: [heat_set_point.avg._count] at org.elasticsearch.search.aggregations.AggregatorFactories$Builder.addAggregator(AggregatorFactories.java:298) ~[elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.search.aggregations.AbstractAggregationBuilder.subAggregation(AbstractAggregationBuilder.java:80) ~[elasticsearch-7.3.0.jar:7.3.0] at java.util.ArrayList.forEach(ArrayList.java:1540) ~[?:?] at java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1083) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupIndexer.createCompositeBuilder(RollupIndexer.java:166) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupIndexer.<init>(RollupIndexer.java:94) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupIndexer.<init>(RollupIndexer.java:78) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupJobTask$ClientRollupPageManager.<init>(RollupJobTask.java:103) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupJobTask.<init>(RollupJobTask.java:210) ~[?:?] at org.elasticsearch.xpack.rollup.job.RollupJobTask$RollupJobPersistentTasksExecutor.createTask(RollupJobTask.java:85) ~[?:?] at org.elasticsearch.persistent.PersistentTasksNodeService$1.createTask(PersistentTasksNodeService.java:163) ~[elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.tasks.TaskManager.register(TaskManager.java:114) ~[elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.persistent.PersistentTasksNodeService.startTask(PersistentTasksNodeService.java:166) ~[elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.persistent.PersistentTasksNodeService.clusterChanged(PersistentTasksNodeService.java:115) ~[elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.cluster.service.ClusterApplierService.lambda$callClusterStateListeners$6(ClusterApplierService.java:503) [elasticsearch-7.3.0.jar:7.3.0] at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) [?:?] at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) [?:?] at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) [?:?] at org.elasticsearch.cluster.service.ClusterApplierService.callClusterStateListeners(ClusterApplierService.java:500) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.cluster.service.ClusterApplierService.applyChanges(ClusterApplierService.java:477) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.cluster.service.ClusterApplierService.runTask(ClusterApplierService.java:418) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.cluster.service.ClusterApplierService$UpdateTask.run(ClusterApplierService.java:165) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:688) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:252) [elasticsearch-7.3.0.jar:7.3.0] at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:215) [elasticsearch-7.3.0.jar:7.3.0] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?] at java.lang.Thread.run(Thread.java:834) [?:?]

",https://github.com/elastic/elasticsearch/issues/45247#issuecomment-518742153,"Hmm.  Could you paste the output of `GET /_rollup/data/_all` ?  I'd like to see what jobs are on the cluster currently.  I'm thinking one of them might have invalid syntax (which we missed when the job was created) which is breaking things later.

"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):

7.2.0

**Description of the problem including expected versus actual behavior**:

Passing a `time_zone` parameter in a date_histogram source in `composite` aggregation returns wrong buckets.

It has been reported in this discussion some months ago, but the problem is still present in master: https://discuss.elastic.co/t/composite-date-aggregation-not-consistent/172666

**Steps to reproduce**:
```
# Create index
curl -XPUT ""http://elastic:9200/test_date_histo"" -H 'Content-Type: application/json' -d'
{
  ""settings"": {
    ""number_of_shards"": 5
  },
  ""mappings"": {
    ""properties"": {
      ""date"": {
        ""type"": ""date""
      }
    }
  }
}'

# Index some data
curl -XPOST ""http://elastic:9200/test_date_histo/_doc"" -H 'Content-Type: application/json' -d'
{
  ""date"": ""2019-03-01T00:01:00+00:00""
}'

# Perform a comparative query
curl -XGET ""http://elastic:9200/test_date_histo/_search?request_cache=false"" -H 'Content-Type: application/json' -d'
{
  ""size"": 0,
  ""aggs"": {
    ""date_histo"": {
      ""date_histogram"": {
        ""field"": ""date"",
        ""interval"": ""1d"",
        ""time_zone"": ""+02:00"",
        ""format"": ""yyyy-MM-dd""
      }
    },
    ""composite_date_histo"": {
      ""composite"": {
        ""sources"": [
          {
            ""date_histo"": {
              ""date_histogram"": {
                ""field"": ""date"",
                ""interval"": ""1d"",
                ""format"": ""yyyy-MM-dd"",
                ""time_zone"": ""+02:00""
              }
            }
          }
        ]
      }
    }
  }
}'

```

The result is:

```
{
  ""took"" : 2,
  ""timed_out"" : false,
  ""_shards"" : {
    ""total"" : 5,
    ""successful"" : 5,
    ""skipped"" : 0,
    ""failed"" : 0
  },
  ""hits"" : {
    ""total"" : 1,
    ""max_score"" : 0.0,
    ""hits"" : [ ]
  },
  ""aggregations"" : {
    ""composite_date_histo"" : {
      ""after_key"" : {
        ""date_histo"" : ""2019-02-28""
      },
      ""buckets"" : [
        {
          ""key"" : {
            ""date_histo"" : ""2019-02-28""
          },
          ""doc_count"" : 1
        }
      ]
    },
    ""date_histo"" : {
      ""buckets"" : [
        {
          ""key_as_string"" : ""2019-03-01"",
          ""key"" : 1551391200000,
          ""doc_count"" : 1
        }
      ]
    }
  }
}
```
",https://github.com/elastic/elasticsearch/issues/45199#issuecomment-573767230,Is there any news on this? Without `time_zone` support composite `date_histogram` queries are nearly useless to us.
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`): 7.2, 7.3

**Plugins installed**: []

**JVM version** (`java -version`): Bundled JDK

**OS version** (`uname -a` if on a Unix-like system): ESS and Darwin Kernel Version 18.6.0

**Description of the problem including expected versus actual behavior**: Watcher web hook actions do not return a 200 status code for POST requests.

**Steps to reproduce**: Execute a watch with a webhook action.

Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1. Create watch with a webhook action.
 2. Force execute watch, or wait for it to trigger

As of `7.2`, webhook actions are are returning a `302` http status code for POST requests, as opposed to `200`. After some initial discussions with @jakelandis, there is nothing obvious in the codebase that would cause this.

The same exact webhook action in `7.1` and below works fine. All other http clients (tested with curl, wget and postman) all return the expected response. 

This has been tested (an initially spotted) in ESS, and also on my MBP.",https://github.com/elastic/elasticsearch/issues/44970#issuecomment-517170510,"can you provide a reproducible example here? I tried this and this properly returns 200, so there must be something else that you are doing

```
POST _watcher/watch/_execute
{
  ""watch"": {
    ""trigger"": {
      ""schedule"": {
        ""interval"": ""10h""
      }
    },
    ""input"": {
      ""http"": {
        ""request"": {
          ""url"" : ""https://httpbin.org/status/200""
        }
      }
    },
    ""actions"": {
      ""logme"": {
        ""logging"": {
          ""text"": ""{{ctx.payload._status_code}}""
        }
      }
    }
  }
}
```

I also tried `https://www.elastic.co/` as an URL, and that one also returned the proper error code."
elastic/elasticsearch,"We are planning to port most of Stack Monitoring current aggregations to use `auto_date_histogram` in lieu of `date_histogram` as part of https://github.com/elastic/kibana/issues/37246.

We noticed that `auto_date_histogram` supports most of aggregations that `date_histogram` does, but fails (on `fetch` phase) with `bucket_script`. As a first pass, I tried replacing the existing `date_histogram` usage with `auto_date_histogram` and it broke:

```http
GET .monitoring-logstash-*/_search
{
  ""size"": 0,
  ""query"": {
    ""bool"": {
      ""filter"": [
        {
          ""range"": {
            ""logstash_stats.timestamp"": {
              ""format"": ""epoch_millis"",
              ""gte"": 1563551274281,
              ""lte"": 1563554874281
            }
          }
        }
      ]
    }
  },
  ""aggs"": {
    ""check"": {
      ""auto_date_histogram"": {
        ""field"": ""logstash_stats.timestamp"",
        ""buckets"": 10
      },
      ""aggs"": {
        ""pipelines_nested"": {
          ""nested"": {
            ""path"": ""logstash_stats.pipelines""
          },
          ""aggs"": {
            ""by_pipeline_id"": {
              ""terms"": {
                ""field"": ""logstash_stats.pipelines.id"",
                ""size"": 1000
              },
              ""aggs"": {
                ""by_pipeline_hash"": {
                  ""terms"": {
                    ""field"": ""logstash_stats.pipelines.hash"",
                    ""size"": 1000
                  },
                  ""aggs"": {
                    ""by_ephemeral_id"": {
                      ""terms"": {
                        ""field"": ""logstash_stats.pipelines.ephemeral_id"",
                        ""size"": 1000
                      },
                      ""aggs"": {
                        ""events_stats"": {
                          ""stats"": {
                            ""field"": ""logstash_stats.pipelines.events.out""
                          }
                        },
                        ""throughput"": {
                          ""bucket_script"": {
                            ""script"": ""params.max - params.min"",
                            ""buckets_path"": {
                              ""min"": ""events_stats.min"",
                              ""max"": ""events_stats.max""
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
```

This query fails where the same query works if you replace `auto_date_histogram` with `date_histogram` (and use `interval` instead of `buckets`). Anyone attempting to run this on an existing cluster will likely need to shift the date `range` query.",https://github.com/elastic/elasticsearch/issues/44914#issuecomment-515544407,@igoristic Do you have a stack trace or error from Elasticsearch when it fails to work with the bucket script?
elastic/elasticsearch,"Originally at lease 1 source index was required, in case of a pattern new index could appear but it wasn't allowed to remove them. To support ILM however we decided to relax this constraint and allow the deletion of indexes, see https://github.com/elastic/elasticsearch/pull/44344.

As indexes could get deleted while indexing is running it could happen that searches fail if the index is closed at the moment we try to access it, that's why we had to switch to lenient source index expansion: https://github.com/elastic/elasticsearch/pull/44633

This had a bad side effect: sources indexes can run empty which breaks assumptions made in various places of the indexer, e.g. leading to a NPE:

```
[2019-07-25T06:49:38,936][WARN ][o.e.x.d.t.DataFrameTransformTask] [ml-qa-ubuntu-5] Data frame transform [dft_failed_missing_source_index_1564037378655] encountered an exception: 
java.lang.NullPointerException: null
    at org.elasticsearch.xpack.dataframe.transforms.DataFrameIndexer.doProcess(DataFrameIndexer.java:170) ~[?:?]
    at org.elasticsearch.xpack.core.indexing.AsyncTwoPhaseIndexer.onSearchResponse(AsyncTwoPhaseIndexer.java:337) ~[?:?]
    at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
    at org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
    at org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:68) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
```

(the NPE happens as we try to access the non-existing `aggs` object in the response)

## Solution

 - ~if a concrete index is involved and the set of source indexes gets empty the transform should fail~
 - ~if the source is a pattern~ we allow source getting empty

=> always be lenient (whether or not source is a pattern)
=> require a non-empty source(index, not document-wise!) on `_preview` and `PUT`

## Dev Notes

 - check for empty source set / results:
   - at validation time if validation is not deferred do not allow an empty set, independent of pattern usage
   - at preview, independent of pattern usage
 - expect empty/null results, code needs to be hardened for that

## Discuss

=> a strict mode will be provided once we see a demand for it

Outdated:

The deletion of source indexes seem only relevant if source indexes are managed by ILM and for continuous data frames:

- should batch data frames be strict like before?
- even if continuous is used you might not want to ""loose"" data without notice, should we have a parameter for strictness (while lenient can be the default)?
  - or use `index` for non-ILM and `index_patterns` for ILM:

non-ILM:
```
""source"": {
    ""index"": ""kibana_sample_data_ecommerce"",
    ""query"": {}
...
```

ILM: 
```
""source"": {
    ""index_patterns"": [""events-*""],
    ""query"": {}
...
```",https://github.com/elastic/elasticsearch/issues/44906#issuecomment-516555145,"I am against separating out `index` and `index_patterns`. I think that adds unnecessary complexity. 

We should handle these types of responses in a sane way. Maybe allowing empty results, but auditing if we see empty results. It could be just fine that there are no concrete indices (for a period of time) that can be queried.


If we want to allow some sort of control to the user, we could also add support for index expansion flags in the `source` object, but that seems too granular. Possibly an `allow_no_indices` flag? Just spit balling. "
elastic/elasticsearch,"Most likely the DatafeedTimingStats doc is persisted too often. This issue aims to verify and fix that.

From @dolaru:

we noticed a significant increase in some of our anomaly detection & data frame analytics job runs in CI.
the changes have been spotted starting with mini-stack build number 5302 in master. Looking at the changes that this build introduced, it seems that this PR might be the culprit: https://github.com/elastic/elasticsearch/commit/e2bdd43703364ac86e3f593dec926f73425e67a7
The increase has been spotted in 7.x (7.4.0) and master (8.0.0) on both Linux and Windows machines. ",https://github.com/elastic/elasticsearch/issues/44792#issuecomment-515649793,"Hi, @przemekwitek , after the fix #44803, we see a big improvement for overall job duration, except that there are still significant increase for 20 + anomaly detection jobs. like: 
- ""r02c"", job duration is increased from 9s(build 8.0.0-5601) to 171s(build 8.0.0-5392), increased 1655 %,
- ""median"", job duration is increased from 23s(build 8.0.0-5601) to 192s (build 8.0.0-5392), increased 723%,
- ""r02a"", job duration is increased from 15s(build 8.0.0-5601) to 122s (build 8.0.0-5392), increased 705%,
- ""r02b"", job duration is increased from 17s(build 8.0.0-5601) to 74s (build 8.0.0-5392), increased 329%,
- ""dns_tunneling1"", job duration is increased from 13s(build 8.0.0-5601) to 51s (build 8.0.0-5392), increased 287%,


dataset_name | job_duration (ms) - build 5601 | job_duration (ms) - latest build 5392 | Increased %
-- | -- | -- | --
r02c | 9769 | 171476 | 1655.307606
median | 23407 | 192795 | 723.6638612
r02a | 15191 | 122405 | 705.7731552
r02b | 17291 | 74241 | 329.3620959
dns_tunneling1 | 13177 | 51060 | 287.4933596
low_distinct_count_by_over | 20777 | 65626 | 215.8588824

Could you please take a look at those as well? thanks in advanced!

"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

**Describe the feature**:

<!-- Bug report -->

**Elasticsearch version** : v6.8.0

**Plugins installed**: [mapper_size]

**JVM version** : openjdk version ""1.8.0_202""
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.202-b08, mixed mode)

**OS version** : SQL client on Windows 10

**Description of the problem including expected versus actual behavior**:

The SQL JDBC documentation states the following URL syntax is valid. 

`jdbc:es://[[http|https]://]*[host[:port]]*/[prefix]*<[?[option=value]&]*`

With ""Prefix (empty by default). Typically used when hosting Elasticsearch under a certain path. Optional.""

When ES is hosted under a different path, the JDBC driver ignores the path and attempts to connect to the / root with a GET /?error_trace.

**Steps to reproduce**:

ES is running happily behind Nginx, on the path ""es_rest"" (reverse proxied to localhost:9200). When I configure the JDBC path `jdbc:es://https://myhost.example.com:443/es_rest/`, the driver ignores /es_rest/ and attempts to connect to `jdbc:es://https://myhost.example.com:443/`.",https://github.com/elastic/elasticsearch/issues/44721#issuecomment-514186699,"@zofog do you get an error? If so, can you share this along with any stacktraces (if any) in logs?"
elastic/elasticsearch,"Feature request -->
High level REST client allows you to set the .from option in SearchSourceBuilder when using SearchScrollRequest but that return ActionRequestValidationException on runtime. The feature request is an api fix so that it does not allow to build a query that will not pass the validation in the runtime.

Example of code that throw ActionRequestValidationException
```
        final Scroll scroll = new Scroll(TimeValue.timeValueMinutes(1L));
        SearchRequest scrollSearchRequest = new SearchRequest(""xxx_listing_read"");
        SearchSourceBuilder scrollSearchSourceBuilder = new SearchSourceBuilder();

        BoolQueryBuilder queryBuilder = boolQuery();

        scrollSearchSourceBuilder
            .query(queryBuilder)
            .from(offset)
            .size(perPage);

        scrollSearchRequest.source(scrollSearchSourceBuilder);
        scrollSearchRequest.scroll(scroll);
```



",https://github.com/elastic/elasticsearch/issues/44493#issuecomment-521555087,"Hi guys, I would like to tackle this one as my first contribution to ES. I assume it is ready to be fixed, right? Or do I need to wait for some clarifications from core team? 
Update:
@hub-cap according to [this](https://github.com/elastic/elasticsearch/blob/3f10cea87ac658b037a256bbf99b62e5dcae05b3/server/src/test/java/org/elasticsearch/action/search/SearchRequestTests.java#L132) test throwing ActionRequestValidationException is expected.  "
elastic/elasticsearch,"Copy - paste from here https://discuss.elastic.co/t/pushing-auto-follow-pattern-results-in-a-null-pointer-exception-on-elasticsearch-side/189666/2

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):
6.8.1
**Plugins installed**: []
none.

**JVM version** (`java -version`):
openjdk version ""1.8.0_212""
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_212-b04)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.212-b04, mixed mode)

**OS version** (`uname -a` if on a Unix-like system):
Linux ip-10-176-68-180 4.14.62-65.117.amzn1.x86_64 #1 SMP Fri Aug 10 20:03:52 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux

**Description of the problem including expected versus actual behavior**:


So, we installed elasticsearch 6.8.1 on 6 nodes and are trying to setup CCR with two clusters - 3 nodes each. License is activated and valid, remote settings are set (seed, nodes and cluster name). But now, somehow when I try to push the autofollow pattern like this

``` 
curl -X PUT ""localhost:9200/_ccr/auto_follow/AutoFollowerPatterns"" -H 'Content-Type: application/json' -d'
{
  ""remote_cluster"" : ""elastic-uswest"",
  ""leader_index_patterns"" :
  [
    ""visit*""
  ],
  ""follow_index_pattern"" : ""ccr-{{leader_index}}""
}
'
``` 
it results into that response:

```
{
  ""error"" : {
    ""root_cause"" : [
      {
        ""type"" : ""remote_transport_exception"",
        ""reason"" : ""[10.176.70.184][10.176.70.184:9300][cluster:admin/xpack/ccr/auto_follow_pattern/put]""
      }
    ],
    ""type"" : ""null_pointer_exception"",
    ""reason"" : null
  },
  ""status"" : 500
}
```
Digging a bit deeper into the logs of elasticsearch, we can see this message:
```
[2019-07-09T10:10:49,510][WARN ][r.suppressed             ] [10.176.68.180] path: /_ccr/auto_follow/AutoFollowerPatterns, params: {name=AutoFollowerPatterns}
org.elasticsearch.transport.RemoteTransportException: [10.176.69.160][10.176.69.160:9300][cluster:admin/xpack/ccr/auto_follow_pattern/put]
Caused by: java.lang.NullPointerException
        at org.elasticsearch.xpack.ccr.CcrLicenseChecker.hasPrivilegesToFollowIndices(CcrLicenseChecker.java:318) ~[?:?]
        at org.elasticsearch.xpack.ccr.action.TransportPutAutoFollowPatternAction.lambda$masterOperation$2(TransportPutAutoFollowPatternAction.java:88) ~[?:?]
        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:61) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.action.ActionListenerResponseHandler.handleResponse(ActionListenerResponseHandler.java:54) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1104) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.transport.TcpTransport$1.doRun(TcpTransport.java:985) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:193) ~[elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:977) [elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:952) [elasticsearch-6.8.1.jar:6.8.1]
        at org.elasticsearch.transport.TcpTransport.inboundMessage(TcpTransport.java:763) [elasticsearch-6.8.1.jar:6.8.1]
...
```
Our initial thought was, that the security module could cause the error - because of this word in the exception: hasPrivilegesToFollowIndices. So, we removed all unnecessary modules and the error still occurs.

**Installed modules:**
![image](https://user-images.githubusercontent.com/12306801/60977862-7482d600-a330-11e9-9df9-a252d9ee3b5b.png)


**Steps to reproduce**:
Sadly, I cannot reproduce the bug. When I tried it, it always worked fine. It happened on this one particular environment and now we cannot fix it. 

",https://github.com/elastic/elasticsearch/issues/44172#issuecomment-511650713,"Do you see any ""failed to read authentication"" error log messages with an accompanying exception message and stack trace in the logs, around the time that this occurred?"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

**Describe the feature**:

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`): 7.2

**Plugins installed**: [analysis-icu]

**JVM version** (`java -version`): 9.0.1

**OS version** (`uname -a` if on a Unix-like system): Win10

**Description of the problem including expected versus actual behavior**:
When doing a search on a text field with `index_phrases = true` and with a `search_analyzer` including a `synonym_graph` filter I get a `NullPointerException` with the stacktrace below:

**Steps to reproduce**:

Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1. create a text field with index_phrases = true
 2. create a custom analyzer with 
 3.

**Provide logs (if relevant)**:
```
org.elasticsearch.action.search.SearchPhaseExecutionException: all shards failed
        at org.elasticsearch.action.search.AbstractSearchAsyncAction.onPhaseFailure(AbstractSearchAsyncAction.java:296) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.AbstractSearchAsyncAction.executeNextPhase(AbstractSearchAsyncAction.java:139) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.AbstractSearchAsyncAction.onPhaseDone(AbstractSearchAsyncAction.java:259) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.InitialSearchPhase.onShardFailure(InitialSearchPhase.java:105) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.InitialSearchPhase.access$200(InitialSearchPhase.java:50) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.InitialSearchPhase$2.onFailure(InitialSearchPhase.java:273) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.SearchExecutionStatsCollector.onFailure(SearchExecutionStatsCollector.java:73) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:59) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.SearchTransportService$ConnectionCountingHandler.handleException(SearchTransportService.java:441) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1111) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:1223) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:1197) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.transport.TaskTransportChannel.sendResponse(TaskTransportChannel.java:60) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.support.ChannelActionListener.onFailure(ChannelActionListener.java:56) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:64) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.search.SearchService$2.doRun(SearchService.java:1052) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.common.util.concurrent.TimedRunnable.doRun(TimedRunnable.java:44) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:758) [elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.2.0.jar:7.2.0]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_152]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_152]
        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_152]
Caused by: org.elasticsearch.ElasticsearchException$1
        at org.elasticsearch.ElasticsearchException.guessRootCauses(ElasticsearchException.java:639) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.search.AbstractSearchAsyncAction.executeNextPhase(AbstractSearchAsyncAction.java:137) ~[elasticsearch-7.2.0.jar:7.2.0]
        ... 22 more
Caused by: java.lang.NullPointerException
        at org.apache.lucene.codecs.blocktree.SegmentTermsEnum.seekExact(SegmentTermsEnum.java:324) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.index.TermStates.loadTermsEnum(TermStates.java:124) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.index.TermStates.build(TermStates.java:109) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.TermQuery.createWeight(TermQuery.java:199) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.BoostQuery.createWeight(BoostQuery.java:120) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.IndexSearcher.createWeight(IndexSearcher.java:717) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.elasticsearch.search.internal.ContextIndexSearcher.createWeight(ContextIndexSearcher.java:134) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.apache.lucene.search.DisjunctionMaxQuery$DisjunctionMaxWeight.<init>(DisjunctionMaxQuery.java:109) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.DisjunctionMaxQuery.createWeight(DisjunctionMaxQuery.java:205) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.IndexSearcher.createWeight(IndexSearcher.java:717) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.elasticsearch.search.internal.ContextIndexSearcher.createWeight(ContextIndexSearcher.java:134) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.apache.lucene.search.BooleanWeight.<init>(BooleanWeight.java:54) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.BooleanQuery.createWeight(BooleanQuery.java:207) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.IndexSearcher.createWeight(IndexSearcher.java:717) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.elasticsearch.search.internal.ContextIndexSearcher.createWeight(ContextIndexSearcher.java:134) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.apache.lucene.search.DisjunctionMaxQuery$DisjunctionMaxWeight.<init>(DisjunctionMaxQuery.java:109) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.DisjunctionMaxQuery.createWeight(DisjunctionMaxQuery.java:205) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.apache.lucene.search.IndexSearcher.createWeight(IndexSearcher.java:717) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.elasticsearch.search.internal.ContextIndexSearcher.createWeight(ContextIndexSearcher.java:134) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:443) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
        at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:271) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:114) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:335) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:360) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.search.SearchService.lambda$executeQueryPhase$1(SearchService.java:340) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.ActionListener.lambda$map$2(ActionListener.java:145) ~[elasticsearch-7.2.0.jar:7.2.0]
        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62) ~[elasticsearch-7.2.0.jar:7.2.0]
        ... 8 more
```
",https://github.com/elastic/elasticsearch/issues/43976#issuecomment-509150404,"Hi @slumx , I think part of your comment got chopped off here?  Can you include the analyzer definition and the specific query that you're running here?"
elastic/elasticsearch,"**Elasticsearch version**: 6.5.4 and 7.2.0

**Plugins installed**: []

**JVM version** (`java -version`): openjdk version ""1.8.0_212""

**OS version** (`uname -a` if on a Unix-like system): Linux tommy 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux

**Description of the problem including expected versus actual behavior**:

I noticed that some dates that were handled by elasticsearch version 6.5 are rejected by elasticsearch 7.2, see below for an example (original forum post: https://discuss.elastic.co/t/date-time-format-change-in-elasticsearch-from-version-6-5-to-7-2/188546 )

**Steps to reproduce**:

*Elasticseach 7.2.0*

```
PUT localhost:9200/my_index
{
  ""mappings"": {
    ""properties"": {
      ""date"": {
        ""type"":   ""date"",
        ""format"": ""date_time""
      }
    }
  }
}
```

This document is successfully indexed:

```
POST  localhost:9200/my_index/_doc
{
  ""date"": ""99999-12-31T23:59:59.999+0000""
}
```

While this one is rejected:

```
POST  localhost:9200/my_index/_doc
{
  ""date"": ""100000-01-01T00:00:00.000+0000""
}
```

The error is:

```
{
  ""error"" : {
    ""root_cause"" : [
      {
        ""type"" : ""mapper_parsing_exception"",
        ""reason"" : ""failed to parse field [date] of type [date] in document with id 'vp5Ms2sBNm1nVrvtzmYN'""
      }
    ],
    ""type"" : ""mapper_parsing_exception"",
    ""reason"" : ""failed to parse field [date] of type [date] in document with id 'vp5Ms2sBNm1nVrvtzmYN'"",
    ""caused_by"" : {
      ""type"" : ""illegal_argument_exception"",
      ""reason"" : ""failed to parse date field [100000-01-01T00:00:00.000+0000] with format [date_time]"",
      ""caused_by"" : {
        ""type"" : ""date_time_parse_exception"",
        ""reason"" : ""Failed to parse with all enclosed parsers""
      }
    }
  },
  ""status"" : 400
}
```

*Elasticseach 6.5.4*

```
PUT localhost:9200/my_index
{
  ""mappings"": {
    ""_doc"": {
      ""properties"": {
        ""date"": {
          ""type"":   ""date"",
          ""format"": ""date_time""
        }
      }
    }
  }
}
```

Both documents are successfully indexed:

```
POST  localhost:9200/my_index/_doc
{
  ""date"": ""99999-12-31T23:59:59.999+0000""
}

POST  localhost:9200/my_index/_doc
{
  ""date"": ""100000-01-01T00:00:00.000+0000""
}
```",https://github.com/elastic/elasticsearch/issues/43966#issuecomment-508446083,"@Tomassino you are right, this is because since ESv7 we limited year for `date_time` to max 5digits. This should probably be changed to 10. What is your view on this @spinscale ?
previous implementation using joda year was  4-9digits"
elastic/elasticsearch,"The simplest example that reproduces this is a minimum of 4 indices where each of them has fields that cannot be found in other indices. Also, this bug is present in 7.2+.

```
POST /index1/_bulk
{""index"":{}}
{""field1"": ""bla""}
```

```
POST /index2/_bulk
{""index"":{}}
{""field2"": ""bla""}
```

```
POST /index3/_bulk
{""index"":{}}
{""field3"": ""bla""}
```

```
POST /index4/_bulk
{""index"":{}}
{""field4"": ""bla""}
```

Then, creating an alias covering all these 4 indices:

```
{
    ""actions"" : [
    	{ ""add"" : { ""index"" : ""index4"", ""alias"" : ""my_alias"" } },
    	{ ""add"" : { ""index"" : ""index3"", ""alias"" : ""my_alias"" } },
        { ""add"" : { ""index"" : ""index2"", ""alias"" : ""my_alias"" } },
        { ""add"" : { ""index"" : ""index1"", ""alias"" : ""my_alias"" } }
    ]
}
```

And running a simple `SELECT * FROM my_alias` will return:

```
{
  ""error"": {
    ""root_cause"": [
      {
        ""type"": ""illegal_argument_exception"",
        ""reason"": ""Illegal Capacity: -1""
      }
    ],
    ""type"": ""illegal_argument_exception"",
    ""reason"": ""Illegal Capacity: -1""
  },
  ""status"": 400
}
```",https://github.com/elastic/elasticsearch/issues/43876#issuecomment-510206093,"Thanks for the quick fix @astefan.  I have a question, though: the issue description and fix indicate that this is specific to SQL, but I seem to be having the same problem in Canvas when doing a ""raw documents"" query when my Kibana index pattern matches many indices (I haven't configured any aliases).  If I use an index pattern without a wildcard (one concrete index), it works.  Do you expect this to fix that case as well, or should I file a separate bug?  Or, when will the cherry-pick be in the 7.2 docker image so I can try the fix out?"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

**Describe the feature**: Running an `avg` aggregation when 0 documents/values match yields different values depending on connection type (TransportClient vs RestClient).

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`): 7.2.0 (and 6.x as well)

**Plugins installed**: []

**JVM version** (`java -version`): 11.0.3

**OS version** (`uname -a` if on a Unix-like system): Linux sascha 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux

**Description of the problem including expected versus actual behavior**: Calculation of `avg` metric over 0 documents yields `NaN` if connected to Elasticsearch using transport client, but `Double.POSITIVE_INFINITY` if using REST client. IMHO the result of an operation should not depend on the connection type to the Elasticsearch cluster.

This seems to be related to the fact that internally, Elasticsearch takes two different routes to create the result of an `avg` aggregation:

* When using the TransportClient, this is done in `InternalAvg` as `sum / count` (https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/search/aggregations/metrics/InternalAvg.java#L69), where in case of `count == 0` Java returns `Double.NaN`

* Whereas when using REST, this is done in `ParsedAvg`, explicitly setting `Double.POSITIVE_INFINITY` as the default (https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/search/aggregations/metrics/ParsedAvg.java#L55)

**Steps to reproduce**: (see also attached [elastic-avg.zip](https://github.com/elastic/elasticsearch/files/3345500/elastic-avg.zip))

 1. Run Elasticsearch via Docker as `run -it --rm -p 127.0.0.1:9200:9200 -p 127.0.0.1:9300:9300 -e ""discovery.type=single-node"" -e ""cluster.name=elasticsearch"" docker.elastic.co/elasticsearch/elasticsearch:7.2.0`

 2. Index a sample document:
```
IndexRequest indexRequest = new IndexRequest(""test"").id(""1"").source(XContentFactory.jsonBuilder().startObject().field(""value"", 1).endObject());
client.index(indexRequest, RequestOptions.DEFAULT);
```

 3. Aggregate over a field with count `0`:
```
protected static final AvgAggregationBuilder aggregation = AggregationBuilders.avg(""test"").field(""value2"");
```

4. Run aggregation using TransportClient:
```
// execute aggregation over transport client
SearchResponse response = client.prepareSearch().addAggregation(aggregation).execute().actionGet();
Avg result = response.getAggregations().get(""test"");

// for transport client, the result is NaN
assertTrue(Double.isNaN(result.value()));
```

5. Run aggregation using RestClient:
```
// execute aggregation over rest client
SearchRequest searchRequest = new SearchRequest();
SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();
searchRequest.source(searchSourceBuilder);
searchSourceBuilder.aggregation(aggregation);
SearchResponse response = client.search(searchRequest, RequestOptions.DEFAULT);
Avg result = response.getAggregations().get(""test"");

// for rest client, the result is positive infinity
assertTrue(Double.isInfinite(result.value()));
```

**Provide logs (if relevant)**:
",https://github.com/elastic/elasticsearch/issues/43820#issuecomment-525514774,"I would like to work on this issue. 
@ahubmann  @markharwood  @hub-cap what is expected, in both the cases we need to return Double.POSITIVE_INFINITY?"
elastic/elasticsearch,"It seems, that the `auto_date_histogram` seems to generate sometimes too many buckets, especially when using an overall small time-range to filter on. It's not constantly happening (I assume it is related a bit to the exact time you send it), but it happened reliable enough to reproduce it always within max. 1 minute trying.

I just used the following request (after injecting the Kibana Flight sample data set):

```json
GET kibana_sample_data_flights/_search
{
  ""size"": 0, 
  ""query"": {
    ""range"": {
      ""timestamp"": {
        ""gte"": ""now-20m"",
        ""lte"": ""now""
      }
    }
  },
  ""aggs"": {
    ""foo"": {
      ""auto_date_histogram"": {
        ""field"": ""timestamp"",
        ""buckets"": 1
      }
    }
  }
}
```

This request returned the following response:

```json
{
  ""took"" : 1,
  ""timed_out"" : false,
  ""_shards"" : {
    ""total"" : 1,
    ""successful"" : 1,
    ""skipped"" : 0,
    ""failed"" : 0
  },
  ""hits"" : {
    ""total"" : {
      ""value"" : 4,
      ""relation"" : ""eq""
    },
    ""max_score"" : null,
    ""hits"" : [ ]
  },
  ""aggregations"" : {
    ""foo"" : {
      ""buckets"" : [
        {
          ""key_as_string"" : ""2019-06-25T11:14:00.000Z"",
          ""key"" : 1561461240000,
          ""doc_count"" : 1
        },
        {
          ""key_as_string"" : ""2019-06-25T11:24:00.000Z"",
          ""key"" : 1561461840000,
          ""doc_count"" : 3
        }
      ],
      ""interval"" : ""10m""
    }
  }
}
```

As you can see even though we specified, we need 1 bucket, it generated 2 buckets for us. When playing around with the overall filter it seems that behavior never triggered for me once I had a timerange larger than 30 minutes, but was able to reproduce it rather often with time ranges below 30 minutes (wasn't linked to exactly 20 minutes time range). I tested this mainly on `master`. I was also not able to reproduce that behavior if I didn't use `now` as the upper bound but tried something like `now-1440m` to `now-1420m`.

cc @polyfractal ",https://github.com/elastic/elasticsearch/issues/43577#issuecomment-505515968,"/cc @pcsanwald this looks somewhat similar to the failure in https://github.com/elastic/elasticsearch/issues/39497, perhaps related?"
elastic/elasticsearch,"<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):
Version: 8.0.0-SNAPSHOT, Build: default/tar/bd6c85b/2019-05-19T09:51:54.080246Z, JVM: 12.0.1

**Plugins installed**: []

**JVM version** (`java -version`):
java version ""1.8.0_201""
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)

**OS version** (`uname -a` if on a Unix-like system):

**Description of the problem including expected versus actual behavior**:
DataFrame API allows creation of a job with an invalid index name. This job will subsequently fail to start because of an `java.lang.RuntimeException: Could not create destination index`

**Steps to reproduce**:

Please include a *minimal* but *complete* recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc.  The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

 1. Start creating a new Data Frame job
 2. Supply an invalid index name - for example  `Aalto-Set√§l√§`
 3. Click on create job. This will succeed. However, when you try to start the job, you will see a `java.lang.RuntimeException: Could not create destination index`
--

**Provide logs (if relevant)**:

Error stack trace 


```
[2019-06-10T15:37:16,235][WARN ][r.suppressed             ] [Camillas-MBP.lan] path: /_data_frame/transforms/Aalto-Set%C3%A4l%C3%A4/_start, params: {id=Aalto-Set√§l√§}
java.lang.RuntimeException: Could not create destination index [Aalto-Set√§l√§] for transform [Aalto-Set√§l√§]
	at org.elasticsearch.xpack.dataframe.persistence.DataframeIndex.lambda$createDestinationIndex$1(DataframeIndex.java:61) [data-frame-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.support.TransportAction$1.onFailure(TransportAction.java:74) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction.lambda$doStart$2(TransportMasterNodeAction.java:194) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$2.onFailure(ActionListener.java:93) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.AckedClusterStateUpdateTask.onFailure(AckedClusterStateUpdateTask.java:79) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$IndexCreationTask.onFailure(MetaDataCreateIndexService.java:614) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService$SafeClusterStateTaskListener.onFailure(MasterService.java:499) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService$TaskOutputs.notifyFailedTasks(MasterService.java:432) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:211) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:142) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:687) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:252) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:215) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:835) [?:?]
Caused by: org.elasticsearch.indices.InvalidIndexNameException: Invalid index name [Aalto-Set√§l√§], must be lowercase
	at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService.validateIndexName(MetaDataCreateIndexService.java:147) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService.validate(MetaDataCreateIndexService.java:619) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$IndexCreationTask.execute(MetaDataCreateIndexService.java:287) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:47) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService.executeTasks(MasterService.java:687) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService.calculateTaskOutputs(MasterService.java:310) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:210) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	... 9 more

```


",https://github.com/elastic/elasticsearch/issues/43042#issuecomment-500436628,"From a usability perspective, waiting until `_start` is a bit late to error on. It is much more useful to receive the informative error message upon transform creation.

For reference, the error on start looks like this:
```
# POST _data_frame/transforms/Aalto-Set,√§l√§3/_start
{
  ""error"": {
    ""root_cause"": [
      {
        ""type"": ""runtime_exception"",
        ""reason"": ""Could not create destination index [Aalt,o-Set√§l√§] for transform [Aalto-Set,√§l√§3]""
      }
    ],
    ""type"": ""runtime_exception"",
    ""reason"": ""Could not create destination index [Aalt,o-Set√§l√§] for transform [Aalto-Set,√§l√§3]"",
    ""caused_by"": {
      ""type"": ""invalid_index_name_exception"",
      ""reason"": ""Invalid index name [Aalt,o-Set√§l√§], must not contain the following characters [ , \"", *, \\, <, |, ,, >, /, ?]"",
      ""index_uuid"": ""_na_"",
      ""index"": ""Aalt,o-Set√§l√§""
    }
  },
  ""status"": 500
}
``` "
elastic/elasticsearch,"**Elasticsearch version (bin/elasticsearch --version):** 7.2 Snapshot
build_flavor: oss, build_type: zip, build_hash: ef5176a 

**JVM version (java -version):** 12.0.1

**OS version (uname -a if on a Unix-like system):** Windows 2016

**Description of the problem including expected versus actual behavior:**

Elasticsearch is throwing a fatal error after Kibana is started. 

**Steps to reproduce:**

Please include a minimal but complete recreation of the problem, including
(e.g.) index creation, mappings, settings, query etc. The easier you make for
us to reproduce it, the more likely that somebody will take the time to look at it.

1. Install ES/Kibana latest 7.2 snapshot 
2. Start elasticsearch - it comes up and says started
3. Start kibana - while kibana tries to connect to elasticsearch, elasticsearch throws an error
4. Attempts to start elasticsearch again from this directory will fail with the same error 

Note I did the same steps on 7.2.0 BC5 and did not see the problem. 

**Provide logs (if relevant):**

 ./bin/elasticsearch.bat
Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2019-06-09T01:27:34,175][INFO ][o.e.e.NodeEnvironment    ] [VAGRANT-2016] using [1] data paths, mounts [[Windows 2016 (C:)]], net usable_space [24gb], net total_space [59.6gb], types [NTFS]
[2019-06-09T01:27:34,175][INFO ][o.e.e.NodeEnvironment    ] [VAGRANT-2016] heap size [1007.3mb], compressed ordinary object pointers [true]
[2019-06-09T01:27:34,190][INFO ][o.e.n.Node               ] [VAGRANT-2016] node name [VAGRANT-2016], node ID [McBjQpLeSUK9eOGOdO4HuQ], cluster name [elasticsearch]
[2019-06-09T01:27:34,190][INFO ][o.e.n.Node               ] [VAGRANT-2016] version[7.2.0-SNAPSHOT], pid[3456], build[oss/zip/ef5176a/2019-06-08T03:19:08.620142Z], OS[Windows Server 2016/10.0/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/12.0.1/12.0.1+12]
[2019-06-09T01:27:34,190][INFO ][o.e.n.Node               ] [VAGRANT-2016] JVM home [C:\Progra~1\Java\jdk-12.0.1]
[2019-06-09T01:27:34,190][INFO ][o.e.n.Node               ] [VAGRANT-2016] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=C:\Users\vagrant\AppData\Local\Temp\1\elasticsearch, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -Djava.locale.providers=COMPAT, -Dio.netty.allocator.type=unpooled, -XX:MaxDirectMemorySize=536870912, -Delasticsearch, -Des.path.home=C:\Users\vagrant\AppData\Local\Temp\1\elasticsearch-7.2.0-SNAPSHOT, -Des.path.conf=C:\Users\vagrant\AppData\Local\Temp\1\elasticsearch-7.2.0-SNAPSHOT\config, -Des.distribution.flavor=oss, -Des.distribution.type=zip, -Des.bundled_jd=true]
[2019-06-09T01:27:34,190][WARN ][o.e.n.Node               ] [VAGRANT-2016] version [7.2.0-SNAPSHOT] is a pre-release version of Elasticsearch and is not suitable for production
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [aggs-matrix-stats]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [analysis-common]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [ingest-common]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [ingest-geoip]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [ingest-user-agent]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [lang-expression]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [lang-mustache]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [lang-painless]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [mapper-extras]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [parent-join]
[2019-06-09T01:27:35,690][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [percolator]
[2019-06-09T01:27:35,705][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [rank-eval]
[2019-06-09T01:27:35,705][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [reindex]
[2019-06-09T01:27:35,705][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [repository-url]
[2019-06-09T01:27:35,705][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] loaded module [transport-netty4]
[2019-06-09T01:27:35,705][INFO ][o.e.p.PluginsService     ] [VAGRANT-2016] no plugins loaded
[2019-06-09T01:27:38,908][INFO ][o.e.d.DiscoveryModule    ] [VAGRANT-2016] using discovery type [zen] and seed hosts providers [settings]
[2019-06-09T01:27:39,704][INFO ][o.e.n.Node               ] [VAGRANT-2016] initialized
[2019-06-09T01:27:39,704][INFO ][o.e.n.Node               ] [VAGRANT-2016] starting ...
[2019-06-09T01:27:40,204][INFO ][o.e.t.TransportService   ] [VAGRANT-2016] publish_address {127.0.0.1:9300}, bound_addresses {127.0.0.1:9300}, {[::1]:9300}
[2019-06-09T01:27:40,220][WARN ][o.e.b.BootstrapChecks    ] [VAGRANT-2016] the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured
[2019-06-09T01:27:40,235][INFO ][o.e.c.c.ClusterBootstrapService] [VAGRANT-2016] no discovery configuration found, will perform best-effort cluster bootstrapping after [3s] unless existing master is discovered
[2019-06-09T01:27:43,250][INFO ][o.e.c.c.Coordinator      ] [VAGRANT-2016] setting initial configuration to VotingConfiguration{McBjQpLeSUK9eOGOdO4HuQ}
[2019-06-09T01:27:43,406][INFO ][o.e.c.s.MasterService    ] [VAGRANT-2016] elected-as-master ([1] nodes joined)[{VAGRANT-2016}{McBjQpLeSUK9eOGOdO4HuQ}{3ke5jMCkQ1eLlNCWcY6N0g}{127.0.0.1}{127.0.0.1:9300} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 1, version: 1, reason: master node changed {previous [], current [{VAGRANT-2016}{McBjQpLeSUK9eOGOdO4HuQ}{3ke5jMCkQ1eLlNCWcY6N0g}{127.0.0.1}{127.0.0.1:9300}]}
[2019-06-09T01:27:43,422][INFO ][o.e.c.c.CoordinationState] [VAGRANT-2016] cluster UUID set to [VDeTmv8hSjGGkzrm1OCOYQ]
[2019-06-09T01:27:43,453][INFO ][o.e.c.s.ClusterApplierService] [VAGRANT-2016] master node changed {previous [], current [{VAGRANT-2016}{McBjQpLeSUK9eOGOdO4HuQ}{3ke5jMCkQ1eLlNCWcY6N0g}{127.0.0.1}{127.0.0.1:9300}]}, term: 1, version: 1, reason: Publication{term=1, version=1}
[2019-06-09T01:27:43,500][INFO ][o.e.g.GatewayService     ] [VAGRANT-2016] recovered [0] indices into cluster_state
[2019-06-09T01:27:43,500][INFO ][o.e.h.AbstractHttpServerTransport] [VAGRANT-2016] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}, {[::1]:9200}
[2019-06-09T01:27:43,500][INFO ][o.e.n.Node               ] [VAGRANT-2016] started
[2019-06-09T01:28:12,399][INFO ][o.e.c.m.MetaDataCreateIndexService] [VAGRANT-2016] [.kibana_1] creating index, cause [api], templates [], shards [1]/[1], mappings [_doc]
[2019-06-09T01:28:12,414][INFO ][o.e.c.r.a.AllocationService] [VAGRANT-2016] updating number_of_replicas to [0] for indices [.kibana_1]
[2019-06-09T01:28:12,758][WARN ][o.e.i.c.IndicesClusterStateService] [VAGRANT-2016] [.kibana_1][0] marking and sending shard failed due to [failed recovery]
org.elasticsearch.indices.recovery.RecoveryFailedException: [.kibana_1][0]: Recovery failed on {VAGRANT-2016}{McBjQpLeSUK9eOGOdO4HuQ}{3ke5jMCkQ1eLlNCWcY6N0g}{127.0.0.1}{127.0.0.1:9300}
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2329) [elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:688) [elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
        at java.lang.Thread.run(Thread.java:835) [?:?]
Caused by: org.elasticsearch.index.shard.IndexShardRecoveryException: failed to recover from gateway
        at org.elasticsearch.index.shard.StoreRecovery.internalRecoverFromStore(StoreRecovery.java:438) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.index.shard.StoreRecovery.lambda$recoverFromStore$0(StoreRecovery.java:95) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:308) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:93) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1678) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2325) ~[elasticsearch-7.2.0-SNAPSHOT.jar:7.2.0-SNAPSHOT]
",https://github.com/elastic/elasticsearch/issues/43014#issuecomment-500219751,@liza-mae I suspect this is addressed by 2b6262957c04384261242eb8fcfe12180d4a36ed but it is hard to say without more information from the stacktrace. Can you share it?
elastic/elasticsearch,"<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):
Versions v8.0.0 and v7.3.0

**JVM version** (`java -version`): Most likely numerous versions. Specifically tested against openjdk 11.0.2

**OS version** (`uname -a` if on a Unix-like system): Darwin Kernel Version 18.6.0

**Description of the problem including expected versus actual behavior**:

When running a DeleteByQuery with a terms query, an NPE is thrown. While the DBQ is running, a document is being indexed that would have been included in the DBQ. Meaning, we are calling `PUT <index>/_doc/<document_id>` where `document_id` should be deleted via the DBQ.

**Steps to reproduce**:

We can get it to reproduce pretty reliably. This is obviously some sort of race condition. Simply try to index documents with the same ID as the ones that are being deleted via the DBQ. Potentially, it may be as simple as a newly indexed document contains the same term as the one being used in the DBQ. I am not 100% sure.

**Provide logs (if relevant)**:
Stacktrace:
```
[2019-06-07T11:51:28,473][DEBUG][o.e.a.s.TransportSearchAction] [ml-qa-ubuntu-2] [.data-frame-internal-1][0], node[qSY9saZrRjm_7YULzSw-RQ], [P], s[STARTED], a[id=HTY4jpS1TzqOyOvpTVQauA]: Failed to execute [SearchRequest{searchType=QUERY_THEN_FETCH, indices=[.data-frame-internal-1], indicesOptions=IndicesOptions[ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true, ignore_aliases=false, ignore_throttled=true], routing='null', preference='null', requestCache=null, scroll=Scroll{keepAlive=5m}, maxConcurrentShardRequests=0, batchedReduceSize=512, preFilterShardSize=128, allowPartialSearchResults=true, localClusterAlias=null, getOrCreateAbsoluteStartMillis=-1, ccsMinimizeRoundtrips=true, source={""size"":1000,""query"":{""term"":{""id"":{""value"":""test_dft_2"",""boost"":1.0}}},""version"":false,""seq_no_primary_term"":true,""_source"":false,""sort"":[{""_doc"":{""order"":""asc""}}],""slice"":{""field"":""_id"",""id"":4,""max"":5}}}]
org.elasticsearch.transport.RemoteTransportException: [ml-qa-ubuntu-2][10.0.4.102:9300][indices:data/read/search[phase/query]]
Caused by: org.elasticsearch.search.query.QueryPhaseExecutionException: Query Failed [Failed to execute main query]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:305) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:335) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:360) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.lambda$executeQueryPhase$1(SearchService.java:340) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener.lambda$map$2(ActionListener.java:145) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService$2.doRun(SearchService.java:1052) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.TimedRunnable.doRun(TimedRunnable.java:44) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:757) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
	at java.lang.Thread.run(Thread.java:835) [?:?]
Caused by: java.lang.NullPointerException
	at org.elasticsearch.search.slice.TermsSliceQuery.build(TermsSliceQuery.java:81) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.slice.TermsSliceQuery$1.scorer(TermsSliceQuery.java:63) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.apache.lucene.search.Weight.scorerSupplier(Weight.java:147) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.scorerSupplier(LRUQueryCache.java:727) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.elasticsearch.indices.IndicesQueryCache$CachingWeightWrapper.scorerSupplier(IndicesQueryCache.java:157) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.apache.lucene.search.BooleanWeight.scorerSupplier(BooleanWeight.java:374) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.BooleanWeight.scorer(BooleanWeight.java:340) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.Weight.bulkScorer(Weight.java:181) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.BooleanWeight.bulkScorer(BooleanWeight.java:334) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.bulkScorer(LRUQueryCache.java:808) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.elasticsearch.indices.IndicesQueryCache$CachingWeightWrapper.bulkScorer(IndicesQueryCache.java:163) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.internal.ContextIndexSearcher$1.bulkScorer(ContextIndexSearcher.java:166) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:649) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.apache.lucene.search.XIndexSearcher.search(XIndexSearcher.java:44) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.elasticsearch.search.internal.ContextIndexSearcher.search(ContextIndexSearcher.java:177) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:443) ~[lucene-core-8.1.0.jar:8.1.0 dbe5ed0b2f17677ca6c904ebae919363f2d36a0a - ishan - 2019-05-09 19:34:03]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:270) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:335) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:360) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService.lambda$executeQueryPhase$1(SearchService.java:340) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener.lambda$map$2(ActionListener.java:145) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.search.SearchService$2.doRun(SearchService.java:1052) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.TimedRunnable.doRun(TimedRunnable.java:44) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:757) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]
	at java.lang.Thread.run(Thread.java:835) ~[?:?]
```

** Additional Notes **
This PR introduced the bug: https://github.com/elastic/elasticsearch/pull/40741

I have verified reverting:
```
        if (softDeleteEnabled) {
            mergePolicy = new RecoverySourcePruneMergePolicy(SourceFieldMapper.RECOVERY_SOURCE_NAME, softDeletesPolicy::getRetentionQuery,
-                new SoftDeletesRetentionMergePolicy(Lucene.SOFT_DELETES_FIELD, softDeletesPolicy::getRetentionQuery, mergePolicy));
+                new SoftDeletesRetentionMergePolicy(Lucene.SOFT_DELETES_FIELD, softDeletesPolicy::getRetentionQuery,
+                    new PrunePostingsMergePolicy(mergePolicy, IdFieldMapper.NAME)));
        }
```
removes the issue.
",https://github.com/elastic/elasticsearch/issues/42996#issuecomment-500328758,"This is related to the number of `slices` that the DBQ should run with. When the number of slices is not a factor of the number of shards the reindex family will split the work into separate tasks that use the `_id` field to segregate documents. This can work only if the postings for the `_id` field are preserved which is not the case anymore for indices with soft deletes enabled (due to https://github.com/elastic/elasticsearch/pull/40741). This is something we should check in all reindex command and maybe fail the request if the number of slices is not a factor of the number of shards. In the meantime we should also remove the static value that is set in `DataFrame` to perform a DBQ:
https://github.com/elastic/elasticsearch/blob/7c503ce20d762b82da975764482cc6eace542fa2/x-pack/plugin/data-frame/src/main/java/org/elasticsearch/xpack/dataframe/persistence/DataFrameTransformsConfigManager.java#L253
@benwtrent can it be set to the number of shards instead (or removed entirely) ?"
elastic/elasticsearch,"For stopped data frames the checkpoint information is taken from the stored stats document in the internal index rather than calculated. The stored information is always empty, therefore it always reports 0:

``` 
     ""checkpointing"" : {
        ""operations_behind"" : 0
      }
```

**Solution**:

- [ ] calculate checkpoint information the same ways as it's done for started data frames
- [ ] do not persist checkpoint information in the state-and-stats document in the internal index",https://github.com/elastic/elasticsearch/issues/42978#issuecomment-523877907,"A stopped continuous data frame now returns useful info. Can this be closed?

```
{
  ""count"" : 1,
  ""transforms"" : [
    {
      ""id"" : ""simple-01"",
      ""state"" : ""stopped"",
      ""stats"" : {
        ""pages_processed"" : 27003,
        ""documents_processed"" : 437684532,
        ""documents_indexed"" : 4291370,
        ""trigger_count"" : 4289,
        ""index_time_in_ms"" : 2274847,
        ""index_total"" : 8805,
        ""index_failures"" : 0,
        ""search_time_in_ms"" : 40555084,
        ""search_total"" : 27004,
        ""search_failures"" : 0,
        ""exponential_avg_checkpoint_duration_ms"" : 65092.07653134306,
        ""exponential_avg_documents_indexed"" : 7297.119039406083,
        ""exponential_avg_documents_processed"" : 746541.5988733966
      },
      ""checkpointing"" : {
        ""last"" : {
          ""checkpoint"" : 633,
          ""timestamp"" : ""2019-08-22T12:05:36.604Z"",
          ""timestamp_millis"" : 1566475536604,
          ""time_upper_bound"" : ""2019-08-22T12:04:36.604Z"",
          ""time_upper_bound_millis"" : 1566475476604
        },
        ""next"" : {
          ""checkpoint"" : 634,
          ""position"" : {
            ""bucket_position"" : {
              ""clientip"" : ""10.11.122.11""
            }
          },
          ""checkpoint_progress"" : {
            ""docs_indexed"" : 2000,
            ""docs_processed"" : 210542
          },
          ""timestamp"" : ""2019-08-22T12:06:54.717Z"",
          ""timestamp_millis"" : 1566475614717,
          ""time_upper_bound"" : ""2019-08-22T12:05:54.717Z"",
          ""time_upper_bound_millis"" : 1566475554717
        },
        ""operations_behind"" : 15996
      }
    }
  ]
}
```
"
elastic/elasticsearch,"After upgrading from 6.8 to 7.1.1 the following query results in error:
```
{
  ""query"": {
	  ""bool"": {
	    ""filter"": [
	      {
	        ""range"": {
	          ""create_date"": {
	            ""to"": 297276785531,
	            ""include_upper"": true
	          }
	        }
	      }
	    ]
	 }
  }
}
```
it used to work before the upgrade. The problem is in `include_upper = true`, it works if changed to `false`.

The error message is:
```
failed to parse date field [297276785531] with format [date||epoch_millis]: [Text '297276785531' could not be parsed, unparsed text found at index 0]
```

mapping for this field is:
```
      ""create_date"": {
        ""type"": ""date"",
        ""format"": ""date||epoch_millis""
      }
```

another example of the same issue, but with `include_lower`:
```
{
  ""query"": {
	  ""bool"": {
	    ""filter"": [
	      {
	        ""range"": {
	          ""create_date"": {
	            ""from"": 297276785531,
	            ""include_lower"": false
	          }
	        }
	      }
	    ]
	 }
  }
}
```
Again, it works with `""include_lower"": true`

This behavior doesn't affect ""date_hour_minute_second_fraction||epoch_millis"" fields, the issue seems to be related only to ""date||epoch_millis"" mapping format.

**Elasticsearch version**:
Version: 7.1.1, Build: oss/docker/7a013de/2019-05-23T14:04:00.380842Z, JVM: 12.0.1

**JVM version**:
OpenJDK 64 12.0.1

**OS version**
4.14.78-coreos",https://github.com/elastic/elasticsearch/issues/42835#issuecomment-498762910,Possibly related to #41160 ?
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Feature request -->

**Describe the feature**:

<!-- Bug report -->

**Elasticsearch version** (`bin/elasticsearch --version`):
Discovered in version 6.5.4, then, I reproduce the bug in 7.1.0. 
Version: 7.1.0, Build: default/rpm/606a173/2019-05-16T00:43:15.323135Z, JVM: 1.8.0_162

**Plugins installed**: no plugin

**JVM version** (`java -version`):
1.8.0_162

**OS version** (`uname -a` if on a Unix-like system):
Linux node-1 3.10.0-514.el7.x86_64 CentOS Linux release 7.3

**Description of the problem including expected versus actual behavior**:

While insert data to index, power cut. After I recovery the cluster, there is a shard unassigned.
The log reported:
> ""Caused by: java.io.EOFException: read past EOF. pos [32595685] length: [22920] end: [32595697]""

    I find docs say that `elasticsearch-translog` and `elasticsearch-shard` tools could delete the corrupted translog data, so that I will lost data only in translog.
But unfortunately, `elasticsearch-translog` and `elasticsearch-shard` report the error 
> ""Caused by: java.io.EOFException: read past EOF. pos [32595685] length: [22920] end: [32595697]""

 too. which means I will lost all data in this shard.
    I guess the elasticsearch record offset first, write datas to translog file second. while offset write successful, but datas  write failure. The bug appear„ÄÇ


**Steps to reproduce**:
It's little probability to reproduce the bug by power cut. So I reproduce the bug by delete translog file.
 1. Kill elasticsearch process while insert data.
 2. cd translog dir, delete some bytes in `.tlog` file.
 3. restart cluster,  sometimes report `checksum error`, which `elasticsearch-shard` could fix. sometimes `read past EOF` report, `elasticsearch-shard` could not fix.
 4. if report `read past EOF` error, close cluster,
 5. run `bin/elasticsearch-shard remove-corrupted-data --index test --shard-id 0`, `read past EOF` error appear agin.

**Provide logs (if relevant)**:

> ""stacktrace"": [""org.elasticsearch.index.engine.EngineException: failed to recover from translog"",
""at org.elasticsearch.index.engine.InternalEngine.recoverFromTranslogInternal(InternalEngine.java:444) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.engine.InternalEngine.recoverFromTranslog(InternalEngine.java:414) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.engine.InternalEngine.recoverFromTranslog(InternalEngine.java:109) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.IndexShard.openEngineAndRecoverFromTranslog(IndexShard.java:1401) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.StoreRecovery.internalRecoverFromStore(StoreRecovery.java:433) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.StoreRecovery.lambda$recoverFromStore$0(StoreRecovery.java:95) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:308) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:93) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1687) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2340) [elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:681) [elasticsearch-7.1.0.jar:7.1.0]"",
""at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]"",
""at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]"",
""at java.lang.Thread.run(Thread.java:835) [?:?]"",
""Caused by: java.io.EOFException: read past EOF. pos [32595685] length: [22920] end: [32595697]"",
""at org.elasticsearch.common.io.Channels.readFromFileChannelWithEofException(Channels.java:103) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.translog.TranslogSnapshot.readBytes(TranslogSnapshot.java:104) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.translog.BaseTranslogReader.checksummedStream(BaseTranslogReader.java:110) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.translog.TranslogSnapshot.readOperation(TranslogSnapshot.java:81) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.translog.TranslogSnapshot.next(TranslogSnapshot.java:70) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.translog.MultiSnapshot.next(MultiSnapshot.java:78) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.IndexShard.runTranslogRecovery(IndexShard.java:1357) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.shard.IndexShard.lambda$openEngineAndRecoverFromTranslog$5(IndexShard.java:1395) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""at org.elasticsearch.index.engine.InternalEngine.recoverFromTranslogInternal(InternalEngine.java:442) ~[elasticsearch-7.1.0.jar:7.1.0]"",
""... 13 more""] }
",https://github.com/elastic/elasticsearch/issues/42661#issuecomment-496868267,"Hi @UnicornChan, I tried a few different ways to reproduce what you're describing but didn't succeed. For instance, I created an index and then deleted some bytes from a translog file and got the following exception:

```
[2019-05-29T10:37:04,800][WARN ][o.e.i.c.IndicesClusterStateService] [node-0] [[i][0]] marking and sending shard failed due to [failed recovery]
org.elasticsearch.indices.recovery.RecoveryFailedException: [i][0]: Recovery failed on {node-0}{p7lvBlzRQdi1gFUTzJJ4tw}{s84zJZyaRiSj-R2BIM4GVQ}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=17179869184, xpack.installed=true, ml.max_open_jobs=20}
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2344) [elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:681) [elasticsearch-7.1.1.jar:7.1.1]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
        at java.lang.Thread.run(Thread.java:835) [?:?]
Caused by: org.elasticsearch.index.shard.IndexShardRecoveryException: failed recovery
        at org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:353) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:93) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1687) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2340) ~[elasticsearch-7.1.1.jar:7.1.1]
        ... 4 more
Caused by: org.elasticsearch.index.translog.TranslogCorruptedException: translog from source [data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog] is corrupted
        at org.elasticsearch.index.translog.Translog.readCheckpoint(Translog.java:1823) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.Translog.readGlobalCheckpoint(Translog.java:1810) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.innerOpenEngineAndTranslog(IndexShard.java:1437) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.openEngineAndRecoverFromTranslog(IndexShard.java:1398) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.internalRecoverFromStore(StoreRecovery.java:433) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.lambda$recoverFromStore$0(StoreRecovery.java:95) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:308) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:93) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1687) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2340) ~[elasticsearch-7.1.1.jar:7.1.1]
        ... 4 more
Caused by: java.io.EOFException
        at org.elasticsearch.common.io.stream.InputStreamStreamInput.readByte(InputStreamStreamInput.java:59) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.BufferedChecksumStreamInput.readByte(BufferedChecksumStreamInput.java:62) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.common.io.stream.StreamInput.readInt(StreamInput.java:204) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.Translog.verifyChecksum(Translog.java:1537) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.TranslogHeader.read(TranslogHeader.java:153) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.Translog.readCheckpoint(Translog.java:1819) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.translog.Translog.readGlobalCheckpoint(Translog.java:1810) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.innerOpenEngineAndTranslog(IndexShard.java:1437) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.openEngineAndRecoverFromTranslog(IndexShard.java:1398) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.internalRecoverFromStore(StoreRecovery.java:433) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.lambda$recoverFromStore$0(StoreRecovery.java:95) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:308) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:93) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1687) ~[elasticsearch-7.1.1.jar:7.1.1]
        at org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$9(IndexShard.java:2340) ~[elasticsearch-7.1.1.jar:7.1.1]
        ... 4 more
```

However, this is correctly detected by `elasticsearch-shard`, which then deletes the corrupted translog as expected:

```
$ ES_PATH_CONF=elasticsearch-7.1.1/config-0 elasticsearch-7.1.1/bin/elasticsearch-shard remove-corrupted-data --index i --shard-id 0
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
-----------------------------------------------------------------------

    WARNING: Elasticsearch MUST be stopped before running this tool.

  Please make a complete backup of your index before using this tool.

-----------------------------------------------------------------------

Opening Lucene index at data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/index


 >> Lucene index is clean at data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/index


Opening translog at data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog


 >> Translog is corrupted at data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog

-----------------------------------------------------------------------

  Documents inside of translog files will be lost.
  The following files will be DELETED at data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog

  --> translog-1.ckp
  --> translog-1.tlog
  --> translog-2.ckp
  --> translog-2.tlog
  --> translog-3.tlog
  --> translog-3.tlog.orig
  --> translog-3.tlog.xxd
  --> translog.ckp

            WARNING:              YOU MAY LOSE DATA.
-----------------------------------------------------------------------
Continue and remove corrupted data from the shard ?
Confirm [y/N] y
Checking existing translog files
Reading translog UUID information from Lucene commit from shard at [data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/index]
Translog Generation: 3
Translog UUID      : C2Qq61VsQC-J5oN7umqXUg
History UUID       : GKYLGzmeSs6JwtIYUzkc-w
Removing existing translog files
Creating new empty checkpoint at [data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog/translog.ckp]
Creating new empty translog at [data-0/nodes/0/indices/5vs0nscfSY-Mshky9SuA5g/0/translog/translog-3.tlog]
Marking index with the new history uuid : FVsRXGGfSFG-QRxQDYJ_IQ
Changing allocation id AIW59M4gQRysysTityYoRw to yXGq1ZE3Qv-2lgEqKqzHyQ

You should run the following command to allocate this shard:

POST /_cluster/reroute'
{
  ""commands"" : [
    {
      ""allocate_stale_primary"" : {
        ""index"" : ""i"",
        ""shard"" : 0,
        ""node"" : ""p7lvBlzRQdi1gFUTzJJ4tw"",
        ""accept_data_loss"" : false
      }
    }
  ]
}'
```

Running the given `POST /_cluster/reroute` command does indeed allow the cluster to assign the truncated version of this shard.

Could you try and reproduce this in an otherwise empty one-node cluster? If you succeed, could you shut the cluster down, tar up the data path, and attach it to this issue?"
elastic/elasticsearch,"<!--

** Please read the guidelines below. **

Issues that do not follow these guidelines are likely to be closed.

1.  GitHub is reserved for bug reports and feature requests. The best place to
    ask a general question is at the Elastic [forums](https://discuss.elastic.co).
    GitHub is not the place for general questions.

2.  Is this bug report or feature request for a supported OS? If not, it
    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os

3.  Please fill out EITHER the feature request block or the bug report block
    below, and delete the other block.

-->

<!-- Bug report -->

**Elasticsearch version**: 7.0.0

**Plugins installed**: None

**JVM version**: 1.8.0_171

**OS version**: Windows Server 2016

**Description of the problem including expected versus actual behavior**:

Elastic/Lucene throws a NullPointerException when an interval query is being executed while one of the matches is a stopword (stopword filter configured for the field).

**Steps to reproduce**:

 1. Create a new index with a language analyzer active for a specific field:
```
PUT interval_test
{
  ""mappings"": {
    ""properties"": {
      ""content"": {
        ""type"": ""text"",
        ""analyzer"": ""english""
      }
    }
  }
}
```
 2. Index a new document containing text with at least one stopword
```
PUT interval_test/_doc/1
{
  ""content"": ""the pioneer""
}
```
 3. Execute an intervals query where one of the match queries is a stopword
```
POST interval_test/_search
{
  ""query"": {
    ""intervals"" : {
      ""content"" : {
        ""all_of"" : {
          ""intervals"" : [
            {
              ""all_of"" : {
                ""intervals"" : [
                  { ""match"" : { ""query"" : ""the"" } },
                  { ""match"" : { ""query"" : ""pioneer"" } }
                ]
              }
            }
          ]
        }
      }
    }
  }
}
```

**Provide logs (if relevant)**:

``` 
Caused by: java.lang.NullPointerException
	at org.apache.lucene.search.intervals.ConjunctionIntervalsSource.intervals(ConjunctionIntervalsSource.java:78) ~[lucene-sandbox-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 12:00:11]
	at org.apache.lucene.search.intervals.IntervalQuery$IntervalWeight.scorer(IntervalQuery.java:184) ~[lucene-sandbox-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 12:00:11]
	at org.apache.lucene.search.Weight.scorerSupplier(Weight.java:143) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.scorerSupplier(BooleanWeight.java:374) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.scorerSupplier(BooleanWeight.java:374) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.scorer(BooleanWeight.java:340) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$CustomBoostFactorWeight.functionScorer(FunctionScoreQuery.java:260) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$CustomBoostFactorWeight.scorer(FunctionScoreQuery.java:282) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.apache.lucene.search.Weight.scorerSupplier(Weight.java:143) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.scorerSupplier(BooleanWeight.java:374) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.scorer(BooleanWeight.java:340) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.Weight.bulkScorer(Weight.java:177) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.BooleanWeight.bulkScorer(BooleanWeight.java:334) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:649) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.elasticsearch.search.internal.ContextIndexSearcher.search(ContextIndexSearcher.java:177) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:443) ~[lucene-core-8.0.0.jar:8.0.0 2ae4746365c1ee72a0047ced7610b2096e438979 - jimczi - 2019-03-08 11:58:55]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:275) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:115) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:349) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:393) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.search.SearchService.access$100(SearchService.java:124) ~[elasticsearch-7.0.0.jar:7.0.0]
	at org.elasticsearch.search.SearchService$2.onResponse(SearchService.java:358) ~[elasticsearch-7.0.0.jar:7.0.0]
```",https://github.com/elastic/elasticsearch/issues/42587#issuecomment-497619916,"This is a bug in `IntervalBuilder#analyzeText`, which is returning `null` instead of `NO_INTERVALS`.  I'm not quite sure if `NO_INTERVALS` is the correct thing to return here though, as this may lead to some unexpected behaviour - for example, the query in the issue description would end up returning no documents, but an equivalent query asking for a match on `the pioneer` *would* return docs, as the stopword gap gets reworked into a widening of the non-stopword interval.  Maybe the best response is actually to throw an exception if a match query ends up with no tokens after analysis?  What do you think @jimczi?"
elastic/elasticsearch,"When investigating #40174 I tried the given `REPRODUCE WITH` line on 7.x (b189596631b8bf22c2d963b95c2dedf2d8a3a824):

```
./gradlew :server:integTest \
  -Dtests.seed=2A58B98CB4ABA8E \
  -Dtests.class=org.elasticsearch.cluster.routing.allocation.decider.MockDiskUsagesIT \
  -Dtests.method=""testRerouteOccursOnDiskPassingHighWatermark"" \
  -Dtests.security.manager=true \
  -Dtests.locale=prg \
  -Dtests.timezone=Asia/Damascus \
  -Dcompiler.java=11 \
  -Druntime.java=11
```

The build failed as follows:

```
1: Task failed with an exception.
-----------
* Where:
Build file '/home/davidturner/elasticsearch/benchmarks/build.gradle' line: 20

* What went wrong:
A problem occurred evaluating project ':benchmarks'.
> Failed to apply plugin [id 'elasticsearch.build']
   > the compiler java.home must be set to a JDK installation directory for Java 12 but is [/home/davidturner/jdk-11] corresponding to [11]
```

Deleting the ` -Dcompiler.java=11` and `-Druntime.java=11` options allows me to run this test (albeit using JDK12).",https://github.com/elastic/elasticsearch/issues/42421#issuecomment-504239833,"@mark-vieira Can you take a look at this? It seems like we shouldn't be caring about `compiler.java` anymore, maybe we can remove it?"
elastic/elasticsearch,"GetResult encapuslates a single result document from a search. In order to output the fields of the document, it iterates over the DocumentField objects. This iteration is over values of a HashMap. We should change this to be consistent, either through sorting the field names, or using a consistently ordered data structure.",https://github.com/elastic/elasticsearch/issues/42307#issuecomment-494713868,@rjernst why is it a problem?
elastic/elasticsearch,"We only look at the value of `cluster.max_shards_per_node` taken from the cluster metadata which, if unset, defaults to 1000:

https://github.com/elastic/elasticsearch/blob/d8417dcb8c4322003078b8daf22fa82b9c230949/server/src/main/java/org/elasticsearch/indices/IndicesService.java#L1477

This means that setting `cluster.max_shards_per_node` in `elasticsearch.yml` has no effect, but most other dynamic settings can also be set statically like this, so this caught me by surprise.

Relates #34021
Relates https://discuss.elastic.co/t/180785

",https://github.com/elastic/elasticsearch/issues/42137#issuecomment-530997558,"So #40803 was closed because original report was about some non-default distro or some such.

But THIS ticket is about stock package you get from elastic theselves. So should we reopen this ticket instead? Open another one?

@jasontedor any advice? I jsut hit this problem on this package from the official repo:

```
# rpm -qi elasticsearch-7.3.2-1.x86_64
Name        : elasticsearch
Epoch       : 0
Version     : 7.3.2
Release     : 1
Architecture: x86_64
Install Date: Thu 12 Sep 2019 03:42:55 PM EDT
Group       : Application/Internet
Size        : 480100569
License     : Elastic License
Signature   : RSA/SHA512, Fri 06 Sep 2019 01:02:00 PM EDT, Key ID d27d666cd88e42b4
Source RPM  : elasticsearch-7.3.2-1-src.rpm
Build Date  : Fri 06 Sep 2019 10:55:26 AM EDT
Build Host  : packer-virtualbox-iso-1559162487
Relocations : /usr 
Packager    : Elasticsearch
Vendor      : Elasticsearch
URL         : https://www.elastic.co/
Summary     : Distributed RESTful search engine built for the cloud
```"
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`):
Version: 7.0.1, Build: default/tar/e4efcb5/2019-04-29T12:56:03.145736Z, JVM: 1.8.0_202

**Plugins installed**:
Just the plugins which are shipped with ES

**JVM version** (`java -version`):
openjdk version ""1.8.0_202""
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.202-b08, mixed mode)

**OS version** (`uname -a` if on a Unix-like system):
Linux 3.10.0-514.21.1.el7.x86_64 #1 SMP Thu May 25 17:04:51 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux

**Description of the problem including expected versus actual behavior**:
After upgrading from 6.7.1 I get lots of ‚ÄútotalTermFreq must be at least docFreq‚Äù errors.

**Steps to reproduce**:

I don't have a simple example of how to reproduce because it only happens when I index tons of data. Until now I wasn't able to reproduce it with just a few documents.

But I'll share what I've figured out so far.
Also see the following discussion, there a two other guys encountering the same problem:
https://discuss.elastic.co/t/totaltermfreq-must-be-at-least-docfreq-error-after-upgrading-to-7-0-1/179977


I search using multi-match queries with cross_fields. Changing it to best_fields helps, but is not what I want.

In my environment it seems that array fields are causing the problem.

I've got a mapping like:

```
{
	""properties"": {
		""description"": {
			""type"": ""text"",
			""similarity"": ""custom_similarity"",
			""term_vector"" : ""with_positions_offsets"",
			""analyzer"": ""standard_analyzer"",
			""search_analyzer"": ""standard_search_analyzer"",
			""fields"": {
				""ngram"": {
					""type"": ""text"",
					""similarity"": ""custom_similarity"",
					""analyzer"": ""ngram_analyzer"",
					""search_analyzer"": ""standard_search_analyzer""
				},
				""edge_ngram_prefix"": {
					""type"": ""text"",
					""similarity"": ""custom_similarity"",
					""analyzer"": ""edge_ngram_1_analyzer"",
					""search_analyzer"": ""standard_search_analyzer""
				}
			}
		},
		""tags"": {
			""type"": ""text"",
			""similarity"": ""custom_similarity"",
			""analyzer"": ""standard_analyzer"",
			""search_analyzer"": ""standard_search_analyzer"",
			""fields"": {
				""keyword"": {
					""type"": ""keyword"",
					""ignore_above"": 256
				}
			}
		}
	}
}
```
And I post data like:

```
POST /some_index/_doc
{
	""description"": ""Some description"",
	""tags"": [""foo"", ""bar"", ""foo bar""]
}
```
When I search in both fields the query fails.

The query looks like:

```
{  
   ""from"":0,
   ""size"":100,
   ""query"":{  
      ""bool"":{  
         ""must"":[  
            {  
               ""function_score"":{  
                  ""query"":{  
                     ""bool"":{  
                        ""must"":[  
                           {  
                              ""function_score"":{  
                                 ""query"":{  
                                    ""multi_match"":{  
                                       ""query"":""foo"",
                                       ""fields"":[  
                                          ""description^3.0"",
                                          ""description.edge_ngram_prefix^0.90000004"",
                                          ""description.ngram^0.6"",
                                          ""tags^1.0""
                                       ],
                                       ""type"":""cross_fields"",
                                       ""operator"":""AND"",
                                       ""slop"":0,
                                       ""prefix_length"":0,
                                       ""max_expansions"":50,
                                       ""tie_breaker"":0.05,
                                       ""zero_terms_query"":""NONE"",
                                       ""auto_generate_synonyms_phrase_query"":true,
                                       ""fuzzy_transpositions"":true,
                                       ""boost"":1.0
                                    }
                                 },
                                 ""functions"":[  
                                    {  
                                       ""filter"":{  
                                          ""match_all"":{  
                                             ""boost"":1.0
                                          }
                                       },
                                       ""field_value_factor"":{  
                                          ""field"":""boost"",
                                          ""factor"":1.0,
                                          ""modifier"":""none""
                                       }
                                    }
                                 ],
                                 ""score_mode"":""sum"",
                                 ""max_boost"":3.4028235E38,
                                 ""boost"":1.0
                              }
                           }
                        ],
                        ""adjust_pure_negative"":true,
                        ""boost"":1.0
                     }
                  }
               }
            }
         ],
         ""adjust_pure_negative"":true,
         ""boost"":1.0
      }
   }
}
```

When I remove all those array fields from the query I do no longer get this error.

So problem seems to have something to do with the cross_fields option and array fields.

Let me know if you need more details, logs, etc.

Edit:
I also deleted and reindexed the data. But that didn't help, also.",https://github.com/elastic/elasticsearch/issues/41934#issuecomment-490420473,I've not reproduced that here yet with simplified mappings. Can you supply a full mapping that allows me to reproduce the issue given a clean install of 7.01?
elastic/elasticsearch,"<!-- Bug report -->

**Elasticsearch version** (`5.6.11`):

**Plugins installed**: [repository-s3]

**JVM version** (`jdk1.8.0_77`):

**OS version** (`uname -a` 3.10.0-862.el7.x86_64 #1 SMP Fri Apr 20 16:44:24 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux):

**Description of the problem including expected versus actual behavior**:
Am taking snapshots of indices on Minio server which are taken in a bucket , The successive snapshots of the same indices complete successfully when taken at the bucket root level , but if  I register a new repository with a base_path to take snapshots under sub directory the first snapshot gets created successfully but the successive snapshots fail with the FileAlreadyExistsException.


**Provide logs (if relevant)**:
# Parent root level bucket snapshot repository
curl -XGET ""esi1rvmm03-inc.tw-test.net:9200/_snapshot/intc_minio_repository/_all?pretty""
{
  ""snapshots"" : [
    {
      ""snapshot"" : ""usg_report_month_2018_09_snapshot"",
      ""uuid"" : ""b1cXPStzSA245j6rNABL8g"",
      ""version_id"" : 5061199,
      ""version"" : ""5.6.11"",
      ""indices"" : [
        ""usg_report_month_2018_09""
      ],
      ""state"" : ""SUCCESS"",
      ""start_time"" : ""2019-04-15T01:57:54.293Z"",
      ""start_time_in_millis"" : 1555293474293,
      ""end_time"" : ""2019-04-15T01:57:57.365Z"",
      ""end_time_in_millis"" : 1555293477365,
      ""duration_in_millis"" : 3072,
      ""failures"" : [ ],
      ""shards"" : {
        ""total"" : 1,
        ""failed"" : 0,
        ""successful"" : 1
      }
    },
    {
      ""snapshot"" : ""snapshot_1"",
      ""uuid"" : ""EsSYscL_REK7KVORsYrWuQ"",
      ""version_id"" : 5061199,
      ""version"" : ""5.6.11"",
      ""indices"" : [
        ""doclocker""
      ],
      ""state"" : ""SUCCESS"",
      ""start_time"" : ""2019-05-02T22:35:02.206Z"",
      ""start_time_in_millis"" : 1556836502206,
      ""end_time"" : ""2019-05-02T22:35:13.609Z"",
      ""end_time_in_millis"" : 1556836513609,
      ""duration_in_millis"" : 11403,
      ""failures"" : [ ],
      ""shards"" : {
        ""total"" : 5,
        ""failed"" : 0,
        ""successful"" : 5
      }
    },
    {
      ""snapshot"" : ""snapshot_2"",
      ""uuid"" : ""vWpuP64ET5KBGuWJ4PmP2w"",
      ""version_id"" : 5061199,
      ""version"" : ""5.6.11"",
      ""indices"" : [
        ""doclocker""
      ],
      ""state"" : ""SUCCESS"",
      ""start_time"" : ""2019-05-02T22:39:10.484Z"",
      ""start_time_in_millis"" : 1556836750484,
      ""end_time"" : ""2019-05-02T22:39:11.230Z"",
      ""end_time_in_millis"" : 1556836751230,
      ""duration_in_millis"" : 746,
      ""failures"" : [ ],
      ""shards"" : {
        ""total"" : 5,
        ""failed"" : 0,
        ""successful"" : 5
      }

# Nested directory snapshot repository
curl -XGET ""esi1rvmm03-inc.tw-test.net:9200/_snapshot/intc_minio_repository_doclocker/_all?pretty""
{
  ""snapshots"" : [
    {
      ""snapshot"" : ""snapshot_1"",
      ""uuid"" : ""c_VRGCCdSSKLr-i0PTXLZg"",
      ""version_id"" : 5061199,
      ""version"" : ""5.6.11"",
      ""indices"" : [
        ""doclocker""
      ],
      ""state"" : ""SUCCESS"",
      ""start_time"" : ""2019-05-03T19:33:20.166Z"",
      ""start_time_in_millis"" : 1556912000166,
      ""end_time"" : ""2019-05-03T19:33:28.478Z"",
      ""end_time_in_millis"" : 1556912008478,
      ""duration_in_millis"" : 8312,
      ""failures"" : [ ],
      ""shards"" : {
        ""total"" : 5,
        ""failed"" : 0,
        ""successful"" : 5
      }
    },
    {
      ""snapshot"" : ""snapshot_2"",
      ""uuid"" : ""wQD5j389QK2nHMoNKDCIwA"",
      ""version_id"" : 5061199,
      ""version"" : ""5.6.11"",
      ""indices"" : [
        ""doclocker""
      ],
      ""state"" : ""PARTIAL"",
      ""start_time"" : ""2019-05-03T19:35:59.364Z"",
      ""start_time_in_millis"" : 1556912159364,
      ""end_time"" : ""2019-05-03T19:35:59.627Z"",
      ""end_time_in_millis"" : 1556912159627,
      ""duration_in_millis"" : 263,
      ""failures"" : [
        {
          ""index"" : ""doclocker"",
          ""index_uuid"" : ""doclocker"",
          ""shard_id"" : 0,
          ""reason"" : ""IndexShardSnapshotFailedException[Failed to perform snapshot (index files)]; nested: FileAlreadyExistsException[blob [__0] already exists, cannot overwrite]; "",
          ""node_id"" : ""9XnkBOa5Q3mUiHp1WvY5hQ"",
          ""status"" : ""INTERNAL_SERVER_ERROR""
        },
        {
          ""index"" : ""doclocker"",
          ""index_uuid"" : ""doclocker"",
          ""shard_id"" : 2,
          ""reason"" : ""IndexShardSnapshotFailedException[Failed to perform snapshot (index files)]; nested: FileAlreadyExistsException[blob [__0] already exists, cannot overwrite]; "",
          ""node_id"" : ""cw3A2lK5SAOw1qQ2CY3sTw"",
          ""status"" : ""INTERNAL_SERVER_ERROR""
        },
        {
          ""index"" : ""doclocker"",
          ""index_uuid"" : ""doclocker"",
          ""shard_id"" : 4,
          ""reason"" : ""IndexShardSnapshotFailedException[Failed to perform snapshot (index files)]; nested: FileAlreadyExistsException[blob [__0] already exists, cannot overwrite]; "",
          ""node_id"" : ""cw3A2lK5SAOw1qQ2CY3sTw"",
          ""status"" : ""INTERNAL_SERVER_ERROR""
        },
        {
          ""index"" : ""doclocker"",
          ""index_uuid"" : ""doclocker"",
          ""shard_id"" : 1,
          ""reason"" : ""IndexShardSnapshotFailedException[Failed to perform snapshot (index files)]; nested: FileAlreadyExistsException[blob [__0] already exists, cannot overwrite]; "",
          ""node_id"" : ""9XnkBOa5Q3mUiHp1WvY5hQ"",
          ""status"" : ""INTERNAL_SERVER_ERROR""
        },
        {
          ""index"" : ""doclocker"",
          ""index_uuid"" : ""doclocker"",
          ""shard_id"" : 3,
          ""reason"" : ""IndexShardSnapshotFailedException[Failed to perform snapshot (index files)]; nested: FileAlreadyExistsException[blob [__0] already exists, cannot overwrite]; "",
          ""node_id"" : ""9XnkBOa5Q3mUiHp1WvY5hQ"",
          ""status"" : ""INTERNAL_SERVER_ERROR""
        }
      ],
      ""shards"" : {
        ""total"" : 5,
        ""failed"" : 5,
        ""successful"" : 0
      }
    }",https://github.com/elastic/elasticsearch/issues/41814#issuecomment-489343533,"Hi @thasija,

Please note that the 5.6 series has reached the [end of its supported life](https://www.elastic.co/support/eol). Nonetheless, I tried and failed to reproduce the problem you describe against a brand-new one-node 5.6.16 cluster:

```
PUT /_snapshot/my_s3_repository
{
  ""settings"": {
    ""base_path"": ""test_base_path"",
    ""bucket"": ""bucketname"",
    ""endpoint"": ""127.0.0.1:9000""
  },
  ""type"": ""s3""
}

PUT /i
{
  ""settings"": {
    ""number_of_shards"": 1
  }
}

POST /i/doc
{}

POST /i/_flush

PUT /_snapshot/my_s3_repository/snapshot_1?wait_for_completion=true

POST /i/doc
{}

POST /i/_flush

PUT /_snapshot/my_s3_repository/snapshot_2?wait_for_completion=true

```

This last command reported:

```
# 200 OK
# {
#   ""snapshot"": {
#     ""snapshot"": ""snapshot_2"",
#     ""duration_in_millis"": 75,
#     ""state"": ""SUCCESS"",
#     ""uuid"": ""4U7W9roOQHeCuxXOZwWeog"",
#     ""failures"": [],
#     ""end_time_in_millis"": 1556988029412,
#     ""indices"": [
#       ""i""
#     ],
#     ""shards"": {
#       ""successful"": 1,
#       ""total"": 1,
#       ""failed"": 0
#     },
#     ""version"": ""5.6.16"",
#     ""start_time"": ""2019-05-04T16:40:29.337Z"",
#     ""end_time"": ""2019-05-04T16:40:29.412Z"",
#     ""version_id"": 5061699,
#     ""start_time_in_millis"": 1556988029337
#   }
# }
```

Could you try again with a supported version (ideally 6.7.2 or 7.0.1) and give a more detailed sequence of steps to help us reproduce what you're seeing?"
elastic/elasticsearch,"**Elasticsearch version** (`bin/elasticsearch --version`): 6.7.1, 7.0, 7.x, master

**Description of the problem including expected versus actual behavior**:
Reindexing when the destination is an alias using `is_write_index` (i.e. an alias with multiple indices but only one set with `is_write_index: true`) fails with:
```
[elasticsearch] java.lang.IllegalStateException: alias [my_data] has more than one write index [index-1,index-2]
[elasticsearch]         at org.elasticsearch.cluster.metadata.AliasOrIndex$Alias.computeAndValidateWriteIndex(AliasOrIndex.java:154) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaData$Builder.lambda$buildAliasAndIndexLookup$1(MetaData.java:1230) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]
[elasticsearch]         at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]
[elasticsearch]         at java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:2890) ~[?:?]
[elasticsearch]         at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]
[elasticsearch]         at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]
[elasticsearch]         at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]
[elasticsearch]         at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]
[elasticsearch]         at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]
[elasticsearch]         at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]
[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaData$Builder.buildAliasAndIndexLookup(MetaData.java:1230) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaData$Builder.build(MetaData.java:1193) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$IndexCreationTask.execute(MetaDataCreateIndexService.java:557) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:47) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.executeTasks(MasterService.java:687) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.calculateTaskOutputs(MasterService.java:310) ~[elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:210) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:142) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:687) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:252) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:215) [elasticsearch-8.0.0-SNAPSHOT.jar:8.0.0-SNAPSHOT]
[elasticsearch]         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
[elasticsearch]         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
[elasticsearch]         at java.lang.Thread.run(Thread.java:835) [?:?]
```

This should work since indexing into an alias with multiple indexes is now permitted as long as the alias is using `is_write_index`.

**Steps to reproduce**:

```
GET _cat/indices?v

DELETE index-1

PUT index-1
{
  ""aliases"": {
    ""my_data"": {
      ""is_write_index"": true
    }
  }
}

POST my_data/_doc/1
{
  ""foo"":""bar""
}

POST my_data/_rollover
{
  ""conditions"": {
    ""max_docs"": 1
  }
}

GET my_data

POST my_data/_doc/2
{
  ""foo"":""baz""
}

POST other-index/_doc/3
{
  ""foo"": ""bof""
}

# This fails with the above error
POST _reindex
{
  ""source"": {
    ""index"": ""other-index""
  },
  ""dest"": {
    ""index"": ""my_data""
  }
}
```
",https://github.com/elastic/elasticsearch/issues/41667#issuecomment-488227568,"@colings86 , trying to reproduce this using the steps above, I do get an error during `_reindex`, which seems to be the error addressed in #41677. But the error happens directly on the reindex request thread and not during a cluster state update task as indicated by above stack trace.

I would imagine the above exception comes from the rollover. I have not been able to figure out how that could be triggered from reindex and hope you can give a hint on that?"
spring-projects/spring-boot,"springboot 2.2.4-RELEASE
* pom.xml
```
<dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <!-- database start -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-jdbc</artifactId>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
        </dependency>
        <!-- database end -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-actuator</artifactId>
        </dependency>

    </dependencies>
```
* application.yml
```
spring:
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/auth8?useUnicode=true&characterEncoding=utf-8&autoReconnect=true&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
````
* bootstrap.java
```
@SpringBootApplication
public class SessionBootstrap {

    public static void main(String[] args) {
        SpringApplication.run(SessionBootstrap.class, args);
    }
}
```
* But why ???
```
2020-02-12 00:54:42.986  INFO 95047 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-02-12 00:54:43.359  INFO 95047 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
```

",https://github.com/spring-projects/spring-boot/issues/20128#issuecomment-584735477,@cubita-io thanks for the report. Can you please turn this text into an actual project (zip or github repo url) we can use to reproduce the issue?
spring-projects/spring-boot,"I updated a simple Spring Boot App to 2.3.0.M1 and tried to use the new Maven goal `spring-boot:build-image`.

I am receiving the following stacktrace:

```
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.M1:build-image (default-cli) on project caffeinators-app: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.M1:build-image failed: An API incompatibility was encountered while executing org.springframework.boot:spring-boot-maven-plugin:2.3.0.M1:build-image: java.lang.UnsatisfiedLinkError: Error looking up function 'write': Die angegebene Prozedur wurde nicht gefunden.
[...]
Caused by: java.lang.UnsatisfiedLinkError: Error looking up function 'write': Die angegebene Prozedur wurde nicht gefunden.

    at com.sun.jna.Function.<init> (Function.java:245)
    at com.sun.jna.NativeLibrary.getFunction (NativeLibrary.java:566)
    at com.sun.jna.NativeLibrary.getFunction (NativeLibrary.java:542)
    at com.sun.jna.NativeLibrary.getFunction (NativeLibrary.java:528)
    at com.sun.jna.Native.register (Native.java:1777)
    at com.sun.jna.Native.register (Native.java:1648)
    at com.sun.jna.Native.register (Native.java:1360)
    at org.springframework.boot.buildpack.platform.socket.DomainSocket.<clinit> (DomainSocket.java:56)
    at org.springframework.boot.buildpack.platform.docker.DockerConnectionSocketFactory.createSocket (DockerConnectionSocketFactory.java:48)
    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect (DefaultHttpClientConnectionOperator.java:119)
    at org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect (BasicHttpClientConnectionManager.java:313)
    at org.apache.http.impl.execchain.MainClientExec.establishRoute (MainClientExec.java:393)
    at org.apache.http.impl.execchain.MainClientExec.execute (MainClientExec.java:236)
    at org.apache.http.impl.execchain.ProtocolExec.execute (ProtocolExec.java:186)
    at org.apache.http.impl.execchain.RetryExec.execute (RetryExec.java:89)
    at org.apache.http.impl.execchain.RedirectExec.execute (RedirectExec.java:110)
    at org.apache.http.impl.client.InternalHttpClient.doExecute (InternalHttpClient.java:185)
    at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:83)
    at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:108)
    at org.springframework.boot.buildpack.platform.docker.HttpClientHttp.execute (HttpClientHttp.java:135)
    at org.springframework.boot.buildpack.platform.docker.HttpClientHttp.post (HttpClientHttp.java:84)
    at org.springframework.boot.buildpack.platform.docker.DockerApi$ImageApi.pull (DockerApi.java:150)
    at org.springframework.boot.buildpack.platform.build.Builder.pullBuilder (Builder.java:83)
    at org.springframework.boot.buildpack.platform.build.Builder.build (Builder.java:62)
    at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:117)
    at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:109)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke (Method.java:566)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)
```
Windows Version: 1903 Build 18362.592
Docker for Desktop : 19.03.5",https://github.com/spring-projects/spring-boot/issues/19908#issuecomment-578619490,"is the fix  for this issue available on 2.3.0.BUILD-SNAPSHOT ? I tried with this snapshot but still getting below error:

```
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.BUILD-SNAPSHOT:build-image (default-cli) on project build.docker.image.test: Execution default-cli of goal org.springframew
ork.boot:spring-boot-maven-plugin:2.3.0.BUILD-SNAPSHOT:build-image failed.: NullPointerException -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.BUILD-SNAPSHOT:build-image (default-cli) on project build.docker.image.test
: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.BUILD-SNAPSHOT:build-image failed.
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)
    at java.lang.reflect.Method.invoke (Unknown Source)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.3.0.BUILD-SNAPSHOT:build-image failed.
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)
    at java.lang.reflect.Method.invoke (Unknown Source)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
Caused by: java.lang.NullPointerException
    at org.springframework.boot.buildpack.platform.socket.NamedPipeSocket.open (NamedPipeSocket.java:66)
    at org.springframework.boot.buildpack.platform.socket.NamedPipeSocket.<init> (NamedPipeSocket.java:50)
    at org.springframework.boot.buildpack.platform.socket.NamedPipeSocket.get (NamedPipeSocket.java:97)
    at org.springframework.boot.buildpack.platform.docker.DockerConnectionSocketFactory.createSocket (DockerConnectionSocketFactory.java:46)
    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect (DefaultHttpClientConnectionOperator.java:119)
    at org.apache.http.impl.conn.BasicHttpClientConnectionManager.connect (BasicHttpClientConnectionManager.java:313)
    at org.apache.http.impl.execchain.MainClientExec.establishRoute (MainClientExec.java:393)
    at org.apache.http.impl.execchain.MainClientExec.execute (MainClientExec.java:236)
    at org.apache.http.impl.execchain.ProtocolExec.execute (ProtocolExec.java:186)
    at org.apache.http.impl.execchain.RetryExec.execute (RetryExec.java:89)
    at org.apache.http.impl.execchain.RedirectExec.execute (RedirectExec.java:110)
    at org.apache.http.impl.client.InternalHttpClient.doExecute (InternalHttpClient.java:185)
    at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:83)
    at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:108)
    at org.springframework.boot.buildpack.platform.docker.HttpClientHttp.execute (HttpClientHttp.java:135)
    at org.springframework.boot.buildpack.platform.docker.HttpClientHttp.post (HttpClientHttp.java:84)
    at org.springframework.boot.buildpack.platform.docker.DockerApi$ImageApi.pull (DockerApi.java:150)
    at org.springframework.boot.buildpack.platform.build.Builder.pullBuilder (Builder.java:83)
    at org.springframework.boot.buildpack.platform.build.Builder.build (Builder.java:62)
    at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:117)
    at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:109)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)
    at java.lang.reflect.Method.invoke (Unknown Source)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)
```

Windows Version: 1903 Build 18362.535
Docker for Desktop : 19.03.1"
spring-projects/spring-boot,"Hello,

When I was working on https://github.com/spring-projects/spring-boot/pull/19669 I found that
`HazelcastAutoConfiguration` may create a `NullBean` instead of `HazelcastInstance`.

When `HazelcastClientFactory`  tries to find the `HazelcastInstance` by name and there is no instance with that name, the `null` will be returned. It happens only when `ClientConfig` has an instance's name.


Test to reproduce:

```java
// - HazelcastAutoConfigurationClientTests
@Test
void clientConfigWithInstanceName() {
	this.contextRunner
			.withPropertyValues(""spring.hazelcast.config=classpath:org/springframework/""
					+ ""boot/autoconfigure/hazelcast/hazelcast-client-instance.xml"")
			.run((context) -> assertThat(context).getBean(HazelcastInstance.class)
					.extracting(HazelcastInstance::getName).isEqualTo(""spring-boot""));
}
```
```xml
<?xml version=""1.0"" encoding=""UTF-8""?>
<!--hazelcast-client-instance.xml-->
<hazelcast-client xmlns=""http://www.hazelcast.com/schema/client-config""
				  xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
				  xsi:schemaLocation=""http://www.hazelcast.com/schema/client-config hazelcast-client-config-3.12.xsd"">

	<instance-name>spring-boot</instance-name>
</hazelcast-client>
```

The test fails due to:

> org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'hazelcastInstance' is expected to be of type 'com.hazelcast.core.HazelcastInstance' but was actually of type 'org.springframework.beans.factory.support.NullBean'



This issue can be fixed with a new method which was provided by Hazelcast (https://github.com/hazelcast/hazelcast/pull/16362), there is also a back-port (https://github.com/hazelcast/hazelcast/pull/16363), so that method should be available in Hazelcast **3.12.6**


My idea is change `HazelcastClient.getHazelcastClientByName(Name)` to `HazelcastClient. getOrCreateHazelcastClient(Config)`  in `HazelcastClientFactory` when a new version of `Hazelcast` will be released.
 ",https://github.com/spring-projects/spring-boot/issues/19709#issuecomment-574216162,"Thanks, @nosan. What you have proposed sounds reasonable to me. WDYT, @snicoll?"
spring-projects/spring-boot,"### Problem:
The actuator `configprops` and `env` endpoints show `RabbitProperties#addresses` in un-sanitized form. 

### Workaround:
These endpoints expose the `keys-to-sanitize` property and I could set that property to the current defaults plus `addresses`. However, this is not desirable as 

1. we have many applications that will use this and will have to do this in every app (or write a starter that does it). 
2. copying the current default values in the endpoint code is a risk of getting out of sync w/ that code (defaults in the endpoint).

It feels like this is something that should be handled out-of-box. 

#### Couple of options:

1. Update default keys-to-sanitize to include an expression for `addresses`.

2. Add an `additional-keys-to-sanitize` to allow adds to the defaults and set that property in my applications.

3.  Add an annotation that can be set on a `@ConfigurationProperties` field (such as `@Sensitive`) that would automatically get that field excluded from the endpoint reports.

4. Do nothing. Use the existing `keys-to-sanitize` property w/ the current coded defaults and add `addresses` to it. Repeat this in each application. Update each application when/if the defaults happen to change in the endpoint code.

I am happy to submit a merge request for any of these options. ",https://github.com/spring-projects/spring-boot/issues/19626#issuecomment-573878583,@bono007 We sanitize the password in the uri as of #8293. Could you tell us why this doesn't work for you?
spring-projects/spring-boot,"A Spring WebFlux application that uses Spring HATEOAS and has properly excluded Spring MVC will blow up due to `HypermediaAutoConfiguration` pulling in `WebMvcAutoConfiguration`.

Can we somehow further constrain this autoconfiguration to not kick in the there is no Spring MVC on the classpath?

Right now, I have to set `spring.hateoas.use-hal-as-default-json-media-type=false` to manually turn off `HateosConfiguration`.",https://github.com/spring-projects/spring-boot/issues/19392#issuecomment-566772960,"> due to HypermediaAutoConfiguration pulling in WebMvcAutoConfiguration

AFAICT `HypermediaAutoConfiguration` doesn't pull in `WebMvcAutoConfiguration`. It's just auto-configured after it.

What error are you actually seeing? Have you got a sample application we can run?"
spring-projects/spring-boot,"If REST controller doesn't explicitly set status code (so it defaults to 200 OK), `MetricsWebFilter` will set `outcome` tag to `UNKNOWN` instead of `SUCCESS`.

Example application to reproduce:

```java
package net.example;
 
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import reactor.core.publisher.Mono;
 
@SpringBootApplication
public class ExampleApplication {
 
    public static void main(String[] args) {
        SpringApplication.run(ExampleApplication.class, args);
    }
 
}
 
@RestController
class ExampleController {
 
    @GetMapping(""/example"")
    Mono<String> example() {
        return Mono.just(""EXAMPLE"");
    }
 
}
```
```yaml
management:
    endpoints:
        web:
            exposure:
                include:
                    - metrics
```
```sh
curl http://localhost:8080/example

curl http://localhost:8080/actuator/metrics/http.server.requests?tag=uri:/example
# availableTags{tag=""outcome""} only has ""UNKNOWN"" value
```

",https://github.com/spring-projects/spring-boot/issues/19367#issuecomment-565968739,"In spring-projects/spring-framework#21901, we can see that the `ServerHttpResponse` contract is about modifying the response and falling back on the server defaults (HTTP 200 OK) if nothing has been set by the application.
In gh-18267, we also see that we rely on `org.springframework.http.server.reactive.AbstractServerHttpResponse#getStatusCodeValue` to handle non-standard status codes. But this method does not itself look into the native server response and can return `null`.

I'm wondering if `org.springframework.http.server.reactive.AbstractServerHttpResponse#getStatusCodeValue` should return the underlying default server response status. Of if we should, for consistency, return `Outcome.SUCCESS` in https://github.com/spring-projects/spring-boot/blob/bb3b6dbd7d213e7898fb1f2a88bcea8aae8b6c7f/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/server/WebFluxTags.java#L137-L141

@rstoyanchev do you think we should rely at all on `org.springframework.http.server.reactive.AbstractServerHttpResponse#getStatusCodeValue` in the first place - if not, how should we handle non-standard HTTP status codes?"
spring-projects/spring-boot,"From [this question](https://stackoverflow.com/questions/59197056/springboot-2-2-1-nosuchmethoderror-org-apache-catalina-valves-remoteipvalve-s) on Stack Overflow:

```
2019 12 05 14:05:45#+00#ERROR#org.apache.catalina.core.ContainerBase##anonymous#localhost-startStop-1#na#s2k4640ult#permitmgmtcoreaic#web##na#na#na#na#ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/permitmgmt-core]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)
    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:836)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tomcatServletWebServerFactory' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryConfiguration$EmbeddedTomcat.class]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: org.apache.catalina.valves.RemoteIpValve.setHostHeader(Ljava/lang/String;)V
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)
    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:152)
    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:132)
    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:92)
    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5245)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 10 common frames omitted
Caused by: java.lang.NoSuchMethodError: org.apache.catalina.valves.RemoteIpValve.setHostHeader(Ljava/lang/String;)V
    at org.springframework.boot.autoconfigure.web.embedded.TomcatWebServerFactoryCustomizer.customizeRemoteIpValve(TomcatWebServerFactoryCustomizer.java:189)
    at org.springframework.boot.autoconfigure.web.embedded.TomcatWebServerFactoryCustomizer.customize(TomcatWebServerFactoryCustomizer.java:85)
    at org.springframework.boot.autoconfigure.web.embedded.TomcatWebServerFactoryCustomizer.customize(TomcatWebServerFactoryCustomizer.java:60)
    at org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor.lambda$postProcessBeforeInitialization$0(WebServerFactoryCustomizerBeanPostProcessor.java:72)
    at org.springframework.boot.util.LambdaSafe$Callbacks.lambda$null$0(LambdaSafe.java:287)
    at org.springframework.boot.util.LambdaSafe$LambdaSafeCallback.invoke(LambdaSafe.java:159)
    at org.springframework.boot.util.LambdaSafe$Callbacks.lambda$invoke$1(LambdaSafe.java:286)
    at java.util.ArrayList.forEach(ArrayList.java:1257)
    at java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1082)
    at org.springframework.boot.util.LambdaSafe$Callbacks.invoke(LambdaSafe.java:286)
    at org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor.postProcessBeforeInitialization(WebServerFactoryCustomizerBeanPostProcessor.java:72)
    at org.springframework.boot.web.server.WebServerFactoryCustomizerBeanPostProcessor.postProcessBeforeInitialization(WebServerFactoryCustomizerBeanPostProcessor.java:58)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1795)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
    ... 28 common frames omitted
```

This is caused by the changes for https://github.com/spring-projects/spring-boot/issues/18233 and the fact that the web server factory customisers run, even though the factory that the customize is never used. We had a [similar problem](https://github.com/spring-projects/spring-boot/issues/16498#issuecomment-496632107) in the past. We could catch the `NoSuchMethodError` and assume an earlier version of Tomcat, but it would be nicer if the customizers weren't called at all. 

",https://github.com/spring-projects/spring-boot/issues/19308#issuecomment-567123451,@wilkinsona Is there a workaround for this considering I can't update Tomcat?
spring-projects/spring-boot,"I was trying to use the properties set in the YAML file through the `Registration` class inside `Saml2RelyingPartyProperties` class.

The problem is that the method has only package visibility and is not public.

```
		public Signing getSigning() {
			return this.signing;
		}

-->		Identityprovider getIdentityprovider() {
			return this.identityprovider;
		}

		public static class Signing {
```

P.S. I'm not sure if there is a reason to not make this public.",https://github.com/spring-projects/spring-boot/issues/19194#issuecomment-559916708,"Hi, just a comment regarding use cases for using the internal config properties classes.  I too have stumbled yesterday into this visibility issue.  I have a use case where the powers decreed that all config must be in TypeSafe format (sadly) not yml/properties.    So I have an EnvironmentPostProcessor to add the property sources for the TypeSafe config in the correct order.  So far so good.   My issue comes when I try to let Boot Auto config properties.  Simple primitive bindings work ok.  However, trying to bind an object (like a list of registrations) doesn't work (I end up with a list of a map and later a class cast exception).  I therefore need to transform the properties to the config class in my bean config class either overriding or using `@Primary` (for just the config property class).  Sadly, this is not possible due to the visibility. 

The idea for doing it like this comes directly from the Boot documentation  (2 data source set up) where we do need to use the internal config prop classes...  ?"
spring-projects/spring-boot,"As of 2.2.0 the shutdown of a spring-boot application is broken and results in a Build Failure when executed.

I ran ```mvnw clean install package spring-boot:run``` as a command.

In attachment the executable file of a boot from https://start.spring.io/ and the resulted build fail. I ran with Java 8, and the Maven wrapper included in the project. 

[output.txt](https://github.com/spring-projects/spring-boot/files/3822172/output.txt)
",https://github.com/spring-projects/spring-boot/issues/18936#issuecomment-551414506,"Thanks for the log. It seems to show the following commands being run:

- `mvnw clean package` (succeeds)
- `mvnw spring-boot:run` (succeeds)
- `mvnw spring-boot:run` (fails)

That does not match my understanding of your description. Can you please clarify? The best way to do so would be with a small sample, zipped up and attached to this issue, that reproduces the problem, and the exact commands that we need to run to do so."
spring-projects/spring-boot,"when ServletComponentRegisteringPostProcessor add @WebServlet, it requires an ScannedGenericBeanDefinition from an ClassPathScanningCandidateComponentProvider.

it works fine without Context-Indexer but wrong with Context-Indexer.
ClassPathScanningCandidateComponentProvider will return an AnnotatedGenericBeanDefinition, when their is an spring.components file.

",https://github.com/spring-projects/spring-boot/issues/18910#issuecomment-550901731,"Thanks for the report but, having looked at the code, I don't yet understand why the problem is occurring. The index should be ignored as `@WebFilter`, `@WebListener`, and `@WebServlet` are not annotated with `@Indexed`. Can you please create a small sample that reproduces the problem and share it with us by zipping it up and attaching it to this issue?"
spring-projects/spring-boot,"```java
@ConstructorBinding
@ConfigurationProperties(""test"")
static class NestedConstructorProperties {

  private final String name;

  private final Nested nested;

  NestedConstructorProperties(String name, Nested nested) {
    this.name = name;
    this.nested = nested;
  }

  String getName() {
    return this.name;
  }

  Nested getNested() {
    return this.nested;
  }

  static class Nested { 

    private int age;

    @ConstructorBinding
    Nested(int age) {
      this.age = age;
    }

    Nested() {

    }

    int getAge() {
      return this.age;
    }

  }

}
```",https://github.com/spring-projects/spring-boot/issues/18810#issuecomment-547702804,Which package has this note?
spring-projects/spring-boot,"The reactive always returns the http status code 200, even if the health check is down. The response body contains the correct status code.

Response
```
< 200 OK OK
< Date: [Tue, 29 Oct 2019 16:42:00 GMT]
< Content-Type: [application/json]

{""body"":{""status"":""DOWN""},""status"":503}
```
",https://github.com/spring-projects/spring-boot/issues/18805#issuecomment-547561713,@SirWayne What version of Spring Boot are you using? Do you have a sample application that shows the problem?
spring-projects/spring-boot,"Hello,

We were trying to migrate from 2.1.9 to 2.2.0 for our applications last week and encountered a startup failure due to a configuration validation failure. In short, if we are using `@EnableConfigurationProperties` combined with `@ConditionalOnProperty` for some beans, the new version is not respecting the conditional on the config part.

**Here is a tiny example:**

If we add this component to any Spring Boot application, it will fail to start with 2.2.0.

```
@Component
@ConditionalOnProperty(prefix = ""foo"", name = ""enabled"")
@EnableConfigurationProperties(FooBarConfig.class)
public class FooBar {

    public FooBar() {
        Logger.getGlobal().info(""Starting FooBar..."");
    }

    @ConfigurationProperties(prefix = ""foo"")
    @Validated
    static class FooBarConfig {

        @NotNull
        String bar;

        public void setBar(String bar) {
            this.bar = bar;
        }

    }

}
```

**Expected behavior:**
The bean initialization of `FooBar` and `FooBarConfig` should be skipped because `@ConditionalOnProperty` doesn't match.

**Actual behavior:**
`FooBar` is skipped but the `FooBarConfig` keeps initializing thus failed startup.",https://github.com/spring-projects/spring-boot/issues/18674#issuecomment-544480761,"I understand that `FooBar` is in a package that is a target of component scan given the `@Component` on it. Spring Boot 2.2 now scans `@ConfigurationProperties` automatically and that arrangement above is really two separate components (i.e. excluding the parent doesn't mean that the inner class should not be scanned). 

If you want to conditionally create such bean, you shouldn't put them in a package that is target for classpath scanning (auto-configurations shouldn't use package scanning in the first place). If you `EnableConfigurationProperties(FooBar.class)` from your auto-configuration, things should work fine in both versions.

This is based on partial code snippet so I might be missing something. Does that make sense?"
spring-projects/spring-boot,"There are cases that configuration property binding does not work when integrating 3rd party configuration class and it deploy to the application server as war file(= When JndiPropertySource is enabled).

## Versions

* 2.2.0.RELEASE(2.2.0.M5+) ‚Äª2.2.0.M4 work fine

## Details
For example, following properties class does not work.  (As actually, MyBatis's configuration class matches this pattern...)

```java
package com.example;

import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.boot.context.properties.NestedConfigurationProperty;

@ConfigurationProperties(prefix = ""my"")
public class MyProperties {

  private String name;

  @NestedConfigurationProperty
  private ThirdPartyConfiguration configuration; // ### Third party class

  public void setName(String name) {
    this.name = name;
  }

  public String getName() {
    return name;
  }

  public void setConfiguration(ThirdPartyConfiguration configuration) {
    this.configuration = configuration;
  }

  public ThirdPartyConfiguration getConfiguration() {
    return configuration;
  }

}
```

```java
package com.example;

public class ThirdPartyConfiguration {

  private String encoding;

  private boolean enabled;

  private final List<ResultMap> resultMaps = new ArrayList<>(); // ### Collection

  public void setEncoding(String encoding) {
    this.encoding = encoding;
  }

  public String getEncoding() {
    return encoding;
  }

  public void setEnabled(boolean enabled) {
    this.enabled = enabled;
  }

  public boolean isEnabled() {
    return enabled;
  }

  public Collection<ResultMap> getResultMaps() {
    return resultMaps;
  }

  public void addResultMap(ResultMap rm) {
    resultMaps.add(rm);
  }

}
```

```java
package com.example;

public class ResultMap {
  private String name;
  private String option;

  private ResultMap() { // ### Define private (If define public, this issue does not occurred)
  }

  public String getName() {
    return name;
  }

  public String getOption() {
    return option;
  }

  public static class Builder { // ### Builder class
    private final ResultMap resultMap;

    public Builder(String name) {
      resultMap = new ResultMap();
      resultMap.name = name;
    }

    public Builder option(String option) {
      resultMap.option = option;
      return this;
    }

    public ResultMap build() {
      return resultMap;
    }
  }
}
```

## StackTrace

```
...
[INFO] [talledLocalContainer] Caused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'my.configuration.result-maps[0]' to com.example.ResultMap
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:337)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:297)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$null$1(Binder.java:385)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withSource(Binder.java:519)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.access$1000(Binder.java:486)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindAggregate$2(Binder.java:386)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.IndexedElementsBinder.bindIndexed(IndexedElementsBinder.java:106)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.IndexedElementsBinder.bindIndexed(IndexedElementsBinder.java:86)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.IndexedElementsBinder.bindIndexed(IndexedElementsBinder.java:71)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.CollectionBinder.bindAggregate(CollectionBinder.java:49)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.AggregateBinder.bind(AggregateBinder.java:56)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindAggregate$3(Binder.java:388)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:543)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.access$200(Binder.java:486)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindAggregate(Binder.java:388)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:349)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:293)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:421)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:88)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:77)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:54)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:425)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:543)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:529)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.access$500(Binder.java:486)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:423)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:364)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:293)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:421)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:88)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:77)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:54)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:425)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:543)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:529)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.access$500(Binder.java:486)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:423)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:364)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:293)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:281)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:211)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:198)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:89)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:107)
[INFO] [talledLocalContainer]   ... 60 more
[INFO] [talledLocalContainer] Caused by: java.lang.IllegalStateException: Failed to extract parameter names for com.example.ResultMap(com.example.ResultMap$1)
[INFO] [talledLocalContainer]   at org.springframework.util.Assert.state(Assert.java:94)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder$DefaultValueObject.parseConstructorParameters(ValueObjectBinder.java:178)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder$DefaultValueObject.<init>(ValueObjectBinder.java:173)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder$DefaultValueObject.get(ValueObjectBinder.java:218)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder$DefaultValueObject.get(ValueObjectBinder.java:206)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder$ValueObject.get(ValueObjectBinder.java:112)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.ValueObjectBinder.bind(ValueObjectBinder.java:51)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:425)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:543)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:529)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder$Context.access$500(Binder.java:486)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:423)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:364)
[INFO] [talledLocalContainer]   at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:293)

```

## Related Issue

* #17098


## Reproduce project

* [spring-boot-gh-18670.zip](https://github.com/spring-projects/spring-boot/files/3750219/spring-boot-gh-18670.zip)

### How to reproduce

```
$ ./mvnw package corgo:run
```
",https://github.com/spring-projects/spring-boot/issues/18670#issuecomment-546369583,I have the same issue. Does someone have a workaround ? 
spring-projects/spring-boot,"After upgrade to Spring Boot v2.2 the test configuration class which is annotated with `@TestConfiguration` is not proxied by CGLIB anymore, thus calling `@Bean` methods return new instances every time.

After quick search in Spring Framework cores [changes](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#core-container) gives a hint:

> [...]  or not finding annotations anymore where they have previously been found accidentally. 

The corresponding [commit](https://github.com/spring-projects/spring-framework/commit/fd8fa301a69e9ce586769c12b7572255d0f83f3c) in Spring Framework.
",https://github.com/spring-projects/spring-boot/issues/18653#issuecomment-544187988,does this needs to be fixed ?
spring-projects/spring-boot,"I have migrated https://spring.io/guides/tutorials/spring-boot-kotlin/ to Spring Boot `2.2.0.RELEASE` and updated it to leverage immutable configuration properties. As discussed with @snicoll, `@ConfigurationProperties` are not scanned by default in test slices, so I have to add to my `@WebMvcTest` test either `@EnableConfigurationProperties(BlogProperties::class)` or mock `BlogProperties` bean.

My test works with `@EnableConfigurationProperties(BlogProperties::class)` but fails if I try to mockk `BlogProperties` bean (in my case with `@MockkBean` from https://github.com/Ninja-Squad/springmockk) with following error:

```
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.example.blog.BlogProperties#0': @EnableConfigurationProperties or @ConfigurationPropertiesScan must be used to add @ConstructorBinding type com.example.blog.BlogProperties
```",https://github.com/spring-projects/spring-boot/issues/18652#issuecomment-545694536,@sdeleuze Have you got a branch somewhere we can look at?
spring-projects/spring-boot,"From my initial test drive of the freshly released Spring Boot _2.2.0.RELEASE_ it seems that `@ConfigurationProperties` beans declared as immutable with `@ConstructorBinding` show up empty in the Actuator `configprops` endpoint.
Example:

```
""ftp-af.FtpProperties"": {
  ""prefix"": ""ftp"",
  ""properties"": {}
}
```

The beans are however correctly bound and their use in other beans is not impacted.

Normal, mutable beans are correctly displayed with their attributes.
Example:
```
""ftp-af.FtpProperties"": {
  ""prefix"": ""ftp"",
  ""properties"": {
    ""host"": ""andromeda"",
    ""dir"": ""/path/to/files"",
    ""user"": ""JohnSmith"",
    ""port"": 2121,
    ""passw"": ""Unknown""
  }
}
```",https://github.com/spring-projects/spring-boot/issues/18636#issuecomment-543421001,"@snicoll is this feasible for contribution? 

I have used actuator endpoint before; however, I don't know how it works under the hood. I am curious how complicated is this task? If open for contribution, I would love to give it a shot. I would appreciate some direction in the form of guidance, previous issues/PRs I could look into, materials, classes, etc. "
spring-projects/spring-boot,"Class `A` has member of Type `A`Ôºåif `A` is annotated with `@ConfigurationProperties` and `lombok.Data` together a `java.lang.StackOverflowError` will happen.

For example:

```java
@ConfigurationProperties(""prefix"")
@Data
public class A {

   A m;

}
```",https://github.com/spring-projects/spring-boot/issues/18365#issuecomment-536614571,Just interjecting but what would the the configuration metadata json look like for an recursive property?  Does it even support this?  Is that why it is stack overflowing because it is trying to generate it?
spring-projects/spring-boot,"When upgrading to Spring Boot 2.1.8-RELEASE from 2.1.7-RELEASE we now get a `BeanCreationException` that didn't happen before (no code was changed, only the Spring Boot version number in the pom file).

```
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseEntityManager' defined in class path resource [xxxxxx/config/DatabaseContext.class]: Circular depends-on relationship between 'baseEntityManager' and 'delayedFlywayInitializer'
 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307)
 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307)
 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
 	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
 	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)
 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)
 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)
 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)
``` 

The bean definitions (in separate `@Configuration` annotated classes) are as follows:

```java
    @Bean
    @Primary
    public LocalContainerEntityManagerFactoryBean baseEntityManager() {
        return EntityManagerFactoryBuilder.buildEntityManagerFactory(dataSource(), ""xxxxxx.config.MySQLCustomDialect"",
                ""nl.triopsys.aangetekendmailen.domain"", JSR310_PACKAGE);
    }
```

```java
    @Bean
    @DependsOn(""baseEntityManager"")
    FlywayMigrationInitializer delayedFlywayInitializer(Flyway flyway) {
        return new FlywayMigrationInitializer(flyway, null);
    }
```

Again, in Spring Boot 2.1.7 (and earlier, this code was originally written against Spring Boot 1.3 and has been working in production for several years) this works as expected, the `delayedFlywayInitializer` gets created after the `baseEntityManager` (in order to run Flyway migrations after Hibernate is done with its schema updates).

",https://github.com/spring-projects/spring-boot/issues/18362#issuecomment-536004303,"@jwenting I can reproduce the failure you have described with Spring Boot 2.1.8, but I cannot get it to work with 2.1.7. With 2.1.7 I see the failure that was fixed by #18105:

```
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'flywayInitializer' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:771) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1221) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:294) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]
	at com.example.demo.Gh18362Application.main(Gh18362Application.java:19) [main/:na]
```

Can you please provide, as a zip attached to this issue, a minimal sample that fails with 2.1.8 but works with 2.1.7?"
spring-projects/spring-boot,See https://github.com/spring-cloud/spring-cloud-gateway/issues/1111. We should make our predicate more robust by returning false for a malformed mime type in the `Content-Type` header rather than throwing an exception.,https://github.com/spring-projects/spring-boot/issues/18018#issuecomment-526824486,"This got me thinking if this should be done for Jetty, Undertow etc. as well, @wilkinsona ? I'm asking because out of interest I was working on a fix as well, but Jetty seems to hang indefinitely - for reasons that I can't explain yet. Can be reproduced by moving the new test from `NettyReactiveWebServerFactoryTests` to `AbstractReactiveWebServerFactoryTests`. Tomcat seems to work out of the box, Undertow seems to work despite having the same MimeType parsing as Netty in `UndertowCompressionConfigurer`. Might be worth a look?"
spring-projects/spring-boot,"`ReactiveManagementWebSecurityAutoConfiguration` does not configure `oauth2Login()` even when `spring-security-oauth2-client` is in classpath and properties have been configured. It only configures `httpBasic()` and `formLogin()` for all cases.

The configuration logic should follow the default configuration for `SecurityWebFilterChain` in [`WebFluxSecurityConfiguration.springSecurityFilterChain()`](https://github.com/spring-projects/spring-security/blob/bc38a4a3cca41b8fe6b812b8cb1ce4a4cc42bba9/config/src/main/java/org/springframework/security/config/annotation/web/reactive/WebFluxSecurityConfiguration.java#L98).

Related [spring-security#6314](https://github.com/spring-projects/spring-security/issues/6314)",https://github.com/spring-projects/spring-boot/issues/17949#issuecomment-524472751,@jgrandja Does this also apply to `ManagementWebSecurityConfigurerAdapter`? Should we try and surface something public in Spring Security itself that will allow us to share that configuration code?
spring-projects/spring-boot,"#17805 and #16627 switched to using the type variant for mongo and liquibase. 

Potential usages which could be switched are

`flyway`
`cacheManager`
`quartzDataSourceInitializer`
",https://github.com/spring-projects/spring-boot/issues/17888#issuecomment-522294787,@mbhave is there a reason this is backported to `2.1.x`? I can't help to feel a bit nervous to replace dependency by name to dependency by type in a maintenance release.
spring-projects/spring-boot,"we map  url:  '/s/com-huawei-dcp-deploy-deploy-service/v1/api/file/download/main/os/mys/larg%25e_1.0.0.zip' to downloading the special file named 'larg%e_1.0.0.zip' , 
but it throws 
```
java.lang.IllegalArgumentException: null
	at sun.net.www.ParseUtil.decode(Unknown Source)
	at java.net.JarURLConnection.parseSpecs(Unknown Source)
	at java.net.JarURLConnection.<init>(Unknown Source)
	at sun.net.www.protocol.jar.JarURLConnection.<init>(Unknown Source)
	at sun.net.www.protocol.jar.Handler.openConnection(Unknown Source)
	at java.net.URL.openConnection(Unknown Source)
	at io.undertow.server.handlers.resource.URLResource.openConnection(URLResource.java:86)
	at io.undertow.server.handlers.resource.URLResource.getContentLength(URLResource.java:273)
```

becuase '%25' is decode to '%', and URLResource use the path '/s/com-huawei-dcp-deploy-deploy-service/v1/api/file/download/main/os/mys/larg%e_1.0.0.zip',  the class ParseUtils throws the IllegaglArgumentException when decoding '%e_' 

bug is in the class org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory$MetaInfResourcesResourceManager 

```
private URLResource getMetaInfResource(URL resourceJar, String path) {
			try {
				URL resourceUrl = new URL(resourceJar + ""META-INF/resources"" + path);
				URLResource resource = new URLResource(resourceUrl, path);
				if (resource.getContentLength() < 0) {
					return null;
				}
				return resource;
			}
			catch (MalformedURLException ex) {
				return null;
			}
		}
```
 ",https://github.com/spring-projects/spring-boot/issues/17853#issuecomment-520857414,Thanks for the report. Can you please provide a minimal sample that reproduces the problem?
spring-projects/spring-boot,"Trying to mock a `@SessionScope`  in a test by autowiring it using `@SpyBean` and then mocking using `doReturn(..).when(sessionScopedBean).method(any())` calls the real method with **null** argument instead of silently registering mock.
Removing `@SessionScope` from the bean resolves this issue.

Spring boot 2.1.6.RELEASE",https://github.com/spring-projects/spring-boot/issues/17817#issuecomment-520225801,"I did some debugging. Seems like that `@SessionScope` is enhanced by Spring so every method in it [becomes `final`](https://github.com/spring-projects/spring-framework/blob/master/spring-core/src/main/java/org/springframework/cglib/proxy/Enhancer.java#L672), thus Mockito [can't enhance it again](https://github.com/raphw/byte-buddy/blob/master/byte-buddy-dep/src/main/java/net/bytebuddy/dynamic/scaffold/MethodRegistry.java#L496). I'm wondering, why does Spring make all methods final when enhancing the bean? Can we somehow only make the injected methods final, but keep all declared methods non-final?"
spring-projects/spring-boot,"Currently when calling a service that returns non-standard status codes like 490 with the reactive webclient, the tagging for the metrics actuator will cause an exception.
I'm using version 2.1.5.RELEASE of spring-boot-starter-actuator and spring-boot-starter-webflux. If I find the time, I'll create a pull request. For which branch should I do that?

In case I don't find the time, here's what I found so far:
The issue is that `HttpStatus` is used instead of a raw int. `org.springframework.boot.actuate.metrics.web.reactive.client.WebClientExchangeTags#status(ClientResponse)` itself only needs the raw value, but calls `response.statusCode()` which calls `HttpStatus.valueOf(getRawStatusCode())` which throws an `IllegalArgumentException`.
At this point the solution is easy, just use `response.rawStatusCode()`.

But after that it fails in `WebClientExchangeTags#outcome(ClientResponse)`, and here I'm not sure what an elegant solution would be. Either directly use the rawStatusCode and ditch the comfort of the `HttpStatus` enum, or add an option to create `HttpStatus.UNKNOWN` values with the rawStatusCode as constructor argument I guess. I prefer the latter solution, but it may have side effects, as the Enum is part of spring-web and thus used a lot (681 usages according to my IDE).",https://github.com/spring-projects/spring-boot/issues/17695#issuecomment-516319584,@druppelt can you clarify what the 490 is for this service? One option is to add more enum values if they are common enough.
spring-projects/spring-boot,"I'm sure this didn't use to happen, but I only just noticed while using 5.1.8.RELEASE.
With the default `@AutoConfigureMockMvc` settings, on a test failure it logs not only the requests from the failing tests, but also all previous passing tests.

Some brief testing shows this goes back to at least 5.1.0.RELEASE.",https://github.com/spring-projects/spring-boot/issues/17551#issuecomment-511889679,"@philwebb and @wilkinsona, this sounds like a Spring Boot issue to me.

Could it be that `DeferredLinesWriter` doesn't get reset between tests that use the same `ApplicationContext`?"
spring-projects/spring-boot,"When Lombok is used, fields marked @Deprecated will be generated twice in the spring-configuration-metadata.json file

```
@ConfigurationProperties(""my.application"")
@Setter
@Getter
public class ApplicationConfig {

    // application name
    private String name;

    // module version
    private String version;

    // architecture layer
    @Deprecated
    private String architecture = ""hello"";

}
```
```
<dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-configuration-processor</artifactId>
            <optional>true</optional>
        </dependency>
```

As shown in the picture, two descriptions are generated.

![image](https://user-images.githubusercontent.com/13413715/61369150-1753cb00-a8c2-11e9-9e88-8a92d5f7d185.png)









",https://github.com/spring-projects/spring-boot/issues/17550#issuecomment-512215857,"@brucelwl thanks for the report but I find code in text generally not helpful as often something that's not shown is necessary to reproduce the problem. I've copy/pasted your example in a small project and I can't reproduce the problem.

Can you please provide a small sample (github repo or project zip) and instructions to reproduce the problem?"
ReactiveX/RxJava,"> org.junit.runners.model.TestTimedOutException: test timed out after 2000 milliseconds

	at sun.misc.Unsafe.park(Native Method)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)
	at io.reactivex.observers.BaseTestConsumer.await(BaseTestConsumer.java:213)
	at io.reactivex.observers.BaseTestConsumer.awaitTerminalEvent(BaseTestConsumer.java:702)
	at io.reactivex.flowable.FlowableBackpressureTests.testOnBackpressureBuffer(FlowableBackpressureTests.java:658)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:745)

> java.lang.AssertionError: 8,414,032 -> 108,340,920

	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at io.reactivex.internal.operators.observable.ObservableRefCountTest.publishNoLeak(ObservableRefCountTest.java:726)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:108)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:146)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:128)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:745)",https://github.com/ReactiveX/RxJava/issues/6418#issuecomment-465883235,"How, when, what's the context, why were you running our unit tests on what machine? Why 2.2.0 when we are at 2.2.6?"
ReactiveX/RxJava,"When I use the following code with RxJava2 version 2.2.4:

               onBackpressureBuffer(Integer.MAX_VALUE,
                        ()->{Logger.error(""Buffer has overflowed. "" +
                                ""This means we are experiencing a data loss event!"");});

I get the following error:

va.lang.NegativeArraySizeException
	at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)
	at io.reactivex.Flowable.subscribe(Flowable.java:14643)
	at io.reactivex.Flowable.subscribe(Flowable.java:14583)
	at io.reactivex.internal.operators.flowable.FlowableZip$ZipCoordinator.subscribe(FlowableZip.java:126)
	at io.reactivex.internal.operators.flowable.FlowableZip.subscribeActual(FlowableZip.java:79)
	at io.reactivex.Flowable.subscribe(Flowable.java:14636)
	at io.reactivex.internal.operators.flowable.FlowableFilter.subscribeActual(FlowableFilter.java:37)
	at io.reactivex.Flowable.subscribe(Flowable.java:14636)
	at io.reactivex.internal.operators.flowable.FlowableFlatMap.subscribeActual(FlowableFlatMap.java:53)
	at io.reactivex.Flowable.subscribe(Flowable.java:14636)
Caused by: java.lang.NegativeArraySizeException: null
	at java.util.concurrent.atomic.AtomicReferenceArray.<init>(AtomicReferenceArray.java:94)
	at io.reactivex.internal.queue.SpscArrayQueue.<init>(SpscArrayQueue.java:51)
	at io.reactivex.internal.operators.flowable.FlowableOnBackpressureBuffer$BackpressureBufferSubscriber.<init>(FlowableOnBackpressureBuffer.java:80)
	at io.reactivex.internal.operators.flowable.FlowableOnBackpressureBuffer.subscribeActual(FlowableOnBackpressureBuffer.java:46)
	at io.reactivex.Flowable.subscribe(Flowable.java:14636)
	at io.reactivex.Flowable.subscribe(Flowable.java:14583)
	at io.reactivex.internal.operators.flowable.FlowableZip$ZipCoordinator.subscribe(FlowableZip.java:126)
	at io.reactivex.internal.operators.flowable.FlowableZip.subscribeActual(FlowableZip.java:79)
	at io.reactivex.Flowable.subscribe(Flowable.java:14636)
	at io.reactivex.internal.operators.flowable.FlowableFilter.subscribeActual(FlowableFilter.java:37)
[error] a.a.OneForOneStrategy - Actually not, but can't throw other exceptions due to RS
java.lang.NullPointerException: Actually not, but can't throw other exceptions due to RS
	at io.reactivex.Flowable.subscribe(Flowable.java:14645)",https://github.com/ReactiveX/RxJava/issues/6360#issuecomment-451585478,"The `onBackpressureBuffer` tries to create a power-of-2 array, which would be `Integer.MAX_VALUE + 1` that overflows to negative. You can't create arrays that (absolute) long in **Java** anyway and the use case shown makes no sense. Do you want to buffer everything or drop some items beyond some capacity?"
ReactiveX/RxJava,"In our case , 
We have a use case of fetching remote Ad from an API (Single)  and map it to observable .
We wait for 5 seconds , and then timeout the source

SingleEmitter on Error here tries to do post error to downstream using ""tryOnError"".
Even the observable is terminated due to timeout , we still get the ""UndeliverableException""

```
Fatal Exception: io.reactivex.exceptions.UndeliverableException: java.lang.Exception: Native Ad Failed to load. i: 3
       at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)
       at io.reactivex.internal.operators.observable.ObservableTimeoutTimed$TimeoutObserver.onError(ObservableTimeoutTimed.java:112)
       at io.reactivex.internal.observers.DeferredScalarDisposable.error(DeferredScalarDisposable.java:100)
       at io.reactivex.internal.operators.single.SingleToObservable$SingleToObservableObserver.onError(SingleToObservable.java:77)
       at io.reactivex.internal.operators.single.SingleCreate$Emitter.tryOnError(SingleCreate.java:94)
       at in.startv.hotstar.rocky.ads.nativeads.RxNativeAdsFetcher.onAdFailedToLoad(RxNativeAdsFetcher.java:92)
       at com.google.android.gms.internal.zzjg.onAdClosed(Unknown Source)
```

**Code** : 

```java
rxNativeAdsFetcher
                .fetch(AdUtils.getNativeAdUnitId(adConfig, placementId), placementId, null)
                .toObservable()
                .timeout(5, TimeUnit.SECONDS);
```



**Single Creation :** 

```java
public Single<Ad> fetch(String id, String pId, Map<String, String> params) {
        return Single.create(this);
    }

 @Override
    public void onAdFailedToLoad(int i) {
        Timber.d(""native_ad on error placement id = %s"", placementId);

        super.onAdFailedToLoad(i);
        emitter.tryOnError(e);
    }

@Override
    public void subscribe(SingleEmitter<NativeAd> emitter) throws Exception {
      this.emitter = emitter;
   }

```
   
Can any one please let me know why this is happening , although I call tryonError?
Is it a race condition by time the dispose state is propagated to the upstream , upstream tried to deliver the event to downstream and error happened ?",https://github.com/ReactiveX/RxJava/issues/6213#issuecomment-421261359,"What is the version you are using?

> Is it a race condition by time the dispose state is propagated to the upstream , upstream tried to deliver the event to downstream and error happened ?

Operators, such as `timeout` will route undeliverable errors even if you used `tryOnError` somewhere upstream. This may happen with races between emission and cancellation by timeout, but the window for it is pretty narrow. Does this happen if you timeout with 4 or 6 seconds?

In general, it is always recommended to install a global error handler to avoid crashes on Android: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling"
ReactiveX/RxJava,"I think it's unlikely these crashes are RxJava's doing, but I'm posting here to try to get to help to debug this situation.

  - rxjava 2.1.13

  Crash Reports 1
> at io.reactivex.internal.observers.ConsumerSingleObserver.dispose (ConsumerSingleObserver.java)
>   or                     .onError (ConsumerSingleObserver.java)
>   or                     .onSubscribe (ConsumerSingleObserver.java)
>   at io.reactivex.internal.operators.flowable.FlowableSingleSingle$SingleElementSubscriber.dispose (FlowableSingleSingle.java)
>   or                     .onError (FlowableSingleSingle.java)
>   or                     .onSubscribe (FlowableSingleSingle.java)
>   at io.reactivex.internal.operators.flowable.FlowableDoOnEach$DoOnEachSubscriber.onError (FlowableDoOnEach.java)
>   or                     .requestFusion (FlowableDoOnEach.java)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$BaseObserveOnSubscriber.checkTerminated (FlowableObserveOn.java)
>   or                     .onError (FlowableObserveOn.java)
>   or                     .request (FlowableObserveOn.java)
>   or                     .requestFusion (FlowableObserveOn.java)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$ObserveOnSubscriber.runAsync (FlowableObserveOn.java)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$BaseObserveOnSubscriber.run (FlowableObserveOn.java)
>   at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run (HandlerScheduler.java)
>   at android.os.Handler.handleCallback (Handler.java:751)
>   at android.os.Handler.dispatchMessage (Handler.java:95)
>   at android.os.Looper.loop (Looper.java:154)
>   at android.app.ActivityThread.main (ActivityThread.java:6123)
>   at java.lang.reflect.Method.invoke (Method.java)
>   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:867)
>   at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:757)

Crash reports 2

> o.reactivex.exceptions.CompositeException: 
>   at io.reactivex.internal.observers.ConsumerSingleObserver.a (ConsumerSingleObserver.java:26)
>   at io.reactivex.internal.operators.flowable.FlowableSingleSingle$SingleElementSubscriber.a (FlowableSingleSingle.java:17)
>   at io.reactivex.internal.operators.flowable.FlowableDoOnEach$DoOnEachSubscriber.a (FlowableDoOnEach.java:44)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$BaseObserveOnSubscriber.a (FlowableObserveOn.java:35)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$ObserveOnSubscriber.h (FlowableObserveOn.java:29)
>   at io.reactivex.internal.operators.flowable.FlowableObserveOn$BaseObserveOnSubscriber.run (FlowableObserveOn.java:17)
>   at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run (HandlerScheduler.java:2)
>   at android.os.Handler.handleCallback (Handler.java:789)
>   at android.os.Handler.dispatchMessage (Handler.java:98)
>   at android.os.Looper.loop (Looper.java:164)
>   at android.app.ActivityThread.main (ActivityThread.java:6944)
>   at java.lang.reflect.Method.invoke (Method.java)
>   at com.android.internal.os.Zygote$MethodAndArgsCaller.run (Zygote.java:327)
>   at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1374)

Any idea on what one can do to further debug these?",https://github.com/ReactiveX/RxJava/issues/6067#issuecomment-401957639,These partial stacktraces make no sense. The exception type and message is missing and the lines don't match with source code at all (like referring an import statement?).
ReactiveX/RxJava,"I am getting this exception in my app. There is just one timer in the whole app and I have applied BackPressureDrop just after interval() and am logging the error in my subscribers' onError() but this crash keeps on repeating. Please help!!

```
Fatal Exception: java.lang.IllegalStateException: Exception thrown on Scheduler.Worker thread. Add `onError` handling.
       at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:60)
       at android.os.Handler.handleCallback(Handler.java:808)
       at android.os.Handler.dispatchMessage(Handler.java:103)
       at android.os.Looper.loop(Looper.java:193)
       at android.app.ActivityThread.main(ActivityThread.java:5300)
       at java.lang.reflect.Method.invokeNative(Method.java)
       at java.lang.reflect.Method.invoke(Method.java:515)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:830)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:646)
       at dalvik.system.NativeStart.main(NativeStart.java)
Caused by rx.exceptions.OnErrorNotImplementedException
       at rx.internal.util.InternalObservableUtils$ErrorNotImplementedAction.call(InternalObservableUtils.java:386)
       at rx.internal.util.InternalObservableUtils$ErrorNotImplementedAction.call(InternalObservableUtils.java:383)
       at rx.internal.util.ActionSubscriber.onError(ActionSubscriber.java:44)
       at rx.observers.SafeSubscriber._onError(SafeSubscriber.java:157)
       at rx.observers.SafeSubscriber.onError(SafeSubscriber.java:120)
       at rx.internal.operators.OperatorObserveOn$ObserveOnSubscriber.checkTerminated(OperatorObserveOn.java:276)
       at rx.internal.operators.OperatorObserveOn$ObserveOnSubscriber.call(OperatorObserveOn.java:219)
       at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
       at android.os.Handler.handleCallback(Handler.java:808)
       at android.os.Handler.dispatchMessage(Handler.java:103)
       at android.os.Looper.loop(Looper.java:193)
       at android.app.ActivityThread.main(ActivityThread.java:5300)
       at java.lang.reflect.Method.invokeNative(Method.java)
       at java.lang.reflect.Method.invoke(Method.java:515)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:830)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:646)
       at dalvik.system.NativeStart.main(NativeStart.java)
Caused by rx.exceptions.MissingBackpressureException
       at rx.internal.operators.OperatorObserveOn$ObserveOnSubscriber.onNext(OperatorObserveOn.java:162)
       at rx.internal.operators.OperatorSubscribeOn$1$1.onNext(OperatorSubscribeOn.java:53)
       at rx.internal.operators.OnSubscribeTimerPeriodically$1.call(OnSubscribeTimerPeriodically.java:52)
       at rx.Scheduler$Worker$1.call(Scheduler.java:134)
       at rx.internal.schedulers.EventLoopsScheduler$EventLoopWorker$2.call(EventLoopsScheduler.java:187)
       at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:422)
       at java.util.concurrent.FutureTask.run(FutureTask.java:237)
       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)
       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)
```
",https://github.com/ReactiveX/RxJava/issues/4655#issuecomment-250907461,"This indicates you didn't apply the `onBackpressureDrop` at the right place:

```
       at rx.internal.operators.OperatorObserveOn$ObserveOnSubscriber.onNext(OperatorObserveOn.java:162)
       at rx.internal.operators.OperatorSubscribeOn$1$1.onNext(OperatorSubscribeOn.java:53)
       at rx.internal.operators.OnSubscribeTimerPeriodically$1.call(OnSubscribeTimerPeriodically.java:52)
```

Could you post the code you are using?
"
ReactiveX/RxJava,"I'm using Jersey2 to handle my REST calls so, that gives me the option to handle them async.
Those requests calls are translated in commands placed on a command bus and eventually, a result needs to come back and returned through Jersey. The command bus is constructed with a PublishSubject and so is the result bus where I'm posting the results.

Regularly, I'm seeing timeouts happening in my logs and I narrowed the problem down in the following simple test case. 

``` java
public class TestPublishSubjectBehaviour {

    public static void main(String[] args) {
        Service service = new Service();

        Task task = new Task(1);

        int result = service.publishAndWaitForReply(task)
                .timeout(5, TimeUnit.SECONDS)
                .doOnNext(id -> log(""received "" + id))
                .doOnError(id -> error(""timed out "" + task.id))
                .onErrorReturn(e -> 0)
                .doOnSubscribe(() -> log(""subscribed results "" + task.id))
                .doOnUnsubscribe(() -> log(""unsubscribed results "" + task.id))
                .toBlocking().first();

        assert result == task.id;
    }

    private static final class Service {

        private final Subject<Integer, Integer> taskResults;

        Service() {
            this.taskResults = PublishSubject.create();
        }

        private static int process(Task task) {
            log(""process task "" + task.id);
            return task.id;
        }

        Observable<Integer> publishAndWaitForReply(Task task) {
            return this.taskResults
                    .filter(x -> x == task.id)
                    .take(1)
                    .doOnSubscribe(() -> this.taskResults.onNext(
                            process(task)
                    ));
        }
    }

    private static class Task {

        final int id;

        Task(int id) {
            this.id = id;
        }

        @Override
        public boolean equals(Object o) {
            return this == o || !(o == null || getClass() != o.getClass()) && id == ((Task) o).id;

        }

        @Override
        public int hashCode() {
            return id;
        }
    }

    private static void log(String message) {
        System.out.println(LocalDateTime.now() + "" - "" + Thread.currentThread().getName() + "" - "" + message);
    }

    private static void error(String message) {
        System.err.println(LocalDateTime.now() + "" - "" + Thread.currentThread().getName() + "" - "" + message);
    }
}
```

As you can see, I tried to only publish to the result subject when a subscribe happened, but it looks like the hook happens just before the subscribe instead of after. I think this is a conflict with the documentation. From http://reactivex.io/RxJava/javadoc/rx/Observable.html#doOnSubscribe(rx.functions.Action0) <pre>Modifies the source Observable so that it invokes the given action when it is <strong>subscribed</strong> from its subscribers.</pre>

The expected output of this should be 

```
2016-09-13T15:03:26.767 - main - publish and wait 1
2016-09-13T15:03:27.032 - main - subscribed results 1
2016-09-13T15:03:27.087 - main - process task 1
2016-09-13T15:03:27.088 - main - published result 1
2016-09-13T15:03:27.091 - main - received 1
2016-09-13T15:03:27.093 - main - unsubscribed results 1
```

However, I get

```
2016-09-13T15:37:42.667 - main - subscribed results 1
2016-09-13T15:37:42.691 - main - process task 1
2016-09-13T15:37:47.696 - RxComputationScheduler-1 - timed out 1
```

First question, am I doing it wrong? Is PublishSubject not suited for this? It works if multiple tasks are published though until it gets unsubscribed. 
Alternatively, what are my options? Looking at the other subjects, I think they don't do what I want. I don't want them to hold state for a while. It should just receive and pass on. 

I noticed there's an internal class created to solve a same problem with GroupedObservables, being `BufferUntilSubscriber`

Any help would be much appreciated.
",https://github.com/ReactiveX/RxJava/issues/4543#issuecomment-246688501,"`doOnSubscribe` happens when the subscription process passes that point in the chain which is before it reaches source `PublishSubject`. At that time, `PublishSubject` has no subscribers so the item is lost.

Why are you using such a convoluted approach? You could just easily use `fromCallable` to compute a result on demand for incoming subscribers?

``` java
Observable<Integer> publishAndWaitForReply(Task task) {
   return Observable.fromCallable(() -> process(task));
}
```
"
ReactiveX/RxJava,"Hi, 
I have two subsribers for one ReplaySubject. 
Subscriber1 filters emited objects for type 1   -- replaySubject.filter(1).subscribe()
Subscriber2 filters emited objects for type 2  -- replaySubject.filter(2).subscribe()

I emit from my ReplaySubject objects of types 1,1,1,1,2 (one on click)
Subscriber1 gets 1,1,1,1
then on the next click
Subscriber2 gets 2 and (!INTERSTING!) Subscriber1 gets 1,1,1,1 again.

Looks like there are some logic of ReplaySubject based on if onNext was called (on not called in case of filtering) and force ReplaySubject to reemit the objects 
I can provide simplified code if needed
",https://github.com/ReactiveX/RxJava/issues/4362#issuecomment-241334069,"I think I caught a similar bug prior to #4051. @Cher80 what version of RxJava do you use?
"
ReactiveX/RxJava,"In init method `ObserveOnSubscriber::requested` is updated but `Subscriber::requested` is not. 

I think it should be something like this:

```
localChild.setProducer(new Producer() {

      @Override
      public void request(long n) {
           if (n > 0L) {
                 BackpressureUtils.getAndAddRequest(requested, n);
                 ObserveOnSubscriber.this.request(requested.get());
                 schedule();
            }
       }

});
```

Otherwise, subscribers that wrap `ObserveOnSubscriber` (that wraps subscriber with `requested` value NOT_SET) gets bufferSize as `requested` value.
",https://github.com/ReactiveX/RxJava/issues/3889#issuecomment-215390944,"Why do you think that?
"
square/okhttp,"Based on this [issue](https://github.com/gildor/kotlin-coroutines-retrofit/issues/34). If we're throwing exceptions inside interceptor, they should inherit IOException to be properly handled without crashing the app. But there's some situations in which you don't want to inherit IOException.
One of this cases: we are handling errors of API. Not HTTP errors. API returns some templated entities with status-code which can be checked to detect some errors like invalid parameters that was passed. 
And one of error handling solutions is to create interceptor that checks all of requests' responses and throwing domain exceptions if status code indicates error.
I suggest to add some parameter to OkHttpClient.Builder that will allow us to disable canceling requests if some Non-IOException was thrown inside interceptor.",https://github.com/square/okhttp/issues/5731#issuecomment-575967195,What would it do instead? Somebody needs to close the response and release resources.
square/okhttp,"We use okhttp3.12.1 version in our android code.
And the server use http2.0 protocols.

we build about 3 or 4 okhttpclient instance and make a common connectPool and use OkhttpClient.Builder.connectionPool api to set it.

but when debug, I found the connectPool has 3 connect and they have the same host, I want to know why not reuse in one connect....

I also found one issue but it's not my situation because  ProxySelector.getDefault return not null  in my code.
https://github.com/square/okhttp/pull/5524",https://github.com/square/okhttp/issues/5730#issuecomment-575009688,"Hmmm, that's odd. Could you try isolating this into a test case? Also please upgrade to the latest 3.12.x release; there have been many updates there."
square/okhttp,"when i use  websocket  


```java
   Request request = new Request.Builder()
                .url(""ws://192.168.3.107:8072/driver"")
                .build();
            okHttpBuilder = new OkHttpClient.Builder()
     
                    .readTimeout(500, TimeUnit.MILLISECONDS) 
okHttpClient.newWebSocket(request, webSocketListener);

```
i use this code it cause java.net.SocketTimeoutException: timeout
but when i  change code 
```
 .readTimeout(500, TimeUnit.SECONDS) 
```
the websocket connect success 

i think is some thing  is wrong. 
it  shouldn't spend so long time
for a while 
if found what happen  in okhttp code  
```
Http1ExchangeCodec.class 
  override fun readResponseHeaders(expectContinue: Boolean): Response.Builder? {
    check(state == STATE_OPEN_REQUEST_BODY || state == STATE_READ_RESPONSE_HEADERS) {
      ""state: $state""
    }

    try {
      val statusLine = StatusLine.parse(**readHeaderLine()**)
}.....
```

```
  private fun readHeaderLine(): String {
    **val line = source.readUtf8LineStrict(headerLimit)**
    headerLimit -= line.length.toLong()
    return line
  }
```
i debug it 
val line = source.readUtf8LineStrict(headerLimit) is too slow 
but var line =""HTTP/1.1 101 ""  
line it not big just ""HTTP/1.1 101 ""  can you fix it?  
i also can help you. if you want some code

 



",https://github.com/square/okhttp/issues/5719#issuecomment-573408232,"This seems to be working as intended. 500ms is far too low of a timeout unless the server is on the same machine or colocated very close by on the same network. For a server that's accessed over the internet you'll want something on the order of seconds. And for mobile, you should double or triple that value. The default is 10 seconds which should be suitable, is there a reason that won't do?"
square/okhttp,"Hello, 

Since we have updated our Android app DAVx‚Åµ from okhttp 3.12.5 to 3.12.7, we start receiving these exceptions: 

```
java.util.concurrent.RejectedExecutionException: 
  at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution (ThreadPoolExecutor.java:2104)
  at java.util.concurrent.ThreadPoolExecutor.reject (ThreadPoolExecutor.java:848)
  at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute (ScheduledThreadPoolExecutor.java:334)
  at java.util.concurrent.ScheduledThreadPoolExecutor.schedule (ScheduledThreadPoolExecutor.java:562)
  at java.util.concurrent.ScheduledThreadPoolExecutor.execute (ScheduledThreadPoolExecutor.java:654)
  at okhttp3.internal.http2.Http2Connection.sendDegradedPingLater (Http2Connection.java:598)
  at okhttp3.internal.http2.Http2Stream$StreamTimeout.timedOut (Http2Stream.java:668)
  at okio.AsyncTimeout$Watchdog.run (AsyncTimeout.kt:198)
```

It's not that often, but this exception was not there before. I think it occurs when
* a thread with okhttp I/O is `interrupt()`ed (because the user cancels the action), and
* okhttp tries to send a delayed HTTP/2 ping on such an interrupted channel later.

Unfortunately, I can't provide reliable steps to reproduce yet. Is this however a problem you can imagine to happen or do you need more information?",https://github.com/square/okhttp/issues/5713#issuecomment-573172336,@swankjesse Thanks. When can we expect a release for 3.12.x branch?
square/okhttp,"## Problem
When trying to reauthenticate a failing request with 401 response, using `okhttp3.Authenticator` I need to inspect request headers, but `response.request.headers` is empty. Replicated in a test and it seems an OkHttp bug.

Let me know if more info are needed.

## Failing Test
`build.gradle`:

```
implementation ""com.squareup.okhttp3:okhttp:4.3.1""
testImplementation ""com.squareup.okhttp3:mockwebserver:4.3.1""
```

`AuthenticatorRequestHeadersTest.kt`
```kotlin
package com.app.authenticatorerror

import okhttp3.Authenticator
import okhttp3.Headers
import okhttp3.Interceptor
import okhttp3.OkHttpClient
import okhttp3.Request
import okhttp3.Response
import okhttp3.Route
import okhttp3.mockwebserver.MockResponse
import okhttp3.mockwebserver.MockWebServer
import org.junit.After
import org.junit.Assert.assertEquals
import org.junit.Before
import org.junit.Test

class AuthenticatorRequestHeadersTest {

    class MyAuthenticator : Authenticator {
        var lastHeaders: Headers? = null

        override fun authenticate(route: Route?, response: Response): Request? {
            lastHeaders = response.request.headers
            return null
        }
    }

    private lateinit var mockWebServer: MockWebServer
    private lateinit var okHttpClient: OkHttpClient
    private lateinit var authenticator: MyAuthenticator

    @Before
    fun setUp() {
        mockWebServer = MockWebServer().apply { start() }
        authenticator = MyAuthenticator()
        okHttpClient = OkHttpClient.Builder()
            .authenticator(authenticator)
            .addNetworkInterceptor(object : Interceptor {
                override fun intercept(chain: Interceptor.Chain): Response {
                    return chain.proceed(
                        chain.request()
                            .newBuilder()
                            .header(""MyHeader"", ""MyValue"")
                            .build()
                    )
                }
            })
            .build()
    }

    @After
    fun tearDown() {
        mockWebServer.close()
    }

    @Test
    fun `authenticator should see response's request headers`() {
        mockWebServer.enqueue(MockResponse().setResponseCode(401))

        val request = Request.Builder()
            .method(""GET"", null)
            .url(mockWebServer.url(""/""))
            .build()

        val unauthorizedResponse = okHttpClient.newCall(request).execute()
        val unauthorizedRequest = mockWebServer.takeRequest()

        assertEquals(401, unauthorizedResponse.code)
        assertEquals(""MyValue"", unauthorizedRequest.getHeader(""MyHeader""))

        // failing
        assertEquals(setOf(""MyHeader""), authenticator.lastHeaders?.names())
    }
}
```",https://github.com/square/okhttp/issues/5711#issuecomment-572190633,Try `response.networkResponse.request.headers` ?
square/okhttp,"I pushed a new version of my app to production and started to get bunch of complains from users.
Turns out with okhttp 4.3.0 there is SSLHandshakeException happening only on Android 5 for some reason. I'm getting this exception for all my requests including requests from 3th party SDKs. It's reproducible on API 21 Emulator.

```
javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.
        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:306)
        at com.android.okhttp.Connection.upgradeToTls(Connection.java:197)
        at com.android.okhttp.Connection.connect(Connection.java:151)
        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:276)
        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:211)
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:373)
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:323)
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:491)
        at com.android.okhttp.internal.http.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:105)
        at com.android.okhttp.internal.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:25)
...
     Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.
        at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:318)
        at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:219)
        at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:113)
        at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:525)
        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:302)
        at com.android.okhttp.Connection.upgradeToTls(Connection.java:197)¬†
        at com.android.okhttp.Connection.connect(Connection.java:151)¬†
        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:276)¬†
        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:211)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:373)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:323)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:491)¬†
        at com.android.okhttp.internal.http.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:105)¬†
        at com.android.okhttp.internal.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:25)¬†
...
     Caused by: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.
        at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:318)¬†
        at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:219)¬†
        at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:113)¬†
        at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:525)¬†
        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)¬†
        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:302)¬†
        at com.android.okhttp.Connection.upgradeToTls(Connection.java:197)¬†
        at com.android.okhttp.Connection.connect(Connection.java:151)¬†
        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:276)¬†
        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:211)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:373)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:323)¬†
        at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:491)¬†
        at com.android.okhttp.internal.http.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:105)¬†
        at com.android.okhttp.internal.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:25)¬†
...
```",https://github.com/square/okhttp/issues/5700#issuecomment-570910911,Is there a URL to test against?  What version did you upgrade from 4.2?
square/okhttp,"Hi!

In my app, users can set custom server URL. I tested different corner cases. For example: ""http://google.com`"" -- \` at the end is an intentional mistake.
When I use `call.enqueue`, `java.lang.RuntimeException: java.net.URISyntaxException` is thrown from WorkerThread. And there is no way to catch it normally. I think a perfect place is the `onFailure` method.

Crash log:
```
Exception in thread ""OkHttp Dispatcher"" java.lang.RuntimeException: java.net.URISyntaxException: Illegal character in authority at index 8: https://google.com`/
	at okhttp3.HttpUrl.uri(HttpUrl.kt:419)
	at okhttp3.internal.connection.RouteSelector.resetNextProxy(RouteSelector.kt:103)
	at okhttp3.internal.connection.RouteSelector.<init>(RouteSelector.kt:53)
	at okhttp3.internal.connection.ExchangeFinder.<init>(ExchangeFinder.kt:59)
	at okhttp3.internal.connection.Transmitter.prepareToConnect(Transmitter.kt:133)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:62)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
	at okhttp3.RealCall$AsyncCall.run(RealCall.kt:136)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.URISyntaxException: Illegal character in authority at index 8: https://google.com`/
	at java.net.URI$Parser.fail(URI.java:2848)
	at java.net.URI$Parser.parseAuthority(URI.java:3186)
	at java.net.URI$Parser.parseHierarchical(URI.java:3097)
	at java.net.URI$Parser.parse(URI.java:3053)
	at java.net.URI.<init>(URI.java:588)
	at okhttp3.HttpUrl.uri(HttpUrl.kt:412)
	... 12 more
```

Reproducible test:
https://gist.github.com/IvanShafran/fbf1862af945f70bddf998038cf15b25

Thank you :)",https://github.com/square/okhttp/issues/5667#issuecomment-569396827,"Keeping this open, because it's a valid bug.  Thanks for raising and the great repro.

But as a workaround, why not just prevalidate the custom server URL yourself for now (calling toUri() on it)?
"
square/okhttp,"Hello
I use EventListener to record network detail.But I find that if the request is a 302 request ,the EventListener has a bug like this:

1. the first 302 step ,EventListener will record the detail from callStart method to callEnd method;
2. but the second 200 step,EventListener only record the detail to responseBodyStart,not record call end.

So I don't know when the time a 302 request is end. I fell that is a bug. I hope get a solution to resolve this case.
Thank you !
the log as follows:
```
2019-12-26 14:22:25.702 11816-11816/com.qunar.qapm.moudle I/qapm: HttpEventListener callStart start time = 1577341345702
2019-12-26 14:22:25.712 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener dns start time = 1577341345712
2019-12-26 14:22:25.738 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener dns end time = 1577341345738
2019-12-26 14:22:25.739 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect start time = 1577341345739
2019-12-26 14:22:25.747 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener secureConnect start time = 1577341345747
2019-12-26 14:22:25.785 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener secureConnect end time = 1577341345785
2019-12-26 14:22:25.787 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect end time = 1577341345787
2019-12-26 14:22:25.787 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect Acquired  time = 1577341345787
2019-12-26 14:22:25.788 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener request header start  time = 1577341345788
2019-12-26 14:22:25.789 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener request header end  time = 1577341345789
2019-12-26 14:22:25.789 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response header start  time = 1577341345789
2019-12-26 14:22:25.799 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response header end  time = 1577341345799,code = 302,isRedirect = true
2019-12-26 14:22:25.799 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response body start  time = 1577341345799
2019-12-26 14:22:25.800 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response body end  time = 1577341345800
2019-12-26 14:22:25.800 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect release  time = 1577341345800
2019-12-26 14:22:25.800 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener call  end  time = 1577341345800
2019-12-26 14:22:25.801 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect Acquired  time = 1577341345801
2019-12-26 14:22:25.801 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener request header start  time = 1577341345801
2019-12-26 14:22:25.802 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect release  time = 1577341345802
2019-12-26 14:22:25.802 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener dns start time = 1577341345802
2019-12-26 14:22:25.809 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener dns end time = 1577341345809
2019-12-26 14:22:25.810 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect start time = 1577341345810
2019-12-26 14:22:25.813 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener secureConnect start time = 1577341345813
2019-12-26 14:22:25.836 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener secureConnect end time = 1577341345836
2019-12-26 14:22:25.838 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect end time = 1577341345838
2019-12-26 14:22:25.838 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener connect Acquired  time = 1577341345838
2019-12-26 14:22:25.838 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener request header start  time = 1577341345838
2019-12-26 14:22:25.840 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener request header end  time = 1577341345840
2019-12-26 14:22:25.841 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response header start  time = 1577341345841
2019-12-26 14:22:25.935 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response header end  time = 1577341345935,code = 200,isRedirect = false
2019-12-26 14:22:25.935 11816-12738/com.qunar.qapm.moudle I/qapm: HttpEventListener response body start  time = 1577341345935
```
",https://github.com/square/okhttp/issues/5666#issuecomment-569000154,"Can you provide a reproducible test case with bug reports in future? Or ask on stackoverflow.

Works for me

```
package okhttp3.logging

import okhttp3.OkHttpClient
import okhttp3.Request

fun main() {
  val client = OkHttpClient.Builder()
      .eventListenerFactory(LoggingEventListener.Factory())
      .build()

  val call = client.newCall(
      Request.Builder().url(
          ""https://httpbin.org/redirect-to?url=https%3A%2F%2Fapi.twitter.com%2Frobots.txt&status_code=302""
      ).build()
  )

  call.execute()
      .use {
        println(""Completed"")
      }
}
```

```
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [0 ms] callStart: Request{method=GET, url=https://httpbin.org/redirect-to?url=https%3A%2F%2Fapi.twitter.com%2Frobots.txt&status_code=302}
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [50 ms] proxySelectStart: https://httpbin.org/
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [51 ms] proxySelectEnd: [DIRECT]
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [55 ms] dnsStart: httpbin.org
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [113 ms] dnsEnd: [httpbin.org/54.172.95.6, httpbin.org/34.193.212.251]
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [118 ms] connectStart: httpbin.org/54.172.95.6:443 DIRECT
Dec 26, 2019 7:34:15 AM okhttp3.internal.platform.Platform log
INFO: [244 ms] secureConnectStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [770 ms] secureConnectEnd: Handshake{tlsVersion=TLS_1_2 cipherSuite=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 peerCertificates=[CN=httpbin.org, CN=Amazon, OU=Server CA 1B, O=Amazon, C=US, CN=Amazon Root CA 1, O=Amazon, C=US, CN=Starfield Services Root Certificate Authority - G2, O=""Starfield Technologies, Inc."", L=Scottsdale, ST=Arizona, C=US] localCertificates=[]}
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [770 ms] connectEnd: http/1.1
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [772 ms] connectionAcquired: Connection{httpbin.org:443, proxy=DIRECT hostAddress=httpbin.org/54.172.95.6:443 cipherSuite=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 protocol=http/1.1}
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [775 ms] requestHeadersStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [776 ms] requestHeadersEnd
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [777 ms] responseHeadersStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [888 ms] responseHeadersEnd: Response{protocol=http/1.1, code=302, message=FOUND, url=https://httpbin.org/redirect-to?url=https%3A%2F%2Fapi.twitter.com%2Frobots.txt&status_code=302}
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [889 ms] responseBodyStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [891 ms] responseBodyEnd: byteCount=0
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [892 ms] connectionReleased
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [893 ms] proxySelectStart: https://api.twitter.com/
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [893 ms] proxySelectEnd: [DIRECT]
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [893 ms] dnsStart: api.twitter.com
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [947 ms] dnsEnd: [api.twitter.com/104.244.42.66, api.twitter.com/104.244.42.194, api.twitter.com/104.244.42.130, api.twitter.com/104.244.42.2]
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [948 ms] connectStart: api.twitter.com/104.244.42.66:443 DIRECT
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [975 ms] secureConnectStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1087 ms] secureConnectEnd: Handshake{tlsVersion=TLS_1_2 cipherSuite=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 peerCertificates=[CN=api.twitter.com, OU=lon3, O=""Twitter, Inc."", L=San Francisco, ST=California, C=US, CN=DigiCert SHA2 High Assurance Server CA, OU=www.digicert.com, O=DigiCert Inc, C=US, CN=DigiCert High Assurance EV Root CA, OU=www.digicert.com, O=DigiCert Inc, C=US] localCertificates=[]}
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1106 ms] connectEnd: h2
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1107 ms] connectionAcquired: Connection{api.twitter.com:443, proxy=DIRECT hostAddress=api.twitter.com/104.244.42.66:443 cipherSuite=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 protocol=h2}
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1109 ms] requestHeadersStart
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1116 ms] requestHeadersEnd
Dec 26, 2019 7:34:16 AM okhttp3.internal.platform.Platform log
INFO: [1116 ms] responseHeadersStart
Dec 26, 2019 7:34:17 AM okhttp3.internal.platform.Platform log
INFO: [1278 ms] responseHeadersEnd: Response{protocol=h2, code=200, message=, url=https://api.twitter.com/robots.txt}
Dec 26, 2019 7:34:17 AM okhttp3.internal.platform.Platform log
INFO: [1279 ms] responseBodyStart
Dec 26, 2019 7:34:17 AM okhttp3.internal.platform.Platform log
INFO: [1285 ms] responseBodyEnd: byteCount=0
Dec 26, 2019 7:34:17 AM okhttp3.internal.platform.Platform log
INFO: [1285 ms] connectionReleased
Dec 26, 2019 7:34:17 AM okhttp3.internal.platform.Platform log
INFO: [1285 ms] callEnd
Completed
```"
square/okhttp,"okhttp doesn't transparently ungzip reponse, and I didn't manually add ""Accept-Encoding"" with value ""gzip"", as suggested here: https://github.com/square/okhttp/issues/2132#issuecomment-169500736

My response/request looks like this

REQUEST:
Request URL:XXXXX
Request Method:GET
Status Code:200 OK
Provisional headers are shown
Accept-Encoding:gzip
Authorization:Token token=XXXXX
Connection:Keep-Alive
Host:XXXXX
User-Agent:okhttp/4.2.2

RESPONSE:
Cache-Control:max-age=0, private, must-revalidate
Connection:keep-alive
Content-Encoding:gzip
Content-Type:text/plain; charset=utf-8
Date:Sat, 21 Dec 2019 14:02:51 GMT
ETag:W/""eb678bc2878357cc263335b7b5204006""
Server:nginx
Transfer-Encoding:chunked
X-Content-Type-Options:nosniff
X-Frame-Options:SAMEORIGIN
X-Powered-By:cloud66
X-Request-Id:f340d09a-4fab-4905-b6c7-eeffc93fe30c
X-Runtime:7.171759
X-XSS-Protection:1; mode=block

Note that Accept-Encoding:gzip was added automatically, not by me. The only header I have specified is Authorization.

I have implemented manual ungzipping in the interceptor, and it works, but I'm wondering, why doesn't okhttp does ungzipping it on it's own?",https://github.com/square/okhttp/issues/5658#issuecomment-568192957,"Put a breakpoint on line 91 here? Also if you can provide an executable test case to reproduce the problem that would be rad.

https://github.com/square/okhttp/blob/master/okhttp/src/main/java/okhttp3/internal/http/BridgeInterceptor.kt#L91"
square/okhttp,"com.squareup.okhttp3:okhttp:3.11.0

deviceÔºöoppo„ÄÅvivo 97% huawei:ALE-UL00 3.0%
Android system version:
oppo+vivo 6.0.1; huawei:6.0.0



java.lang.ArrayIndexOutOfBoundsException: size=1021 offset=0 byteCount=-791501174879550467
	at okio.Util.checkOffsetAndCount(Util.java:30)
	at okio.Buffer.write(Buffer.java:1275)
	at okio.RealBufferedSink.write(RealBufferedSink.java:41)
	at okhttp3.internal.http2.Http2Writer.headers(Http2Writer.java:307)
	at okhttp3.internal.http2.Http2Writer.synStream(Http2Writer.java:127)
	at okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:258)
	at okhttp3.internal.http2.Http2Connection.newStream(Http2Connection.java:230)
	at okhttp3.internal.http2.Http2Codec.writeRequestHeaders(Http2Codec.java:113)
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:50)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at com.facebook.react.modules.network.NetworkingModule$1.intercept(NetworkingModule.java:291)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:147)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
	at java.lang.Thread.run(Thread.java:818)",https://github.com/square/okhttp/issues/5651#issuecomment-566735099,"Looks like concurrent access to a buffer? Or perhaps a bug in the platform?

Can you reproduce this?"
square/okhttp,"Trying to iterate over a `Headers` instance does not work when using plain Java 11 and JPMS.

The reason is that `Headers implements Iterator<kotlin.Pair>` and `kotlin.Pair` is not available to JPMS.

This works fine in Java 8 (as the Kotlin stdlib ends up in the classpath), but does not work when using Java 11 and proper JPMS modules, because the application class that iterates over the `Headers` would need to JPMS-_read_ `kotlin.Pair`, which would require a directive in the application `module-info.java`.
Unfortunately the Kotlin stdlib does not support JPMS (no `Automatic-Module-Name` in the manifest, no `module-info.class` in the jar), so that leaves the application relying on automatic modules with unstable module names.

This can be worked around iterating using `Headers.names()` and `Headers.values(name)`.

FTR, I encountered this problem in [CometD 6](https://github.com/cometd/cometd/tree/6.0.x) which is based on Java 11 and JPMS.",https://github.com/square/okhttp/issues/5617#issuecomment-559228519,Is there a Kotlin bug filed for this? What action are you proposing OkHttp take here?
square/okhttp,"Currently if the HTTP response code falls outside of 3 digits, the request fails with ""Unexpected status line:"".

There is currently **NO WAY**(standard or hacky) to bypass that, since header parsing happens deep inside OkHttp internals and you can't access it...

",https://github.com/square/okhttp/issues/5615#issuecomment-558356882,For what purpose?
square/okhttp,"The problem we're trying to solve: **disable TLS 1.0 and 1.1 on our web servers**.

Due to the decision of OkHttp to support TLS 1.2 only on Android 5+, this will not be possible for several years to come. Like virtually any successful app, our app still supports Android 4.4. Even if some devs decide to go minSdk 5.x, they will usually maintain a separate version that runs on Android 4.x.

According to the [SSL Labs test](https://www.ssllabs.com/ssltest/), Android 4.4 _can_ do TLS 1.2 and there are [instructions](https://stackoverflow.com/questions/28943660/how-to-enable-tls-1-2-support-in-an-android-application-running-on-android-4-1) for how to activate it even back on JellyBean! 

So my suggestion is to make it possible to use TLS 1.2 for Android 4.4 on the OkHttp 3.12.x branch. At least one common, reasonably secure cipher would be enough:

```
TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (0xc013)
TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (0xc014)
TLS_DHE_RSA_WITH_AES_128_CBC_SHA (0x33)
TLS_DHE_RSA_WITH_AES_256_CBC_SHA (0x39)
```

(all of these ciphers [are available and enabled by default](https://developer.android.com/reference/javax/net/ssl/SSLSocket.html#cipher-suites) since Android 3.x.)",https://github.com/square/okhttp/issues/5612#issuecomment-557069297,Have you followed those instructions successfully? I‚Äôm under the impression that TLSv1.2 support may require UI to prompt your user to update Play Services.
square/okhttp,"The okhttp client  version is 3.11.0.
Exception is:
`
Caused by: java.net.ProtocolException: Unexpected status line: 800
       at okhttp3.internal.http.StatusLine.parse(StatusLine.java:69) 
       at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)
       at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88) 
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) 
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) 
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) 
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) 
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200) 
       at okhttp3.RealCall.execute(RealCall.java:77) 
`",https://github.com/square/okhttp/issues/5595#issuecomment-552867889,Most likely a disagreement in the content length of the previous response. Can you share the headers and status of the preceding response?
square/okhttp,"Hi,

We are still not sure about the root cause but our acceptance tests execution phase is failing sometimes due to `MockWebserver` (**4.2.1**) crashing when the following error happens in `acceptConnections()`:

```
11-05 11:53:36.557  5607 23163 E AndroidRuntime: FATAL EXCEPTION: MockWebServer
11-05 11:53:36.557  5607 23163 E AndroidRuntime: Process: com.xxx.xxx.xxx, PID: 5607
11-05 11:53:36.557  5607 23163 E AndroidRuntime: java.lang.AssertionError: java.lang.reflect.InvocationTargetException
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at okhttp3.internal.platform.android.AndroidSocketAdapter.a(SourceFile:86)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at okhttp3.internal.platform.AndroidPlatform.b(SourceFile:86)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at okhttp3.mockwebserver.MockWebServer$SocketHandler.handle(MockWebServer.kt:516)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at okhttp3.mockwebserver.MockWebServer$serveConnection$$inlined$execute$1.run(Util.kt:580)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at java.lang.Thread.run(Thread.java:764)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: Caused by: java.lang.reflect.InvocationTargetException
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at java.lang.reflect.Method.invoke(Native Method)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at okhttp3.internal.platform.android.AndroidSocketAdapter.a(SourceFile:81)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	... 6 more
11-05 11:53:36.557  5607 23163 E AndroidRuntime: Caused by: java.lang.NullPointerException: ssl == null
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at com.android.org.conscrypt.NativeCrypto.getApplicationProtocol(Native Method)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at com.android.org.conscrypt.NativeSsl.getApplicationProtocol(NativeSsl.java:568)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at com.android.org.conscrypt.ConscryptFileDescriptorSocket.getApplicationProtocol(ConscryptFileDescriptorSocket.java:1085)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	at com.android.org.conscrypt.OpenSSLSocketImpl.getAlpnSelectedProtocol(OpenSSLSocketImpl.java:134)
11-05 11:53:36.557  5607 23163 E AndroidRuntime: 	... 8 more
```

Any ideas about this? Shouldn't this be handled by `MockWebserver`?

Thanks in advance!",https://github.com/square/okhttp/issues/5587#issuecomment-550294915,Looks like a bug in the host OS. Which device? Which Android release?
square/okhttp,"**There are the implementations i have been using**

    implementation 'com.squareup.retrofit2:retrofit:2.6.0'
    implementation 'com.google.code.gson:gson:2.8.5'
    implementation 'com.squareup.retrofit2:converter-gson:2.6.0'
    implementation 'com.squareup.okhttp3:okhttp:4.2.1'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'


**This is the network interceptor class**

```
class NetworkConnectionInterceptor(
    context: Context
) : Interceptor {


    private val applicationContext = context.applicationContext

    override fun intercept(chain: Interceptor.Chain): Response {
        return if (!isConnectionOn()) {
            throw NoConnectivityException()
        } else if(!isInternetAvailable()) {
            throw NoInternetException()
        } else {
            chain.proceed(chain.request())
        }
    }

    private fun isInternetAvailable(): Boolean {
        return try {
            val timeoutMs = 1500
            val sock = Socket()
            val sockaddr = InetSocketAddress(""8.8.8.8"", 53)

            sock.connect(sockaddr, timeoutMs)
            sock.close()

            true
        } catch (e: IOException) {
            false
        }
    }

    private fun isConnectionOn(): Boolean {
        val connectivityManager =
            applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as
                    ConnectivityManager

        return if (android.os.Build.VERSION.SDK_INT >=
            android.os.Build.VERSION_CODES.M) {
            postAndroidMInternetCheck(connectivityManager)
        } else {
            preAndroidMInternetCheck(connectivityManager)
        }
    }

    @RequiresApi(Build.VERSION_CODES.M)
    private fun postAndroidMInternetCheck(
        connectivityManager: ConnectivityManager): Boolean {
        val network = connectivityManager.activeNetwork
        val connection =
            connectivityManager.getNetworkCapabilities(network)

        return connection != null && (
                connection.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) ||
                        connection.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR))
    }

    private fun preAndroidMInternetCheck(
        connectivityManager: ConnectivityManager): Boolean {
        val activeNetwork = connectivityManager.activeNetworkInfo
        if (activeNetwork != null) {
            @Suppress(""DEPRECATION"")
            return (activeNetwork.type == ConnectivityManager.TYPE_WIFI ||
                    activeNetwork.type == ConnectivityManager.TYPE_MOBILE)
        }
        return false
    }

}
```

**My Retrofit client**

```
operator fun invoke(
            networkConnectionInterceptor: NetworkConnectionInterceptor
        ): ApiUtil {

            val builder = OkHttpClient.Builder()
            builder.connectTimeout(5, TimeUnit.SECONDS)
            builder.writeTimeout(10, TimeUnit.SECONDS)

            val interceptor = HttpLoggingInterceptor()
            interceptor.level = HttpLoggingInterceptor.Level.BODY

            val client = OkHttpClient.Builder()
                .addInterceptor(interceptor)
                .addInterceptor(networkConnectionInterceptor)
                .build()


            builder.cache(null)

            val gson = GsonBuilder()
                .setLenient()
                .create()

            val retrofit = Retrofit.Builder()
                .baseUrl(BASE_URL)
                .addConverterFactory(GsonConverterFactory.create(gson))
                .client(client)
                .build()

            return retrofit.create(ApiUtil::class.java)
            
        }
```

this is how i am calling the api's

```
fun onGetNationalities() {
        try {
            responseCallback?.onStarted()
            Coroutines.main {
                val nationalitiesResponse = repository.getNationalities()
                nationalitiesResponse?.let {
                    if (it.success) {
                        responseCallback?.onSuccess(it)
                    } else {
                        responseCallback?.onFailure(it.errorMessage)
                    }
                }
            }
        } catch (e: Exception) {
            responseCallback?.onAlert(
                e.cause?.localizedMessage
                    ?: MessageUtils.SOMETHING_WENT_WRONG
            )
        } catch (e: NoInternetException) {
            responseCallback?.onAlert(e.message!!)
        }catch (e: NoConnectivityException) {
            responseCallback?.onAlert(e.message!!)
        }
    }
```

**NoInternetException and NoConnectivityException are two exception classes**

```
class NoConnectivityException : IOException() {
    override val message: String
        get() =
            ""No network available, please check your WiFi or Data connection""
}
```

```
class NoInternetException() : IOException() {
    override val message: String
        get() =
            ""No internet available, please check your connected WIFi or Data""
}
```

This is not happening everytime for example if i am calling an api on button click and internet is not active, exception thrown from the intercepor will be caught in the function from where i am calling the api but if i call an api on the start on e.g signup form so i can get the nationalities for signup as in my example the interceptor will crash while throwing the exception plus it also crash sometime on the chain.proceed with the Sockettimeoutexception etc. The crash is reproducible.


",https://github.com/square/okhttp/issues/5575#issuecomment-546750184,Which versions of OkHttp and Retrofit? I believe this was recently fixed in Retrofit.
square/okhttp,"I know this isn't the best place to ask it, but since i couldn't get any support on starckoverflow and i'm struggling with this problem over a week i'm going to ask here, maybe is something very simple that a person with more experience handle fast.

I'm using OkHttp + Retrofit2 to build an api to a third party system.
I've noticed that even using a ConnectionPool and multiple threads, Retrofit is never making simultaneous calls.

This is how i create the service:

```
OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();
httpClientBuilder.connectionPool(new ConnectionPool(7, 1, TimeUnit.MINUTES););
Dispatcher dispatcher = new Dispatcher();
dispatcher.setMaxRequests(10);
dispatcher.setMaxRequestsPerHost(10);
httpClientBuilder.dispatcher(dispatcher);
OkHttpClient okhttp = httpClientBuilder.build();
this.service = new Retrofit.Builder().baseUrl(API_URL).addConverterFactory(GsonConverterFactory.create(getGson())).client(okhttp).build().create(IService.class);
```
In order to simplify the IService.class lets supose it has only 2 methods:

```
@GET
Call<JsonElement> get(@Url String url, @HeaderMap Map<String, Object> headers, @QueryMap Map<String, Object> query);

@POST
Call<ResponseBody> complexPost(@Url String url, @HeaderMap Map<String, Object> headers, @QueryMap Map<String, Object> query, @Body RequestBody body);
```
now this is how i'm trying to make parallel requests:

```
public static void main(String[] args) {

final Map<String,Object> empty = new HashMap<String, Object>();
	new Thread(new Runnable() {

		@Override
		public void run() {
				while(true) {
					System.out.println(""sending short request"");
					this.service.get(bar,empty,empty).execute();
					System.out.println(""short request sent"");
				}
		}
	}).start();


	new Thread(new Runnable() {

		@Override
		public void run() {
			byte[] buffer  = new byte[1024*1024];
			
				while(true) {
					RequestBody requestFile = RequestBody.create(MediaType.parse(""application/octet-stream""), buffer, 0, buffer.length);
					System.out.println(""sending long request"").execute();
					this.service.complexPost(foo, empty, empty, requestFile);
					System.out.println(""long request sent"");
				}
		}
	}).start();
```

}
Simple explanation: two threads, thread A sends a small GET request - thread B sends 1MB data request [1024*1024 zeros just]

So, nothing is synchronized, I've a connection pool with enough idle connections to make it run in parallel, IN MY MIND sine request B is bigger is natural it takes long to complete, but as there is no synchronization there should be LOTS of ""short request sent"" for every ""long request sent"".

but what is printed is something like:

```
sending short request
short request sent  
sending long request
long request sent
sending short request
short request sent
sending long request
long request sent
sending short request
short request sent
```

no thread is interrupting the other request. WHY???? how to make multiple requests in parallel?

I did a deep debuging and i found the snippet of code where the synchronization locks:

```
private Http2Stream newStream(
      int associatedStreamId, List<Header> requestHeaders, boolean out) throws IOException {
    boolean outFinished = !out;
    boolean inFinished = false;
    boolean flushHeaders;
    Http2Stream stream;
    int streamId;

    synchronized (writer) {
      synchronized (this) {
        if (nextStreamId > Integer.MAX_VALUE / 2) {
          shutdown(REFUSED_STREAM);
        }
        if (shutdown) {
          throw new ConnectionShutdownException();
        }
        streamId = nextStreamId;
        nextStreamId += 2;
        stream = new Http2Stream(streamId, this, outFinished, inFinished, null);
        flushHeaders = !out || bytesLeftInWriteWindow == 0L || stream.bytesLeftInWriteWindow == 0L;
        if (stream.isOpen()) {
          streams.put(streamId, stream);
        }
      }
      if (associatedStreamId == 0) {
        writer.synStream(outFinished, streamId, associatedStreamId, requestHeaders);
      } else if (client) {
        throw new IllegalArgumentException(""client streams shouldn't have associated stream IDs"");
      } else { // HTTP/2 has a PUSH_PROMISE frame.
        writer.pushPromise(associatedStreamId, streamId, requestHeaders);
      }
    }

    if (flushHeaders) {
      writer.flush();
    }

    return stream;
  }
```
this is the synchronization block that locks boths threads. my question is WHY, and how to fix it?",https://github.com/square/okhttp/issues/5556#issuecomment-542016537,Post a link to your StackOverflow question?
square/okhttp,"We observed clients not pooling connections because although they shared a connection pool, they had different instances of NullProxySelector.",https://github.com/square/okhttp/issues/5519#issuecomment-537343794,Which version did this start?  :(
square/okhttp,"This issue is intended to help me organize what‚Äôs done and needs doing for TaskRunner.

 * [x] [API](https://github.com/square/okhttp/pull/5461)
 * [x] [Initial implementation](https://github.com/square/okhttp/pull/5485)
 * [x] [ConnectionPool](https://github.com/square/okhttp/pull/5494)
 * [x] [DiskLruCache](https://github.com/square/okhttp/pull/5496)
 * [x] [HTTP/2 writer and push](https://github.com/square/okhttp/pull/5502)
 * [x] [WebSockets](https://github.com/square/okhttp/pull/5510)
 * [x] MockWebServer
 * [x] HTTP/2 listeners
 * [x] Daemon threads
 * [x] Fewer context switches ([details](https://github.com/square/okhttp/pull/5510#discussion_r329355091))
 * [x] Consistent queue and task names
 * [x] Strict mode and/or other diagnostics for stuck queues ([details](https://github.com/square/okhttp/pull/5496))
 * [x] Tools for understanding real-world use ([details](https://github.com/square/okhttp/pull/5532#issuecomment-538617152))
 * [x] Re-evaluate how tryCancel() opt-in vs. opt-out
 * [x] [Better task names](https://github.com/square/okhttp/pull/5535)

See also
 * [Simplify test code](https://github.com/square/okhttp/pull/5507)
 * [Detect HTTP/2 liveness](https://github.com/square/okhttp/issues/3146)
 * [Document debug logging](https://github.com/square/okhttp/pull/5671)",https://github.com/square/okhttp/issues/5512#issuecomment-563288023,"A couple thoughts:
- Probably worth keeping logs indented to the same level after the queue size, otherwise it feels like the logs with the same indentation are grouped, while they're not. Perhaps having a uniform indentation that grows if the queue gets bigger could work?

```
Q1 ‚ñå     scheduled after 100 ms: OkHttp example.com ping
Q1 ‚ñå‚ñå    scheduled after 200 ms: OkHttp example.com[3] writeSynReset
Q1 ‚ñå‚ñå‚ñå   starting: OkHttp example.com ping
Q1 ‚ñå‚ñå‚ñå‚ñå  executed in 130 ms (next after 100 ms): OkHttp example.com ping
Q1 ‚ñå‚ñå    starting (31 ms late): OkHttp example.com[3] writeSynReset
Q1 ‚ñå‚ñå‚ñå‚ñå‚ñå executed in 2 ms: OkHttp example.com[3] writeSynReset
Q2 ‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå posted: OkHttp ConnectionPool
Q2 ‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå    posted: OkHttp ConnectionPool
Q2 ‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå  posted: OkHttp ConnectionPool
Q2 ‚ñå     posted: OkHttp ConnectionPool
```
- How about printing **scheduled**, **starting**, **executed** and **posted** in bold?"
square/okhttp,"stack trace:
 java.lang.NullPointerException: Attempt to invoke virtual method 'okhttp3.internal.connection.RealConnectionPool okhttp3.internal.Internal.realConnectionPool(okhttp3.ConnectionPool)' on a null object reference
     at okhttp3.internal.connection.Transmitter.<init>(Transmitter.java:81)
     at okhttp3.RealCall.newRealCall(RealCall.java:64)
     at okhttp3.OkHttpClient.newCall(OkHttpClient.java:401)
     at retrofit2.ServiceMethod.toCall(ServiceMethod.java:113)
     at retrofit2.OkHttpCall.createRawCall(OkHttpCall.java:184)
     at retrofit2.OkHttpCall.execute(OkHttpCall.java:167)
     at retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:42)
     at io.reactivex.Observable.subscribe(Observable.java:12246)
     at retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)
     at io.reactivex.Observable.subscribe(Observable.java:12246)
     at io.reactivex.internal.operators.observable.ObservableSingleSingle.subscribeActual(ObservableSingleSingle.java:35)
     at io.reactivex.Single.subscribe(Single.java:3575)
     at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
     at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
     at java.util.concurrent.FutureTask.run(FutureTask.java:266)
     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
     at java.lang.Thread.run(Thread.java:764)

version: latest

we use dagger to initialize okhttp and retrofit instances:

```
    @Provides
    @Singleton
    fun providesRetrofit(gsonConverterFactory: GsonConverterFactory, rxJava2CallAdapterFactory: RxJava2CallAdapterFactory,
                         okHttpClient: OkHttpClient, context: Context): Retrofit =
            Retrofit.Builder().baseUrl(context.getString(R.string.api_endpoint))
                    .addConverterFactory(gsonConverterFactory)
                    .addCallAdapterFactory(rxJava2CallAdapterFactory)
                    .client(okHttpClient)
                    .build()

    @Provides
    @Singleton
    fun providesOkHttpClient(cache: Cache): OkHttpClient {
        val client = OkHttpClient.Builder()
                .cache(cache)
                .connectTimeout(20, TimeUnit.SECONDS)
                .writeTimeout(30, TimeUnit.SECONDS)
                .readTimeout(10, TimeUnit.SECONDS)
                .addInterceptor(HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))

        return client.build()
    }

```
bug happens when in single activity app with ""do not keep activities"" setting in developer options flag turned on and when pick photo intent is executed and then in onActivityResult we try to upload this photo....activity is recreated but okhttp instance is somehow not properly/completely initialised (for test purposes I added 5 seconds delay to wait if it will be initialised, but with no luck, the same error occured.. to sum it up, after reset, it's unusable)",https://github.com/square/okhttp/issues/5506#issuecomment-536122878,Can you confirm this in a debugger? Put breakpoints on OkHttpClient.java lines 131 and 141 and tell me which hits first.
square/okhttp,"This is my build.gradle

```
apply plugin: 'kotlin'

dependencies {
    def dependencies = rootProject.ext.repositoryDependencies
    def testDependencies = rootProject.ext.repositoryTestDependencies

    implementation project("":domain"")

    implementation dependencies.kotlin
    implementation dependencies.moshi
    implementation dependencies.rxJavaAdapter
    implementation dependencies.okHttp3
    implementation dependencies.jodaTime
    testImplementation testDependencies.okHttpMock
    testImplementation testDependencies.okHttp3
}

sourceCompatibility = ""1.8""
targetCompatibility = ""1.8""

compileKotlin {
    kotlinOptions {
        jvmTarget = ""1.8""
    }
}
compileTestKotlin {
    kotlinOptions {
        jvmTarget = ""1.8""
    }
}

compileJava {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}
```

Kotlin version:
`  kotlin              : ""org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.50,`

Okhttp3 version:
`okHttp3                 : ""com.squareup.okhttp3:okhttp:4.2.0,`

Failing method:
```
fun OkHttpClient.Builder.addQueryParameterInterceptor(name: String, value: String): OkHttpClient.Builder {
    addInterceptor {
        var request = it.request()
        val url = request.url.newBuilder().addQueryParameter(name, value).build()
        request = request.newBuilder().url(url).build()
        it.proceed(request)
    }
    return this
}
```

Using `url()` is deprecated in `Request` and suggests using the val `url`.

However building with `request.url.etc` I get `cannot access url it is public/*package*/ in Request`

I looked at the migration guide and changed the java compatibility to 1.8.

Thank you for the help.",https://github.com/square/okhttp/issues/5505#issuecomment-535940327,Do you have two copies of OkHttp on your classpath?
square/okhttp,"Guava‚Äôs implementation says that if a domain is not registered it cannot have a top private domain. OkHttp treats any unknown suffix as a top private domain.

```
    assertNull(HttpUrl.parse(""https://foo.www/"").topPrivateDomain());
```",https://github.com/square/okhttp/issues/5489#issuecomment-571168182,"Could it be worth including in the library the [IANA TLD list](https://www.iana.org/domains/root/db) ([raw](https://data.iana.org/TLD/tlds-alpha-by-domain.txt)) to match against?

I'm not 100% sure whether this fixes the issue that you're reporting, but I think it could be useful to check whether the top level domain is registered, and therefore whether the top private domain is ""credible""."
square/okhttp,"I have an android app in kotlin that talks to an express nodeJS api via mutual authentication. The app is designed to keep collecting data after the screen is off/on, survive reboots, etc. This is done with the user's consent. 

This is occuring on an Android 8.1 Samsung tablet that has no other apps installed (other than the standard samsung installs)

After some time of the screen being off, (Time until the error shows up ranges from 20 minutes to 3 hours) we get the below exception until we restart (We left it running in this error state for >8 hours, and it never recovered) the app or recreate retrofit object. The foreground service is still running and collecting data without an issue. 

The issue is not a server problem, I had a shell script curl the server with the same parameters and that worked for ~16 hours. 

We have tried: 

* Setting client header 'Connection', 'close'
* Setting server header 'Connection', 'close' 
* both of the above
* Setting client header 'Connection', 'Keep-Alive'
* Setting server header 'Connection', 'Keep-Alive'
* Both of the above
* Combinations of all of the above
* Checking for a server performance issue
* Making body smaller (Current limit is `100` items, which translates to a ~`120kb` body)
* Some other things I am forgetting


**Workaround**: 
    When this exception is thrown, we create a new retrofit service, drain all connectionss, then resume posting to the API. 

**Versions used**:
``` 
implementation 'com.squareup.retrofit2:retrofit:2.6.1'
implementation 'com.squareup.retrofit2:converter-gson:2.6.1'
implementation 'com.squareup.okhttp3:okhttp:4.2.0'
implementation 'com.squareup.okhttp3:logging-interceptor:4.2.0'
implementation 'com.squareup.okhttp3:okhttp-brotli:4.2.0'

```

**Stack Trace**: 
```
 javax.net.ssl.SSLException: Read error: ssl=0xa65d7940: I/O error during system call, Connection reset by peer
        at com.android.org.conscrypt.NativeCrypto.SSL_read(Native Method)
        at com.android.org.conscrypt.SslWrapper.read(SslWrapper.java:391)
        at com.android.org.conscrypt.ConscryptFileDescriptorSocket$SSLInputStream.read(ConscryptFileDescriptorSocket.java:567)
        at okio.InputStreamSource.read(Okio.kt:102)
        at okio.AsyncTimeout$source$1.read(AsyncTimeout.kt:159)
        at okio.RealBufferedSource.indexOf(RealBufferedSource.kt:349)
        at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:222)
        at okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.kt:210)
        at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:181)
        at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:105)
        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:82)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:37)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at com.someCompany.someApp.api.RetrofitFactory$logoutInterceptor$$inlined$invoke$1.intercept(Interceptor.kt:75)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.brotli.BrotliInterceptor.intercept(BrotliInterceptor.kt:39)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.kt:215)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at com.someCompany.someApp.api.RetrofitFactory$headersInterceptor$$inlined$invoke$1.intercept(Interceptor.kt:75)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
        at okhttp3.RealCall$AsyncCall.run(RealCall.kt:136)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
        at java.lang.Thread.run(Thread.java:764)
```

**What the server sees:**

```
BadRequestError: request aborted 
 at IncomingMessage.onAborted (/app/node_modules/raw-body/index.js:231:10) 
 at emitNone (events.js:106:13) 
 at IncomingMessage.emit (events.js:208:7)
 at abortIncoming (_http_server.js:445:9) 
 at socketOnClose (_http_server.js:438:3) 
 at emitOne (events.js:121:20) 
 at TLSSocket.emit (events.js:211:7) 
 at _handle.close (net.js:561:12) 
 at Socket.done (_tls_wrap.js:360:7) 
 at Object.onceWrapper (events.js:315:30) 
 at emitOne (events.js:116:13) 
 at Socket.emit (events.js:211:7) 
 at TCP._handle.close [as _onclose] (net.js:561:12) 
```

**RetrofitFactory:**
```
object RetrofitFactory {
    fun makeRetrofitService(context: Context, isAuthenticated: Boolean = false): RetrofitService {
        val baseUrl: String = if (BuildConfig.DEBUG) {
            ""https://api.staging.someCompany.com/""
        } else {
            ""https://api-api.someCompany.com/""
        }
        return Retrofit.Builder().baseUrl(baseUrl)
            .addConverterFactory(GsonConverterFactory.create(makeGson()))
            .client(makeClient(context, isAuthenticated))
            .build().create(RetrofitService::class.java)
    }

    private fun makeGson(): Gson {
        return GsonBuilder().excludeFieldsWithModifiers(Modifier.TRANSIENT).create()
    }
    fun makeClient(context: Context, isAuthenticated: Boolean): OkHttpClient {
        val hostnameVerifier = HostnameVerifier { hostname, _ ->
            HttpsURLConnection.getDefaultHostnameVerifier().run {
                if (BuildConfig.DEBUG) {
                    hostname == ""relay-api.staging.someCompany.com""
                } else {
                    hostname == ""relay-api.someCompany.com""
                }
            }
        }

        val sslAndMgr = if (isAuthenticated) {
            clientAuthSslContext(context)
        } else {
            basicSslContext(context)
        }

        return OkHttpClient.Builder()
            .connectTimeout(15, TimeUnit.SECONDS)
            .readTimeout(15, TimeUnit.SECONDS)
            .sslSocketFactory(sslAndMgr.first, sslAndMgr.second)
            .addInterceptor(headersInterceptor()).addInterceptor(loggingInterceptor())
            .addInterceptor(BrotliInterceptor)
            .addInterceptor(logoutInterceptor())
            .hostnameVerifier(hostnameVerifier)
            .retryOnConnectionFailure(true)
            .build()
    }
    private fun loggingInterceptor() = HttpLoggingInterceptor().apply {
        level =
            if (BuildConfig.DEBUG) HttpLoggingInterceptor.Level.BODY else HttpLoggingInterceptor.Level.NONE
    }


    private fun logoutInterceptor() = Interceptor { chain ->
        val mainResponse = chain.proceed(chain.request())

        if (mainResponse.code == 401) {
            Certificates(someApp().applicationContext).logout()
        }
        mainResponse
    }
    private fun headersInterceptor() = Interceptor { chain ->
        chain.proceed(
            (chain.request().newBuilder()
                .addHeader(""Accept"", ""application/json"")
                .addHeader(""Accept-Language"", ""en"")
                .addHeader(""Content-Type"", ""application/json"").build()
                    )
        )
    }

    private fun basicSslContext(context: Context): Pair<SSLSocketFactory, X509TrustManager> {
        val certMgr = Certificates(context)
        val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())
        keyStore.load(null, null)

        keyStore.setCertificateEntry(""serverCert"", certMgr.loadServerChain())
        val trustMgrFactory =
            TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())
        trustMgrFactory.init(keyStore)

        val sslContext = SSLContext.getInstance(""TLS"")
        sslContext.init(null, trustMgrFactory.trustManagers, null)
        return Pair(sslContext.socketFactory, trustMgrFactory.trustManagers[0] as X509TrustManager)
    }

    private fun clientAuthSslContext(context: Context): Pair<SSLSocketFactory, X509TrustManager> {
        val certMgr = Certificates(context) //This is a helper that loads certificates/PKs as needed

        val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())
        keyStore.load(null, null)
        keyStore.setCertificateEntry(""ca"", certMgr.loadServerChain())
        keyStore.setCertificateEntry(""client"", certMgr.loadClientCert())
        keyStore.setKeyEntry(
            ""private"",
            certMgr.loadPrivateKey(),
            null,
            arrayOf(certMgr.loadClientCert(), certMgr.loadCA())
        )

        val kmf: KeyManagerFactory = KeyManagerFactory.getInstance(""X509"")

        kmf.init(keyStore, null)

        val trustMgrFactory =
            TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())
        trustMgrFactory.init(keyStore)
        val sslContext = SSLContext.getInstance(""TLS"")
        sslContext.init(kmf.keyManagers, trustMgrFactory.trustManagers, null)

        return Pair(object : DelegatingSSLSocketFactory(sslContext.socketFactory) { //DelegatingSSLSocketFactory from https://github.com/square/okhttp/blob/master/okhttp/src/test/java/okhttp3/DelegatingSSLSocketFactory.java 
            @Throws(
                IOException::class
            )
            override fun configureSocket(sslSocket: SSLSocket): SSLSocket {
                sslSocket.sslParameters.needClientAuth = true
                sslSocket.needClientAuth = true
                return super.configureSocket(sslSocket)
            }
        }, trustMgrFactory.trustManagers[0] as X509TrustManager)
    }
}
```

**Where we actually call the api:**
```
val res = CoroutineScope(Dispatchers.IO).launch {
            try {

                //call Room DB and get list of items out

                val body = BulkRelayRequest(items.toTypedArray())
                val response = apiService.postBulkRelayLogs(body)

                if (response.isSuccessful) {
                   //update room DB
                    Log.i(TAG, ""Posted ***** with ids ${response.body()!!.payload.ids}"")
                } else {
                    //failure :(
                    val eParams = Bundle()
                    firebaseAnalytics.logEvent(""API_SEND_FAILED"", eParams)
                    Log.e(TAG, ""Error: failed to post ****** to API"")
                }
            } catch(e: SSLException)
            {
                isDraining = true
                apiService = RetrofitFactory.makeRetrofitService(context, true)
                Log.e(TAG, ""SSL Error occurred. Draining connections and restarting retrofit"")
            }
            catch (e: Throwable) {
                val eParams = Bundle()
                firebaseAnalytics.logEvent(""API_SEND_FAILED"", eParams)
                Log.e(TAG, ""Error: failed to post *** to API and threw an exception"", e)
            }
            finally {
                connectionsActive--
            }
        }
    res.ensureActive()
```",https://github.com/square/okhttp/issues/5475#issuecomment-533338170,Can you reproduce on other devices? 
square/okhttp,"When the field value contains the ampersand ""&"" for example, ""Brothers & Co"" and I use that value like filter in the query, after encoding string to query I have ampersand ""&"" in the filter body, like this:
 https://example.eu/exsource/User?ormat=json&$filter=(username%20eq%20%27examlpleusername%27%20and%20filtername%20eq%20%2Brothers%20&%20Co%27)&asOfDate=2019-09-13

So this request does not work and I become Http response with status code 500. For correct work I should to convert it to ""%26"" additionally.",https://github.com/square/okhttp/issues/5468#issuecomment-532634801,Seems like a bug. Which version are you using?
square/okhttp,"I suspect only an issue if we look at the handshake certificates on Android with the MockWebServer.

```
07:13:09 V/InstrumentationResultParser: There was 1 failure:
07:13:09 V/InstrumentationResultParser: 1) testMockWebserverRequest(okhttp.android.test.OkHttpTest)
07:13:09 V/InstrumentationResultParser: javax.net.ssl.SSLPeerUnverifiedException
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.platform.AndroidPlatform$AndroidCertificateChainCleaner.clean(AndroidPlatform.kt:189)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.RealConnection$connectTls$1.invoke(RealConnection.kt:377)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.RealConnection$connectTls$1.invoke(RealConnection.kt:70)
07:13:09 V/InstrumentationResultParser: at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)
07:13:09 V/InstrumentationResultParser: at okhttp3.Handshake.peerCertificates(Unknown Source:7)
07:13:09 V/InstrumentationResultParser: at okhttp3.Handshake.toString(Handshake.kt:127)
07:13:09 V/InstrumentationResultParser: at java.lang.String.valueOf(String.java:2924)
07:13:09 V/InstrumentationResultParser: at java.lang.StringBuilder.append(StringBuilder.java:132)
07:13:09 V/InstrumentationResultParser: at okhttp3.logging.LoggingEventListener.secureConnectEnd(LoggingEventListener.kt:76)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:311)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:178)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:77)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.Transmitter.newExchange$okhttp(Transmitter.kt:162)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:35)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
07:13:09 V/InstrumentationResultParser: at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:192)
07:13:09 V/InstrumentationResultParser: at okhttp3.RealCall.execute(RealCall.kt:66)
07:13:09 V/InstrumentationResultParser: at okhttp.android.test.OkHttpTest.testMockWebserverRequest(OkHttpTest.kt:198)
07:13:09 V/InstrumentationResultParser: at java.lang.reflect.Method.invoke(Native Method)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
07:13:09 V/InstrumentationResultParser: at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
07:13:09 V/InstrumentationResultParser: at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
07:13:09 V/InstrumentationResultParser: at android.support.test.internal.runner.junit4.statement.RunBefores.evaluate(RunBefores.java:80)
07:13:09 V/InstrumentationResultParser: at android.support.test.internal.runner.junit4.statement.RunAfters.evaluate(RunAfters.java:61)
07:13:09 V/InstrumentationResultParser: at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
07:13:09 V/InstrumentationResultParser: at org.junit.rules.RunRules.evaluate(RunRules.java:20)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
07:13:09 V/InstrumentationResultParser: at android.support.test.runner.AndroidJUnit4.run(AndroidJUnit4.java:101)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.Suite.runChild(Suite.java:128)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.Suite.runChild(Suite.java:27)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
07:13:09 V/InstrumentationResultParser: at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
07:13:09 V/InstrumentationResultParser: at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
07:13:09 V/InstrumentationResultParser: at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
07:13:09 V/InstrumentationResultParser: at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:56)
07:13:09 V/InstrumentationResultParser: at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:384)
07:13:09 V/InstrumentationResultParser: at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2189)
07:13:09 V/InstrumentationResultParser: Caused by: java.lang.reflect.InvocationTargetException
07:13:09 V/InstrumentationResultParser: at java.lang.reflect.Method.invoke(Native Method)
07:13:09 V/InstrumentationResultParser: at okhttp3.internal.platform.AndroidPlatform$AndroidCertificateChainCleaner.clean(AndroidPlatform.kt:186)
07:13:09 V/InstrumentationResultParser: ... 60 more
07:13:09 V/InstrumentationResultParser: Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.
07:13:09 V/InstrumentationResultParser: at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:674)
07:13:09 V/InstrumentationResultParser: at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:551)
07:13:09 V/InstrumentationResultParser: at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:507)
07:13:09 V/InstrumentationResultParser: at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:335)
07:13:09 V/InstrumentationResultParser: at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:113)
07:13:09 V/InstrumentationResultParser: at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:133)
07:13:09 V/InstrumentationResultParser: at java.lang.reflect.Method.invoke(Native Method)
07:13:09 V/InstrumentationResultParser: at android.net.http.X509TrustManagerExtensions.checkServerTrusted(X509TrustManagerExtensions.java:101)
07:13:09 V/InstrumentationResultParser: ... 62 more
07:13:09 V/InstrumentationResultParser: Caused by: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.
07:13:09 V/InstrumentationResultParser: ... 70 more
```",https://github.com/square/okhttp/issues/5464#issuecomment-533877348,"I don't get this one. Why didn't it validate in the initial handshake?

We should fix our cleaner to catch, log a warning, and return unclean certificates in this case?"
square/okhttp,"HiÔºåi set connection timeout to 2 secÔºåuse a fake address that can not connectÔºåfinally after 20 sec , i got the exception throwed. 

can someone explain it? thanks",https://github.com/square/okhttp/issues/5451#issuecomment-530701094,"Please provide a reproduction that we can investigate.  It sounds like this is possible Dns timeout rather than connecting to the socket.

Alternatively could you attach output from a test using LoggingEventListener?"
square/okhttp,"I write a EventListenerFactory to provide a eventListener to measure connection duration for every call, the result will be report to my server, the client connect timeout is confiured 20s,but 
the statistics show that a few connect duration are very long,even more than two hours!
most of the statistics is 0.

```
object HttpTimeStatListenerFactory : EventListener.Factory {
    val statDataMap = HashMap<Call, HttpTimeStatData>()
    override fun create(call: Call): EventListener {
        val statData = HttpTimeStatData()
        statDataMap[call] = statData
        return HttpTimeStatListener(statData) { releasedCall -> statDataMap.remove(releasedCall) }
    }
}

data class HttpTimeStatData(
        var conn_ts: Long = 0,
        var reqH_ts: Long = 0,
        var reqB_ts: Long = 0,
        var resH_ts: Long = 0,
        var resB_ts: Long = 0,
        var rt_ts: Long = 0,
        var event_ts: Long = 0
);
```
```
package com.duola.android.base.netclient.stat

import okhttp3.*
import java.io.IOException
import java.net.InetAddress
import java.net.InetSocketAddress
import java.net.Proxy
import java.util.concurrent.TimeUnit

class HttpTimeStatListener(private val statData: HttpTimeStatData, private val onReleaseFunc: (Call) -> Unit) : EventListener() {
    private var resBStartNS = 0L
    private var resHStartNS = 0L
    private var reqBStartNS = 0L
    private var reqHStartNS = 0L
    private var callStartNS = 0L
    private var connectStartNS = 0L

    override fun callStart(call: Call) {
        callStartNS = System.nanoTime()
        statData.event_ts = System.currentTimeMillis()
    }

    override fun dnsStart(call: Call, domainName: String) {
        super.dnsStart(call, domainName)
    }

    override fun dnsEnd(call: Call, domainName: String, inetAddressList: MutableList<InetAddress>) {
        super.dnsEnd(call, domainName, inetAddressList)
    }


    override fun connectStart(call: Call, inetSocketAddress: InetSocketAddress, proxy: Proxy) {
        connectStartNS = System.nanoTime()
    }

    override fun secureConnectStart(call: Call) {
        super.secureConnectStart(call)
    }

    override fun secureConnectEnd(call: Call, handshake: Handshake?) {
        super.secureConnectEnd(call, handshake)
    }

    override fun connectionAcquired(call: Call, connection: Connection) {
        super.connectionAcquired(call, connection)
    }

    override fun connectEnd(call: Call, inetSocketAddress: InetSocketAddress, proxy: Proxy, protocol: Protocol?) {
        statData.conn_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - callStartNS);
    }

    override fun connectFailed(call: Call, inetSocketAddress: InetSocketAddress, proxy: Proxy, protocol: Protocol?, ioe: IOException) {
        statData.conn_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - callStartNS);
    }

    override fun connectionReleased(call: Call, connection: Connection) {
    }


    override fun requestHeadersStart(call: Call) {
        reqHStartNS = System.nanoTime()
    }

    override fun requestHeadersEnd(call: Call, request: Request) {
        statData.reqH_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - reqHStartNS);

    }

    override fun requestBodyStart(call: Call) {
        reqBStartNS = System.nanoTime()
    }

    override fun requestBodyEnd(call: Call, byteCount: Long) {
        statData.reqB_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - reqBStartNS);
    }


    override fun responseHeadersStart(call: Call) {
        resHStartNS = System.nanoTime()
    }

    override fun responseHeadersEnd(call: Call, response: Response) {
        statData.resH_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - resHStartNS);
    }

    override fun responseBodyStart(call: Call) {
        resBStartNS = System.nanoTime()

    }

    override fun responseBodyEnd(call: Call, byteCount: Long) {
        statData.resB_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - resBStartNS);

    }


    override fun callEnd(call: Call) {
        statData.rt_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - callStartNS);
        onReleaseFunc(call)
    }

    override fun callFailed(call: Call, ioe: IOException) {
        statData.rt_ts = TimeUnit.NANOSECONDS.toMillis(System.nanoTime() - callStartNS);
        onReleaseFunc(call)
    }
}
``` 
",https://github.com/square/okhttp/issues/5450#issuecomment-530719328,"Is it possible that problematic connections involve a proxy? It's not possible to debug, just from this report.

I suggest either asking on stackoverflow, or try to synthethise a specific reproduction against a real site or mock web server."
square/okhttp,"I met a problem.Here is the error message; This mistack happened 500 times.I have no idea to handle it.Please help me,Thank you!
```java
# OkHttp Dispatcher(3730)  java.lang.IllegalArgumentException  
No enum constant okhttp3.CipherSuite.TLS_NULL_WITH_NULL_NULL

1 java.lang.Enum.valueOf(Enum.java:258)
2¬†okhttp3.CipherSuite.okhttp3.CipherSuite valueOf(java.lang.String)(SourceFile:32)
3¬†okhttp3.CipherSuite.okhttp3.CipherSuite forJavaName(java.lang.String)(SourceFile:381)
4¬†okhttp3.Handshake.okhttp3.Handshake get(javax.net.ssl.SSLSession)(SourceFile:53)
5¬†okhttp3.internal.io.RealConnection.void connectTls(int,int,okhttp3.internal.ConnectionSpecSelector)(SourceFile:242)
6¬†okhttp3.internal.io.RealConnection.void establishProtocol(int,int,okhttp3.internal.ConnectionSpecSelector)(SourceFile:198)
7¬†okhttp3.internal.io.RealConnection.void buildConnection(int,int,int,okhttp3.internal.ConnectionSpecSelector)(SourceFile:173)
8¬†okhttp3.internal.io.RealConnection.void connect(int,int,int,java.util.List,boolean)(SourceFile:113)
9¬†okhttp3.internal.http.StreamAllocation.okhttp3.internal.io.RealConnection findConnection(int,int,int,boolean)(SourceFile:188)
10¬†okhttp3.internal.http.StreamAllocation.okhttp3.internal.io.RealConnection findHealthyConnection(int,int,int,boolean,boolean)(SourceFile:124)
11¬†okhttp3.internal.http.StreamAllocation.okhttp3.internal.http.HttpStream newStream(int,int,int,boolean,boolean)(SourceFile:94)
12¬†okhttp3.internal.http.HttpEngine.okhttp3.internal.http.HttpStream connect()(SourceFile:301)
13¬†okhttp3.internal.http.HttpEngine.void sendRequest()(SourceFile:253)
14¬†okhttp3.RealCall.okhttp3.Response getResponse(okhttp3.Request,boolean)(SourceFile:254)
15¬†okhttp3.RealCall$ApplicationInterceptorChain.okhttp3.Response proceed(okhttp3.Request)(SourceFile:212)
16¬†okhttp3.RealCall.okhttp3.Response getResponseWithInterceptorChain(boolean)(SourceFile:171)
17¬†okhttp3.RealCall.access$100(SourceFile:31)
18¬†okhttp3.RealCall$AsyncCall.void execute()(SourceFile:135)
19¬†okhttp3.internal.NamedRunnable.void run()(SourceFile:33)
20¬†java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
21¬†java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
22¬†java.lang.Thread.run(Thread.java:784)


```",https://github.com/square/okhttp/issues/5440#issuecomment-529780742,Are you connecting to a real server? Is there a proxy involved or aggressive company network?
square/okhttp,"We upgraded to the latest, and now our build fails with:

[2019-09-06T01:15:49.953Z] Caused by: java.lang.NoSuchMethodError: okhttp3.Cookie.toString(Z)Ljava/lang/String;
[2019-09-06T01:15:49.953Z] at okhttp3.JavaNetCookieJar.saveFromResponse(JavaNetCookieJar.java:43)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.HttpHeaders.receiveHeaders(HttpHeaders.kt:207)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:86)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
[2019-09-06T01:15:49.953Z] at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
[2019-09-06T01:15:49.953Z] at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
[2019-09-06T01:15:49.953Z] at okhttp3.RealCall.execute(RealCall.kt:66)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.rest.CredentialsRestConnection.clientAuthenticate(CredentialsRestConnection.java:86)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.rest.RestConnection.connect(RestConnection.java:128)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.rest.RestConnection.handleExecuteClientCall(RestConnection.java:350)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.rest.RestConnection.handleExecuteClientCall(RestConnection.java:317)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.request.HubRequest.executePost(HubRequest.java:85)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.api.bom.BomImportRequestService.importBomFile(BomImportRequestService.java:55)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.hub.buildtool.BuildToolHelper.deployHubOutput(BuildToolHelper.java:71)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.gradle.task.BuildBomTask.deployHubBDIO(BuildBomTask.java:240)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.gradle.task.BuildBomTask.performTask(BuildBomTask.java:153)
[2019-09-06T01:15:49.953Z] at com.blackducksoftware.integration.gradle.task.BuildBomTask.task(BuildBomTask.java:130)
[2019-09-06T01:15:49.953Z] at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)

We don't see in the release notes anything saying that method has been removed.

Can you put it back? If not, we can't upgrade to your latest, because we need to run blackduck until we replace it (long process).

You replied ""Presumably you are mixing a 3.14 version of JavaNetCookieJar from okhttp-httpurlconnection with 4.x of okhttp. Can you upgrade both?"" and then asked for more info and then closed it 8 minutes later. I was in standup. And I can't reopen a bug closed by a code owner. So here it is again.

./gradlew dependencies shows no occurrence of okhttp-httpurlconnection on any of our classpaths.

We are only using (or trying to use) com.squareup.okhttp3:okhttp:4.1.1.",https://github.com/square/okhttp/issues/5426#issuecomment-529014510,"Can you use your IDE to see which jar is providing it?

<img width=""671"" alt=""image"" src=""https://user-images.githubusercontent.com/231923/64460535-81cefd80-d0f2-11e9-960f-a0be281a9e14.png"">

See above it is not in the core okhttp jar."
square/okhttp,"While trying to fetch a page from [PcGamer](https://www.pcgamer.com/uk/best-pc-games/)

The client failed with this exception
```
	javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure
	at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
	at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)
	at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2023)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:351)
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:310)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:178)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:77)
	at okhttp3.internal.connection.Transmitter.newExchange$okhttp(Transmitter.kt:162)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:35)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
	at okhttp3.RealCall.execute(RealCall.kt:66)
	at org.chaiware.modular_web_crawler.modular_services.fetcher_service.OkHttpFetcherImpl.fetchPage(OkHttpFetcherImpl.java:59)
	at org.chaiware.modular_web_crawler.modular_services.fetcher_service.IFetcher.fetch(IFetcher.java:20)
	at org.chaiware.modular_web_crawler.run.RunFetcher.fetch(RunFetcher.java:31)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.util.ArrayList.forEach(ArrayList.java:1249)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.util.ArrayList.forEach(ArrayList.java:1249)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
	Suppressed: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure`
...
```

Is it a bug?",https://github.com/square/okhttp/issues/5418#issuecomment-528567943,Executable test case?
square/okhttp,"```
    api 'com.squareup.okhttp3:okhttp:4.1.0'
```

Occur sometimes. 

```
W/System.err: java.io.IOException: unexpected end of stream on http://172.16.10.21:8880/...
        at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:205)
        at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:105)
        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:82)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:37)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
        at okhttp3.RealCall.execute(RealCall.kt:66)
        at com.lcbtn.utils.HttpUtils.get(HttpUtils.java:125)
        at com.lcbtn.utils.HttpUtils$2.run(HttpUtils.java:84)
        at java.lang.Thread.run(Thread.java:818)
    Caused by: java.io.EOFException: \n not found: limit=0 content=‚Ä¶
W/System.err:     at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:231)
        at okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.kt:210)
        at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:181)
    	... 19 more
```

```
$ curl http://172.16.10.21:8880/FSCPService/Program\?providerId\=cntv\&cityId\=7680\&programID\=CNTV2-1200064244\&cntv-version\=1006 -v 
*   Trying 172.16.10.21:8880...
* TCP_NODELAY set
* Connected to 172.16.10.21 (172.16.10.21) port 8880 (#0)
> GET /FSCPService/Program?providerId=cntv&cityId=7680&programID=CNTV2-1200064244&cntv-version=1006 HTTP/1.1
> Host: 172.16.10.21:8880
> User-Agent: curl/7.65.3
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 301 Moved Permanently
< Server: NGINX(CnPanel,LNMP)
< Date: Fri, 23 Aug 2019 02:59:34 GMT
< Content-Type: text/html
< Content-Length: 192
< Location: http://172.16.10.21:8880/FSCPService/Program/?providerId=cntv&cityId=7680&programID=CNTV2-1200064244&cntv-version=1006
< Connection: keep-alive
< 
<html>
<head><title>301 Moved Permanently</title></head>
<body bgcolor=""white"">
<center><h1>301 Moved Permanently</h1></center>
<hr><center>NGINX(CnPanel,LNMP)</center>
</body>
</html>
* Connection #0 to host 172.16.10.21 left intact

```

",https://github.com/square/okhttp/issues/5390#issuecomment-527882048,"Can you provide a test server we can test against? This is likely a problem with the response from the server, possibly differs because of different headers or connection negotiation.  Without that, we can't help."
square/okhttp,"Not 100% reproduce depend on device (100% failed on vivo X20A version: 8.1.0). 

Repro code
```kt
class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        Timber.plant(Timber.DebugTree())
        net.setOnClickListener {
            Thread {
                Timber.w(""network"")
                val request = Request.Builder()
                        .url(""http://45.63.13.41:3000/playlist/detail?id=2451836751"")
                        .get()
                        .addHeader(""Cache-Control"", ""no-cache"")
                        .addHeader(""Accept-Encoding"", ""gzip, deflate"")
                        .build()

                val client = OkHttpClient()
                val response = client.newCall(request).execute()
                val body = response.body?.string()

                Timber.w(""response = "" + body)
            }.start()
        }
    }
}
```

Okhttp version: `com.squareup.okhttp3:okhttp:4.1.0`

StackTrace
```console
E/AndroidRuntime: FATAL EXCEPTION: Thread-2
    Process: me.gengjiawen.quickstart, PID: 4865
    java.net.ProtocolException: unexpected end of stream
        at okhttp3.internal.http1.Http1ExchangeCodec$FixedLengthSource.read(Http1ExchangeCodec.kt:392)
        at okhttp3.internal.connection.Exchange$ResponseBodySource.read(Exchange.kt:279)
        at okio.Buffer.writeAll(Buffer.kt:1104)
        at okio.RealBufferedSource.readString(RealBufferedSource.kt:194)
        at okhttp3.ResponseBody.string(ResponseBody.kt:187)
        at me.gengjiawen.switchdemo.MainActivity$onCreate$1$1.run(MainActivity.kt:29)
        at java.lang.Thread.run(Thread.java:764)
```

Tried https://github.com/square/okhttp/issues/1490#issuecomment-78621872, but no luck.

Same code works on kotlin jvm.
The url also works on curl, browser, Node.js.",https://github.com/square/okhttp/issues/5387#issuecomment-536716063,"Hi Jiawen ,

I have the exact same problem! I am curious to know what was the issue on the server side? Do you use node.js?

Thanks in advance,

Best regards,
Nicolas "
square/okhttp,"i used latest version of Okhttp Logging interceptor
when i received JSON that represent Arabic language it looks like this

`""name"":""\u0641\u0646\u062f\u0642 \u062a\u062c\u0631\u064a\u0628""`

please add support for encoding Arabic language
",https://github.com/square/okhttp/issues/5383#issuecomment-522360686,This isn‚Äôt OkHttp‚Äôs doing. Might be your JSON encoder to blame?
square/okhttp,"Extremely similar to https://github.com/square/okhttp/issues/4086 but applicable IBM JDK8

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 8.0.5.20 - pxa6480sr5fp20ifix-20180809_01(SR5 FP20+IJ08001))
IBM J9 VM (build 2.9, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20180809_394103 (JIT enabled, AOT enabled)
OpenJ9   - cce432b
OMR      - 7ce4228
IBM      - 98805ca)
JCL - 20180719_01 based on Oracle jdk8u181-b12

We compile in 7 because half of our environments are in 7 and the other half are in 8 so we use the 3.12.3 library but noticed the issues is there in the latest 4.1 as well, just doesn't seem to work in IBM JDK8 given what's happening in the internal/platform package 
There's some logic in there that handles the JDK7 route but still leaves IBM JDK broken because the response differs from openjdk when calling SSLContext.getInstance(""TLS"")

```
  public SSLContext getSSLContext() {
    String jvmVersion = System.getProperty(""java.specification.version"");
    if (""1.7"".equals(jvmVersion)) {
      try {
        // JDK 1.7 (public version) only support > TLSv1 with named protocols
        return SSLContext.getInstance(""TLSv1.2"");
      } catch (NoSuchAlgorithmException e) {
        // fallback to TLS
      }
    }

    try {
      return SSLContext.getInstance(""TLS"");
    } catch (NoSuchAlgorithmException e) {
      throw new IllegalStateException(""No TLS provider"", e);
    }
  }
```

After some remote debugging/troubleshooting discovered when it's establishing the connections is where the issue begins to arise the supported protocols is set to TLSv1 because of the above query to the JRE for supported/preferred TLS Setting 

Unable to find acceptable protocols. isFallback=false, modes=[ConnectionSpec(cipherSuites=[TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA], tlsVersions=[TLS_1_3, TLS_1_2], supportsTlsExtensions=true), ConnectionSpec()], supported protocols=[TLSv1] 
",https://github.com/square/okhttp/issues/5372#issuecomment-521884928,"Can you use this workaround https://www.ibm.com/support/knowledgecenter/en/SSYKE2_8.0.0/com.ibm.java.security.component.80.doc/security-component/jsse2Docs/matchsslcontext_tls.html

```
com.ibm.jsse2.overrideDefaultTLS =[true|false]
```

What would you expect the logic on IBM JDKs to be?"
square/okhttp,"```
java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object java.lang.ref.Reference.get()' on a null object reference
    at okhttp3.ConnectionPool.int pruneAndGetAllocationCount(okhttp3.internal.connection.RealConnection,long)(ConnectionPool.java:261)
    at okhttp3.ConnectionPool.long cleanup(long)(ConnectionPool.java:211)
    at okhttp3.ConnectionPool$1.void run()(ConnectionPool.java:60)
    at java.util.concurrent.ThreadPoolExecutor.null runWorker(null)(ThreadPoolExecutor.java:1133)
    at java.util.concurrent.ThreadPoolExecutor$Worker.null run(null)(ThreadPoolExecutor.java:607)
    at java.lang.Thread.null run(null)(Thread.java:761)
```

version: 3.12.0
",https://github.com/square/okhttp/issues/5337#issuecomment-519895216,Which JVM or Android version? Looks like a VM bug to me.
square/okhttp,Would be handy to get one out of the OkHttpClient.,https://github.com/square/okhttp/issues/5336#issuecomment-520207605,"@swankjesse what do you think about exposing the SSLSessionContext or SSLContext at the same time? It's not a common API by any means, but for advanced usage (session management/invalidation, session values) it seems relevant to understand whether you are getting the benefits of session reuse etc.

```
@get:JvmName(""x509TrustManager"") val x509TrustManager: X509TrustManager?

@get:JvmName(""sslSessionContext"") val sslSessionContext: SSLSessionContext?
```

One counter point, if OkHttpClient is ever MPP, do you want X509TrustManager and SSLSessionContext as part of that API.  It's also available via socket.session.sessionContext, so mainly relevant to understand outside of an active request.

It might help to understand why X509TrustManager and SSLSocketFactory are public API, but not SSLSessionContext or SSLContext? "
square/okhttp,"Hello,

I updated from 3.14.2 to 4.0.1 today.

With 4.0.1 I cannot make a release build because the build gets stuck in the ProGuard phase, ""Optimizing (pass 1/5)"". The whole process usually takes around 10 min, I stopped after 120 minutes as it was stuck there. Cleaned up everything, restarted Android Studio, same thing.
I reverted to 3.14.2 and build is successful again.

Any idea what could cause this issue?",https://github.com/square/okhttp/issues/5324#issuecomment-517757206,"I'm not the person to help, but to get full information out, what version of proguard are you using?  "
square/okhttp,"I 've asked a question on [stackoverflow](https://stackoverflow.com/q/57308220/11265297)

The connection check takes 1 ms, but my request only takes 5ms. So speed down 1/5.
Is it possible to add a config to disable the check?",https://github.com/square/okhttp/issues/5321#issuecomment-517258382,"Thanks for raising in both places, it's useful on stackoverflow, but also a valid enhancement request.

Can you use HTTP/2?  That would avoid this logic.

We should probably consider this for https://github.com/square/okhttp/issues/4530"
square/okhttp,"Setup:
* Client using Okhttp to send delete request to a http server
* Server accepts TCP connection, but does not respond
* Client is configured with a small (~2ms) read timeout

The call to HttpRequest::newCall will throw a SocketTimeoutException (expected).
The message in the exception maybe either:
1. ""timeout""
2. ""Read timed out"" 

The stack traces for these instances are different:
1. Stems from AsyncTimeout::newTimeoutException
2. Stems from the raw socket read operation.

It appears that when ""2"" occurs the AsyncTimer thinks it as already exited (though cannot say this with confidence), and thus does not wrap the exception in one generated by okhttp - and re-throws the original exception.

Replicated in 3.12.1, 3.13.1, and 4.0.1
",https://github.com/square/okhttp/issues/5317#issuecomment-516822972,"Yeah, the timeouts fire from wherever the execution is when the time elapses.

Any action to take here?"
square/okhttp,"OkHttp version: 3.12 - 3.14 (only these version tested)
Android version: Android 5 - 8 (only these version tested)

I have a service running on AWS ElasticBeanstalk(EB) and balanced by AWS ElasticLoadBalancer(ELB) handles user uploads. HTTP works totally fine across android/ios/web/electron. Some days ago, I add HTTPS to ELB, each platform works just like before except Android with okhttp have a really low transfer speed both upload and download.
The [SSL Security Policies of ELB](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/create-https-listener.html) is configured use `FS-2018-06` and `2016-08` both have this issue (only test these two).
Currently this part code is replace by HttpsUrlConnection and have a similar speed to other platform.

The upload part code is quite simple
``` Kotlin
val rawFile = File(dataDir, ""<filename>.zip"")
val httpUrl = HttpUrl.get(""https://<domain_to_service>"")
    .newBuilder()
    .addQueryParameter(""<foo1>"", ""<bar1>"")
    .addQueryParameter(""<foo2>"", ""<bar2>"")
    .build()
val okHttpClient = OkHttpClient.Builder()
    .build()
val request = Request.Builder()
    .url(httpUrl)
    .post(RequestBody.create(MediaType.get(""application/zip""), rawFile))
    .build()
okHttpClient.newCall(request).enqueue(object: Callback {
    ...notify user transfer over...
})
```

Events, I POST a 128MB file:
```
I/System.out: 0.000 callStart
I/System.out: 0.019 dnsStart
D/libc: [NET] android_getaddrinfofornet+,hn 31(0x75736572646174),sn(),hints(known),family 0,flags 4
    [NET] android_getaddrinfofornet-, err=8
    [NET] android_getaddrinfofornet+,hn 31(0x75736572646174),sn(),hints(known),family 0,flags 1024
    [NET] android_getaddrinfofornet-, pass to proxy
    [NET] android_getaddrinfo_proxy+
D/libc: [NET] android_getaddrinfo_proxy get netid:0
D/libc: [NET] android_getaddrinfo_proxy-, success
I/System.out: 0.297 dnsEnd
I/System.out: 0.302 connectStart
I/System.out: 0.596 secureConnectStart
I/System.out: 1.342 secureConnectEnd
I/System.out: 1.359 connectEnd
    1.359 connectionAcquired
I/System.out: 8.229 requestHeadersStart
I/System.out: 8.241 requestHeadersEnd
    8.242 requestBodyStart
I/System.out: 637.926 requestBodyEnd
    637.926 responseHeadersStart
I/System.out: 646.833 responseHeadersEnd
    646.833 responseBodyStart
    646.839 responseBodyEnd
    646.840 connectionReleased
    646.840 callEnd
```

Network in Profiler, mostly at 0.4MB/s, but on other device same network is at least 3MB/s:
[first 30 seconds](https://imgur.com/hZNj7IH)",https://github.com/square/okhttp/issues/5314#issuecomment-516786075,Do you have a test URL I could hit?  Happy for you to DM me @yschimke 
square/okhttp,"Hi all,
I'm encountering a bind error whenever I use a single rotating HTTP Proxies with a high amount of threads (800).

The error comes in at about 10-16k requests to the same proxy, which is interesting because as far as I can tell, HTTP Proxy sockets are constructed the same way as normal no proxy sockets.

I'm using SmartProxy as a proxy solution right now and it happens under them, but should happen with any provider or a Squid server.

The full Stacktrace is:
```
at java.base/java.net.PlainSocketImpl.waitForConnect(Native Method)
	at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:107)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:126)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:268)
	at okhttp3.internal.connection.RealConnection.connectTunnel(RealConnection.kt:234)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:170)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:77)
	at okhttp3.internal.connection.Transmitter.newExchange$okhttp(Transmitter.kt:162)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:35)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at io.kekr.core.base.Kekr$launchCheck$1$invokeSuspend$$inlined$-addInterceptor$1.intercept(Interceptor.kt:82)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
	at okhttp3.RealCall.execute(RealCall.kt:66)
	at io.kekr.core.connection.OkHttpHelperKt$await$2$1.invokeSuspend(OkHttpHelper.kt:56)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:238)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
```

Using OkHttp 4.0.1 but also happens on 3.14.0

Thanks!",https://github.com/square/okhttp/issues/5313#issuecomment-516823789,@mcjp78 which docs did you read prior to encountering this? We wanna put documentation where it'll be useful!
square/okhttp,"use version okhttp:3.14.0

java.lang.Throwable: Explicit termination method 'close' not called
	at dalvik.system.CloseGuard.open(CloseGuard.java:223)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:224)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:171)
	at okio.Okio.sink(Okio.java:181)
	at okhttp3.internal.io.FileSystem$1.sink(FileSystem.java:49)
	at okhttp3.internal.cache.DiskLruCache$Editor.newSink(DiskLruCache.java:899)
	at okhttp3.Cache$CacheRequestImpl.<init>(Cache.java:442)
	at okhttp3.Cache.put(Cache.java:254)
	at okhttp3.Cache$1.put(Cache.java:149)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:131)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)",https://github.com/square/okhttp/issues/5282#issuecomment-510862413,Executable test case?
square/okhttp,"I use OkHttp version is 3.14.2Ôºåwhen I debugÔºåI find it will enter else block in CallServerInterceptorÔºö
```
if (requestBody.isDuplex()) {
          // Prepare a duplex body so that the application can send a request body later.
          exchange.flushRequest()
          val bufferedRequestBody = exchange.createRequestBody(request, true).buffer()
          requestBody.writeTo(bufferedRequestBody)
        } else {
          // Write the request body if the ""Expect: 100-continue"" expectation was met.
          val bufferedRequestBody = exchange.createRequestBody(request, false).buffer()
          requestBody.writeTo(bufferedRequestBody)
          bufferedRequestBody.close()
        }
```
and then it will enter `Exchange.close()`,then `bodyComplete(bytesReceived, false, true, e)`",https://github.com/square/okhttp/issues/5252#issuecomment-507040618,"Do you consume the entire response body? Please provide an executable test case! Here's one to get you started:
https://github.com/square/okhttp/blob/master/okhttp/src/test/java/okhttp3/EventListenerTest.java#L1247"
square/okhttp,"Already asked about that a long time ago and was refused :)

But before we could package cheat and use the code, now there's no more possible cheat.

That piece of code is highly optimized and very useful, it's sad to have to copy paste a bunch of things to reproduce it.

What would be missing to have that as a public API?",https://github.com/square/okhttp/issues/5248#issuecomment-506550308,What‚Äôs the use case?
square/okhttp,"I assume new tests we will increasingly write with Kotlin, particularly with some kotlin specific surface area.  So tagging the tests that should remain in Java would be useful, and migrating some to cleaner Kotlin APIs e.g. CallTest? ",https://github.com/square/okhttp/issues/5244#issuecomment-511635700,"Yikes, yeah this gets complicated.

Should we create a JavaSourceCompatibilityTest? Or a set of them? Then we don‚Äôt have to rely on the tests to have that side responsibility?"
square/okhttp,"Is it possible to add the ""$""  to the replaceAll when creating a new URI in the code below?

```
public URI uri() {
        String uri = newBuilder().reencodeForUri().toString();
        try {
            return new URI(uri);
        } catch (URISyntaxException e) {
            try {
                return URI.create(uri.replaceAll(""[\\u0000-\\u001F\\u007F-\\u009F\\p{javaWhitespace}]"", FRAGMENT_ENCODE_SET));
            } catch (Exception e2) {
                throw new RuntimeException(e);
            }
        }
    }
```


We have a library, that uses OkHttp crashing our android app because one of their customers is providing the following buggy URL: "" https://${imp_tracker_1}/"".

We have debugged the code and it's throwing an exception at the second Catch of the function above. Since $ is a reserved character for URI and does nothing I think it would be a good idea to have it treated when trying to create a new URI.",https://github.com/square/okhttp/issues/5236#issuecomment-519373375,"@swankjesse Do we want to make HttpUrl stricter for the host?  Or just send through an incomplete but passing host?  What about http://$/?

```
  @Test public void hostContainsIllegalCharacter() throws Exception {
    assertInvalid(""http://\n/"", ""Invalid URL host: \""\n\"""");
    assertInvalid(""http:// /"", ""Invalid URL host: \"" \"""");
    assertInvalid(""http://%20/"", ""Invalid URL host: \""%20\"""");
    // added here
    assertInvalid(""http://$/"", ""Invalid URL host: \""%20\"""");
  }
```
Or is there some sensible encoding to pass to URI constructor?

Specifically that catch block is documented as handling the fragment, which I accept for stripping.  But this case involves a $ in the host.
"
square/okhttp,"I am using  implementation 'com.squareup.okhttp3:okhttp:3.11.0' 
and after I upgrade to 3.14.2 I got the following issue. all the api is not work with the following issue. How can I do with this to jump this issue. 
I am using android studio 3.4.1 and I am in Shanghai of China.
HTTP FAILED: javax.net.ssl.SSLHandshakeException: Handshake failed.

Hope hear soon from u. 

following is my script:
    implementation 'com.google.code.gson:gson:2.8.2'
        implementation('com.squareup.retrofit2:retrofit:2.6.0') {
        // exclude Retrofit‚Äôs OkHttp peer-dependency module and define your own module import
        exclude module: 'okhttp'
    }
    implementation 'com.squareup.okhttp3:okhttp:3.14.2'",https://github.com/square/okhttp/issues/5232#issuecomment-508971267,"Can you raise this on stackoverflow with a working example? It's often environmental e.g. phone, server, tls version/cipher related.

If you can make a reproduction as a test case for OkHttp then reopen here."
square/okhttp,"http://square.github.io/okhttp/events/

<img width=""379"" alt=""image"" src=""https://user-images.githubusercontent.com/231923/59973218-6d1fa680-9594-11e9-8c13-97ff18f12b0a.png"">

Between callStart and dns event there is likely a thread context switch.  Awkwardly there are API interactions, e.g. the Proxy selection which is essentially implicit here.  This event is hidden from event listeners.

I'd like to be able to make decisions in a ProxySelector based on the active call, but it's not easy to track either through direct API parameters or implicitly via the associated call/thread etc.

```
        at ee.schimke.okhttp.android.factory.AndroidProxySelector.select(AndroidProxySelector.kt:12)
        at okhttp3.internal.connection.RouteSelector.resetNextProxy(RouteSelector.java:115)
        at okhttp3.internal.connection.RouteSelector.<init>(RouteSelector.java:63)
        at okhttp3.internal.connection.ExchangeFinder.<init>(ExchangeFinder.java:75)
        at okhttp3.internal.connection.Transmitter.prepareToConnect(Transmitter.java:138)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:79)
``` 

Options

1) a OkHttp Proxy API with this information
2) add events around Proxy selection to EventListener

Why should we care?

1) At least on Android multiple networks might have different proxies e.g. Cellular is direct, Wifi has a corporate proxy.
2) Proxy selection is an ""interesting"" event we aren't tracking. ",https://github.com/square/okhttp/issues/5230#issuecomment-511639253,"Cool. Maybe this?

```
/**
 * Invoked prior to a proxy selection.
 *
 * This will be invoked for route selection regardless of whether the client
 * is configured with a single proxy, a proxy selector, or neither.
 * 
 * @param url a URL with only the scheme, hostname, and port specified.
 */
open fun proxySelectStart(call: Call, url: HttpUrl)

/**
 * Invoked after proxy selection.
 * 
 * Note that the list of proxies is never null, but it may be a list containing
 * only [Proxy.NO_PROXY]. This comes up in several situations:
 * 
 * * If neither a proxy nor proxy selector is configured.
 * * If the proxy is configured explicitly as [Proxy.NO_PROXY].
 * * If the proxy selector returns only [Proxy.NO_PROXY].
 * * If the proxy selector returns an empty list or null.
 *
 * Otherwise it lists the proxies in the order they will be attempted.
 * 
 * @param url a URL with only the scheme, hostname, and port specified.
 */
open fun proxySelectEnd(call: Call, url: HttpUrl, proxies: List<Proxy>)
```"
square/okhttp,"
1¬†java.util.Collections$EmptyList.get(Collections.java:4514)
--
2¬†okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:326)
3¬†okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:283)
4¬†okhttp3.internal.connection.RealConnection.connect(RealConnection.java:168)
5¬†okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
6¬†okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
7¬†okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
8¬†okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
9¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
10¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
11¬†okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
12¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
13¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
14¬†okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
15¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
16¬†okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
17¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
18¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
19¬†okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)
20¬†okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)
21¬†okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
22¬†java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
23¬†java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
24¬†java.lang.Thread.run(Thread.java:784)


",https://github.com/square/okhttp/issues/5204#issuecomment-503828149,Which version are you using? Please paste test case or your branch URL that can reproduce the error.
square/okhttp,"One is deprecated, the other doesn't compile...

<img width=""609"" alt=""image"" src=""https://user-images.githubusercontent.com/231923/59740359-c8cdf500-925f-11e9-91bc-103f753bed65.png"">
",https://github.com/square/okhttp/issues/5199#issuecomment-511639710,I assume Good Kotlin Style is `.apply` ?
square/okhttp,"In last weeks our CI running instrumented tests on Android 4.x has become unstable. I'm getting native crashes similar to https://github.com/square/okhttp/issues/1763 and https://github.com/square/okhttp/issues/1632 but with using OkHttp `v3.12.0`  (also validated `v3.12.3`):

Symbolicated trace:

```
********** Crash dump: **********
Build fingerprint: 'motorola/victara_reteu/victara:4.4.4/KXE21.187-42/41:user/release-keys'
Abort message: 'invalid address or address of corrupt block 0x73e738e0 passed to dlfree'
#00 0x000118b4 /system/lib/libc.so (dlfree+1191)
#01 0x0000dd4b /system/lib/libc.so (free+10)
#02 0x000c5585 /system/lib/libcrypto.so (CRYPTO_free+24)
#03 0x0002f6bf /system/lib/libssl.so (ssl_parse_serverhello_tlsext+738)
#04 0x000182c1 /system/lib/libssl.so (ssl3_get_server_hello+1008)
#05 0x000176bf /system/lib/libssl.so (ssl3_connect+566)
#06 0x00027f4b /system/lib/libssl.so (SSL_do_handshake+50)
#07 0x0000af49 /system/lib/libjavacrypto.so
#08 0x000203cc /system/lib/libdvm.so (dvmPlatformInvoke+112)
#09 0x00050ef3 /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+398)
#10 0x00029860 /system/lib/libdvm.so
#11 0x00030b68 /system/lib/libdvm.so (dvmMterpStd(Thread*)+76)
#12 0x0002e200 /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+184)
#13 0x00063519 /system/lib/libdvm.so (dvmCallMethodV(Thread*, Method const*, Object*, bool, JValue*, std::__va_list)+336)
#14 0x0006353d /system/lib/libdvm.so (dvmCallMethod(Thread*, Method const*, Object*, JValue*, ...)+20)
#15 0x0005820b /system/lib/libdvm.so
#16 0x0000d2b0 /system/lib/libc.so (__thread_entry+72)
#17 0x0000d448 /system/lib/libc.so (pthread_create+240)
Crash dump is completed
```

Any guidance how to resolve/workaround this issue?",https://github.com/square/okhttp/issues/5198#issuecomment-503243636,"Looks similar to https://github.com/square/okhttp/issues/2679

Did your server recently start using ECC certificates? Looks similar to this crash
https://bugzilla.redhat.com/show_bug.cgi?id=1127498"
square/okhttp,"Hi,

I've got problem OkHttpClient. 
Cellular data on, WIFI connected. Application reqests HTTPS and everything works perfect. When WIFI lose connection (still on) app link through cellular and works ok. The problem is when phone connect back to this WIFI
{java.net.UnknownHostException: Unable to resolve host: No address associated with hostname}

The only solution is to restart app, but I try to do this using JobScheduler and it have to work in backgroud.

```
    var vProtokoly : java.Util.List<Protocol> := new java.util.ArrayList<Protocol>;
    var vUprawnienia : RemObjects.Elements.RTL.String;
    var Wywolanie : Request;
    var Odpowiedz : Response;

    vProtokoly.add(Protocol.HTTP_1_1);
    vUprawnienia := okhttp3.Credentials.basic('some', 'credentials');

    Http := new OkHttpClient.Builder()
		.connectTimeout(15,java.util.concurrent.TimeUnit.SECONDS)
		.writeTimeout(20,java.util.concurrent.TimeUnit.SECONDS)
		.readTimeout(20,java.util.concurrent.TimeUnit.SECONDS)
		.retryOnConnectionFailure(false)
		.protocols(vProtokoly)
		.proxy(Proxy.NO_PROXY)
		//.socketFactory(android.net.Network.getSocketFactory())
		.build();
    Http.ConnectionPool.evictAll;

           Wywolanie :=  new okhttp3.Request.Builder().url(Parametry.Uri).header('Authorization',vUprawnienia).build();
        Odpowiedz := Http.newCall(Wywolanie).execute;

```",https://github.com/square/okhttp/issues/5170#issuecomment-499101750,"@LHeczko I am new to this project, Can I start with this as my first issue? "
square/okhttp,"Yes, I'm using the ProGuard rules from readme.

```
Warning: okhttp3.internal.platform.ConscryptPlatform$configureTrustManager$1: ca
n't find superclass or interface org.conscrypt.ConscryptHostnameVerifier
Warning: okhttp3.Authenticator$Companion$NONE$1: can't find referenced class okh
ttp3.Authenticator$DefaultImpls
Warning: okhttp3.Authenticator$Companion$NONE$1: can't find referenced class okh
ttp3.Authenticator$DefaultImpls
Warning: okhttp3.CookieJar$Companion$NO_COOKIES$1: can't find referenced class o
khttp3.CookieJar$DefaultImpls
Warning: okhttp3.CookieJar$Companion$NO_COOKIES$1: can't find referenced class o
khttp3.CookieJar$DefaultImpls
Warning: okhttp3.Dns$Companion$SYSTEM$1: can't find referenced class okhttp3.Dns
$DefaultImpls
Warning: okhttp3.Dns$Companion$SYSTEM$1: can't find referenced class okhttp3.Dns
$DefaultImpls
Warning: okhttp3.internal.http2.PushObserver$Companion$CANCEL$1: can't find refe
renced class okhttp3.internal.http2.PushObserver$DefaultImpls
Warning: okhttp3.internal.http2.PushObserver$Companion$CANCEL$1: can't find refe
renced class okhttp3.internal.http2.PushObserver$DefaultImpls
Warning: okhttp3.internal.io.FileSystem$Companion$SYSTEM$1: can't find reference
d class okhttp3.internal.io.FileSystem$DefaultImpls
Warning: okhttp3.internal.io.FileSystem$Companion$SYSTEM$1: can't find reference
d class okhttp3.internal.io.FileSystem$DefaultImpls
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt$Version
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt$Version
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt$Version
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt$Version
Warning: okhttp3.internal.platform.ConscryptPlatform$Companion: can't find refer
enced class org.conscrypt.Conscrypt$Version
Warning: okhttp3.internal.platform.ConscryptPlatform$configureTrustManager$1: ca
n't find referenced class org.conscrypt.ConscryptHostnameVerifier
```",https://github.com/square/okhttp/issues/5167#issuecomment-499854128,"@laalto oooh, thanks for the heads up. What's your ProGuard version? We saw a similar issue with Okio.
https://github.com/square/okio/issues/516"
square/okhttp,"I just tried out the latest alpha to see what would be required for the migration and found an incompatiblity! `Call.clone` is not accessible anymore, since it is `protected` now. `RealCall` simply `overrides` the method, without adjusting the visiblity to `public`.

This comes from Kotlin code. I see that OkHttp has Java tests which call `clone`, so I'm not sure why it works in Java, but not in Kotlin.",https://github.com/square/okhttp/issues/5161#issuecomment-499374166,"### Proposal
1. Override `clone()` with `public` visibility modifier.
I guess Kotlin allows us to _modify_  the visibility of overridden function.
e.g. `public override fun clone(): Call`
I can't find the spec for overridden visibility modifier in [Kotlin-spec#inheritance-delegation](https://kotlin.github.io/kotlin-spec/#inheritance-delegation) though...

2. Depricate `clone()` and define a new equivalent function.
Since the visibility of `Cloneable#close()` is defined `protected` in Kotlin, it's probably more Kotlin-ish way to maintain its default visibility. But we can't avoid this API-breaking change.
 
@swankjesse Which one is good for us? Or neither of them is nice?"
square/okhttp,"We got the security issue in the okhttp.
With the IBM Application Security, we got the following trace. Please check



javax.net.ssl.SSLParameters.setCipherSuites(java.lang.String[]):void | SSLParameters | (javax\net\ssl\SSLParameters.java:140)
-- | -- | --
[Framework Code, 8 lines removed] | ... | (...)
com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake():void | OpenSSLSocketImpl | (com\android\org\conscrypt\OpenSSLSocketImpl.java:351)
okhttp3.internal.connection.RealConnection.connectTls(okhttp3.internal.connection.ConnectionSpecSelector):void | RealConnection | (okhttp3\internal\connection\RealConnection.java:318)
okhttp3.internal.connection.RealConnection.establishProtocol(okhttp3.internal.connection.ConnectionSpecSelector, int, okhttp3.Call, okhttp3.EventListener):void | RealConnection | (okhttp3\internal\connection\RealConnection.java:282)
okhttp3.internal.connection.RealConnection.connect(int, int, int, int, boolean, okhttp3.Call, okhttp3.EventListener):void | RealConnection | (okhttp3\internal\connection\RealConnection.java:167)
okhttp3.internal.connection.StreamAllocation.findConnection(int, int, int, int, boolean):okhttp3.internal.connection.RealConnection | StreamAllocation | (okhttp3\internal\connection\StreamAllocation.java:257)
okhttp3.internal.connection.StreamAllocation.findHealthyConnection(int, int, int, int, boolean, boolean):okhttp3.internal.connection.RealConnection | StreamAllocation | (okhttp3\internal\connection\StreamAllocation.java:135)
okhttp3.internal.connection.StreamAllocation.newStream(okhttp3.OkHttpClient, okhttp3.Interceptor.Chain, boolean):okhttp3.internal.http.HttpCodec | StreamAllocation | (okhttp3\internal\connection\StreamAllocation.java:114)
okhttp3.internal.connection.ConnectInterceptor.intercept(okhttp3.Interceptor.Chain):okhttp3.Response | ConnectInterceptor | (okhttp3\internal\connection\ConnectInterceptor.java:42)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:121)
okhttp3.internal.cache.CacheInterceptor.intercept(okhttp3.Interceptor.Chain):okhttp3.Response | CacheInterceptor | (okhttp3\internal\cache\CacheInterceptor.java:93)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:121)
okhttp3.internal.http.BridgeInterceptor.intercept(okhttp3.Interceptor.Chain):okhttp3.Response | BridgeInterceptor | (okhttp3\internal\http\BridgeInterceptor.java:93)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(okhttp3.Interceptor.Chain):okhttp3.Response | RetryAndFollowUpInterceptor | (okhttp3\internal\http\RetryAndFollowUpInterceptor.java:126)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:121)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:121)
okhttp3.logging.HttpLoggingInterceptor.intercept(okhttp3.Interceptor.Chain):okhttp3.Response | HttpLoggingInterceptor | (okhttp3\logging\HttpLoggingInterceptor.java:212)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request, okhttp3.internal.connection.StreamAllocation, okhttp3.internal.http.HttpCodec, okhttp3.internal.connection.RealConnection):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:147)
okhttp3.internal.http.RealInterceptorChain.proceed(okhttp3.Request):okhttp3.Response | RealInterceptorChain | (okhttp3\internal\http\RealInterceptorChain.java:121)
okhttp3.RealCall.getResponseWithInterceptorChain():okhttp3.Response | RealCall | (okhttp3\RealCall.java:200)
okhttp3.RealCall.AsyncCall.execute():void | RealCall$AsyncCall | (okhttp3\RealCall.java:147)
okhttp3.internal.NamedRunnable.run():void | NamedRunnable | (okhttp3\internal\NamedRunnable.java:32)
java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor.Worker):void | ThreadPoolExecutor | (java\util\concurrent\ThreadPoolExecutor.java:1162)
java.util.concurrent.ThreadPoolExecutor.Worker.run():void | ThreadPoolExecutor$Worker | (java\util\concurrent\ThreadPoolExecutor.java:636)
java.lang.Thread.run():void | Thread | (java\lang\Thread.java:764)



Please check this and let us know. We are using, 
implementation 'com.squareup.retrofit2:retrofit:2.1.0'
implementation 'com.squareup.okhttp3:logging-interceptor:3.4.1'",https://github.com/square/okhttp/issues/5148#issuecomment-498212716,What's the headline on the exception?
square/okhttp,"Using:
com.squareup.retrofit2:retrofit:2.5.0   (okhttp version:3.12.0)

When I using EventListener, I found the ""callEnd"" and ""responseBodyEnd""  method is not be called

okhttp/okhttp/src/main/java/okhttp3/internal/http2/Http2Codec.java 

```Java
@Override public long read(Buffer sink, long byteCount) throws IOException {
      try {
        long read = delegate().read(sink, byteCount);
        if (read > 0) {
          bytesRead += read;
        }

        //Here! I think need add some code like this:
        if(read == -1){
            endOfInput(null);
        }

        return read;
      } catch (IOException e) {
        endOfInput(e);
        throw e;
      }
}
```

",https://github.com/square/okhttp/issues/5143#issuecomment-497303629,Try 3.14.2?
square/okhttp,"I think some of the advanced usage of kotlin is tripping up graal.  But it seems worthwhile to support particularly in the serverless space.

https://github.com/square/okhttp/pull/5125

Currently failing for me with

```
$  ./gradlew :okcurl:nativeImage

> Task :okhttp:compileKotlin
e: /Users/yuri/workspace/okhttp/okhttp/src/main/java/okhttp3/internal/Internal.kt: (30, 1): Conflicting overloads: public fun parseCookie(currentTimeMillis: Long, url: HttpUrl, setCookie: String): Cookie? defined in okhttp3.internal in file Internal.kt, public fun parseCookie(currentTimeMillis: Long, url: HttpUrl, setCookie: String): Cookie? defined in okhttp3.internal in file internal.kt
```",https://github.com/square/okhttp/issues/5126#issuecomment-502329110,Most likely a Kotlin+Graal issue we‚Äôre victim to?
square/okhttp,"Hi there, I am trying to use okhttp but run into security permissions. It failed at ProxySelector getDefault with SecurityManager checkPermission on ""getProxySelector"". 

For any case if getDefault throws exception, I think we should fall into NullProxySelector.

 ` this.proxySelector = ProxySelector.getDefault();`
  ` if (this.proxySelector == null) {`
 `               this.proxySelector = new NullProxySelector();`
   `         }`




 
",https://github.com/square/okhttp/issues/5074#issuecomment-494198663,Are you really sure you need a SecurityManager?
square/okhttp,"java.net.SocketException: Socket closed
        at com.android.org.conscrypt.NativeCrypto.SSL_read(Native Method)
        at com.android.org.conscrypt.OpenSSLSocketImpl$SSLInputStream.read(OpenSSLSocketImpl.java:811)
        at okio.Okio$2.read(Okio.java:140)
        at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)
        at okio.RealBufferedSource.request(RealBufferedSource.java:72)
        at okio.RealBufferedSource.require(RealBufferedSource.java:65)
        at okio.RealBufferedSource.readByte(RealBufferedSource.java:78)
        at okhttp3.internal.ws.WebSocketReader.readHeader(WebSocketReader.java:117)
        at okhttp3.internal.ws.WebSocketReader.processNextFrame(WebSocketReader.java:101)
        at okhttp3.internal.ws.RealWebSocket.loopReader(RealWebSocket.java:273)
        at okhttp3.internal.ws.RealWebSocket$1.onResponse(RealWebSocket.java:209)
        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)
        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
        at java.lang.Thread.run(Thread.java:818)
",https://github.com/square/okhttp/issues/5056#issuecomment-493811963,This looks like a normal exception that should be expected when invoking cancel. Perhaps we need an `isCanceled` to check in `onFailure`?
square/okhttp,"It would be good to know how the okhttp community wants new contributors to proceed, preferably as a typical CONTRIBUTING doc alongside the README. 

A decent template can be found here: https://github.com/nayafia/contributing-template

A good real-world example can be seen here: https://github.com/chef/chef/blob/master/CONTRIBUTING.md
",https://github.com/square/okhttp/issues/5049#issuecomment-493711288,"Hey Jesse, not to keep bringing up the subject, but would it be worth including what you mentioned above either in the project read me, or perhaps on the OKHttp site, or link the <a href=""https://square.github.io/okhttp/#contributing"">contributing</a> portion of the site in the readme?

Thanks for your time and feedback."
square/okhttp,"this bug always exists!   but can not repeat it, maybe can add protecting code to avoid exception ...

java.lang.IndexOutOfBoundsException: Index: 0
java.util.Collections$EmptyList.get(Collections.java:4502)
at okhttp3.internal.connection.RealConnection.connectTls(SourceFile:326)
at okhttp3.internal.connection.RealConnection.establishProtocol(SourceFile:283)
at okhttp3.internal.connection.RealConnection.connect(SourceFile:168)
at okhttp3.internal.connection.StreamAllocation.findConnection(SourceFile:257)
at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(SourceFile:135)
at okhttp3.internal.connection.StreamAllocation.newStream(SourceFile:114)
at okhttp3.internal.connection.ConnectInterceptor.intercept(SourceFile:42)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:147)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:121)
at okhttp3.internal.cache.CacheInterceptor.intercept(SourceFile:93)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:147)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:121)
at okhttp3.internal.http.BridgeInterceptor.intercept(SourceFile:93)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:147)
at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(SourceFile:126)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:147)
at okhttp3.internal.http.RealInterceptorChain.proceed(SourceFile:121)
at okhttp3.RealCall.getResponseWithInterceptorChain(SourceFile:254)
at okhttp3.RealCall$AsyncCall.execute(SourceFile:200)
at okhttp3.internal.NamedRunnable.run(SourceFile:32)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
at java.lang.Thread.run(Thread.java:784)
",https://github.com/square/okhttp/issues/5029#issuecomment-491174888,"Is your okhttp version too old?
The latest version has been protected:
`RealConnection.connectTls()`
```
        if (!peerCertificates.isEmpty()) {
          X509Certificate cert = (X509Certificate) peerCertificates.get(0);
```
Try 3.13.0 and later version"
square/okhttp,"I think this is probably a bug in my client code, but it's a new behaviour so flagging anyway

https://github.com/yschimke/okurl/blob/5a40144ff173e055d60a67f0c51df1ccad07a419/src/main/kotlin/com/baulsupp/okurl/authenticator/RenewingInterceptor.kt#L34

```
Apr 27, 2019 9:25:20 AM com.baulsupp.cooee.ProdAppServices$client$1$1 log
INFO: [33 ms] requestHeadersStart
Apr 27, 2019 9:25:20 AM com.baulsupp.cooee.ProdAppServices$client$1$1 log
INFO: [33 ms] requestHeadersEnd
Apr 27, 2019 9:25:20 AM com.baulsupp.cooee.ProdAppServices$client$1$1 log
INFO: [34 ms] responseHeadersStart
Apr 27, 2019 9:25:20 AM com.baulsupp.cooee.ProdAppServices$client$1$1 log
INFO: [2835 ms] connectionReleased
Apr 27, 2019 9:25:20 AM com.baulsupp.cooee.ProdAppServices$client$1$1 log
INFO: [2836 ms] callEnd
Exception in thread ""OkHttp Dispatcher"" java.lang.IllegalStateException: cannot make a new request because the previous response is still open: please call response.close()
	at okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:164)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
	at com.baulsupp.okurl.authenticator.RenewingInterceptor$intercept$1.invokeSuspend(RenewingInterceptor.kt:34)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:238)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.kt:116)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:80)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:54)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:36)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at com.baulsupp.okurl.authenticator.RenewingInterceptor.intercept(RenewingInterceptor.kt:28)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:221)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
```",https://github.com/square/okhttp/issues/4986#issuecomment-507099599,Would you share what caused this? I just now encountered the same problem.
square/okhttp,"We need to clean up resources in some interceptors when a call is canceled. To be specific, we want to release some resources when Call$cancel() is called. Please let us know if there is an existing way to do this. 

We could not find a way to do it after exploring and browsing the code base. Since the RealCall class is final, it cannot be extended to modify the behavior of cancel(). We have a proposal that is noninvasive and would like to upstream. 

- Modify Call interface to expose a method ""addCancelCallback(CancelCallback cancelCallback)"" and add a CancelCallback interface with onCancelled(). 
- The RealCall$cancel() will be modified to make call to CancelCallback$onCancelled()

The detailed changes are listed at https://gist.github.com/nsivabalan/58ddf3cac8711ab886824a7043dec2f0

Thanks

James",https://github.com/square/okhttp/issues/4984#issuecomment-487250081,"You could use a custom `Call.Factory` to create a delegating `Call` that just reports `cancel()` calls right?

```kotlin
class CallWithListener(private val delegate: Call) : Call by delegate {

  private var cancelCallback: (() -> Unit)? = null

  fun addCancelCalback(cancelCallback: () -> Unit) {
    this.cancelCallback = cancelCallback
  }

  override fun cancel() {
    delegate.cancel()
    cancelCallback?.invoke()
  }
}

fun callFactorySample() {
  
  val delegate = OkHttpClient.Builder().build()
  
  val decoratingFactory = object : Factory {
    override fun newCall(request: Request): Call {
      return CallWithListener(delegate.newCall(request))
          .also { 
            it.addCancelCalback { 
              // Implement callback here?
            }
          }
    }
  }

  // Retrofit or something similar
  Retrofit.Builder()
      .callFactory(decoratingFactory)
      // ...
      .build()
}
```"
square/okhttp,"must reconnect to wifi or restart your app to get back to normal after a problem occurs.
",https://github.com/square/okhttp/issues/4981#issuecomment-487202723,Executable test case?
square/okhttp,"When using R8 (Android shrinker) the following warnings are produced on build. These are harmless and won't fail to the build but it would be nice get rid of these.

```
AGPBI: {""kind"":""warning"",""text"":""Type `org.conscrypt.Conscrypt` was not found, it is required for default or static interface methods desugaring of `java.security.Provider okhttp3.internal.platform.ConscryptPlatform.getProvider()`"",""sources"":[{""file"":""/Projects/Wez/NextEpisode/app/build/intermediates/transforms/FirebasePerformancePlugin/debug/80/okhttp3/internal/platform/ConscryptPlatform.class""}],""tool"":""D8""}
AGPBI: {""kind"":""warning"",""text"":""synthesized for lambda desugaring: Type `okhttp3.Dns$-CC` was not found, it is required for default or static interface methods desugaring of `java.util.List okhttp3.-$$Lambda$Dns$mTkNcZf2K4euny3_jks6Cac6Az0.lookup(java.lang.String)`"",""sources"":[{}],""tool"":""D8""}
AGPBI: {""kind"":""warning"",""text"":""synthesized for lambda desugaring: Type `okhttp3.Authenticator$-CC` was not found, it is required for default or static interface methods desugaring of `okhttp3.Request okhttp3.-$$Lambda$Authenticator$xBBU2iHkJpDKH0vhaB2vteUyEoc.authenticate(okhttp3.Route, okhttp3.Response)`"",""sources"":[{}],""tool"":""D8""}
```",https://github.com/square/okhttp/issues/4975#issuecomment-487203527,Any idea how we get rid of these?
square/okhttp,"OkHttpClient.kt uses java.util.Random in the newWebSocket() method. java.util.Random is considered cryptically insecure due to the predictability of Linear Congruential Generators (LCGs). An attacker may be able to calculate the seed the number was generated by the use of Brute Force attacks as the class does generate enough entropy to truly be random.

Java includes a class named SecureRandom or java.util.SecureRandom to address this vulnerability and should be used in all instances where Random is used. The Random Number Generator (RNG) used for SecureRandom is considered stronger as it compiles based on a truly random pattern.",https://github.com/square/okhttp/issues/4974#issuecomment-500857087,"> It's super useless, but the spec mandates we do it.
How does the spec mandate that you use java.util.Random? java.security.SecureRandom extends Random and can be used as drop-in replacement.
Even though this is not a security issue, the finding is reported by static analysis tools and might prevent the adoption of okhttp in enterprise projects.

"
square/okhttp,"Most of our clients are receiving this kind of exceptions per our logs.

![1](https://user-images.githubusercontent.com/1249919/56342297-a882ab00-61c8-11e9-8b31-86638e68005b.PNG)
![2](https://user-images.githubusercontent.com/1249919/56342298-a882ab00-61c8-11e9-9731-778f83885fff.PNG)

What they complain about is that data is uploaded to the server but mobile still shows as not uploaded. I have researched a bit and found that okHttp is retrying requests on connection failure and guess it is related to this topic. I can't create a case while debugging the app. I have tried to connect to 10.10.10.1, it is getting socket timeout, but it seems that okhttp doesn't retry this request. It just returns on this line `if (!streamAllocation.hasMoreRoutes()) return false;` (**okhttp v3.12.1**). I can't see any logs on retrying in logcat or stetho. How to reproduce this case? Should okHttp retry in this case? Will disabling retry help in this case?",https://github.com/square/okhttp/issues/4963#issuecomment-484466080,Is this a bug report? I think you wanna ask on StackOverflow.
square/okhttp,"I know that **okhttp** now have already supported `h2-prior-knowledge`.

However, it is still inconvenient to use, because `h2_prior_knowledge` cannot be used with other protocols at the same time.

In my project, I use **okhttp** to access the REST APIs of other modules inside the project. Because the project will eventually be deployed on the intranet, there is no incentive to use https. At the same time, I need to use **okhttp** to access some external resources on the Internet. At this time, I have to instantiate two `OkHttpClient`s. It is very inconvenient to always pay attention to which one to access which resource.

If **okhttp** supports `h2c`, it will be very convenient to be compatible with both `h2` and `http/1.1` servers.
And it also matches the spirit of **okhttp** that recommending only one `OkHttpClient`.",https://github.com/square/okhttp/issues/4951#issuecomment-483118599,"This seems like a reasonable request, but may not be a sufficient concern to get added in.  I'll let others weigh in on that.

One thing I'm curious about though is whether you consider these internal services to be production?  I can understand HTTP for development reasons, but I would expect even internally that most deployed software would use internal CAs etc and run traffic over secure connections?  To protect user tokens, content, passwords and also for benefit of things like HTTP/2.  HTTP/2 doesn't work generally over plaintext, e.g. in browsers and I believe a big part of that design is the expectation of HTTPS as a baseline since it's usually available internally even for small intranet sites at small companies."
square/okhttp,"`mvn springboot:run`  is ok.

`java -jar target/*.jar`  error.
```
Exception in thread ""OkHttp Dispatcher"" java.lang.NullPointerException
        at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:570)
        at okhttp3.internal.ws.RealWebSocket$1.onResponse(RealWebSocket.java:211)
        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)
        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
2019-04-09 23:28:10.123  INFO 41265 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-04-09 23:28:10.320  INFO 41265 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'

```",https://github.com/square/okhttp/issues/4919#issuecomment-482810248,OkHttp version?
square/okhttp,"Hi,

After searching google, Github issue etc..., I didn't find the answer to resolve this issue.
I found the #4322 and this is only because of the cache.

React Native: 59+
buildToolsVersion: 28.03
minSdkVersion: 16
compileSdkVersion: 28
targetSdkVersion: 28
Gradle: 3.3.1

- This error comes wit ADB install signed apk package on a REAL device.
- Debugging and release run in react native works without problem.

Error:
```
04-09 16:53:02.841 22070 22093 E AndroidRuntime: FATAL EXCEPTION: mqt_native_modules
04-09 16:53:02.841 22070 22093 E AndroidRuntime: Process: com.app_app, PID: 22070
04-09 16:53:02.841 22070 22093 E AndroidRuntime: java.lang.IllegalArgumentException: Expected URL scheme 'http' or 'https' but no colon was found
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at okhttp3.HttpUrl$Builder.parse(HttpUrl.java:1333)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at okhttp3.HttpUrl.get(HttpUrl.java:916)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at okhttp3.Request$Builder.url(Request.java:165)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.modules.websocket.WebSocketModule.connect(WebSocketModule.java:93)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at java.lang.reflect.Method.invoke(Native Method)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.bridge.JavaMethodWrapper.invoke(JavaMethodWrapper.java:372)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.bridge.JavaModuleWrapper.invoke(JavaModuleWrapper.java:158)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at android.os.Handler.handleCallback(Handler.java:789)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at android.os.Handler.dispatchMessage(Handler.java:98)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:29)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at android.os.Looper.loop(Looper.java:164)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:232)
04-09 16:53:02.841 22070 22093 E AndroidRuntime: 	at java.lang.Thread.run(Thread.java:764)
04-09 16:53:02.856 22070 22075 I zygote64: Do partial code cache collection, code=236KB, data=142KB
04-09 16:53:02.857 17048 25342 W ActivityManager:   Force finishing activity com.app_app/.MainActivity
04-09 16:53:02.857 22070 22075 I zygote64: After code cache collection, code=231KB, data=140KB
04-09 16:53:02.857 22070 22075 I zygote64: Increasing code cache capacity to 1024KB
04-09 16:53:02.863 17048 17163 I ActivityManager: Showing crash dialog for package com.app_app u0```
",https://github.com/square/okhttp/issues/4918#issuecomment-481723639,Executable test case?
square/okhttp,"We created an EventListener implementation to collect metrics data for insights.
We collect the data and thru a helper class we push it fire-and-forget to a dedicated api on our back-end.

On dev environments (debug run) and unit tests (mocked apps) we are able to successfully collect insights data (all EventListener methods get called).
On staging and prod environments, we have cases where:
a- `callStart()`, `dnsStart()`, `dnsEnd()`, `connectStart()` were called, **but** `secureConnectStart()` nor `secureConnectEnd()` nor `connectEnd()` nor `connectFailed()` nor `connectionAcquired()` were called
b- `callStart()` to `responseHeadersEnd()` were called, **but** `responseBodyStart()` nor `responseBodyEnd()` nor `connectionReleased()` nor `callEnd()` were called

For all the cases:
- okHttp v3.11.0 on dev, staging & prod
- okHttp v3.12.x was also tested (dev and staging) with the same behavior
- we call secured endpoints (https with valid TLS certificates) 
- the app has no weird functioning (no missed responses from backend nor missing payload from responses) 
- presence of `HttpLoggingInterceptor` in the interceptor chain (enabled or not) makes no difference (at least not worse)

Here you can take a look at the two classes that handle the collect and push the metrics:
https://gist.github.com/rkuzner/1b2e2224c4586fc7d0eb390f5f59632f",https://github.com/square/okhttp/issues/4917#issuecomment-482810676,Can you make this into an executable test case? I suspect it‚Äôs more likely to be an issue with your environments (prod vs. staging vs. test) than with OkHttp.
square/okhttp,"I have an android application and I am trying to make an http/2 call with okHttp version 3.13.1, in my case for one request I will be receiving two responses sequentially separated by a time interval of 4 seconds from the server, but with the okHttp client integrated in my android application, I am getting only one response and if I try to send the same request using curl command I am able to receive two responses sequentially from the server.

Is there a way to handle multiple responses for a single http/2 request with OKHttp in android?

I tried various ways, but no luck:( Would be more than happy, if anyone could provide your inputs.

Thanks for your help and time in advance!!!",https://github.com/square/okhttp/issues/4885#issuecomment-480465450,HTTP/2 cache push?
square/okhttp,"After upgrading our android app from okhttp 3.12.2 to 3.14.0, we started seeing this error (stacktrace below) coming through Crashlytics in production at a very high rate. Because we upgraded directly from 3.12 to 3.14, I'm not sure if this error was introduced in 3.13 or 3.14.

With an admittedly small sample size, the crash was affecting over 10% of sessions and over 20% of users, so we were forced to roll back. It appeared across Android versions 7, 8, 9, and Q.

Unfortunately, I wasn't able to reproduce it locally. However, it seems very similar to this issue from 2 years ago, which appears to have been re-introduced to the library: https://github.com/square/okhttp/issues/3308

I am not sure if this is related but we are compiling our app with R8 version 1.4.72

Our app uses Java 8, min SDK 21, and the latest version of retrofit (2.5.0).

Hopefully this information and the stack trace below is enough to be helpful, apologies for not being able to include a reproducible case outside of production.

Thank you for the amazing library and everything you do for android open source!

```
Fatal Exception: java.util.NoSuchElementException
       at okhttp3.internal.connection.RouteSelector.next(RouteSelector.java:75)
       at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:187)
       at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.java:107)
       at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.java:87)
       at okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:162)
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
       at com.redacted.myapp.MyNetworkingModule.doRequestWithExceptionCatching(MyNetworkingModule.java:150)
       at com.redacted.myapp.MyNetworkingModule.lambda$provideOkhttpClient$0(MyNetworkingModule.java:99)
       at com.redacted.myapp.-$$Lambda$MyNetworkingModule$f9YhFuxMEYBUFTv_jyu3YSQWZX8.intercept(-.java:2)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:221)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
       at java.lang.Thread.run(Thread.java:764)
```",https://github.com/square/okhttp/issues/4875#issuecomment-480124213,Just because it might help to isolate the problem ‚Äì does your interceptor retry requests? The stacktrace suggests something like that might be the underlying cause.
square/okhttp,"We have requirement to use sha512 digest for certificate pinning, and we have that in legacy code based on good old TrustManager. We planned to migrate it to okhttp. However the `CertificatePinner` in okhttp supports sha1 and sha256 only. 

On the other hand, `CertificatePinner` does not have extensibility in mind, so I cannot extend the class for additional type of digest. The simplest way to get out of the situation seems to be enhancing the `CertificatePinner` directly. If there is no fundamental cause to avoid sha512 digest, i am happy to contribute enhancement to the class. ",https://github.com/square/okhttp/issues/4870#issuecomment-479846100,"Curious, does this come from an RFC? or a decision made within your org.  Generally https://tools.ietf.org/html/rfc7469 seems to assume sha256 is the way forward for now."
square/okhttp,"Hello I am using OkHttp and retrofit in my network layer and I applied certificate pinner like below code 

```
    implementation 'com.squareup.retrofit2:retrofit:2.4.0'
    implementation 'com.squareup.retrofit2:adapter-rxjava:2.4.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.9.1'
    implementation 'com.burgstaller:okhttp-digest:1.15'
```

```
CertificatePinner certificatePinner = new CertificatePinner.Builder()
                .add(""domain.com.eg"", ""sha256/*********"") 
                .add(""domain.com.eg"", ""sha256/*********"") 
                .build();
```

I got the below crash in fabric in **Samsung devices only** and in a variety of OS version but it's mostly happening in version 4

```
Caused by java.lang.StackOverflowError
       at java.io.FilterInputStream.read(FilterInputStream.java:114)
       at com.android.org.bouncycastle.asn1.DefiniteLengthInputStream.read(DefiniteLengthInputStream.java:50)
       at java.io.FilterInputStream.read(FilterInputStream.java:114)
       at com.android.org.bouncycastle.asn1.DefiniteLengthInputStream.read(DefiniteLengthInputStream.java:50)
       at java.io.FilterInputStream.read(FilterInputStream.java:114)
       at com.android.org.bouncycastle.asn1.DefiniteLengthInputStream.read(DefiniteLengthInputStream.java:50)
       at java.io.FilterInputStream.read(FilterInputStream.java:114)
       at com.android.org.bouncycastle.asn1.DefiniteLengthInputStream.read(DefiniteLengthInputStream.java:50)
       at java.io.FilterInputStream.read(FilterInputStream.java:114)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:323)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:112)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:231)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildEncodableVector(ASN1InputStream.java:193)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildDEREncodableVector(ASN1InputStream.java:204)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildObject(ASN1InputStream.java:173)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:272)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildEncodableVector(ASN1InputStream.java:193)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildDEREncodableVector(ASN1InputStream.java:204)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildObject(ASN1InputStream.java:173)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:272)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildEncodableVector(ASN1InputStream.java:193)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildDEREncodableVector(ASN1InputStream.java:204)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildObject(ASN1InputStream.java:173)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:272)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildEncodableVector(ASN1InputStream.java:193)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildDEREncodableVector(ASN1InputStream.java:204)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.buildObject(ASN1InputStream.java:173)
       at com.android.org.bouncycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:272)
       at com.android.org.bouncycastle.jce.provider.CertPathValidatorUtilities.getObject(CertPathValidatorUtilities.java:339)
       at com.android.org.bouncycastle.jce.provider.CertPathValidatorUtilities.getExtensionValue(CertPathValidatorUtilities.java:325)
       at com.android.org.bouncycastle.jce.provider.RFC3280CertPathUtilities.processCertD(RFC3280CertPathUtilities.java:1268)
       at com.android.org.bouncycastle.jce.provider.PKIXCertPathValidatorSpi.engineValidate(PKIXCertPathValidatorSpi.java:310)
       at com.sec.android.security.pkix.SecCertPathValidatorSpi.engineValidate(SecCertPathValidatorSpi.java:100)
       at java.security.cert.CertPathValidator.validate(CertPathValidator.java:190)
       at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:301)
       at com.android.org.conscrypt.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:208)
       at com.android.org.conscrypt.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:611)
       at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(NativeCrypto.java)
       at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)
       at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:302)
       at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:270)
       at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:162)
       at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
       at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
       at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.refreshTokenSeamless(TokenAuthenticator.java:72)
       at vodafone.vis.engezly.data.network2.TokenAuthenticator.authenticate(TokenAuthenticator.java:35)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.followUpRequest(RetryAndFollowUpInterceptor.java:288)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:158)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.ElasticsInterceptor.intercept(ElasticsInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at vodafone.vis.engezly.data.network2.AuthInterceptor.intercept(AuthInterceptor.java:33)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall.execute(RealCall.java:77)
       at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)
       at retrofit2.adapter.rxjava.CallExecuteOnSubscribe.call(CallExecuteOnSubscribe.java:40)
       at retrofit2.adapter.rxjava.CallExecuteOnSubscribe.call(CallExecuteOnSubscribe.java:24)
       at retrofit2.adapter.rxjava.BodyOnSubscribe.call(BodyOnSubscribe.java:36)
       at retrofit2.adapter.rxjava.BodyOnSubscribe.call(BodyOnSubscribe.java:28)
       at rx.Observable.unsafeSubscribe(Observable.java:10256)
       at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)
       at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:422)
       at java.util.concurrent.FutureTask.run(FutureTask.java:237)
       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)
       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)
```",https://github.com/square/okhttp/issues/4858#issuecomment-479059165,Is it possible that your `TokenAuthenticator` is re-entrant?
square/okhttp,"![image](https://user-images.githubusercontent.com/29397850/55389472-e7c5c080-5567-11e9-8312-bdf2a0682835.png)
![image](https://user-images.githubusercontent.com/29397850/55389488-f1e7bf00-5567-11e9-84c9-80a5664a002b.png)
",https://github.com/square/okhttp/issues/4857#issuecomment-478920251,"What's the type of `realChain`? If it's `okhttp3.Interceptor.Chain` then I'm not able to find the `streamAllocation()` method in previous versions of OkHttp. Is it an extension function defined somewhere else?

Also, please prefer using English when filing issues on this project, as this is the language the majority of maintainers and contributors use. Thanks!"
square/okhttp,"java.io.IOException: CRC: actual 0x648b6135 != expected 0x29d115fe
at okio.GzipSource.checkEqual(GzipSource.java:205)
at okio.GzipSource.consumeTrailer(GzipSource.java:173)
at okio.GzipSource.read(GzipSource.java:92)
at okio.RealBufferedSource$1.read(RealBufferedSource.java:430)
at java.io.InputStream.read(InputStream.java:101)

---------------------------------------------------------------------------------------

Test Url  https://www.toptoon.net/comic/contents_list?comic_id=80029 


---------------------------------------------------------------------------------------
Successful HTML

```
//..........
//gtag('send', 'pageview', 'comic/contents_list?comic_id=80029/comic/contents_list?comic_id=80029');

	}
	catch (e)
	{
	}

</script><img height=""1"" width=""1"" style=""display:none""  src=""https://www.facebook.com/tr?id=2099949253593107&amp;ev=CustomEvent&amp;cd[episode_idx]=&amp;cd[comic_id]=80029&amp;cd[user_idx]=0&amp;cd[pay_cnt]=""/>
```

Read until this location sends an exception~

```
		//gtag('send', 'pageview', '/comic/contents_list?comic_id=80029');

	}
	catch (e)
	{
	}

//There's an anomaly here.
```

my code 
```
String url = ""https://www.toptoon.net/comic/contents_list?comic_id=80029&tmp=undefined_undefined_pc"";
        OkHttpClient okHttpClient = new OkHttpClient();
        Request request = new Request.Builder()
                .url(url).header(""accept-encoding"",""gzip, deflate, br"")
                .get()
                .build();
        Call call = okHttpClient.newCall(request);
        call.enqueue(new Callback() {
            @Override
            public void onFailure(Call call, IOException e) {
            }
            @Override
            public void onResponse(Call call, okhttp3.Response response) throws IOException {
                InputStream is = response.body().byteStream();
                GZIPInputStream gzin = new GZIPInputStream(is);
                InputStreamReader isr = new InputStreamReader(gzin, StandardCharsets.UTF_8);
                java.io.BufferedReader br = new java.io.BufferedReader(isr);
                StringBuffer sb = new StringBuffer();
                String tempbf;
                try {
                    while ((tempbf = br.readLine()) != null) {
                        sb.append(tempbf);
                        sb.append(""\r\n"");
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }
                isr.close();
                gzin.close();
                Log.i(""body"", """" + sb.toString());
            }
```


",https://github.com/square/okhttp/issues/4850#issuecomment-478491674,Remove the gzip accept header & decompression?
square/okhttp,"ttp-nio-8081-exec-8"" Id=51 cpuUsage=1% BLOCKED on okhttp3.internal.connection.RealConnectionPool@7a5b3b68 owned by ""http-nio-8081-exec-64"" Id=256
    at okhttp3.internal.connection.Transmitter.isCanceled(Transmitter.java:342)
    -  blocked on okhttp3.internal.connection.RealConnectionPool@7a5b3b68
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:222)
    at okhttp3.RealCall.execute(RealCall.java:81)



""http-nio-8081-exec-116"" Id=354 cpuUsage=2% RUNNABLE
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
    at java.net.SocketInputStream.read(SocketInputStream.java:170)
    at java.net.SocketInputStream.read(SocketInputStream.java:141)
    at okio.Okio$2.read(Okio.java:140)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:358)
    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:230)
    at okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.java:238)
    at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.java:213)
    at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.java:115)
    at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:94)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:221)
    at okhttp3.RealCall.execute(RealCall.java:81)",https://github.com/square/okhttp/issues/4810#issuecomment-477231717,Executable test case?
square/okhttp,"OkHttpClient.Builder builder = new OkHttpClient.Builder()
                .retryOnConnectionFailure(true)
                .connectTimeout(60, TimeUnit.SECONDS)
                .writeTimeout(60, TimeUnit.SECONDS)
                .readTimeout(60, TimeUnit.SECONDS)
                .addNetworkInterceptor(mTokenInterceptor)
                .addInterceptor(interceptor);

Interceptor mTokenInterceptor = new Interceptor() {
        @Override
        public Response intercept(Chain chain) throws IOException {
        Request request = chain.request();

       String  tests = ""f150bdcae8578d4f1db3646ead4ef002c282a6ebde6e3b9bf464e94cdae68b34b73e0b7697140d303465de824754ed8aafac388787be325f687f6c0b918c8044c6813c35314735a59bd225aa59aeb99f97942e3fe9ab0846056101c09cc3e72a52bb91eadf503752c48b8b54cda3e368a99246c97f1297a1771865869ad108dc5088355489ac0e5b63cc355c0f0facbfb713228ec062ed927cdb517bab0ac79d5cb6ccd36b5048a38ab16137a99bee80c94bc2f3d98d7843ce0e16b350b5f4a1e11e37bd72c366f1e22af8bcc359a0117f3ed3914bfe55228f1be9b43e1d1fbc93da7743a7c33613fc00305ee194b85010b8a014f871533e60890a576ff31ea46906d9fe85b3ddc2c4ffca549fde9e5de829ef05d5636733c2a87a0d7c74791f6006ccace21220f0"";    ÔºàEncrypt the dataÔºâ
              Ôºàor  application/jsonÔºâ                  
            RequestBody requestBody = RequestBody.create(MediaType.parse(""text/plain""), tests);
            request = request.newBuilder().post(requestBody).build();

            return chain.proceed(request);

        }

retrofit2Ôºö
@POST(""{url}"")
Observable<Response> getTestLogin(@Path(value = ""url"", encoded = true) String url, @Body Map<String, String> maps);

server  resultsÔºö
f150bdcae8578d4f1db3646ead4ef002c282a6ebde6e3b9bf464e94cdae68b34b73e0b7697140d303465de824754ed8aafac388787be325f687f6c0b918c8044c6813c35314735a59bd225aa59aeb99f97942e3fe9ab0846056101c09cc3e72a52bb91eadf503752c48b8b54cda3e368a99246c97f1297a1771865869ad108dc5088355489ac0e5b63cc355c0f0facbfb71

Loss of dataÔºö
3228ec062ed927cdb517bab0ac79d5cb6ccd36b5048a38ab16137a99bee80c94bc2f3d98d7843ce0e16b350b5f4a1e11e37bd72c366f1e22af8bcc359a0117f3ed3914bfe55228f1be9b43e1d1fbc93da7743a7c33613fc00305ee194b85010b8a014f871533e60890a576ff31ea46906d9fe85b3ddc2c4ffca549fde9e5de829ef05d5636733c2a87a0d7c74791f6006ccace21220f0

No Interceptor   data is normal  ÔºàCannot handle encryption uniformly  BodyÔºâ
Why set Content-Length ???

",https://github.com/square/okhttp/issues/4808#issuecomment-477125861,Executable test case?
square/okhttp,"https://github.com/square/okhttp/wiki/Building

refers to java 6 and 7",https://github.com/square/okhttp/issues/4766#issuecomment-502406427,Did we remove Building page? It's now redirected to [Contributing.md](https://github.com/square/okhttp/blob/master/CONTRIBUTING.md).
square/okhttp,"Hey, folks - I think I'm running into something that appears to be a regression in 3.14 around the new exchange mechanism. I can reproduce this 100% of the time in my app by creating a specific scenario.

Here's the basic setup. We have an interceptor that does a lot of things for us, including setting headers and handling retries for auth errors. Here's a simplified version of the code, eliding a lot of details around how the retries are triggered:

```
@Override
public Response intercept(Chain chain) throws IOException {
  Request originalRequest = chain.request();
  Request.Builder builder = originalRequest.newBuilder();
  // Add headers/etc here.
  Request request = builder.build();
  Response response = chain.proceed(request);

  if (isError(response)) {
    // Grab a new auth token, etc.
    response = chain.proceed(retry);
    return response;
  }
}
```

In 3.13.1, this seems to work just fine. In 3.14.0, this crashes with the following error:

```
03-22 11:52:21.889 E/AndroidRuntime(10135): java.lang.IllegalStateException: exchange != null
03-22 11:52:21.889 E/AndroidRuntime(10135): 	at okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:159)
03-22 11:52:21.889 E/AndroidRuntime(10135): 	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41)
...
```

It doesn't seem to matter if you mutate the request or not. Even just using (as above) a newly built version of the request produces the same behavior.

Any ideas what's happening here? I'm going to revert our library back to 3.13 for now to work around this, but I'm curious what could be causing this.",https://github.com/square/okhttp/issues/4761#issuecomment-475692047,Good find. My guess is that we're crashing because the first response body is still active. Can you see if closing it fixes things?
square/okhttp,"version:3.14.0
android-version:4.4

crash-code:
`    new OkhttpClient();`

```
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
```

   java8 is already configured

why?

log:

03-19 13:01:19.857 25428-25428/com.syiyi.vote E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.syiyi.vote, PID: 25428
    java.lang.ExceptionInInitializerError
        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263)
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:229)
        at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015)
        at com.syiyi.vote.util.ConfigManager.loadConfig(ConfigManager.kt:16)
        at com.syiyi.vote.page.main.MainActivity$hmasTest$1.run(MainActivity.kt:69)
        at android.os.Handler.handleCallback(Handler.java:733)
        at android.os.Handler.dispatchMessage(Handler.java:95)
        at android.os.Looper.loop(Looper.java:136)
        at android.app.ActivityThread.main(ActivityThread.java:5314)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:515)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:680)
        at dalvik.system.NativeStart.main(Native Method)
     Caused by: java.lang.IllegalStateException: Expected Android API level 21+ but was 19
        at okhttp3.internal.platform.AndroidPlatform.buildIfSupported(AndroidPlatform.java:238)
        at okhttp3.internal.platform.Platform.findPlatform(Platform.java:202)
        at okhttp3.internal.platform.Platform.<clinit>(Platform.java:79)
        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263)¬†
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:229)¬†
        at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015)¬†
        at com.syiyi.vote.util.ConfigManager.loadConfig(ConfigManager.kt:16)¬†
        at com.syiyi.vote.page.main.MainActivity$hmasTest$1.run(MainActivity.kt:69)¬†
        at android.os.Handler.handleCallback(Handler.java:733)¬†
        at android.os.Handler.dispatchMessage(Handler.java:95)¬†
        at android.os.Looper.loop(Looper.java:136)¬†
        at android.app.ActivityThread.main(ActivityThread.java:5314)¬†
        at java.lang.reflect.Method.invokeNative(Native Method)¬†
        at java.lang.reflect.Method.invoke(Method.java:515)¬†
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:864)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:680)¬†
        at dalvik.system.NativeStart.main(Native Method)¬†
",https://github.com/square/okhttp/issues/4746#issuecomment-496453749,"@swankjesse  We see same issue`Caused by: java.lang.IllegalStateException: Expected Android API level 21+ but was 19` on API level 19 .We use okhttp version 3.4.1 .Ideally 3.4.1 should support API level 19.Problem is we are not able to reproduce locally but we see crashes in playstore .
Do you see any issue with okhttp 3.4.1 on API level 19 ? .Can you please help on this .

Thank you,
Manjunath Kallannavar"
square/okhttp,"We have faced this issue for certain users. And we know it can be reproduced under certain environment, since it will block these users constantly while it happens. But our developers cannot reproduce this issue.
Just want to see if anyone has insights about it
```
okhttp3.internal.http1.Http1Codec$ChunkedSource.read(Http1Codec.java:445)
okio.RealBufferedSource.readAll(RealBufferedSource.java:173)
retrofit2.Utils.buffer(Utils.java:303)
retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:198)
retrofit2.OkHttpCall.execute(OkHttpCall.java:174)
retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:41)
io.reactivex.Observable.subscribe(Observable.java:10910)
retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)
io.reactivex.Observable.subscribe(Observable.java:10910)
io.reactivex.internal.operators.observable.ObservableMap.subscribeActual(ObservableMap.java:33)
io.reactivex.Observable.subscribe(Observable.java:10910)
io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)
io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)
io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)
java.util.concurrent.FutureTask.run(FutureTask.java:266)
java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
java.lang.Thread.run(Thread.java:764)
```",https://github.com/square/okhttp/issues/4722#issuecomment-482824533,Got any interesting interceptors?
square/okhttp,"Java 11‚Äôs TLS stack [automatically supports](https://bugs.openjdk.java.net/browse/JDK-8049402) pre-shared keys when attempting a repeat TLS connection to a server.

Unfortunately these TLS handshakes don‚Äôt have peer certificates and `SSLSession.getPeerCertificates()` throws.

Without the peer certificates other things break including certificate pinning.

```
java.util.NoSuchElementException
	at java.base/java.util.ArrayDeque.removeFirst(ArrayDeque.java:363)
	at okhttp3.internal.tls.BasicCertificateChainCleaner.clean(BasicCertificateChainCleaner.java:58)
	at okhttp3.CertificatePinner.check(CertificatePinner.java:166)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:358)
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:300)
```

This is reproduced by `CallTest.matchingPinnedCertificate()` on Java 11.",https://github.com/square/okhttp/issues/4703#issuecomment-500230907,"@swankjesse 
We've faced strange exception after updating to 3.14.2 version and migrating to Java 11
from time to time requests fail with the exception:
```
Caused by: javax.net.ssl.SSLPeerUnverifiedException: Hostname graph.facebook.com not verified (no certificates)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:353) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:300) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:185) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:224) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.java:108) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.java:88) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:169) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142) ~[okhttp-3.14.2.jar:?]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117) ~[okhttp-3.14.2.jar:?]
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:221) ~[okhttp-3.14.2.jar:?]
	at okhttp3.RealCall.execute(RealCall.java:81) ~[okhttp-3.14.2.jar:?]
``` 
As I see in `OkHostnameVerifier.verify()`
`session.getPeerCertificates()` returns null.
works fine with java 8 and version 3.12.1
could those issues be connected?"
square/okhttp,"We are observing crashes in a Android app that are caused by the exhaustion of the available File Descriptors.
This seems to happen if many requests are `Call.enqueue`ed. We already made sure that we only have a single OkHttp instance.
While debugging it on a rooted emulator it seems to only happen if `OkHttpClient.Builder.cache()` is used.
### `Call.enqueue`ing a few thousand calls, with a Cache set, leads to:
- number of open File Descriptors goes up quite fast (well beyond 1k) and decreases slowly as the requests are being processed. If it does not crash because of missing File Descriptors it will go back to a normal number again once requests are finishing. 
```
...
/proc/<pid>/fd # ls -al | wc -l                                                                                        
967
/proc/<pid>/fd # ls -al | wc -l                                                                                        
1327
/proc/<pid>/fd # ls -al | wc -l                                                                                        
1617
/proc/<pid>/fd # ls -al | wc -l                                                                                        
1963
/proc/<pid>/fd # ls -al | wc -l                                                                                        
1547
/proc/<pid>/fd # ls -al | wc -l                                                                                        
1040
/proc/<pid>/fd # ls -al | wc -l                                                                                        
536
/proc/<pid>/fd # ls -al | wc -l                                                                                        
149
```
and there are thousand of open File Descriptors like:
```
/proc/<pid>/fd # ls -al

/<path-to-the-http-cache>/c5c99e84ce2ff13078cb523c95d74dff.1.tmp
/<path-to-the-http-cache>/e4e886e180225e2e05a2e1cf94537ef9.1.tmp
/<path-to-the-http-cache>/80de10600cb6c424fe994169e1135620.1.tmp
/<path-to-the-http-cache>/043d5411a5b6f8930d8c34397b983e74.1.tmp
```

### `Call.enqueue`ing a few thousand calls, with**out** a Cache set, leads to:
- steady number of open File Descriptors that stays around that number while the requests are being fetched
```
/proc/<pid>/fd # ls -al | wc -l                                                                                        
150
```

For both runs (with and without cache) the app storage was cleared (nothing cached yet), so I think it is caused by OkHttp Cache writing all the responses to the File System.
",https://github.com/square/okhttp/issues/4699#issuecomment-482826840,Do you close the HTTP response when you‚Äôre done reading it?
square/okhttp,"Use OkHttp with Retrofit   Crash only on  Android 6.0.1 DevicesÔºå Maybe an ART Bug?

##  Versions:
Okhttp:   3.10.0
Retrofit:  2.4.0
Rxjava:  2.0.8
Android Gradle Plugin: 3.2.1

## Crash logÔºö
```
¬†java.lang.InternalError:Invoking getAttribute with bad arg 0, type 'Lcom/example/user/model/RegisterModel;' not instance of 'Ljava/lang/String;'

2  at com.example.user.UserHelper$Companion.io.reactivex.Observable register(com.example.user.model.RegisterModel)(SourceFile:77)
3  at com.example.user.login.LoginPresenter.io.reactivex.Observable 

```
## My CodeÔºö
 
```kotlin

interface ApiService {

    @POST(AppConfig.API_PATH + ""/register"")
    fun register(@Body registerModel: RegisterModel): Observable<LoginRespResult>

}

@Keep
class RegisterModel {
    @SerializedName(""email"")
    @JvmField
    var emailAddress: String? = null
    @SerializedName(""password"")
    @JvmField
    var password: String? = null

}

@Keep
class LoginRespResult {
    @SerializedName(""auth"")
    @JvmField
    var userAuth: UserAuth? = null
}

// call api

fun test() {
       HttpClient.API.register(registerModel)
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe()                
}

```


##   Someone other  askedÔºö
[Redmi note 3 ,Android 6.0.1 crash](https://cloud.tencent.com/developer/ask/196354)

`
java.lang.InternalError: Invoking with bad arg 0, type 'Lokhttp3/RequestBody$2;' not instance of '[Ljava/lang/Object;'
2    at com.sfpush.pushsdk.PushManager.getRegistrationId(PushManager.java:152)
3    at com.sfpush.pushsdk.PushManager.start(PushManager.java:63)
4    at com.sferp.employe.ui.MainActivity.onCreate(MainActivity.java:174)
5    at android.app.Activity.performCreate(Activity.java:6278)
6    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)
7    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2396)
8    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2503)
9    at android.app.ActivityThread.-wrap11(ActivityThread.java)
10    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1353)
11    at android.os.Handler.dispatchMessage(Handler.java:102)
12    at android.os.Looper.loop(Looper.java:148)
13    at android.app.ActivityThread.main(ActivityThread.java:5529)
14    at java.lang.reflect.Method.invoke(Native Method)
15    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:745)
16    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:635)
`

## Related stackoverflow question:
[Why does Facebook and Messenger set the vmSafeMode option as false to the manifest file?
](https://stackoverflow.com/questions/54439914/why-does-facebook-and-messenger-set-the-vmsafemode-option-as-false-to-the-manife?newreg=73e576d3be374379a22241849dd184ab)",https://github.com/square/okhttp/issues/4697#issuecomment-471211865,Executable test case? As is this is not actionable.
square/okhttp,"Good bug reports include a failing test! Writing a test helps you to isolate and describe the problem, and it helps us to fix it fast. Bug reports without a failing test or reproduction steps are likely to be closed.

Here‚Äôs an example test to get you started.
https://gist.github.com/swankjesse/981fcae102f513eb13ed

HttpLoggingInterceptor logging = new HttpLoggingInterceptor();
      // set your desired log level
      logging.setLevel(HttpLoggingInterceptor.Level.BODY);
      OkHttpClient okHttpClient = new OkHttpClient().newBuilder()
          .connectTimeout(TIMEOUT, TimeUnit.SECONDS)
          .readTimeout(TIMEOUT, TimeUnit.SECONDS)
          .writeTimeout(TIMEOUT, TimeUnit.SECONDS)
          .addNetworkInterceptor(new Interceptor() {
            @Override public Response intercept(Chain chain) throws IOException {
              okhttp3.Request request = chain.request()
                  .newBuilder()
                  .build();
              return chain.proceed(request);
            }
          })
          .addInterceptor(logging)
          .build();

      mRetrofit4 = new Retrofit.Builder().baseUrl(""https://enquiry.indianrail.gov.in/crisntes/"")
          .client(okHttpClient)
          .addConverterFactory(new NullOnEmptyConverterFactory())
          .addConverterFactory(new ToStringConverterFactory())
          .addConverterFactory(ScalarsConverterFactory.create())
          .addConverterFactory(GsonConverterFactory.create())
          .build();
      mApiHelper4 = mRetrofit4.create(ApiHelper.class);

getting SSL handshake exception
It is working when making network call using HttpUrlConnection 
",https://github.com/square/okhttp/issues/4692#issuecomment-470896373,"Try with the COMPATIBLE_TLS ConnectionSpec?

https://github.com/square/okhttp/wiki/HTTPS"
square/okhttp,"```
NumberFormatException: Invalid BigInteger: 82cb8efb37a1e084693f6d8cf8b35f0082aaf61676a7c8bf37ec06396037168a635278a1a8fa5c138cd9eb&bFab4`4df@1/3scd7r5eec2le de4g8a4-9""3eet
       at java.math.BigInt.invalidBigInteger(BigInt.java:90)
       at java.math.BigInt.checkString(BigInt.java:144)
       at java.math.BigInt.putHexString(BigInt.java:103)
       at java.math.BigInteger.<init>(BigInteger.java:244)
       at com.android.org.conscrypt.PinListEntry.validatePin(PinListEntry.java:133)
       at com.android.org.conscrypt.PinListEntry.addPins(PinListEntry.java:121)
       at com.android.org.conscrypt.PinListEntry.<init>(PinListEntry.java:77)
       at com.android.org.conscrypt.CertPinManager.rebuild(CertPinManager.java:91)
       at com.android.org.conscrypt.CertPinManager.<init>(CertPinManager.java:49)
       at com.android.org.conscrypt.TrustManagerImpl.<init>(TrustManagerImpl.java:137)
       at com.android.org.conscrypt.TrustManagerImpl.<init>(TrustManagerImpl.java:97)
       at com.android.org.conscrypt.TrustManagerFactoryImpl.engineGetTrustManagers(TrustManagerFactoryImpl.java:80)
       at javax.net.ssl.TrustManagerFactory.getTrustManagers(TrustManagerFactory.java:219)
       at okhttp3.internal.Util.platformTrustManager(Util.java:667)
       at okhttp3.OkHttpClient.<init>(OkHttpClient.java:257)
       at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1040)
```

 Android 4.4.2
 Galaxy Tab4 7.0
",https://github.com/square/okhttp/issues/4691#issuecomment-470584430,This is crashing far below OkHttp. Do you have a test case where this consistently happens?
square/okhttp,"I'm currently maintaining an app that uses 3.12.x version of the OkHttp library.
I am not able to upgrade to 3.13.x as i have to support API 16+ and 3.13.x only supports API 21+.

By tracking crashes in production, i've had a lot of users run into IndexOutOfBoundsException in RealConnection.java. Other users have run into this issue as well, described here:
https://github.com/square/okhttp/issues/4427

My app calls several different endpoints on several different backends, so i don't know which one is causing issues (I can't reproduce the issue locally).
I can't get any details as to why this is happening because i only get an IndexOutOfBoundsException, and not a SSLPeerUnverifiedException (which would contain the host name details that i need).

Would it be possible to backport https://github.com/square/okhttp/pull/4489 to the 3.12.x branch?
It seems quite trivial, but i don't know the full scope of this or how your stance is on backporting non-critical elements to LTS-branches (even if it is a minor thing like this).",https://github.com/square/okhttp/issues/4679#issuecomment-469232283,Any idea which URLs trigger this? Maybe captive hotspots.
square/okhttp,"Hi I am having a strange issue, our API provider recently moved to TLS and we started getting timeout errors on some devices over mobile data. WIFI works fine.

It gives the timeout error twice and works fine third time. I am sure there is some kind of fallback that is happening the third time.

I am using okhttp:3.13.1

```
HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();
        interceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);
        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);
        OkHttpClient.Builder builder = new OkHttpClient.Builder()
                .addNetworkInterceptor(interceptor)
                .addInterceptor(interceptor)
                .eventListener(new PrintingEventListener())
                .retryOnConnectionFailure(true)
                .connectTimeout(300L, TimeUnit.MILLISECONDS).writeTimeout(5L, TimeUnit.MINUTES).readTimeout(5L, TimeUnit.MINUTES);
```

If I increase the connectTimeout to 10 Seconds, 20 Seconds, 1 Minute, it still fails twice and works the third time.

This is the response on my OnePlus 5, Android version 9, 4G data

```
I/System.out: 0.000 callStart
D/OkHttp: --> GET xxxxxx
D/OkHttp: --> END GET
I/System.out: 0.010 dnsStart
I/System.out: 1.125 dnsEnd
I/System.out: 1.132 connectStart
W/System.err: java.net.SocketTimeoutException: failed to connect to xxxx/2406:da1a:881:7f00:ab8d:5b6f:e60f:9ac6 (port 443) from /2402:3a80:93f:31cf:cb68:3e51:8e44:6269 (port 48937) after 300ms
W/System.err:     at libcore.io.IoBridge.connectErrno(IoBridge.java:185)
W/System.err:     at libcore.io.IoBridge.connect(IoBridge.java:129)
W/System.err:     at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:137)
W/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)
W/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)
W/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)
W/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)
W/System.err:     at java.net.Socket.connect(Socket.java:621)
W/System.err:     at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:71)
W/System.err:     at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)
W/System.err:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:212)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)
W/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:210)
W/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
W/System.err:     at java.lang.Thread.run(Thread.java:764)
I/System.out: 1.451 connectFailed
I/System.out: 1.456 connectStart
W/System.err: java.net.SocketTimeoutException: failed to connect to xxxx/2406:da1a:881:7f01:bd15:e30f:d8d9:9010 (port 443) from /2402:3a80:93f:31cf:cb68:3e51:8e44:6269 (port 40799) after 300ms
W/System.err:     at libcore.io.IoBridge.connectErrno(IoBridge.java:185)
W/System.err:     at libcore.io.IoBridge.connect(IoBridge.java:129)
W/System.err:     at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:137)
W/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)
W/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)
W/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)
W/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)
W/System.err:     at java.net.Socket.connect(Socket.java:621)
W/System.err:     at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:71)
W/System.err:     at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)
W/System.err:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
W/System.err:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:212)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)
W/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:210)
W/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
W/System.err:     at java.lang.Thread.run(Thread.java:764)
I/System.out: 1.773 connectFailed
I/System.out: 1.777 connectStart
I/System.out: 1.892 secureConnectStart
I/System.out: 2.087 secureConnectEnd
I/System.out: 2.093 connectEnd
I/System.out: 2.095 connectionAcquired
D/OkHttp: --> GET xxxx h2
D/OkHttp: Host: xxxx
D/OkHttp: Connection: Keep-Alive
D/OkHttp: Accept-Encoding: gzip
D/OkHttp: User-Agent: okhttp/3.13.1
D/OkHttp: --> END GET
I/System.out: 2.096 requestHeadersStart
I/System.out: 2.098 requestHeadersEnd
I/System.out: 2.099 responseHeadersStart
I/System.out: 2.303 responseHeadersEnd
I/System.out: 2.307 responseBodyStart
D/OkHttp: <-- 200 xxxx (214ms)
D/OkHttp: date: Wed, 27 Feb 2019 09:17:39 GMT
D/OkHttp: content-type: application/json;charset=UTF-8
D/OkHttp: access-control-allow-origin: *
D/OkHttp: access-control-allow-methods: POST, GET, OPTIONS, DELETE
D/OkHttp: access-control-max-age: 3600
D/OkHttp: access-control-allow-headers: token,Accept,Authorization,WWW-Authenticate,Connection,X-Requested-With,Pragma,Cache-Control,Accept-Language,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,app-type,sessionId,source
D/OkHttp: x-application-context: application:prod:80
D/OkHttp: {""statusCode"":""OK"",""message"":""SUCCESS"",""data"":""yyyy""}
D/OkHttp: <-- END HTTP (454-byte body)
D/OkHttp: <-- 200 xxxx (2309ms)
D/OkHttp: date: Wed, 27 Feb 2019 09:17:39 GMT
D/OkHttp: content-type: application/json;charset=UTF-8
D/OkHttp: access-control-allow-origin: *
D/OkHttp: access-control-allow-methods: POST, GET, OPTIONS, DELETE
D/OkHttp: access-control-max-age: 3600
D/OkHttp: access-control-allow-headers: token,Accept,Authorization,WWW-Authenticate,Connection,X-Requested-With,Pragma,Cache-Control,Accept-Language,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,app-type,sessionId,source
D/OkHttp: x-application-context: application:prod:80
D/OkHttp: {""statusCode"":""OK"",""message"":""SUCCESS"",""data"":""yyyy""}
D/OkHttp: <-- END HTTP (454-byte body)
```
When over Wifi
```
I/System.out: 0.000 callStart
D/OkHttp: --> GET xxxx
D/OkHttp: --> END GET
I/System.out: 0.057 dnsStart
I/System.out: 1.302 dnsEnd
I/System.out: 1.305 connectStart
I/System.out: 1.585 secureConnectStart
I/System.out: 2.487 secureConnectEnd
I/System.out: 2.508 connectEnd
I/System.out: 2.509 connectionAcquired
D/OkHttp: --> GET xxxx h2
D/OkHttp: Host: xxx
D/OkHttp: Connection: Keep-Alive
D/OkHttp: Accept-Encoding: gzip
D/OkHttp: User-Agent: okhttp/3.13.1
D/OkHttp: --> END GET
I/System.out: 2.516 requestHeadersStart
I/System.out: 2.529 requestHeadersEnd
I/System.out: 2.530 responseHeadersStart
I/System.out: 2.788 responseHeadersEnd
I/System.out: 2.789 responseBodyStart
D/OkHttp: <-- 200 xxxx (275ms)
D/OkHttp: date: Wed, 27 Feb 2019 09:16:37 GMT
D/OkHttp: content-type: application/json;charset=UTF-8
D/OkHttp: access-control-allow-origin: *
D/OkHttp: access-control-allow-methods: POST, GET, OPTIONS, DELETE
D/OkHttp: access-control-max-age: 3600
D/OkHttp: access-control-allow-headers: token,Accept,Authorization,WWW-Authenticate,Connection,X-Requested-With,Pragma,Cache-Control,Accept-Language,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,app-type,sessionId,source
D/OkHttp: x-application-context: application:prod:80
D/OkHttp: {""statusCode"":""OK"",""message"":""SUCCESS"",""data"":""yyyy""}
D/OkHttp: <-- END HTTP (454-byte body)
D/OkHttp: <-- 200 xxxx (2747ms)
D/OkHttp: date: Wed, 27 Feb 2019 09:16:37 GMT
D/OkHttp: content-type: application/json;charset=UTF-8
D/OkHttp: access-control-allow-origin: *
D/OkHttp: access-control-allow-methods: POST, GET, OPTIONS, DELETE
D/OkHttp: access-control-max-age: 3600
D/OkHttp: access-control-allow-headers: token,Accept,Authorization,WWW-Authenticate,Connection,X-Requested-With,Pragma,Cache-Control,Accept-Language,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,app-type,sessionId,source
D/OkHttp: x-application-context: application:prod:80
D/OkHttp: {""statusCode"":""OK"",""message"":""SUCCESS"",""data"":""yyyy""}
D/OkHttp: <-- END HTTP (454-byte body)
I/Timeline: Timeline: Activity_idle id: android.os.BinderProxy@30106f47 time:153260486
D/ViewRootImpl: ViewPostImeInputStage ACTION_DOWN
D/ViewRootImpl: ViewPostImeInputStage ACTION_DOWN
```

Same is happening over different types of phones on different android versions over different mobile networks. And strangely it is working perfectly fine on some phones. Works fine over wifi. Also working fine on iOS.

I cannot prove the API information so I have replaced the sensitive info with xxxx(API endpoint) and yyyy(response)

Same is over previous version when using with retrofit 2.1.0 so Okhttp 3.3.0
Is there any ConnectionSpec I can use for this.
I have gone through hundreds of links. Please advice.


",https://github.com/square/okhttp/issues/4671#issuecomment-468385310,Is iPhone also using IPv6? Is it also using HTTP/2 ?
square/okhttp,"When upgrading from 3.12.1 to 3.13.1 I get this exception:
```

    javax.net.ssl.SSLHandshakeException: Handshake failed
        at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:286)
        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)
        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)
        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)
        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at org.foo.manager.service.HttpClient$LoggingInterceptor.intercept(HttpClient.java:122)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)
        at okhttp3.RealCall.execute(RealCall.java:93)
        at retrofit2.OkHttpCall.execute(OkHttpCall.java:186)
        at retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:45)
        at io.reactivex.Observable.subscribe(Observable.java:12246)
        at retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)
...
     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xe31d0a08: Failure in SSL library, usually a protocol error
    error:100000f0:SSL routines:OPENSSL_internal:UNSUPPORTED_PROTOCOL (external/boringssl/src/ssl/handshake_client.cc:576 0xe09aba43:0x00000000)
        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
        at com.android.org.conscrypt.NativeSsl.doHandshake(NativeSsl.java:375)
        at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:224)
        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)
        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)
        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)
        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at org.foo.manager.service.HttpClient$LoggingInterceptor.intercept(HttpClient.java:122)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)
        at okhttp3.RealCall.execute(RealCall.java:93)
        at retrofit2.OkHttpCall.execute(OkHttpCall.java:186)

```

```
    public class LoggingInterceptor implements Interceptor {
        @EverythingIsNonNull
        @Override
        public okhttp3.Response intercept(Chain chain) throws IOException {
            Request request = chain.request();

            long t1 = System.nanoTime();

            okhttp3.Response response = chain.proceed(request);

            long t2 = System.nanoTime();
            String log = String.format(""<-- Received response for %s in %.1fms%n%s"", response.request().url(), (t2 - t1) / 1e6d, response.headers());

            if (response.body() != null) {
                MediaType contentType = response.body().contentType();
                byte[] bytes = response.body().bytes();
                String content = new String(bytes, Charset.forName(""ISO-8859-1""));
                Log.d(""OkHttp"", log + ""\n"" + content);

                ResponseBody wrappedBody = ResponseBody.create(contentType, bytes);
                return response.newBuilder().body(wrappedBody).build();
            }
            Log.d(""OkHttp"", log);
            return response;
        }
    }

```
",https://github.com/square/okhttp/issues/4670#issuecomment-469040430,"Does this help?
https://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce"
square/okhttp,"When upgrading from 3.12.1 to 3.13.0 I get these exceptions:

```
2019-02-27 22:47:21.106 24799-24799 E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.fletech.trackid, PID: 24799
    java.lang.AssertionError: java.lang.reflect.InvocationTargetException
        at okhttp3.internal.platform.AndroidPlatform.buildCertificateChainCleaner(AndroidPlatform.java:201)
        at okhttp3.internal.tls.CertificateChainCleaner.get(CertificateChainCleaner.java:41)
        at okhttp3.OkHttpClient$Builder.sslSocketFactory(OkHttpClient.java:821)
        at org.foo.manager.service.HttpClient.getHttpClientBuilder(HttpClient.java:102)
        at org.foo.manager.service.HttpClient.getClient(HttpClient.java:166)
        at org.foo.manager.service.WebSocketRx.<init>(WebSocketRx.java:49)
        at org.foo.manager.service.WebSocketRx.init(WebSocketRx.java:37)
        at org.foo.manager.service.Devices.init(Devices.java:36)
        at org.foo.manager.MainApplication.onCreate(MainApplication.java:46)
        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1154)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5871)
        at android.app.ActivityThread.access$1100(ActivityThread.java:199)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6669)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
     Caused by: java.lang.reflect.InvocationTargetException
        at java.lang.reflect.Constructor.newInstance0(Native Method)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)
        at okhttp3.internal.platform.AndroidPlatform.buildCertificateChainCleaner(AndroidPlatform.java:196)
        at okhttp3.internal.tls.CertificateChainCleaner.get(CertificateChainCleaner.java:41)¬†
        at okhttp3.OkHttpClient$Builder.sslSocketFactory(OkHttpClient.java:821)¬†
        at org.foo.manager.service.HttpClient.getHttpClientBuilder(HttpClient.java:102)¬†
        at org.foo.manager.service.HttpClient.getClient(HttpClient.java:166)¬†
        at org.foo.manager.service.WebSocketRx.<init>(WebSocketRx.java:49)¬†
        at org.foo.manager.service.WebSocketRx.init(WebSocketRx.java:37)¬†
        at org.foo.manager.service.Devices.init(Devices.java:36)¬†
        at org.foo.manager.MainApplication.onCreate(MainApplication.java:46)¬†
        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1154)¬†
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5871)¬†
        at android.app.ActivityThread.access$1100(ActivityThread.java:199)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)¬†
        at android.os.Handler.dispatchMessage(Handler.java:106)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.app.ActivityThread.main(ActivityThread.java:6669)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)¬†
     Caused by: java.lang.IllegalArgumentException: Required method checkServerTrusted(X509Certificate[], String, String, String) missing
        at android.net.http.X509TrustManagerExtensions.<init>(X509TrustManagerExtensions.java:72)
        at java.lang.reflect.Constructor.newInstance0(Native Method)¬†
        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)¬†
        at okhttp3.internal.platform.AndroidPlatform.buildCertificateChainCleaner(AndroidPlatform.java:196)¬†
        at okhttp3.internal.tls.CertificateChainCleaner.get(CertificateChainCleaner.java:41)¬†
        at okhttp3.OkHttpClient$Builder.sslSocketFactory(OkHttpClient.java:821)¬†
        at org.foo.manager.service.HttpClient.getHttpClientBuilder(HttpClient.java:102)¬†
        at org.foo.manager.service.HttpClient.getClient(HttpClient.java:166)¬†
        at org.foo.manager.service.WebSocketRx.<init>(WebSocketRx.java:49)¬†
        at org.foo.manager.service.WebSocketRx.init(WebSocketRx.java:37)¬†
        at org.foo.manager.service.Devices.init(Devices.java:36)¬†
        at org.foo.manager.MainApplication.onCreate(MainApplication.java:46)¬†
        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1154)¬†
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5871)¬†
        at android.app.ActivityThread.access$1100(ActivityThread.java:199)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)¬†
        at android.os.Handler.dispatchMessage(Handler.java:106)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.app.ActivityThread.main(ActivityThread.java:6669)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)¬†

```
```
    private OkHttpClient.Builder getHttpClientBuilder(boolean ignoreSslErrors) {
        if(!ignoreSslErrors){
            return new OkHttpClient.Builder();
        }

        final TrustManager[] trustAllCerts = new TrustManager[] {
                new X509TrustManager() {
                    @Override
                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {
                    }

                    @Override
                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {
                    }

                    @Override
                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                        return new java.security.cert.X509Certificate[]{
                        };
                    }
                }
        };

        SSLContext sslContext;
        try {
            sslContext = SSLContext.getInstance(""SSL"");
            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());
        }
        catch (Exception exception){
            throw new RuntimeException(exception);
        }

        final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();
        OkHttpClient.Builder builder = new OkHttpClient.Builder();
        builder.sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0]);
        builder.hostnameVerifier((hostname, session) -> true);
        return builder;
    }

```",https://github.com/square/okhttp/issues/4669#issuecomment-469040169,"Does adding another `checkServerTrusted` method fix?

```
        final TrustManager[] trustAllCerts = new TrustManager[] {
                new X509TrustManager() {
                    @Override
                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {
                    }

                    @Override
                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {
                    }

                    // Called reflectively by X509TrustManagerExtensions.
                    public void checkServerTrusted(java.security.cert.X509Certificate[], String authType, String host) {
                    }

                    @Override
                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                        return new java.security.cert.X509Certificate[]{
                        };
                    }
                }
        };
```"
square/okhttp,"Hello, everyone.

I am developing an Ionic App (hence I don't know much about Android).

Recently I am facing a problem since I installed two different cordova plugins which are:

- https://github.com/silkimen/cordova-plugin-advanced-http
- https://github.com/situmtech/situm-cordova-plugin

When I install these two plugins **and** make a HTTP request, I get the following error:

```
java.lang.NoSuchMethodError: No virtual method getHttpUrlChecked(Ljava/lang/String;)Lokhttp3/HttpUrl; in class Lokhttp3/internal/Internal; or its super classes (declaration of 'okhttp3.internal.Internal' appears in /data/app/es.sanitas.hospitales.portalpaciente-1/base.apk)
        at okhttp3.internal.huc.OkHttpURLConnection.buildCall(OkHttpURLConnection.java:373)
        at okhttp3.internal.huc.OkHttpURLConnection.getResponse(OkHttpURLConnection.java:435)
        at okhttp3.internal.huc.OkHttpURLConnection.getResponseCode(OkHttpURLConnection.java:491)
        at okhttp3.internal.huc.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:106)
        at okhttp3.internal.huc.OkHttpsURLConnection.getResponseCode(OkHttpsURLConnection.java:26)
        at com.github.kevinsawicki.http.HttpRequest.code(HttpRequest.java:1758)
        at com.synconset.cordovahttp.CordovaHttp.returnResponseObject(CordovaHttp.java:247)
        at com.synconset.cordovahttp.CordovaHttpGet.run(CordovaHttpGet.java:30)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
        at java.lang.Thread.run(Thread.java:776)
```

In the second plugin I've read that it uses proguard and that it could cause some problems so I modified it as I read as follows (but the problem is not gone): 

```
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html
-keepattributes Signature
-keepattributes Annotation
-keep class okhttp3.** { *; }
-keep interface okhttp3.** { *; }
-dontwarn okhttp3.**
-dontwarn okio.**

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
-keepclassmembers class fqcn.of.javascript.interface.for.webview {
   public *;
}

# Uncomment this to preserve the line number information for
# debugging stack traces.
-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
-renamesourcefileattribute SourceFile

```

Could anyone please give me a hand with this?

I've been a couple days with this problem and cant find out how to fix it. Please, help.

Thanks.",https://github.com/square/okhttp/issues/4640#issuecomment-466386775,Make sure the version of okhttp and okhttp-urlconnection are the same?
square/okhttp,"Failed to transform file 'jetified-okhttp-3.13.1.jar' to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=15} using transform DexingTransform
   > Error while dexing.
",https://github.com/square/okhttp/issues/4625#issuecomment-483475973,"I have the same problem with okhttp when using it with the androidx jetifier. My okhttp is at '3.14.1', what should it be?

For reference, somehow it requires minsdk 24, and mine is on 23:
```
> Task :app:compileDebugAndroidTestKotlin

> Transform okhttp.jar (com.squareup.okhttp3:okhttp:3.14.1) with DexingTransform
AGPBI: {""kind"":""error"",""text"":""Static interface methods are only supported starting with Android N (--min-api 24): okhttp3.Request okhttp3.Authenticator.lambda$static$0(okhttp3.Route, okhttp3.Response)"",""sources"":[{}],""tool"":""D8""}

> Task :expensereport:mergeExtDexDebugAndroidTest FAILED
AGPBI: {""kind"":""error"",""text"":""Static interface methods are only supported starting with Android N (--min-api 24): okhttp3.Request okhttp3.Authenticator.lambda$static$0(okhttp3.Route, okhttp3.Response)"",""sources"":[{}],""tool"":""D8""}
AGPBI: {""kind"":""error"",""text"":""Static interface methods are only supported starting with Android N (--min-api 24): okhttp3.Request okhttp3.Authenticator.lambda$static$0(okhttp3.Route, okhttp3.Response)"",""sources"":[{}],""tool"":""D8""}

FAILURE: Build failed with an exception.

* What went wrong:
Could not resolve all files for configuration ':expensereport:debugAndroidTestRuntimeClasspath'.
> Failed to transform file 'jetified-okhttp-3.14.1.jar' to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=23} using transform DexingTransform
   > Error while dexing.
> Failed to transform file 'jetified-okhttp-3.14.1.jar' to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=23} using transform DexingTransform
   > Error while dexing.

```"
square/okhttp,"Hello, when I am using Retrofit without Okhttp dependencies, its working fine, but when I want to add okhttp for logging to my dependencies.
It show error in my logcat:
``` E/AndroidRuntime: FATAL 
EXCEPTION: main
    Process: com.myapp., PID: 2687
    java.lang.ExceptionInInitializerError
        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:296)
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:262)
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:235)
        at retrofit2.Retrofit$Builder.build(Retrofit.java:580)
        at com.myapp..fragment.LoginFragment.onCreate(LoginFragment.java:73)
        at android.support.v4.app.Fragment.performCreate(Fragment.java:2414)
        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1418)
        at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1195)
        at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1078)
        at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:117)
        at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2408)
        at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2366)
        at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2273)
        at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3273)
        at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)
        at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)
        at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:620)
        at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)
        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1188)
        at android.app.Activity.performStart(Activity.java:5241)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2166)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2243)
        at android.app.ActivityThread.access$800(ActivityThread.java:135)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:136)
        at android.app.ActivityThread.main(ActivityThread.java:5019)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:515)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)
        at dalvik.system.NativeStart.main(Native Method)
     Caused by: java.lang.IllegalStateException: Expected Android API level 21+ but was 19
        at okhttp3.internal.platform.AndroidPlatform.buildIfSupported(AndroidPlatform.java:238)
        at okhttp3.internal.platform.Platform.findPlatform(Platform.java:202)
        at okhttp3.internal.platform.Platform.<clinit>(Platform.java:79)
        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:296)¬†
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:262)¬†
        at okhttp3.OkHttpClient.<init>(OkHttpClient.java:235)¬†
        at retrofit2.Retrofit$Builder.build(Retrofit.java:580)¬†
        at com.myapp.fragment.LoginFragment.onCreate(LoginFragment.java:73)¬†
        at android.support.v4.app.Fragment.performCreate(Fragment.java:2414)¬†
        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1418)¬†
        at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1195)¬†
        at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1078)¬†
        at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:117)¬†
        at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2408)¬†
        at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2366)¬†
        at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2273)¬†
        at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3273)¬†
        at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)¬†
        at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)¬†
        at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:620)¬†
        at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)¬†
        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1188)¬†
        at android.app.Activity.performStart(Activity.java:5241)¬†
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2166)¬†
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2243)¬†
        at android.app.ActivityThread.access$800(ActivityThread.java:135)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:136)¬†
        at android.app.ActivityThread.main(ActivityThread.java:5019)¬†
        at java.lang.reflect.Method.invokeNative(Native Method)¬†
        at java.lang.reflect.Method.invoke(Method.java:515)¬†
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)¬†
        at dalvik.system.NativeStart.main(Native Method)¬†
```
No problem when I using retrofit only",https://github.com/square/okhttp/issues/4622#issuecomment-464279249,"You put that at the top-level or inside the Android block?

On Fri, Feb 15, 2019, 10:06 PM Cipher Deprogres <notifications@github.com
wrote:

> Thanks for your reply sir, I have added this
>
>  compileOptions {
>         sourceCompatibility JavaVersion.VERSION_1_8
>         targetCompatibility JavaVersion.VERSION_1_8
>     }
>
> to my build gradle file,but I still have same error output. Is there any
> additional step for this?
>
> ‚Äî
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/4622#issuecomment-464278057>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEESfDFmfs6jjYow7-XCQqESGg8wvBks5vN3WbgaJpZM4a-gA2>
> .
>
"
square/okhttp,"Hello, 

im am using OkHttp in our Android App for quite a long time. Unfortunately some problems occur after 
implementing a Network Interceptor to support brotli compression. 

```
        builder.addNetworkInterceptor(chain -> {
            Request request = chain.request().newBuilder().removeHeader(""Accept-Encoding"").addHeader(""Accept-Encoding"", ""br, gzip"").build();
            Response response = chain.proceed(request);
            if (""br"".equals(response.header(""Content-Encoding""))) {
                ResponseBody body = response.body();
                if (body != null) {
                    BufferedSource deCompressedSource = Okio.buffer(Okio.source(new BrotliInputStream(body.source().inputStream())));
                    return response
                            .newBuilder()
                            .removeHeader(""Content-Encoding"")
                            .body(ResponseBody.create(body.contentType(), -1, deCompressedSource))
                            .build();
                }
            }
            return response;
        });

```
With added interceptor the network data does not get cached.

A following request with `CacheControl.FORCE_CACHE` returns empty result (aka 504).
No Problems when using without the interceptor. 

",https://github.com/square/okhttp/issues/4619#issuecomment-464340632,Try attaching a debugger to see where it's getting lost? Useful to know if caching fails writing the first response or reading it afterwards.
square/okhttp,"Specifically, if this line is executed:

https://github.com/square/okhttp/blob/5ecd590c8c0cd7833ed378c8702d3a228817b4e8/okhttp/src/main/java/okhttp3/internal/platform/Jdk8WithJettyBootPlatform.java#L85

and that ALPN class is on the normal classpath, in addition to the boot classpath, then the class will be initialized from the class' ClassLoader, _not_ from the 'null' (system / bootstrap) classloader.

Then, Jetty will fail to initialize its `OpenJDK8ServerALPNProcessor` because the following check will fail:

https://github.com/eclipse/jetty.project/blob/f88f856673f2e8768042c973481ad78d41910e22/jetty-alpn/jetty-alpn-openjdk8-server/src/main/java/org/eclipse/jetty/alpn/openjdk8/server/OpenJDK8ServerALPNProcessor.java#L44-L45

We've usually hit this failure case when initializing okhttp clients in tests first (simply due to an unfortunate class load ordering), and only later loading the [jetty ALPN agent](https://github.com/jetty-project/jetty-alpn-agent) dynamically by calling a method [Http2Agent.install](https://github.com/palantir/conjure-java-runtime/blob/4f7e9c6428b356394771ef136f22bb4ad825877e/jetty-http2-agent/src/main/java/com/palantir/conjure/java/http2/Http2Agent.java#L33-L50) in a static initializer.

TODO:

- [x] test: https://github.com/square/okhttp/pull/4617
",https://github.com/square/okhttp/issues/4615#issuecomment-463865422,Weird. Why is it on both class paths? Wanna send a PR to force the boot class loader?
square/okhttp,"When I upgrade to OkHttp 3.13.1, my release builds with R8 fails to build. 

Versions that I have:
OkHttp: 3.13.1
Android Gradle Plugin: 3.3.1
Gradle: 5.1.1

Note: Tried with `r8` dependency latest version: `1.3.52` and with whatever AGP 3.3.1 ships with.

Here is my `gradle.properties`

```
android.enableR8=true
android.enableR8.fullMode=true
```

And here is the stacktrace of the build.

```
> Task :app:transformClassesAndResourcesWithR8ForExtranetRelease
R8 is an experimental feature. If you experience any issues, please file a bug at
https://issuetracker.google.com, using 'Shrinker (R8)' as component name. You can
disable R8 by updating gradle.properties with 'android.enableR8=false'.

/Users/sdane/dev/wf/waystation-app/android/app/build/intermediates/proguard-files/proguard-android-optimize.txt-3.3.1:17:2-23: D8: Ignoring option: -optimizationpasses

/Users/sdane/.gradle/caches/transforms-2/files-2.1/d290ba94b37fb20f73ba886f45da97b9/jetified-okhttp-3.13.1.jar: D8: Type `org.conscrypt.Conscrypt` was not found, it is required for default or static interface methods desugaring of `void okhttp3.internal.platform.ConscryptPlatform.configureSslSocketFactory(javax.net.ssl.SSLSocketFactory)`

> Task :app:transformClassesAndResourcesWithR8ForExtranetRelease FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:transformClassesAndResourcesWithR8ForExtranetRelease'.
> java.lang.NullPointerException (no error message)

* Try:
Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Exception is:
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesAndResourcesWithR8ForExtranetRelease'.
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:95)
        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)
        at org.gradle.api.internal.tasks.execution.ResolveBuildCacheKeyExecuter.execute(ResolveBuildCacheKeyExecuter.java:79)
        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)
        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)
        at org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)
        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)
        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)
        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)
        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)
        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)
        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)
        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)
        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)
        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)
        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
Caused by: java.lang.NullPointerException
        at com.android.tools.r8.graph.GraphLense.mapDexEncodedMethod(GraphLense.java:111)
        at com.android.tools.r8.ir.desugar.InterfaceMethodDesugaringLense.mapDexEncodedMethod(InterfaceMethodDesugaringLense.java:38)
        at com.android.tools.r8.ir.optimize.Outliner.selectMethodsForOutlining(Outliner.java:868)
        at com.android.tools.r8.ir.conversion.IRConverter.optimize(IRConverter.java:522)
        at com.android.tools.r8.R8.run(R8.java:398)
        at com.android.tools.r8.R8.run(R8.java:229)
        at com.android.tools.r8.R8.lambda$runForTesting$1(R8.java:220)
        at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:60)
        at com.android.tools.r8.utils.ExceptionUtils.withR8CompilationHandler(ExceptionUtils.java:48)
        at com.android.tools.r8.R8.runForTesting(R8.java:216)
        at com.android.tools.r8.R8.run(R8.java:129)
        at com.android.builder.dexing.R8Tool.runR8(r8Tool.kt:184)
        at com.android.build.gradle.internal.transforms.R8Transform.transform(R8Transform.kt:244)
        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)
        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)
        at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)
        at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)
        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
        at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:47)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)
        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:284)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)
        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:273)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:258)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:67)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:145)
        at org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:49)
        at org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)
        at org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)
        at org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)
        at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:33)
        at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)
        at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)
        at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)
        at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)
        at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)
        at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:82)
        at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:36)
        at org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)
        at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)
        at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)
        at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)
        at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)
        at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)
        at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)
        at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)
        ... 33 more


* Get more help at https://help.gradle.org

Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings

BUILD FAILED in 1m 17s
294 actionable tasks: 108 executed, 184 from cache, 2 up-to-date
‚ûú  android git:(dev-android)
```
",https://github.com/square/okhttp/issues/4604#issuecomment-462352766,File a bug on R8? Not sure what a library is supposed to be doing here.
square/okhttp,"I am using Retrofit2 with OkHttp. Everything is working fine with it except the one thing - a network call when app is closed or in background.

**Working**
Whenever Firebase notification arrives, I make a network call to fetch data related to that notifications and then show notification.

**Scenario**
Consider an Android app which is in background or closed and notification arrives.

**What's Happening**
Notification arrives successfully, I can see it. But when I try to make a call, it is always giving an error _Failed to connect to: *******_ and I can't see any call coming on server.

I have seen some similar type of issues but none of them could help me.
Here's a list:

1. https://github.com/square/okhttp/issues/1771
2. https://github.com/square/okhttp/issues/3146
3. https://github.com/square/okhttp/issues/1037
4. https://github.com/square/okhttp/issues/1792


Some suggested to use _connectionPool_ and some to use _pingInterval_. Nothing worked in my case. I am not sure if it's bug of Retrofit or OkHttp.

Below is the piece of code I am using for the call. Remember that it's working perfectly fine when app is in foreground.


        OkHttpClient.Builder builder = getHttpBuilder()
                .connectionSpecs(getSpecList());

        retrofit = new Retrofit.Builder()
                .baseUrl(Session.getBaseUrl())
                .client(builder.build())
                .build();


        Call<ResponseBody> call = retrofit
                .create(Webservice.class)
                .pullNotify(authToken, ivB64, digest, Session.getTimestamp());
        call.enqueue(new Callback<ResponseBody>() {
            @Override
            public void onResponse(Call<ResponseBody> call, Response<ResponseBody> response) {
                listener.onNetworkCallSuccess(response);
            }

            @Override
            public void onFailure(Call<ResponseBody> call, Throwable t) {
                listener.onNetworkCallFailure(t);
            }
        });


It always returns `SocketTimeoutException`. Any help/guidance is appreciated.",https://github.com/square/okhttp/issues/4572#issuecomment-462720006,"@JakeWharton I also experience this issue. How can I make simple network request on Oreo in background, without showing notification with service?"
square/okhttp,"Good bug reports include a failing test! Writing a test helps you to isolate and describe the problem, and it helps us to fix it fast. Bug reports without a failing test or reproduction steps are likely to be closed.

Here‚Äôs an example test to get you started.
https://gist.github.com/swankjesse/981fcae102f513eb13ed

# Version :
3.12.x

# Error description :
When the `MultipartBody.Part.createFormData(String name, @Nullable String filename, RequestBody body) ` method is called, if the file name contains Chinese, an IllegalArgumentException will be thrown to locate the calling chain:
```
MultipartBody.Part.createFormData(String name, @Nullable String filename, RequestBody body) 
Headers.of(String... namesAndValues)
Headers.checkValue(String value, String name)
```
The final code is as follows:
```java
  static void checkValue(String value, String name) {
    if (value == null) throw new NullPointerException(""value for name "" + name + "" == null"");
    for (int i = 0, length = value.length(); i < length; i++) {
      char c = value.charAt(i);
      if ((c <= '\u001f' && c != '\t') || c >= '\u007f') {
        throw new IllegalArgumentException(Util.format(
            ""Unexpected char %#04x at %d in %s value: %s"", (int) c, i, name, value));
      }
    }
  }
```
As shown above, this code does not handle Chinese correctly.",https://github.com/square/okhttp/issues/4564#issuecomment-463984087,Is it possible to backport this to 3.12.x?
square/okhttp,"I receive a standard notification about closing  a websocket connection due to a pong  was not received in time when Activity is destroyed.
Websocket connection is launched in  Service, which is launched through  startForeground.
¬† Ping interval is 30 seconds.
It seems that  client websocket has  problems when activity is destroyed.
What is it :  problems with Android system or  with OkHTTP module?",https://github.com/square/okhttp/issues/4562#issuecomment-455010868,Executable test case?
square/okhttp,"Help!. ""com.squareup.okhttp3:okhttp:3.12.1""

```
public static String signUp(Context context,
                                int registerType,
                                String name,
                                String email,
                                int gender,
                                String birthdate,
                                String imagePath,
                                String password,
                                long countryId,
                                long stateId,
                                long cityId,
                                int reasonId,
                                String facebookId,
                                String googleId) throws IOException {
        final String firebaseToken = Prefs.get(context).getFirebaseToken();
        MultipartBody.Builder builder = new MultipartBody.Builder()
                .setType(MultipartBody.FORM)
                .addFormDataPart(""name"", name)
                .addFormDataPart(""email"", email)
                .addFormDataPart(""country"", String.valueOf(countryId))
                .addFormDataPart(""state"", String.valueOf(stateId))
                .addFormDataPart(""city"", String.valueOf(cityId))
                .addFormDataPart(""os"", ""2"")
                .addFormDataPart(""register_type"", String.valueOf(registerType))
                .addFormDataPart(""id_device"", firebaseToken);
        if(imagePath != null && imagePath.length() > 0) {
            builder.addFormDataPart(""image_profile"", ""avatar.png"",
                    RequestBody.create(MEDIA_TYPE_PNG, new File(imagePath)));
        }
        if(birthdate != null && birthdate.length() > 0) {
            builder.addFormDataPart(""birthdate"", birthdate);
        }
        if(gender != 0) {
            builder.addFormDataPart(""gender"", String.valueOf(gender));
        }
        if(reasonId != 0) {
            builder.addFormDataPart(""reason"", String.valueOf(reasonId));
        }
        if(registerType == 1) {
            builder.addFormDataPart(""password"", password);
        } else if(registerType == 2) {
            builder.addFormDataPart(""idFacebook"", facebookId);
        } else if(registerType == 3) {
            builder.addFormDataPart(""idGoogle"", googleId);
        }
        return performPostCall(null, fullUrl(URL_API_REGISTER), builder.build());
    }
```

Crashlytics Log:
```
Caused by java.lang.NullPointerException: Attempt to invoke virtual method 'byte[] java.lang.String.getBytes(java.nio.charset.Charset)' on a null object reference
       at okhttp3.RequestBody.contentType(Unknown Source)
       at okhttp3.MultipartBody$Part.create(Unknown Source)
       at okhttp3.MultipartBody$Builder.setType(Unknown Source)
       at com.turismonl.pasaportenle.data.api.ApiHelper.getTermsAndConditions(Unknown Source)
       at com.turismonl.pasaportenle.data.loader.SignupLoader.loadData(Unknown Source)
       at com.turismonl.pasaportenle.data.loader.BaseLoader.loadInBackground(Unknown Source)
       at com.turismonl.pasaportenle.data.loader.BaseLoader.loadInBackground(Unknown Source)
       at android.support.v4.content.AsyncTaskLoader.onLoadInBackground(Unknown Source)
       at android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(Unknown Source)
       at android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(Unknown Source)
       at android.support.v4.content.ModernAsyncTask$2.call(Unknown Source)
       at java.util.concurrent.FutureTask.run(FutureTask.java:237)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
       at java.lang.Thread.run(Thread.java:818)
```
",https://github.com/square/okhttp/issues/4552#issuecomment-458662572,"Hi @enriquebautista, Is this issue still open?"
square/okhttp,"I was to use OkHttp with RxJava2. Would you consider porting the Retrofit RxJava2 Adapters to OkHttp? I did it myself in my own project, and it seemed pretty simple. I understand that you might not want to publish this with OkHttp itself, but maybe you could make an `adapter-rxjava2` jar like Retrofit provides.

The API could look something like:
```
public final class ReactivexCallAdapter {
    private final boolean isAsync;
    @Nullable
    private final Scheduler scheduler;

    public static ReactivexCallAdapter create() {
        return new ReactivexCallAdapter(false, null);
    }

    public static ReactivexCallAdapter createAsync() {
        return new ReactivexCallAdapter(true, null);
    }

    public static ReactivexCallAdapter createWithScheduler(Scheduler scheduler) {
        return new ReactivexCallAdapter(false, scheduler);
    }

    private ReactivexCallAdapter(boolean isAsync, @Nullable Scheduler scheduler) {
        this.isAsync = isAsync;
        this.scheduler = scheduler;
    }

    public Completable completable(Call call) {
        Observable<Response> observable = unassumbledObservable(call);
        return observable.ignoreElements();
    }

    public Flowable<Response> flowable(Call call) {
        Observable<Response> observable = unassumbledObservable(call);
        return observable.toFlowable(BackpressureStrategy.LATEST);
    }

    public Maybe<Response> maybe(Call call) {
        Observable<Response> observable = unassumbledObservable(call);
        return observable.singleElement();
    }

    public Observable<Response> observable(Call call) {
        Observable<Response> observable = unassumbledObservable(call);
        return RxJavaPlugins.onAssembly(observable);
    }

    public Single<Response> single(Call call) {
        Observable<Response> observable = unassumbledObservable(call);
        return observable.singleOrError();
    }

    private Observable<Response> unassumbledObservable(Call call) {
        Observable<Response> originalObservable;
        if (isAsync) {
            originalObservable = new CallEnqueueObservable(call);
        } else {
            originalObservable = new CallEnqueueObservable(call);
        }

        Observable<Response> observable;
        if (scheduler == null) {
            observable = originalObservable;
        } else {
            observable = originalObservable.subscribeOn(scheduler);
        }

        return observable;
    }
}
```
",https://github.com/square/okhttp/issues/4551#issuecomment-453746198,What's the difference between this and Retrofit?
square/okhttp,"I'm using `implementation 'com.squareup.okhttp3:okhttp:3.11.0'`

My application crashes on initialization at the following line, but only in production builds: 
```java
public class OkHttp3WebClient implements IWebClient {
    private static final String TAG = OkHttp3WebClient.class.getSimpleName().substring(0, 15);
    ...
}
```

I followed the ""guidance"" for ProGuard rules [here](https://github.com/square/okhttp/blob/master/okhttp/src/main/resources/META-INF/proguard/okhttp3.pro)

What I've found is that the application crashes on the line above with `java.lang.ExceptionInInitializerError Caused by: java.lang.StringIndexOutOfBoundsException: length=1; index=15`

I believe what is happening that ProGuard is mapping the name to some class `C`.  Then `C.class.getSimpleName()` becomes a one character string `""C""`.  So `""C"".substring(0,15)` throws an `StringIndexOutOfBoundsException`

There was an older discussion about this, but [issue 2230](https://github.com/square/okhttp/issues/2230) was closed a long time ago.",https://github.com/square/okhttp/issues/4548#issuecomment-453748925,"what's the substring for?

jshell> java.lang.Runtime.class.getSimpleName()
$1 ==> ""Runtime"""
square/okhttp,"Caused by javax.net.ssl.SSLException: Unable to create application data
       at com.android.org.conscrypt.NativeCrypto.SSL_new(NativeCrypto.java)
       at com.android.org.conscrypt.SslWrapper.newInstance(SslWrapper.java:58)
       at com.android.org.conscrypt.ConscryptFileDescriptorSocket.newSsl(ConscryptFileDescriptorSocket.java:159)
       at com.android.org.conscrypt.ConscryptFileDescriptorSocket.(ConscryptFileDescriptorSocket.java:152)
       at com.android.org.conscrypt.OpenSSLSocketFactoryImpl.createSocket(OpenSSLSocketFactoryImpl.java:149)
       at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:308)
       at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:283)
       at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:168)
       at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
       at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
       at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
       at java.lang.Thread.run(Thread.java:764)

model:ONEPLUS A5000
android version:8.1
okhttp version:3.12.1


",https://github.com/square/okhttp/issues/4546#issuecomment-487529211,@jaydenyuhy did u fix it? i meet same bug
square/okhttp,"Hi, it seems like the cache response contains the old response while the network response is new and modified.

We're on android using  'com.squareup.okhttp3:okhttp:3.11.0'

See example below of the headers we get this in the same Response, notice the network response has 200 status code and a newer LastModified, different ETag etc.

The expected result would be that the cache response would contain the same (new) data as the network response in cases where the network response is fresher.


**network response**
Response{protocol=http/1.1, code=200, message=OK, url=http://xxx.yyy.zzz/test} 
headers: Content-Type: application/octet-stream
    Content-Length: 3093384
    Connection: keep-alive
    Date: Mon, 07 Jan 2019 09:11:45 GMT
    Last-Modified: Mon, 07 Jan 2019 09:11:15 GMT
    ETag: ""18905c1f58feca0c6df495f7cc2e6846""
    x-amz-version-id: 6J9k_vF2g.lPoELovv9G.rUPpfnk2h4r
    Accept-Ranges: bytes
    Server: AmazonS3
    Age: 10
    X-Cache: Hit from cloudfront
    Via: 1.1 32c8da10203574baccb74b8f771a7ffb.cloudfront.net (CloudFront)
    X-Amz-Cf-Id: FVvnNF3QD5I0vELy78FoVxYgvJeqRsCACGdbbh5W8MGtARkg0lH9CQ==

**cache response** 
Response{protocol=http/1.1, code=200, message=OK, url=http://http://xxx.yyy.zzz/test} 
headers: Content-Type: application/octet-stream
    Content-Length: 3093323
    Connection: keep-alive
    Last-Modified: Sun, 06 Jan 2019 15:03:31 GMT
    Accept-Ranges: bytes
    Date: Mon, 07 Jan 2019 09:09:11 GMT
    ETag: ""9725f2a6b04151c54f8a420be6fa7690""
    x-amz-version-id: vKJV3auEiruTggNKvciHJoy1LWscENFM
    Server: AmazonS3
    Age: 65063
    X-Cache: Hit from cloudfront
    Via: 1.1 e64eb476d8f76c461d21278e018e194f.cloudfront.net (CloudFront)
    X-Amz-Cf-Id: R53ZU9rO1_ZWlueMU3Xo1ZOeDX5ibAv9TFDgp2uchC6rfg9fBCtk-A==",https://github.com/square/okhttp/issues/4539#issuecomment-451926984,"Does this explain it?
https://publicobject.com/2015/03/26/how-do-http-caching-heuristics-work/

Your server needs to include a cache-control header in the response."
square/okhttp,"Android community heavily rely on okhttp. It basically everywhere. But there is no android related test in this repo. I am thinking introduce an android sample and do proguard or other android related thing.

So any ideas ?",https://github.com/square/okhttp/issues/4533#issuecomment-451712755,What Android support is missing? OkHttp is not an Android-specific library so it's built on the behavior of the `java.*` APIs. Android ships those APIs so any behavior difference is an OS bug. What specifically are you asking for?
square/okhttp,"[XNIO-2 task-52][ERROR][ServiceFallbackProvider:38] fallbackResponse - ServiceFallbackProvider.fallbackResponse:route=websrv-auth,cause=com.netflix.client.ClientException
	at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)
	at org.springframework.cloud.netflix.zuul.filters.route.support.AbstractRibbonCommand.run(AbstractRibbonCommand.java:186)
	at org.springframework.cloud.netflix.zuul.filters.route.support.AbstractRibbonCommand.run(AbstractRibbonCommand.java:51)
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)
	at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)
	at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)
	at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)
	at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.subscribe(Observable.java:10247)
	at rx.Observable.subscribe(Observable.java:10214)
	at rx.internal.operators.BlockingOperatorToFuture.toFuture(BlockingOperatorToFuture.java:51)
	at rx.observables.BlockingObservable.toFuture(BlockingObservable.java:411)
	at com.netflix.hystrix.HystrixCommand.queue(HystrixCommand.java:378)
	at com.netflix.hystrix.HystrixCommand.execute(HystrixCommand.java:344)
	at org.springframework.cloud.netflix.zuul.filters.route.RibbonRoutingFilter.forward(RibbonRoutingFilter.java:161)
	at org.springframework.cloud.netflix.zuul.filters.route.RibbonRoutingFilter.run(RibbonRoutingFilter.java:114)
	at com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:117)
	at com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:193)
	at com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:157)
	at com.netflix.zuul.FilterProcessor.route(FilterProcessor.java:118)
	at com.netflix.zuul.ZuulRunner.route(ZuulRunner.java:96)
	at com.netflix.zuul.http.ZuulServlet.route(ZuulServlet.java:116)
	at com.netflix.zuul.http.ZuulServlet.service(ZuulServlet.java:81)
	at org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:165)
	at org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequest(ZuulController.java:44)
	at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.cloud.sleuth.instrument.web.ExceptionLoggingFilter.doFilter(ExceptionLoggingFilter.java:48)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at brave.servlet.TracingFilter.doFilter(TracingFilter.java:86)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:65)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:336)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.RuntimeException: okhttp3.internal.http2.StreamResetException: stream was reset: PROTOCOL_ERROR
	at rx.exceptions.Exceptions.propagate(Exceptions.java:58)
	at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:464)
	at rx.observables.BlockingObservable.single(BlockingObservable.java:341)
	at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)
	... 151 more
Caused by: okhttp3.internal.http2.StreamResetException: stream was reset: PROTOCOL_ERROR
	at okhttp3.internal.http2.Http2Stream.takeResponseHeaders(Http2Stream.java:153)
	at okhttp3.internal.http2.Http2Codec.readResponseHeaders(Http2Codec.java:127)
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at org.springframework.cloud.netflix.ribbon.okhttp.RetryableOkHttpLoadBalancingClient$1.doWithRetry(RetryableOkHttpLoadBalancingClient.java:133)
	at org.springframework.cloud.netflix.ribbon.okhttp.RetryableOkHttpLoadBalancingClient$1.doWithRetry(RetryableOkHttpLoadBalancingClient.java:102)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)
	at org.springframework.cloud.netflix.ribbon.okhttp.RetryableOkHttpLoadBalancingClient.executeWithRetry(RetryableOkHttpLoadBalancingClient.java:95)
	at org.springframework.cloud.netflix.ribbon.okhttp.RetryableOkHttpLoadBalancingClient.execute(RetryableOkHttpLoadBalancingClient.java:146)
	at org.springframework.cloud.netflix.ribbon.okhttp.RetryableOkHttpLoadBalancingClient.execute(RetryableOkHttpLoadBalancingClient.java:58)
	at com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)
	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)
	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)
	at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)
	at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)
	at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)
	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)
	at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)
	at rx.Observable.unsafeSubscribe(Observable.java:10151)
	at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)
	at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
	at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
	at rx.Observable.subscribe(Observable.java:10247)
	at rx.Observable.subscribe(Observable.java:10214)
	at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:444)
	... 153 more",https://github.com/square/okhttp/issues/4485#issuecomment-450576032,Do you know what the HTTP/2 server is? As-is there‚Äôs not much to reproduce this. 
square/okhttp,"For the release OkHttp 3.13 I‚Äôd like to change our requirements from this:

 * Android 2.3+ (released December 6, 2010)
 * Java 7+ (released July 2011)

To this:

 * Android 5.0+ (released November 12, 2014)
 * Java 8+ (released March 2014)

These minimums ensure our TLS stack supports both TLSv1.2 and ALPN. Requiring TLSv1.2 is important because we‚Äôre soon going to [disable](https://github.com/square/okhttp/issues/4319) TLSv1.0 and TLSv1.1 by default!

I think we want to ship Java 8 bytecode and use lambas and method references. Downstream Android applications may need to enable desugaring in D8 when building APKs.

We should avoid hard requirements on Java 8 APIs (java.time). We will instead continue to offer them as convenience overloads. Java 8 APIs aren‚Äôt available until API 26 (released August 2017).",https://github.com/square/okhttp/issues/4481#issuecomment-450489186,"üò¢ I'm min API 16 with a relatively large user base on those devices as they repurpose their old devices as advanced remotes. (70K+)

90% of my user base do not need or use https isn't there a way to continue to support those?
Everything is API 16 on Google side, it's a little too early for dropping.

As I also use Okio and Moshi a lot, I fear that at some point not updating OkHttp will force no more updating Okio and Moshi and this will be a real issue (Specially with the incoming coroutines support)"
square/okhttp,"Per @swankjesse 

> we might need to move the callStart callback to only occur if you actually use the network",https://github.com/square/okhttp/issues/4441#issuecomment-446469364,"Would it be more useful to keep callStart, callEnd marking the start and end for clients, but expose an event for a cache hit instead?"
square/okhttp,"here, https://github.com/square/okhttp/blob/parent-3.12.0/okhttp/src/main/java/okhttp3/MultipartBody.java#L259 
for MultipartBody,like file upload,  the filename may not be ascii ,but it is legal. 

but Headers.of  https://github.com/square/okhttp/blob/parent-3.12.0/okhttp/src/main/java/okhttp3/Headers.java#L224 
use the 'checkValue(value, name)' , it is not allowed non-ascii char.
",https://github.com/square/okhttp/issues/4439#issuecomment-450963256,Is there any workaround? It crashes while uploading a file with non-ascii characters.
square/okhttp,"#### Stacktrace
```
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4481)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:326)
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:283)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:168)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)
	at okhttp3.RealCall.execute(RealCall.java:92)
```

#### Environment
* OkHttp 3.12.0
* Java 11.0.1 LTS
* Windows 10 64-bit

This bug seems cannot be stably reproduce, so I'm not sure how to write a failing test for this. After I downgraded okhttp to 3.11.0 it works fine.",https://github.com/square/okhttp/issues/4427#issuecomment-443609831,"Dupe of https://github.com/square/okhttp/issues/4208

Now tracked in https://github.com/square/okhttp/issues/4178.  Are you using some particular setup e.g. Pre-Shared Keys?"
square/okhttp,I don‚Äôt think this works. We should add a test to confirm that it does.,https://github.com/square/okhttp/issues/4419#issuecomment-449601394,Should `UnixDomainSocketFactory` and `UnixDomainServerSocketFactory` move to a new `okhttp-unixdomainsockets` Maven module to allow using them from both the UNIX domain sockets sample and MockWebServer tests?
square/okhttp,"Currently OKHTTPhttp sends `CONNECT` request to the proxy to create a tunnel only when SSL is used. However when using WebSocket that is required the protocol to be upgraded, a tunnel is required by some proxies (e.g. Squid), otherwise the`Upgrade` headers will not be forwarded to the remote server correctly. Can OKHTTP create a tunnel with the proxy regardless of SSL being used?",https://github.com/square/okhttp/issues/4390#issuecomment-439722161,Hang on ‚Äì are you using Squid in development? 
square/okhttp,"Maybe I'm missing something but I'm not seeing any way to check at the end of a test that there aren't any unused responses. I don't always want to have to check the details of each recorded request, and it would be useful to just assert that the responses we're all used and won't leak into the next test if I'm re-using the same mock server.",https://github.com/square/okhttp/issues/4383#issuecomment-438914058,Write a custom dispatcher? Or use the QueueDispatcher and confirm that peek() returns null?
square/okhttp,"Since dns query is encrypted, tls 1.3 encrypt certificates, sni is the only info that leak server name, and sni encryption is under way of being rfc standard, before that universally implemented, please add a option to not send sni extension, there is no need of sni for non virtual web server.",https://github.com/square/okhttp/issues/4324#issuecomment-431198807,If it's a non virtual web server you can make the request by IP address?
square/okhttp,We should make one and make it very easy to install.,https://github.com/square/okhttp/issues/4315#issuecomment-433704396,Any thoughts on the API options?
square/okhttp,"If a `Request` contains a `Cookie` header, it is overridden by the values returned by the `CookieJar` (if one has been installed).

This issue is half ""bug report"" in the sense that the principle of least surprise would have me reason that a cookie header set _explicitly_ on a request would be honored when using a `CookieJar`, and half ""question"" in the sense that maybe this is actually intended behavior?

Here's a test case to reproduce what I'm noticing: https://github.com/nicktrav/okhttp/commit/1cc51f7c33e0d110e85e97cc51528685a6c1a565

The following is a naive patch I'd be happy to offer up, though this change in behavior might break existing clients, so I'm open to thoughts / ideas.

```diff
--- a/okhttp/src/main/java/okhttp3/internal/http/BridgeInterceptor.java
+++ b/okhttp/src/main/java/okhttp3/internal/http/BridgeInterceptor.java
@@ -82,7 +82,7 @@ public final class BridgeInterceptor implements Interceptor {
     }

     List<Cookie> cookies = cookieJar.loadForRequest(userRequest.url());
-    if (!cookies.isEmpty()) {
+    if (!cookies.isEmpty() && userRequest.header(""Cookie"") == null) {
       requestBuilder.header(""Cookie"", cookieHeader(cookies));
     }
```

Thanks!",https://github.com/square/okhttp/issues/4282#issuecomment-423704470,We could union ‚Äôem. You‚Äôre allowed to have multiple `Cookie` headers. Want to submit a pull request?!
square/okhttp,Would be neater to just set RealConnection.noNewStreams when we approach the limit.,https://github.com/square/okhttp/issues/4245#issuecomment-421550368,Can I take pick up issue if no one else is working?
square/okhttp,"Here the test:

```java
private final MockWebServer server = new MockWebServer();
@Before public void setUp() throws Exception { server.start(); }
@After public void tearDown() throws Exception { server.shutdown(); }
@Test public void nullDefaultProxySelector() throws Exception {
  server.enqueue(new MockResponse().setBody(""abc""));

  ProxySelector.setDefault(null);

  OkHttpClient client = defaultClient().newBuilder()
      .build();

  Request request = new Request.Builder().url(server.url(""/"")).build();
  Response response = client.newCall(request).execute();
  assertEquals(""abc"", response.body().string());
}
```

And the result:

```java
Aug 25, 2018 4:36:39 PM okhttp3.mockwebserver.MockWebServer$2 execute
INFORMATION: MockWebServer[57774] starting to accept connections
Aug 25, 2018 4:36:39 PM okhttp3.mockwebserver.MockWebServer$2 acceptConnections
INFORMATION: MockWebServer[57774] done accepting connections: socket closed
Aug 25, 2018 4:36:39 PM okhttp3.SocksProxy$1 execute
INFORMATION: SocksProxy 57775 done accepting connections: socket closed

java.lang.NullPointerException: proxySelector == null

	at okhttp3.Address.<init>(Address.java:79)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.createAddress(RetryAndFollowUpInterceptor.java:212)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:112)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at okhttp3.SocksProxyTest.nullDefaultProxySelector(SocksProxyTest.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
```

To quote https://docs.oracle.com/javase/8/docs/api/java/net/ProxySelector.html#setDefault-java.net.ProxySelector-: `ps - The HTTP proxy selector, or null to unset the proxy selector.`, so `null` is an acceptable value that OkHttp should be able to cope with.",https://github.com/square/okhttp/issues/4232#issuecomment-415978402,"Yep, you‚Äôre right. We need a NullProxySelector or something.

Want to send a PR?"
square/okhttp,"Since `3.11.0` I get the following problems on Android emulators (tested in API 21 - API 28). Please note that it works on jvm on my machine perfectly fine but not on Android (emulators).

```
 java.lang.AssertionError: java.security.NoSuchAlgorithmException: no such algorithm: ECDSA for provider BC
        at okhttp3.tls.HeldCertificate$Builder.generateKeyPair(HeldCertificate.java:429)
        at okhttp3.tls.HeldCertificate$Builder.build(HeldCertificate.java:353)
        at com.hannesdorfmann.okhttpcertificate.MainActivity$onCreate$1.invoke(MainActivity.kt:22)
```

Here is a sample project showing the certificate tls problem:

https://github.com/sockeqwe/OkHttpCertificate

Just lunch the MainActivity and it produces the error stacktrace shown above.
",https://github.com/square/okhttp/issues/4183#issuecomment-451391679,Is it fixed?
square/okhttp,"Got the following exception when running Android P with https:

java.lang.VerifyError: Verifier rejected class okhttp3.internal.tls.HeldCertificate$Builder: okhttp3.internal.tls.HeldCertificate okhttp3.internal.tls.HeldCertificate$Builder.build() failed to verify: okhttp3.internal.tls.HeldCertificate okhttp3.internal.tls.HeldCertificate$Builder.build(): [0x9D] register v7 has type Reference: org.bouncycastle.asn1.ASN1ObjectIdentifier but expected Reference: org.bouncycastle.asn1.DERObjectIdentifier (declaration of 'okhttp3.internal.tls.HeldCertificate$Builder' a

Here is the test code to start the MockWebServer:

        MockWebServer mockWebServer = new MockWebServer();
        mockWebServer.useHttps(SslClient.localhost().socketFactory, false);
        mockWebServer.start();",https://github.com/square/okhttp/issues/4175#issuecomment-408599797,"Are you shipping an incompatible version of bouncycastle with your project? HeldCertificate depends on bouncycastle 1.50, though perhaps we should update the library to require a newer version."
square/okhttp,"As suggested by @yschimke in this https://github.com/square/okhttp/issues/270#issuecomment-399324485, I'm opening a new issue, regarding the analytics API to be able to handle _call_ contextual data. 

The idea of this issue is to have a way to give and access context per call / request. This is interesting for monitoring typically when the request is parameterized (via path params, etc.). Or to monitor certain kind of payload, e.g. separate metrics for the various grant type of an oauth endpoint.

----

Here's a verbatim of the comments in #270

* https://github.com/square/okhttp/issues/270#issuecomment-381157742

  > @swankjesse I would like to monitor request by their route as defined in Retrofit. However this appear to be difficult to capture this information in Retrofit, see square/retrofit#2732. For bootstrapping the idea I talked about using Request.tag to pass along this contextual route data, but I don't think this is wise regarding the tag usage documentation.
  > 
  > Do you think OkHttp could introduce another concept in that regard ?

* https://github.com/square/okhttp/issues/270#issuecomment-381291303

  > how are you planning to do the monitoring? For example, is it a timer? One thing you could do is add a synthetic request header that your ""start"" timer removes. There are probably other ways, too.

* https://github.com/square/okhttp/issues/270#issuecomment-381597941

  > @adriancole Actually I implemented an eventlistener that feeds prometheus collectors (gauge, summary, counters). Summary are the closest thing to timers if compared to micrometer. (But for reasons outside of this scope I'm using summary instead of histograms).
  > 
  > I considered this approach as well in retrofit, but since I cannot modify the request at the right moment / stage in retrofit I cannot capture the path of the retrofit annotation.",https://github.com/square/okhttp/issues/4087#issuecomment-399853315,"interesting things here are that call is delay started.. so for example, lifecycle would be more foreground with a feature like this.. for example, can you add to the context before the call is executed, or can you only add before it is executed? Is the state immutable after a certain point? If a call is created and enqueued, but doesn't actually end in a network request, does that monkey wrench any assumptions?

Also, sometimes folks want property propagation (explicit context), and other times they want implicit context (like MDC hooks). Properties are much easier.

Just things for teasing out the design."
square/okhttp,"DESCRIPTION:
OkHttp creates a SslSocketFactory using `SSLContext.getInstance(""TLS"")` to retrieve default TLS implementation from JDK.
The last public version of JDK 7 (update 80) uses TLS v1 as default.
This behavior has changed in new commercial versions by Oracle JDK 7 update 131 to use TLS v1.2 as default (the same behavior of JDK 8).

PROBLEM:
When running my code on last JDK 7 public version (update 80), I'm not able to connect to servers that uses TLS v1.1 or TLS v1.2.
The connectionsSpecs.tlsVersions feature does nothing because `SSLContext.getInstance(""TLS"")` retrieves v1 implementation.

SOLUTION:
Change `SSLContext.getInstance(""TLS"")` to `SSLContext.getInstance(""TLSv1.2"")` so the JDK 7 will also retrieve TLS v1.2 by default and connectionsSpecs.tlsVersions feature will work as expected as TLS v1.2 can downgrade gracefully to previous versions.

Line to change:
https://github.com/square/okhttp/blob/c3d6607a14f66eae3dedc927a3eff642d1493caa/okhttp/src/main/java/okhttp3/internal/platform/Platform.java#L269",https://github.com/square/okhttp/issues/4086#issuecomment-399326091,Is this documented somewhere? Is it safe to always use this on all platforms? or should it fallback to TLS?
square/okhttp,"
Hi! I apologize in advance for this bug report since it will be more FYI than a specific to the point bug report as we have not been able to identify the root cause of it nor reproduce it (I know, I wish we had more info than the below).

Problem: Intermittently we see our app clients using okhttp 3.6.0 launching 60+ POST requests when only one should have been sent. These requests were launched within sub-millisecond of each other hence spamming our API.

App runs React Native 0.55.3 and utilizing the standard fetch() call which in turns falls back on okhttp 3.6.0.

Communication path:   App -> AWS ELB -> Apache server.

Some patterns that might hold true (we haven't seen any deviation from this.. but who knows, black swans are out there we might just not have observed them yet):
- Problem is only with POST requests. We haven't observed this with GET/PATCH/DELETE yet.
- Problem is only when going over HTTP/2. When we turn off HTTP/2 on our ELB we don't observe any clients having the issue any longer.
- Problem only seems to exhibit when the Apache/ELB responds with error code >= 400. We haven't observed it happening when error code is 200.

We estimate this to happen in approx 0.1% of all requests or so. Hence, infrequently.

Reproduction: We have been able to find a scenario that can reproduce it but we observe it hundreds of times per day when HTTP/2 is enabled.

We are quite certain that the issue isn't with our app logic since we do not have any logic for retries or anything similar. The problem would be down the stack, in React Native or Okhttp.

I wanted to open this issue in case it has been observed by anyone else out there and they know the root cause for it or if they have a reliable reproduction of it, in such case we could help patch the behavior (assuming the problem is with okhttp).",https://github.com/square/okhttp/issues/4071#issuecomment-397882279,"What specific error codes are returned?  Is it possible that there is a HTTP/2 stream error returned by the server?  There is some HTTP/2 specific retries e.g. REFUSED_STREAM.

I don't think we can resolve just from this report.  If its reproducible in a public server then we can work out the bug and fix."
square/okhttp,"I have an i ssue where OkHttp does not revalidate requests. (3.10.0)
If the cache-control says ""must-revalidate"", the request should be revalidated.

In that case, the `CacheStrategy` should return a not null network request:

```kotlin
@Test
fun shouldRevalidate() {
  val nowMillis = 1527845183942 // =Fri Jun 01 2018 09:26:23
  val request = Request.Builder()
      .method(""GET"", null)
      .url(""https://my.url.com/v1/item/d002fbef-7061-4d92-9958-7b128cf85855"")
      .build()

  val handshake = Handshake.get(
      TlsVersion.TLS_1_2,
      CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, emptyList(), emptyList()
  )
  val cacheCandidate = Response.Builder()
      .code(200)
      .addHeader(""date"", ""Fri, 01 Jun 2018 07:45:40 GMT"")
      .addHeader(""cache-control"", ""private, must-revalidate"")
      .addHeader(""last-modified"", ""Thu, 31 May 2018 08:04:53 GMT"")
      .sentRequestAtMillis(1527839142145) //=Fri Jun 01 2018 07:45:42
      .receivedResponseAtMillis(1527839142295)  //=Fri Jun 01 2018 07:45:42 
      .request(request)
      .protocol(Protocol.HTTP_1_1)
      .handshake(handshake)
      .message("""")
      .build()

  val cacheStrategy = CacheStrategy.Factory(nowMillis, request, cacheCandidate)
      .get()
  assertThat(cacheStrategy.networkRequest).isNotNull()
}
```",https://github.com/square/okhttp/issues/4043#issuecomment-394858380,Could you build the test case with the `OkHttpClient` and `MockWebServer`?? Here's an example: https://github.com/square/okhttp/blob/master/okhttp-tests/src/test/java/okhttp3/CacheTest.java#L1204
square/okhttp,"Set sslSocketFactory and hostnameVerifier in 3.10.0 to solve SSL exceptions, but network requests are SSL exceptions.
Later, turning the library into 3.9.1 does not require sslSocketFactory and hostnameVerifier network requests to be normal, so there is bug in the 3.10.0 version.",https://github.com/square/okhttp/issues/4042#issuecomment-393729606,"My guess is that it‚Äôs cause we took some obsolete ciphers (`TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA` and `TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA`) away:
https://github.com/square/okhttp/blob/master/CHANGELOG.md#version-3100

Is your server reachable with Chromium?"
square/okhttp,"Main class close() method - **Close any persistent connections.**
```
  private void close() {
    client.connectionPool().evictAll(); // Close any persistent connections.
  }
```
ConnectionPool.evictAll() - **Close and remove all idle connections in the pool.**
```
  /**
   * Close and remove all idle connections in the pool.
   */
  public void evictAll() {
    List<RealConnection> evictedConnections = new ArrayList<>();
    synchronized (this) {
      for (Iterator<RealConnection> i = connections.iterator(); i.hasNext(); ) {
        RealConnection connection = i.next();
        if (connection.allocations.isEmpty()) {
          connection.noNewStreams = true;
          evictedConnections.add(connection);
          i.remove();
        }
      }
    }

    for (RealConnection connection : evictedConnections) {
      closeQuietly(connection.socket());
    }
  }
```
Condition `connection.allocations.isEmpty()` closes the connection only if there are no active streams in this connection

list of revisions:
1. **ConnectionPool** Rename evictAll() -> **closeIdle()**
2. Mark evictAll() method is Deprecated 
3. **ConnectionPool** Add method **closeAll()** - Close any persistent connections.
4. **Main** close() method call client.connectionPool().closeAll()
5. fix OkHttpClient javadoc
6. fix tests

Correct me if I'm wrong.",https://github.com/square/okhttp/issues/4030#issuecomment-393025965,What‚Äôs the motivation? If you want to interrupt in-flight calls you can do that with `Call.cancel()`.
square/okhttp,"The following one-line program does not close properly on Java 9:

```java
public static void main(String[] args) throws IOException {
    System.out.println(new OkHttpClient.Builder().build().newCall(new Request.Builder().url(""https://google.de"").build()).execute());
}
```

It hangs for a very significant amount of time after the request is already finished before it allows the program to quit.

This a little modified version works flawlessly and allows the program to quit immediately after the request is finished.

```java
public static void main(String[] args) throws IOException {
    System.out.println(new OkHttpClient.Builder().protocols(Collections.singletonList(Protocol.HTTP_1_1)).build().newCall(new Request.Builder().url(""https://google.de"").build()).execute());
}
```

Running on Java 8 also fixes the problem, as there HTTP 1.1 is used, not HTTP 2.0.

The problem is a hanging non-deamon thread called `OkHttp google.de`.
Here you have the stacktrace of the thread when the program should quit:

```java
""OkHttp google.de@1876"" prio=5 tid=0x11 nid=NA runnable
  java.lang.Thread.State: RUNNABLE
	  at java.net.SocketInputStream.socketRead0(SocketInputStream.java:-1)
	  at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	  at java.net.SocketInputStream.read(SocketInputStream.java:171)
	  at java.net.SocketInputStream.read(SocketInputStream.java:141)
	  at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:425)
	  at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:65)
	  at sun.security.ssl.SSLSocketImpl.bytesInCompletePacket(SSLSocketImpl.java:918)
	  - locked <0x792> (a java.lang.Object)
	  at sun.security.ssl.AppInputStream.read(AppInputStream.java:144)
	  - locked <0x793> (a sun.security.ssl.AppInputStream)
	  at okio.Okio$2.read(Okio.java:140)
	  at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)
	  at okio.RealBufferedSource.request(RealBufferedSource.java:68)
	  at okio.RealBufferedSource.require(RealBufferedSource.java:61)
	  at okhttp3.internal.http2.Http2Reader.nextFrame(Http2Reader.java:95)
	  at okhttp3.internal.http2.Http2Connection$ReaderRunnable.execute(Http2Connection.java:608)
	  at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	  at java.lang.Thread.run(Thread.java:844)
```

I find it quite strange that this thread is hanging on a `socketRead` operation, while the request is already finished successfully.",https://github.com/square/okhttp/issues/4029#issuecomment-392295328,Dupe of #4009?
square/okhttp,"version 3.10.0

demo: https://github.com/Caij/OkHttpDownDemo",https://github.com/square/okhttp/issues/4025#issuecomment-401883835,"I'm not sure at the moment, can you test with a snapshot build? https://oss.jfrog.org/artifactory/libs-snapshot/com/squareup/okhttp3/okhttp/3.11.0-SNAPSHOT/"
square/okhttp,"OKHttp3 version 3.10. Android application
After a successful connection and a short period of inactivity, the OKHttp3 websocket throws a EOFException in response to a code 101, ""Switching Protocols"" response. This then disconnects the socket and our application is forced to re-connect again.
Is there anyway to control this so the socket does not close ? 
Is this expected behavior?
Our iOS and server side tests against the same server did not show this behaivor and remained connected until the applications disconnected them explicitely.

RealWebsocket class:

public void connect(OkHttpClient client) { ...

               try {
                    RealWebSocket.this.listener.onOpen(RealWebSocket.this, response);
                    String name = ""OkHttp WebSocket "" + request.url().redact();
                    RealWebSocket.this.initReaderAndWriter(name, streams);
                    streamAllocation.connection().socket().setSoTimeout(0);
                    RealWebSocket.this.loopReader();
                } catch (Exception var6) {
                    RealWebSocket.this.failWebSocket(var6, (Response)null);
                }
(Response return code 101)
",https://github.com/square/okhttp/issues/4012#issuecomment-402577186,Could you provide an executable test case? Nothing actionable here.
square/okhttp,"I need to do redirect in my network interceptor in order to some query params

as soon as CacheInterceptor is on the top of the interceptor list (index 3), and my interceptor is #6 
so change of url breaks cache interceptor's keys

it always gets original url and puts modified key to the storage",https://github.com/square/okhttp/issues/3988#issuecomment-386329727,Change the URL in an app interceptor?
square/okhttp,"These days so many crashes happened in our app. About 200+ Android devices has happened. And it's always happend on Andorid 8.1.0. The OkHttp's version I used is 3.10.0.

This is the crash's stack information
```
0 java.lang.IllegalArgumentException: Unexpected TLS version: NONE
1¬†okhttp3.TlsVersion.forJavaName(TlsVersion.java:46)
2¬†okhttp3.Handshake.get(Handshake.java:55)
3¬†okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:242)
4¬†okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:198)
5¬†okhttp3.internal.connection.RealConnection.buildConnection(RealConnection.java:174)
6¬†okhttp3.internal.connection.RealConnection.connect(RealConnection.java:114)
7¬†okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)
8¬†okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)
9¬†okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)
10¬†okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
11¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
12¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
13¬†okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)
14¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
15¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
16¬†okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
17¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
18¬†okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)
19¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
20¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
21¬†com.weidian.lib.imagehunter.glidehunter.okhttp3.OkHttpUrlLoader$Factory$1.intercept(OkHttpUrlLoader.java:63)
22¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
23¬†okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
24¬†okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)
25¬†okhttp3.RealCall.access$100(RealCall.java:33)
26¬†okhttp3.RealCall$AsyncCall.execute(RealCall.java:120)
27¬†okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
28¬†java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
29¬†java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
30¬†java.lang.Thread.run(Thread.java:764)
```

I found that OkHttp will not callback when java.lang.IllegalArgumentException happend.
This exception is thrown by **TlsVersion.forJavaName** method

```
public static TlsVersion forJavaName(String javaName) {
  switch (javaName) {
    case ""TLSv1.3"":
      return TLS_1_3;
    case ""TLSv1.2"":
      return TLS_1_2;
    case ""TLSv1.1"":
      return TLS_1_1;
    case ""TLSv1"":
      return TLS_1_0;
    case ""SSLv3"":
      return SSL_3_0;
  }
  throw new IllegalArgumentException(""Unexpected TLS version: "" + javaName);
}
```

When invoke call's enqueue method to get result async, if this exception happened, it will not callback onFailure method. And also I can't catch it.

```
client.newCall(request).enqueue(new Callback() {
    @Override
    public void onFailure(Call call, IOException e) {

    }

    @Override
    public void onResponse(Call call, Response response) throws IOException {

    }
});
```

```
final class AsyncCall extends NamedRunnable {
  private final Callback responseCallback;

  @Override protected void execute() {
    boolean signalledCallback = false;
    try {
      Response response = getResponseWithInterceptorChain();
      if (retryAndFollowUpInterceptor.isCanceled()) {
        signalledCallback = true;
        responseCallback.onFailure(RealCall.this, new IOException(""Canceled""));
      } else {
        signalledCallback = true;
        responseCallback.onResponse(RealCall.this, response);
      }
    } catch (IOException e) {
      //only IOException will catch and callback onFailure method
      if (signalledCallback) {
        // Do not signal the callback twice!
        Platform.get().log(INFO, ""Callback failure for "" + toLoggableString(), e);
      } else {
        responseCallback.onFailure(RealCall.this, e);
      }
    } finally {
      client.dispatcher().finished(this);
    }
  }
}
```

Is there any solution? Thank you.",https://github.com/square/okhttp/issues/3973#issuecomment-395330495,Any update?
square/okhttp,"It‚Äôs a thing we could do. :)

https://tools.ietf.org/html/draft-ietf-doh-dns-over-https-07

Prototype

https://github.com/yschimke/oksocial/blob/master/src/main/kotlin/com/baulsupp/oksocial/network/doh/OkHttpDnsOverHttps.kt
https://github.com/yschimke/oksocial/blob/master/src/main/kotlin/com/baulsupp/oksocial/network/doh/DnsOverHttpsRequestBuilder.kt

This reuses Netty encoders and decoders, but could be re-implemented for just querying A (ipv4) and AAAA (ipv6) records.  ",https://github.com/square/okhttp/issues/3969#issuecomment-382153949,"```
OkHttpClient client = new OkHttpClient.Builder()
    .dns(new TlsDns(""1.1.1.1""))
    .build();
```
?"
square/okhttp,"I want to put the date header (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Date) on all my requests.

```java
static final ThreadLocal<DateFormat> DATE_HEADER_FORMAT =
      new ThreadLocal<DateFormat>() {
        @Override protected DateFormat initialValue() {
          DateFormat format = new SimpleDateFormat(""EEE, dd MMM yyyy HH:mm:ss 'GMT'"", Locale.US);
          format.setTimeZone(TimeZone.getTimeZone(""GMT""));
          return format;
        }
      };
...
requestBuilder.addHeader(""Date"", DATE_HEADER_FORMAT.get().format(new Date())
```

I'd like to remove this code in favor of perhaps `okhttp3.Headers.setDate(Date)`.

The downside is that it opens up discussion about other general headers that _could_ be added to the Headers API. Is this general-purpose enough?",https://github.com/square/okhttp/issues/3921#issuecomment-372557657,"+1 I think OkHttp could usefully provide constants and formatters for more headers.  Would it be worth a sweep through https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers?

Date is also pretty common in responses."
square/okhttp,"Description: When downloading a lot of medium-sized files from Nginx HTTP/2 server, if requests are frequently canceled (RST_STREAM), eventually the connection will timeout and not be able to send/receive any data from the server.

On the server side configure the Nginx server to support HTTP/2 with a self-signed certificate. And host about 100 files with size about 500k each. 
On the client side, I built an Android test, using a single thread to download the file from file no.1 to file no.100 consequently. During each download, the request is canceled and then proceed to download next file. Eventually, the request will timeout. Depending on the setup the timeout may happen on different download. But once the testing environment is set, it always failed on the same file.

Server info: nginx/1.13.10 
Client info: Android 6.0 with OKHttp 3.10.0 

This issue is reproducible on multiple servers. For example, Go HTTP/2 server and AWS CloudFront.

A filtered (sid:75) server log shows that the header frame has been sent on 14:39:32 and then timed out after 60 seconds. Note, it is not always the header frame though. Sometimes it is the data frame not being sent out.
```
2018/03/05 14:39:32 [debug] 92282#0: *4 http2 frame type:1 f:5 l:14 sid:75
2018/03/05 14:39:32 [debug] 92282#0: *4 http2 HEADERS frame sid:75 depends on 0 excl:0 weight:16
2018/03/05 14:39:32 [debug] 92282#0: *4 http2 frame out: 00007FD4B082ABA0 sid:75 bl:1 len:122
2018/03/05 14:39:32 [debug] 92282#0: *4 http2 frame sent: 00007FD4B082ABA0 sid:75 bl:1 len:122
2018/03/05 14:40:32 [debug] 92282#0: *4 http2 send RST_STREAM frame sid:75, status:1
```
In the meantime, the client log shows the header is not received until 14:40:32
```
03-05 14:39:32.229 5979-5995/? V/VB_Network: Sending request https://10.0.0.186/files/37 on Connection{10.0.0.186:443, proxy=DIRECT hostAddress=/10.0.0.186:443 cipherSuite=TLS_RSA_WITH_AES_128_CBC_SHA protocol=h2}
                                             User-Agent: 
                                             Host: 10.0.0.186
                                             Connection: Keep-Alive
                                             Accept-Encoding: gzip
03-05 14:40:32.397 5979-5995/? V/VB_Network: Received response for https://10.0.0.186/files/37 (h2) in 60167.4ms
                                             server: nginx/1.13.10
                                             date: Mon, 05 Mar 2018 22:39:32 GMT
                                             content-type: application/octet-stream
                                             content-length: 562176
                                             last-modified: Sun, 04 Mar 2018 00:23:13 GMT
                                             etag: ""5a9b3c71-89400""
                                             accept-ranges: bytes
03-05 14:40:32.400 5979-5995/? E/VB_Test: stream was reset: PROTOCOL_ERROR https://10.0.0.186/files/37
```

At first, I thought it is a server issue, so I filed a [bug](https://trac.nginx.org/nginx/ticket/1499) to the Nginx team. They replied that this is because the client never sends the WINDOW_UPDATE frame except after the initial connection.

[Server Full Log](https://gist.github.com/jifang/5a8a0e6dc4bf19273e815c56b7b9385f)
[Client Full Log](https://gist.github.com/jifang/7e3109bd31f888349e1a98ebd84d2e38)

The test project is under git@github.com:jifang/nginx_bug_repo1.git",https://github.com/square/okhttp/issues/3915#issuecomment-370892267,"Thanks @jifang for including the github project to reproduce it.  Not sure who is going to look at this first.  n.b. Have you looked at the Http2 frame logging? 

Excuse the kotlin

```
val activeLogger = getLogger(okhttp3.internal.http2.Http2::class.java.name)
activeLogger.level = Level.FINE
```

Should give output like 

```
>> CONNECTION 505249202a20485454502f322e300d0a0d0a534d0d0a0d0a
>> 0x00000000     6 SETTINGS
>> 0x00000000     4 WINDOW_UPDATE
<< 0x00000000    18 SETTINGS
>> 0x00000000     0 SETTINGS      ACK
>> 0x00000003    65 HEADERS       END_STREAM|END_HEADERS
<< 0x00000000     0 SETTINGS      ACK
<< 0x00000003   209 HEADERS       END_HEADERS
<< 0x00000003 14181 DATA
<< 0x00000003  2829 DATA
<< 0x00000003 16375 DATA
<< 0x00000003  8505 DATA
<< 0x00000003  5667 DATA
<< 0x00000003 16384 DATA
<< 0x00000003 16366 DATA
<< 0x00000003 11343 DATA
<< 0x00000003  5667 DATA
<< 0x00000003  5083 DATA          END_STREAM
>> 0x00000000     8 GOAWAY
```"
square/okhttp,"Currently we do MODERN_TLS and COMPATIBLE_TLS. We should add RESTRICTED_TLS with only the most secure configuration.

Inspired by this:
https://cloudplatform.googleblog.com/2018/02/announcing-SSL-policies-for-HTTPS-and-SSL-proxy-load-balancers.html?m=1",https://github.com/square/okhttp/issues/3903#issuecomment-375959767,"This is already done, correct?"
square/okhttp,"After updating from `3.9.1` to `3.10.0` `mockwebserver` tests got stuck.

This is how I configure the `HttpClient` (I'm setting up `HTTPS` and _Certificate Pinning_ ) üëÄ
```java
private OkHttpClient configureHttpClient() {
    CertificatePinnerFactory factory = new CertificatePinnerFactory();
    OkHttpClient.Builder builder = client.newBuilder()
      .addInterceptor(new GzipRequestInterceptor())
      .retryOnConnectionFailure(true)
      .certificatePinner(factory.provideCertificatePinnerFor(environment))
      .connectionSpecs(Arrays.asList(ConnectionSpec.MODERN_TLS, ConnectionSpec.COMPATIBLE_TLS));
    if (isSocketFactoryUnset(sslSocketFactory, x509TrustManager)) {
      builder.sslSocketFactory(sslSocketFactory, x509TrustManager);
    }

    return builder.build();
  }
```

`3.9.1` üëá
```
Feb 27, 2018 9:15:56 PM okhttp3.mockwebserver.MockWebServer$2 execute
INFO: MockWebServer[59072] starting to accept connections
Feb 27, 2018 9:15:57 PM okhttp3.mockwebserver.MockWebServer$3 processOneRequest
INFO: MockWebServer[59072] received request: POST /events/v2?access_token=anyAccessToken HTTP/1.1 and responded: HTTP/1.1 204 OK
```

`3.10.0` üëá
```
Feb 27, 2018 9:12:04 PM okhttp3.mockwebserver.MockWebServer$2 execute
INFO: MockWebServer[59055] starting to accept connections
Feb 27, 2018 9:12:06 PM okhttp3.mockwebserver.MockWebServer$3 processConnection
WARNING: MockWebServer[59055] connection from /127.0.0.1 didn't make a request
```

Following you can find a failing test üëÄ
```java
package com.mapbox.android.telemetry;


import android.content.Context;

import org.junit.Test;

import java.net.HttpURLConnection;
import java.util.Arrays;
import java.util.List;

import okhttp3.Callback;
import okhttp3.HttpUrl;
import okhttp3.mockwebserver.MockResponse;
import okhttp3.mockwebserver.MockWebServer;
import okhttp3.mockwebserver.RecordedRequest;
import okhttp3.internal.tls.SslClient;

import static org.junit.Assert.assertEquals;
import static org.mockito.Mockito.RETURNS_DEEP_STUBS;
import static org.mockito.Mockito.mock;

public class Foo {

  @Test
  public void foo() throws Exception {
    MockWebServer server = new MockWebServer();
    server.useHttps(SslClient.localhost().socketFactory, false);
    server.start();
    Context mockedContext = mock(Context.class, RETURNS_DEEP_STUBS);
    MapboxTelemetry.applicationContext = mockedContext;
    TelemetryClient telemetryClient = obtainATelemetryClient(""anyAccessToken"", ""anyUserAgent"", server);
    List<Event> mockedEvent = obtainAnEvent();
    MockResponse mockResponse = new MockResponse();
    mockResponse.setResponseCode(HttpURLConnection.HTTP_NO_CONTENT);
    mockResponse.setBody("""");
    server.enqueue(mockResponse);
    Callback mockedCallback = mock(Callback.class);

    telemetryClient.sendEvents(mockedEvent, mockedCallback);

    RecordedRequest request = server.takeRequest();
    assertEquals(""/events/v2?access_token=anyAccessToken"", request.getPath());
  }

  TelemetryClient obtainATelemetryClient(String accessToken, String userAgent, MockWebServer server) {
    TelemetryClientSettings mockedTelemetryClientSettings = provideDefaultTelemetryClientSettings(server);
    Logger mockedLogger = mock(Logger.class);
    return new TelemetryClient(accessToken, userAgent, mockedTelemetryClientSettings, mockedLogger);
  }

  private TelemetryClientSettings provideDefaultTelemetryClientSettings(MockWebServer server) {
    HttpUrl localUrl = obtainBaseEndpointUrl(server);
    SslClient sslClient = SslClient.localhost();

    return new TelemetryClientSettings.Builder()
      .baseUrl(localUrl)
      .sslSocketFactory(sslClient.socketFactory)
      .x509TrustManager(sslClient.trustManager)
      .build();
  }

  private List<Event> obtainAnEvent() {
    Event theEvent = new AppUserTurnstile(""anySdkIdentifier"", ""anySdkVersion"", false);

    return obtainEvents(theEvent);
  }

  private List<Event> obtainEvents(Event... theEvents) {
    return Arrays.asList(theEvents);
  }

  private HttpUrl obtainBaseEndpointUrl(MockWebServer server) {
    return server.url(""/"");
  }
}
```

‚òùÔ∏è is using https://github.com/mapbox/mapbox-events-android code.

You can check that we only bumped OkHttp version to `3.10.0` üëâ https://github.com/mapbox/mapbox-events-android/commit/c92a4acdf684cedc003c769f44a62c345ce596f9 and after that tests got stuck.

Tried many things without luck üòì
Any hints? What did it change that could affect tests in that sense? 

",https://github.com/square/okhttp/issues/3898#issuecomment-369091520,Hmm. This is a little mystery. Can you attach a debugger and check out where OkHttp gets stuck?
square/okhttp,"First of all sorry for not providing a failing test here, but I struggled to do that for this case.

I was just implementing an Authenticator when I found that when `Authenticator.authenticate()` throws an exception (it has a catched `IOException` in its signature, so that seems to be an expected case) the `RetryAndFollowUpInterceptor` will never release its `StreamAllocation` - as opposed to when returning `null` in `authenticate()`.

Here are the according lines in the `RetryAndFollowUpInterceptor`:

```java
Request followUp = followUpRequest(response, streamAllocation.route());

if (followUp == null) {
    if (!forWebSocket) {
      streamAllocation.release();
    }
    return response;
}
```

Shouldn't there be a try catch around the call to `followUpRequest()` to handle that case and and then re-throw the exception?",https://github.com/square/okhttp/issues/3872#issuecomment-367774215,I am new to open source community. Can I work it ?
square/okhttp,"Using `HttpUrl.parse()` in Kotlin to parse constant urls that you know will parse is slightly annoying because of the nullable return. 

I've worked around it by writing a static method `parseHttpUrlOrThrow()` but this essentially duplicates the existing `HttpUrl.getChecked()`, which is unfortunately package private. It would be useful if this method was public.",https://github.com/square/okhttp/issues/3850#issuecomment-366445090,Isn't it just `parse(url)!!` ?
square/okhttp,"hello,
recording to this [issue](https://github.com/square/retrofit/issues/2630) it looks like OkHttp has a problem with status code `408`.
just want to put it here to be fixed.",https://github.com/square/okhttp/issues/3827#issuecomment-363327542,"Can you provide a sample of the response headers you are sending with the 408? Or a reproduction test case?

There is changed handling of 408 in 3.10, which has not yet been released. I don't think it fixes it however. https://github.com/square/okhttp/pull/3753 But even if that doesn't help you can see examples in that PR of how to make a reproduction test case.

Also relevant is a fix in August for 408 handling https://github.com/square/okhttp/pull/3500"
square/okhttp,"version: 3.8.1
a mobile connect a no internet wifi(another mobile share wifi and close internet)
then call a internet request (get or post request whatevet)
I can get UnKnownHostException within 1s in some devices(like HUAWEI),
but get UnKnownHostException at 20s in some other devices(like OPPO and VIVO),
How can I get response in a short time.
",https://github.com/square/okhttp/issues/3797#issuecomment-362885493,"You might have to debug on these specific devices, specifically looking at OkHttp events and Android network events. 

This is how you can capture OkHttp events, i.e. why the timeout you see is 2x the read timeout, potentially due to two different network paths tried. https://github.com/square/okhttp/wiki/Events

An Android ConnectivityManager.NetworkCallback might give you some hints about why you see different behaviour on different phones. e.g. https://github.com/yschimke/okhttp-testapp/blob/master/app/src/main/kotlin/com/squareup/okhttptestapp/network/NetworkListener.kt

Generally unless you can reproduce in a test app against a server we can access, it will be hard to investigate.  You can try with this sample app https://github.com/yschimke/okhttp-testapp. Or ask on stackoverflow."
square/okhttp,"This library creates threads with either no name, or in some cases the same name repeatedly.  It's very useful for threads to have unique names for debugging purposes, and this is one of the inspections YourKit provides for recorded snapshots.

Currently no name is provided for the thread created at [Http2Connection.java#L483](https://github.com/square/okhttp/blob/parent-3.9.1/okhttp/src/main/java/okhttp3/internal/http2/Http2Connection.java#L483) and the same name is used between multiple threads [Util.java#L203](https://github.com/square/okhttp/blob/parent-3.9.1/okhttp/src/main/java/okhttp3/internal/Util.java#L203).

A pattern I've seen elsewhere for generating unique thread names is a name pattern (e.g. `okhttp-pool-%d` which is then templated with an incrementing integer as new threads are created.  An example of this pattern is in Guava at [ThreadFactoryBuilder.java](https://github.com/google/guava/blob/v23.6/guava/src/com/google/common/util/concurrent/ThreadFactoryBuilder.java#L58)

Screenshot from YourKit:
<img width=""1392"" alt=""screen shot 2018-01-23 at 10 24 33 pm"" src=""https://user-images.githubusercontent.com/357170/35317577-4a6b0128-008c-11e8-8560-c0ba08181968.png"">
",https://github.com/square/okhttp/issues/3795#issuecomment-360058171,+1 want to submit a PR?
square/okhttp,"Hi,
I am using okhttp to upload a file to a server (actually presigned URL of AWS S3).
My server (the one which uses okhttp and does the upload) is also hosted on AWS and is deployed within a docker.
I noticed that it takes about 8 seconds to upload a 30MB file, where if I just use a cURL command that does the same thing (also inside the docker) it takes 1.5 seconds.
After some digging I noticed that when okhttp is working the CPU is reaching 100%, where with cURL it is not really affected. I also tested using a much stronger ec2 instance (40vCPU), and still took 8 seconds and 100% CPU of the docker.
When I run my JAR outside of the docker it actually worked in appropriate time (2~ seconds), but I still noticed a significant CPU spike during the upload.
Eventually I changed to a different http library ([apache HttpClient](https://hc.apache.org/httpcomponents-client-4.5.x/httpclient/apidocs/index.html)) and it is working just like the cURL command (1.5 seonds and not CPU spikes)

### Code snippet of okhttp usage of uploading:
```java
RequestBody body = RequestBody.create(MediaType.parse(""multipart/form-data""), new File(filePath));
Request req = new Request.Builder()
                        .url(signedUrl)
                        .put(body)                        
                        .build();
client.newCall(req).execute();
```

### Code snippet of different http lib which is working well:
```java
File file = new File(filePath);
MultipartEntityBuilder builder = MultipartEntityBuilder.create();
builder.addBinaryBody(""file"", file, ContentType.MULTIPART_FORM_DATA, file.getName())
            .setMode(HttpMultipartMode.BROWSER_COMPATIBLE);
HttpPut put = new HttpPut(signedUrl);
put.setEntity(builder.build());
HttpClient client = HttpClientBuilder.create().build();
client.execute(put);
```

If you need more details I will gladly add whatever is needed",https://github.com/square/okhttp/issues/3786#issuecomment-358716715,"Wow, yeah that isn't good. Can you sample a stacktrace of the service while it's being slow? I wonder if OkHttp is negotiating HTTP/2 which could explain dramatically different performance vs. other clients.

Tracing information is available either with a profiler, or just with calling jstack while OkHttp is spinning."
square/okhttp,"I'd like to be able to have HTTP Logging which includes redirect requests (i.e. it must be a networkInterceptor) and also logs the uncompressed version of any gzipped response bodies, which HttpLoggingInterceptor does not do if it's being used as a networkInterceptor.

If I were to implement support for gunzipping and logging response bodies when HttpLoggingInterceptor is used as a networkInterceptor is that a change you'd likely merge, or am I better off just forking my own HttpLoggingInterceptor?

Note: I saw https://github.com/square/okhttp/issues/1955 was a similar request, but it seems to have been closed because the original reporter was happy to run it a normal interceptor to get the gzipped body logged.",https://github.com/square/okhttp/issues/3780#issuecomment-358329664,"I think I'm okay with this (as a small part of the OkHttp team). The
biggest problem is that it adds more complexity, but I have convinced
myself it's worthwhile as I usually install the logging interceptor as a
network interceptor and miss out on transparent gzip-compressed responses.
I'd like to see both the compressed and uncompressed size in the log and
maybe even a percentage difference between the two.

I'd wait for Jesse to chime in though before starting any PR.

On Wed, Jan 17, 2018 at 1:00 AM Matt Sheppard <notifications@github.com>
wrote:

> I'd like to be able to have HTTP Logging which includes redirect requests
> (i.e. it must be a networkInterceptor) and also logs the uncompressed
> version of any gzipped response bodies, which HttpLoggingInterceptor does
> not do if it's being used as a networkInterceptor.
>
> If I were to implement support for gunzipping and logging response bodies
> when HttpLoggingInterceptor is used as a networkInterceptor is that a
> change you'd likely merge, or am I better off just forking my own
> HttpLoggingInterceptor?
>
> Note: I saw #1955 <https://github.com/square/okhttp/issues/1955> was a
> similar request, but it seems to have been closed because the original
> reporter was happy to run it a normal interceptor to get the gzipped body
> logged.
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/3780>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEEcu7uIiSfaY1k7_vQfx323W33jr5ks5tLYx7gaJpZM4Rg2Ms>
> .
>
"
square/okhttp,"DiskLruCache line 683
okhttp3.internal.cache.DiskLruCache.trimToSize

Fatal Exception: java.util.NoSuchElementException
       at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:349)
       at java.util.LinkedHashMap$ValueIterator.next(LinkedHashMap.java:370)
       at okhttp3.internal.cache.DiskLruCache.trimToSize(SourceFile:683)
       at okhttp3.internal.cache.DiskLruCache$1.run(SourceFile:176)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
       at java.lang.Thread.run(Thread.java:818)

",https://github.com/square/okhttp/issues/3778#issuecomment-357624108,Is this a once off or happening regularly? Can you provide more information e.g. it looks like this is with an older version of okhttp based on line numbers.
square/okhttp,"I'm seeing a case in handling redirects where it _appears_ that okhttp isn't following a redirect. After digging through okhttp with the failing url, okhttp is functioning ""correctly"" - the redirect url is invalid. Therefore, okhttp doesn't follow the redirect, and returns a response with response code 302.

A test illustrating this:
```
Request request = new Request.Builder().url(originalUrl).build();
Response response = okhttp.newCall(request).execute();

log(response.code());
log(response.isSuccessful());
```
results in:
```
302
false
```

Example for `originalUrl`:
```
<originalUrl>, <host>, and <paths> have been used as substitutes for real urls, hosts, and paths

<-- 302 Found <originalUrl>
Date: Sun, 07 Jan 2018 17:04:43 GMT
Server: Apache/2.4.10 (Debian) PHP/5.6.24-0+deb8u1 OpenSSL/1.0.1t
X-Powered-By: PHP/5.6.24-0+deb8u1
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Location: http://.<host>/<path>
Access-Control-Allow-Origin: *
Connection: close
Content-Type: text/html; charset=UTF-8
<-- END HTTP
```

And yes, `followRedirects` and `followSslRedirects` are enabled

What's going on here is that the 302 redirect location is an illegally formatted URL - in my case, something like `http://.<somehost>/<path>` (note the leading `.` to the hostname). OkHttp's `RetryAndFollowUpInterceptor` reads this Location, and tries to parse it with `HttpUrl`. That, correctly, fails. At this point, the retry interceptor just returns and allows the 302 to propagate up:
https://github.com/square/okhttp/blob/cd84d79c3574de81f23802f832f2ead6ad38a735/okhttp/src/main/java/okhttp3/internal/http/RetryAndFollowUpInterceptor.java#L307-L312

Now, any sane client should be able to detect that the end response is not successful and handle it gracefully. But through reading through app logs, there's no indication as to what the actual failure was. The failed url parsing on the redirect location is simply swallowed here deep in OkHttp, without any mechanism to inform the client that the error occurred.

Should a failed HttpUrl parse be bubbled up as an exception?
",https://github.com/square/okhttp/issues/3767#issuecomment-355863580,"We've been talking about throwing-variants of parse and resolve for quite
some time.

On Sun, Jan 7, 2018 at 6:40 PM jpearl <notifications@github.com> wrote:

> I'm seeing a case in handling redirects where it *appears* that okhttp
> isn't following a redirect. After digging through okhttp with the failing
> url, okhttp is functioning ""correctly"" - the redirect url is invalid.
> Therefore, okhttp doesn't follow the redirect, and returns a response with
> response code 302.
>
> A test illustrating this:
>
> Request request = new Request.Builder().url(originalUrl).build();
> Response response = okhttp.newCall(request).execute();
>
> log(response.code());
> log(response.isSuccessful());
>
> results in:
>
> 302
> false
>
> Example for originalUrl:
>
> <originalUrl>, <host>, and <paths> have been used as substitutes for real urls, hosts, and paths
>
> <-- 302 Found <originalUrl>
> Date: Sun, 07 Jan 2018 17:04:43 GMT
> Server: Apache/2.4.10 (Debian) PHP/5.6.24-0+deb8u1 OpenSSL/1.0.1t
> X-Powered-By: PHP/5.6.24-0+deb8u1
> Expires: Thu, 19 Nov 1981 08:52:00 GMT
> Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
> Location: http://.<host>/<path>
> Access-Control-Allow-Origin: *
> Connection: close
> Content-Type: text/html; charset=UTF-8
> <-- END HTTP
>
> And yes, followRedirects and followSslRedirects are enabled
>
> What's going on here is that the 302 redirect location is an illegally
> formatted URL - in my case, something like http://.<somehost>/<path>
> (note the leading . to the hostname). OkHttp's RetryAndFollowUpInterceptor
> reads this Location, and tries to parse it with HttpUrl. That, correctly,
> fails. At this point, the retry interceptor just returns and allows the 302
> to propagate up:
>
> https://github.com/square/okhttp/blob/cd84d79c3574de81f23802f832f2ead6ad38a735/okhttp/src/main/java/okhttp3/internal/http/RetryAndFollowUpInterceptor.java#L307-L312
>
> Now, any sane client should be able to detect that the end response is not
> successful and handle it gracefully. But through reading through app logs,
> there's no indication as to what the actual failure was. The failed url
> parsing on the redirect location is simply swallowed here deep in OkHttp,
> without any mechanism to inform the client that the error occurred.
>
> Should a failed HttpUrl parse be bubbled up as an exception?
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/3767>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEESgLDo63oT9JcEG17PkOhLQyfklyks5tIVXmgaJpZM4RV1aO>
> .
>
"
square/okhttp,"We were testing our app by changing the date on the device when this crash happened. I'm not sure  if the crash is related to the date change or not. 

Here is the crash log:
```
java.lang.RuntimeException: javax.net.ssl.SSLException: Unable to create application data
	at com.android.org.conscrypt.ConscryptFileDescriptorSocket.newSsl(ConscryptFileDescriptorSocket.java:161)
	at com.android.org.conscrypt.ConscryptFileDescriptorSocket.<init>(ConscryptFileDescriptorSocket.java:152)
	at com.android.org.conscrypt.OpenSSLSocketFactoryImpl.createSocket(OpenSSLSocketFactoryImpl.java:149)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:230)
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:198)
	at okhttp3.internal.connection.RealConnection.buildConnection(RealConnection.java:174)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:114)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)
	at okhttp3.RealCall.access$100(RealCall.java:33)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:120)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
	at java.lang.Thread.run(Thread.java:764)
Caused by: javax.net.ssl.SSLException: Unable to create application data
	at com.android.org.conscrypt.NativeCrypto.SSL_new(Native Method)
	at com.android.org.conscrypt.SslWrapper.newInstance(SslWrapper.java:58)
	at com.android.org.conscrypt.ConscryptFileDescriptorSocket.newSsl(ConscryptFileDescriptorSocket.java:159)
	... 27 more
```
",https://github.com/square/okhttp/issues/3761#issuecomment-355726548,"@JakeWharton ""storage"" is full e.g. Unable to create a pipe? I assume possible also too many open file descriptors, the native logs should help.

https://github.com/google/conscrypt/blob/63e2139daf500bbfb62ddb1df186732201ce2525/common/src/jni/main/cpp/conscrypt/native_crypto.cc#L6376

https://github.com/google/conscrypt/blob/a2a2a855bd96721e7ee18da8c77f134d3efb58eb/common/src/jni/main/include/conscrypt/app_data.h#L140-L147

This looks like Conscrypt is breaking the createSocket API by throwing a RuntimeException instead of an IOException, so it's worth reporting and **we should consider catching non IOExceptions here and rethrowing to avoid crashing.**  

However at the point you have exhausted native resources like this, arguably it's better for you app to crash and restart than continue failing forever more?

  "
square/okhttp,"What kind of issue is this?

 - [x] Bug report. If you‚Äôve found a bug, spend the time to write a failing test. Bugs with tests
       get fixed. Here‚Äôs an example: https://gist.github.com/swankjesse/981fcae102f513eb13ed

This issue can't be reproduced in a test. I'll do my best to explain.

```
>> GET http://myserver.mycompany.com/.../businesses.20180104.json.gz
<< 200 OK
<< connection -> [keep-alive]
<< accept-ranges -> [bytes]
<< content-disposition -> [attachment; filename=""businesses.20180104.json.gz""; filename*=UTF-8''businesses.20180104.json.gz] 
<< content-type -> [application/x-gzip]
<< content-length -> [3384998203]
<< date -> [Fri, 05 Jan 2018 00:43:32 GMT]
<< etag -> [0e49d5fa7ba9f68058bfbb4a98bef032c3a73871]
<< last-modified -> [Thu, 04 Jan 2018 23:54:26 GMT]
<< x-artifactory-id -> [9732f56568ea1e3d:59294f65:160b8066066:-8000]
<< x-checksum-md5 -> [451ca1b1414e7b511de874e61fd33eb2]
<< x-artifactory-filename -> [businesses.20180104.json.gz]
<< server -> [Artifactory/5.3.0]
<< x-checksum-sha1 -> [0e49d5fa7ba9f68058bfbb4a98bef032c3a73871]
```
As you can see, the server doesn't set a `Content-Encoding = gzip` header, so I do that in an interceptor.

Each record is newline delimited JSON string that is inserted into Couchbase. There are around 12 million records in total. Using okhttp, processing fails after about 130000 with the following exception:
```
Caused by: java.io.IOException: gzip finished without exhausting source
	at okio.GzipSource.read(GzipSource.java:100)
	at okio.RealBufferedSource$1.read(RealBufferedSource.java:430)
```

However, if I don't set the `Content-Encoding` header (thus skipping `GzipSource`), and wrap the input stream with `GZIPInputStream`, everything works as expected. I've also tried setting `Transfer-Encoding = chunked` on the response and removing the `Content-Length` header, but to no avail.

So, question is, if `GZIPInputStream` doesn't have a problem, why does `GzipSource`? And since it does, why won't it report what it thinks is the issue? I've a test that runs on a smaller file, 100 records, and it works.

I've seen https://github.com/square/okhttp/issues/3457, but unlike the reporter, it's not possible for me to capture the hex body of a 3.4 GB stream.
  
  
  ",https://github.com/square/okhttp/issues/3759#issuecomment-355475995,"This isn't easily reproducible without a test case or url to test against.  I am going to guess it is one of two cases

a) that the server is incorrectly sending the original content-length in the response.  Is the content compressed on the fly? If so it seems strange that the server can correctly predict the content length. [edit: this case is unlikely since you tested removing the length header] 

content-length -> [3384998203] 
 
b) it is just serving a previously compressed file, which contains some trailing bytes (or server is incorrectly adding something).  You should be able to debug this case by looking at what is left in the buffer at the point Okio is about to throw. In this case Okio is doing an additional valid check that happens to expose a slightly corrupted file."
square/okhttp,"https://developer.android.com/training/articles/security-gms-provider.html

> Rather than using this class, we encourage app developers to use high-level methods for interacting with cryptography. Most apps can use APIs like HttpsURLConnection without needing to set a custom TrustManager or create an SSLCertificateSocketFactory.

n.b. I know OkHttp does the hostname verification they are actually talking about above, but I think the comment applies generally.

Question
1) why not use the best security available automatically if it is present
2) why require extra steps over other APIs like HttpsURLConnection that it's possible to forget
3) Why not warn via debug logging when older clients are not using the updated provider 
4) Can this cause differences in reported issues like ""this works in Volley""",https://github.com/square/okhttp/issues/3749#issuecomment-354756726,"The Play Services Dynamic Security Provider is a JCP Cryptographic Security Provider. Therefore it should automatically be picked up by OkHttp when it is installed. It was at least when I tested it the last time (~2 years ago). Insofar as a user it does not make a difference whether you use `HttpUrlConnection` or OkHttp.

The only thing you have to do is to install the security provider before opening any network connections by running `ProviderInstaller.installIfNeeded(getContext())`. It would be nice if OkHttp could do it for me, but getting hold of the `Context` might get awkward and require the addition of an user-facing API. Would that be worth it?"
square/okhttp,"[Status Code 1001](https://tools.ietf.org/html/rfc6455#section-7.4)  in okhttp was a SocketException 

Response from server   `1001, Stream end encountered`

 ```java
 java.net.SocketException: Connection reset
       at java.net.SocketInputStream.read(SocketInputStream.java:192)
       at java.net.SocketInputStream.read(SocketInputStream.java:120)
       at okio.Okio$2.read(Okio.java:139)
       at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)
       at okio.RealBufferedSource.request(RealBufferedSource.java:67)
       at okio.RealBufferedSource.require(RealBufferedSource.java:60)
       at okio.RealBufferedSource.readByte(RealBufferedSource.java:73)
       at okhttp3.internal.ws.WebSocketReader.readHeader(WebSocketReader.java:113)
       at okhttp3.internal.ws.WebSocketReader.processNextFrame(WebSocketReader.java:97)
       at okhttp3.internal.ws.RealWebSocket.loopReader(RealWebSocket.java:262)
       at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:201)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
       at java.lang.Thread.run(Thread.java:776)
```

okhttp version `3.8.0`",https://github.com/square/okhttp/issues/3722#issuecomment-352336924,"IIUC It should not be an exception.  Have you implemented?

```
@Override public void onClosing(WebSocket webSocket, int code, String reason) {
        // do something
}
```"
square/okhttp,"Hi there!

First at all thank you very much for your library!

I've integrated okhttp3 since couple months ago; there were no problem until yesterday with an user (Huawei, model MHA-L29, on Android 7.0):

```
Fatal Exception: java.lang.IllegalArgumentException: Unexpected TLS version: NONE
       at okhttp3.TlsVersion.forJavaName(TlsVersion.java:53)
       at okhttp3.Handshake.get(Handshake.java:56)
       at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:300)
       at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:268)
       at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:160)
       at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:256)
       at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:134)
       at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:113)
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:147)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
       at java.lang.Thread.run(Thread.java:776)
```
Have you got some ideas about this crash?

Thank you very much guys!",https://github.com/square/okhttp/issues/3719#issuecomment-350954597,"Does your app change the SSL provider in any way? to GMS services e.g. include ProviderInstaller.installIfNeeded.  It could also just be the setup of that phone.

Is it a one-off or consistently reproducible?

I've seen a similar issue in rare timing cases either before or after a network issue, a non-standard SSL provider can return NONE as the string.  OkHttp might have to handle this more gracefully.

https://github.com/google/conscrypt/blob/c88f9f55a523f128f0e4dace76a34724bfa1e88c/common/src/main/java/org/conscrypt/SSLNullSession.java#L149-L151"
square/okhttp,"[Brotli](https://tools.ietf.org/html/rfc7932) content-encoding is supported by the major browsers, and it looks like there is pretty good support on the web server side too. 

It could be supported transparently like gzip is, so that when OkHttp receives a request with the header `Content-Encoding: br` OkHttp uses Brotli decompression transparently.

Brotli content-encoding has reduced our payload size by about 20% for the average response.",https://github.com/square/okhttp/issues/3706#issuecomment-348407715,"How small is a Brotli decoder? We get gzip for free from the Java APIs. I don't see much value in transparent, built-in Brotli unless it can be implemented in a few hundred lines or less so as to not bloat the library. Otherwise a standalone artifact that has a Brotli interceptor seems like a better approach."
square/okhttp,"what are your thoughts about having a strict mode that would detect common issues like multithreaded use of a Response.  Was thinking it could be useful to ask people to flip it on if they are getting issues with cancellation, or unexpected end of stream etc.  To that matter, what are the exact rules?  a response body must be consumed by any single thread, cancellation must be done by the same thread?",https://github.com/square/okhttp/issues/3685#issuecomment-344555802,"I think it's very interesting! Particularly for checking things like unsafe concurrent use of Okio buffers.

Figuring the right way to enable this is awkward. I really liked the way we did the leaked connection stack trace. Maybe something like that?"
square/okhttp,"We are adding QUIC (https://www.chromium.org/quic) support to the OKHttp by adding a QUIC interceptor. The QUIC interceptor can transmit request packets and response packets over QUIC between the OKHttp client and a QUIC proxy or a QUIC server. To integrate QUIC into existing okhttp codes, we plan to add QUIC(‚Äúquic‚Äù) to the Protocol enum in Protocol.java to be used in the QUIC interceptor. We can contribute back the QUIC interceptor to the OKHttp git if this addition can be approved. Can the committee approve this addition? Thanks.
",https://github.com/square/okhttp/issues/3683#issuecomment-344425763,Sure. Who is ‚Äúwe‚Äù ?
square/okhttp,"We‚Äôre seeing some strange OutOfMemoryExceptions coming from OkHttp 3.9, namely from PublicSuffixDatabase trying to read in publicsuffixes.gz. Rarely but consistently, we‚Äôve seen OOM crashes where, according to the stacktraces, it appears the resource being read in is impossibly large (500 MB+) or the total bytes reported by the created BufferedSource is crazy large too (1.5 GB+).

I don't have a test or reproduction scenario, as we are only seeing this in production in the crash reports we receive. While there have been instances of crashes from various OS versions and device manufacturers, the vast majority (disproportional from our typical usage distribution) comes from Samsung phones running M.

A couple of sample stacktraces can be found below:

```
Caused by java.lang.OutOfMemoryError: Failed to allocate a 1768847725 byte allocation with 7394266 free bytes and 490MB until OOM
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.readTheList(Twttr:319)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.readTheListUninterruptibly(Twttr:289)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.findMatchingRule(Twttr:110)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.getEffectiveTldPlusOne(Twttr:83)
       at okhttp3.Cookie.parse(Twttr:311)
       at okhttp3.Cookie.parse(Twttr:219)
       at okhttp3.Cookie.parseAll(Twttr:445)
       at okhttp3.internal.http.HttpHeaders.receiveHeaders(Twttr:201)
       at okhttp3.internal.http.BridgeInterceptor.intercept(Twttr:95)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:147)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Twttr:125)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(Twttr:200)
       at okhttp3.RealCall.execute(Twttr:77)
```
```
Caused by java.lang.OutOfMemoryError: Failed to allocate a 535394406 byte allocation with 8388608 free bytes and 239MB until OOM
       at java.io.ByteArrayOutputStream.expand(ByteArrayOutputStream.java:91)
       at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:201)
       at libcore.io.Streams.readFullyNoClose(Streams.java:109)
       at libcore.io.Streams.readFully(Streams.java:95)
       at java.util.jar.JarFile.readMetaEntries(JarFile.java:337)
       at java.util.jar.JarFile.(JarFile.java)
       at libcore.net.url.JarURLConnectionImpl.openJarFile(JarURLConnectionImpl.java:136)
       at libcore.net.url.JarURLConnectionImpl.findJarFile(JarURLConnectionImpl.java:113)
       at libcore.net.url.JarURLConnectionImpl.connect(JarURLConnectionImpl.java:82)
       at libcore.net.url.JarURLConnectionImpl.getInputStream(JarURLConnectionImpl.java:215)
       at java.net.URL.openStream(URL.java:470)
       at java.lang.ClassLoader.getResourceAsStream(ClassLoader.java:444)
       at java.lang.Class.getResourceAsStream(Class.java:1175)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.readTheList(Twttr:309)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.readTheListUninterruptibly(Twttr:289)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.findMatchingRule(Twttr:110)
       at okhttp3.internal.publicsuffix.PublicSuffixDatabase.getEffectiveTldPlusOne(Twttr:83)
       at okhttp3.Cookie.parse(Twttr:311)
       at okhttp3.Cookie.parse(Twttr:219)
       at okhttp3.Cookie.parseAll(Twttr:445)
       at okhttp3.internal.http.HttpHeaders.receiveHeaders(Twttr:201)
       at okhttp3.internal.http.BridgeInterceptor.intercept(Twttr:95)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:147)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Twttr:125)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:147)
       at okhttp3.internal.http.RealInterceptorChain.proceed(Twttr:121)
       at okhttp3.RealCall.getResponseWithInterceptorChain(Twttr:200)
       at okhttp3.RealCall.execute(Twttr:77)
```",https://github.com/square/okhttp/issues/3658#issuecomment-338584324,Multi Thread?
square/okhttp,"IT IS NOT REALLY A BUG, BUT...

There is no check if a value is null whille buiding a body for a POST
`            RequestBody formBody = new FormBody.Builder()
                    .add(""value"", value)
                    .build();
`
if value is null, there is a :
java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.String.length()' on a null object reference at okhttp3.HttpUrl.canonicalize(HttpUrl.java:1751)

My app doesn't stop after this crash and remains in a loop.

Would it be possible to throw a NullPointerException ?",https://github.com/square/okhttp/issues/3597#issuecomment-328587046,"Yeah, definitely. Wanna send a pull request?"
square/okhttp,"There are a lot of thread lock, the following is jstack information. I do not know why this will happen, which leads to my memory and cpu are rising

""http-nio-8891-exec-152"" #571 daemon prio=5 os_prio=0 tid=0x00007f79047a2000 nid=0x5a2c waiting for monitor entry [0x00007f78e4380000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at okio.AsyncTimeout.scheduleTimeout(AsyncTimeout.java:75)
	- waiting to lock <0x0000000087b012a0> (a java.lang.Class for okio.AsyncTimeout)
	at okio.AsyncTimeout.enter(AsyncTimeout.java:69)
	at okio.AsyncTimeout$2.read(AsyncTimeout.java:209)
	at okio.RealBufferedSource.indexOf(RealBufferedSource.java:306)
	at okio.RealBufferedSource.indexOf(RealBufferedSource.java:300)
	at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:196)
	at com.squareup.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:186)
	at com.squareup.okhttp.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:127)
	at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:737)
	at com.squareup.okhttp.internal.http.HttpEngine.access$200(HttpEngine.java:87)
	at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:722)
	at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:576)
	at com.squareup.okhttp.Call.getResponse(Call.java:287)
	at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:243)
	at com.farmfriend.common.http.OkHttpRetryHandler.chainProceed(OkHttpRetryHandler.java:48)
	at com.farmfriend.common.http.OkHttpRetryHandler.retryHandler(OkHttpRetryHandler.java:31)
	at com.farmfriend.common.http.OkHttpRetryHandler.intercept(OkHttpRetryHandler.java:25)
	at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:232)
	at com.farmfriend.common.http.OkHttpAddHeaderHandler.addHeadersHandler(OkHttpAddHeaderHandler.java:41)
	at com.farmfriend.common.http.OkHttpAddHeaderHandler.intercept(OkHttpAddHeaderHandler.java:27)
	at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:232)
	at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:205)
	at com.squareup.okhttp.Call.execute(Call.java:80)
	at com.farmfriend.common.http.OkHttpUtil.post(OkHttpUtil.java:90)
	at com.farmfriend.common.http.OkHttpUtil.ral(OkHttpUtil.java:110)
	at com.farmfriend.weather.util.MojiWeatherUtil.getWeatherInfoFromNet(MojiWeatherUtil.java:43)
	at com.farmfriend.weather.service.impl.GetMojiWeatherInfoServiceImpl.getMapToWeatherEntity(GetMojiWeatherInfoServiceImpl.java:459)
	at com.farmfriend.weather.service.impl.GetMojiWeatherInfoServiceImpl.getOrderInfoWeather(GetMojiWeatherInfoServiceImpl.java:171)
	at com.farmfriend.weather.controller.WeatherServerController.getOrderInfoWeather(WeatherServerController.java:75)
	at com.farmfriend.weather.controller.WeatherServerController$$FastClassBySpringCGLIB$$5b434648.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.farmfriend.weather.controller.WeatherServerController$$EnhancerBySpringCGLIB$$1a7115a.getOrderInfoWeather(<generated>)
	at sun.reflect.GeneratedMethodAccessor524.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	- locked <0x00000000f20a5f90> (a org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

my okhttp version 2.7.5",https://github.com/square/okhttp/issues/3583#issuecomment-327083412,Can you provide a thread dump of the thread that currently holds that lock? Will say `0x00007f78e4380000` is held.
square/okhttp,"Hello Square Team,
      We've had a strange crash in spdy3.1 processÔºåbut we can not  reproduce again, we don't know how to fix it, Could you help us please.

crash logÔºö
java.lang.ArrayIndexOutOfBoundsException: size=8 offset=0 byteCount=579
at b.ae.d(SourceFile:30)
at okio.Okio$1.write(SourceFile:75)
at okio.AsyncTimeout$1.write(SourceFile:155)
at okio.RealBufferedSink.emitCompleteSegments(SourceFile:176)
at okio.RealBufferedSink.writeInt(SourceFile:140)
at okhttp3.internal.framed.Spdy3$Writer.goAway(SourceFile:462)
at okhttp3.internal.framed.FramedConnection.shutdown(SourceFile:435)
at okhttp3.internal.framed.FramedConnection.close(SourceFile:451)
at okhttp3.internal.framed.FramedConnection.access$900(SourceFile:55)
                                             access$1100
                                             access$1200
                                             access$1300
                                             access$1400
                                             access$1500
                                             access$2200
                                             access$2302
                                             access$2600
at okhttp3.internal.framed.FramedConnection$Reader.execute(SourceFile:609)
at okhttp3.internal.NamedRunnable.run(SourceFile:32)
at java.lang.Thread.run(Thread.java:818)

OKHttp version:3.2.0
OKio Version:1.6.0
",https://github.com/square/okhttp/issues/3530#issuecomment-323264458,"Have you tried the latest version? That one is quite old.

On Thu, Aug 17, 2017 at 8:28 PM MichaelChansn <notifications@github.com>
wrote:

> Hello Square Team,
> We've had a strange crash in spdy3.1 processÔºåbut we can not reproduce
> again, we don't know how to fix it, Could you help us please.
>
> crash logÔºö
> java.lang.ArrayIndexOutOfBoundsException: size=8 offset=0 byteCount=579
> at b.ae.d(SourceFile:30)
> at okio.Okio$1.write(SourceFile:75)
> at okio.AsyncTimeout$1.write(SourceFile:155)
> at okio.RealBufferedSink.emitCompleteSegments(SourceFile:176)
> at okio.RealBufferedSink.writeInt(SourceFile:140)
> at okhttp3.internal.framed.Spdy3$Writer.goAway(SourceFile:462)
> at okhttp3.internal.framed.FramedConnection.shutdown(SourceFile:435)
> at okhttp3.internal.framed.FramedConnection.close(SourceFile:451)
> at okhttp3.internal.framed.FramedConnection.access$900(SourceFile:55)
> access$1100
> access$1200
> access$1300
> access$1400
> access$1500
> access$2200
> access$2302
> access$2600
> at okhttp3.internal.framed.FramedConnection$Reader.execute(SourceFile:609)
> at okhttp3.internal.NamedRunnable.run(SourceFile:32)
> at java.lang.Thread.run(Thread.java:818)
>
> OKHttp version:3.2.0
> OKio Version:1.6.0
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/3530>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEESzAAU3GK7jaPJFLVUmWCl7Nk79oks5sZQTPgaJpZM4O7DwA>
> .
>
"
square/okhttp,"I get infrequent exceptions like below when downloading artifacts from nginx on multiple threads over http2. The problem is likely related to (or at least made more severe by) nginx sending GOAWAY frames to force the client acquire new connection. I am using okhttp 3.9.0-SNAPSHOT with swankjesse's fix for #3516. I can provide nginx config and a small java app that triggers the problem semi-reliably but don't have proper standalone test.


```
java.lang.IllegalStateException
	at okhttp3.internal.connection.StreamAllocation.acquire(StreamAllocation.java:419)
	at okhttp3.ConnectionPool.get(ConnectionPool.java:126)
	at okhttp3.OkHttpClient$1.get(OkHttpClient.java:152)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:175)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:133)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:112)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:202)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at test.okhttp.DownloadTest.download(DownloadTest.java:96)
	at test.okhttp.DownloadTest.lambda$0(DownloadTest.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
```

All download threads share the same `OkHttpClient` instance and each download thread runs this (abbreviated) code:

```java
Request request = new Request.Builder() //
    .url(""https://localhost:8443/..."") //
    .build();
try (Response response = client.newCall(request).execute()) {
    if (response.isSuccessful()) {
        response.body().string();
    }
}    
```


I also see another exception that may or may not be related:

```
java.net.ConnectException: Failed to connect to localhost/0:0:0:0:0:0:0:1:8443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:240)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:158)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:239)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:133)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:112)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:202)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at test.okhttp.DownloadTest.download(DownloadTest.java:96)
	at test.okhttp.DownloadTest.lambda$0(DownloadTest.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:125)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:238)
	... 23 more
```

",https://github.com/square/okhttp/issues/3521#issuecomment-322450052,@ifedorenko do any of the requests result in a redirect or auth challenge?
square/okhttp,"When receiving a 307 we‚Äôd like the ability to cancel all inflight requests and retry them with the new hostname received.

Today, we have a small fork of OkHttp that facilitates this by exposing `Call` in `Interceptor.Chain`: 

```java
public interface Interceptor {
  Chain {
    Call call()
  }
}
```

Using an `Interceptor`, we keep track of all inflight calls. When a 307 is received we cancel and retry all of them with the new hostname.

Since the only way to plug into `Call` creation is to subclass `OkHttpClient` or be a `Call.Factory` this suggests the need for a new API similar to Retrofit‚Äôs `CallAdapter`. 

Thoughts?",https://github.com/square/okhttp/issues/3515#issuecomment-325807039,Is this a request to add a a `call()` method to `Chain` ? I don‚Äôt quite follow what ya want here.
square/okhttp,"Currently we have a small fork of OkHttp that checks to see if [DSP](https://developer.android.com/training/articles/security-gms-provider.html) is present on Android devices. The implementation looks to see if the GMS `java.security.Provider` is installed when `AndroidPlatform.buildIfSupported()` is called:

```java
// Attempt to find Google Play Services Dynamic Security Provider.
Provider provider = Security.getProvider(""GmsCore_OpenSSL"");
if (provider != null) {
  getAlpnSelectedProtocol = GET_ALPN_SELECTED_PROTOCOL;
  setAlpnProtocols = SET_ALPN_PROTOCOLS;
} else {
  // Attempt to find Android 5.0+ APIs.
  ...
}
```

This would be pretty easy to add directly in a PR and would allow OkHttp to provide ALPN support for pre 5.x devices and facilitate HTTP/2 use on older devices. 

Thoughts?",https://github.com/square/okhttp/issues/3485#issuecomment-318955207,Send a pull request?
square/okhttp,"For Android O i noticed such crash in crashlytic,
<pre>Fatal Exception: java.lang.ClassCastException: android.system.UnixSocketAddress cannot be cast to java.net.InetSocketAddress
       at libcore.io.IoBridge.getLocalInetSocketAddress(IoBridge.java:700)
       at libcore.io.IoBridge.connectDetail(IoBridge.java:197)
       at libcore.io.IoBridge.connect(IoBridge.java:138)
       at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:129)
       at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:356)
       at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
       at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
       at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)
       at java.net.Socket.connect(Socket.java:616)
       at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:63)
       at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
       at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
       at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:192)
       at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
       at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
       at com.pubnub.api.interceptors.SignatureInterceptor.intercept(SignatureInterceptor.java:32)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
       at java.lang.Thread.run(Thread.java:764)
</pre>
Will this be fixed in new version of library?",https://github.com/square/okhttp/issues/3438#issuecomment-311972536,"File a bug on b.android.com/new. Doesn't seem likely to be related to
OkHttp code.

On Thu, Jun 29, 2017, 3:59 AM Dmitry <notifications@github.com> wrote:

> For Android O i noticed such crash in crashlytic,
>
> Fatal Exception: java.lang.ClassCastException: android.system.UnixSocketAddress cannot be cast to java.net.InetSocketAddress
>        at libcore.io.IoBridge.getLocalInetSocketAddress(IoBridge.java:700)
>        at libcore.io.IoBridge.connectDetail(IoBridge.java:197)
>        at libcore.io.IoBridge.connect(IoBridge.java:138)
>        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:129)
>        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:356)
>        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
>        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
>        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)
>        at java.net.Socket.connect(Socket.java:616)
>        at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:63)
>        at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
>        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
>        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:192)
>        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
>        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
>        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
>        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
>        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
>        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
>        at com.pubnub.api.interceptors.SignatureInterceptor.intercept(SignatureInterceptor.java:32)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
>        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
>        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
>        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
>        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
>        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
>        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
>        at java.lang.Thread.run(Thread.java:764)
>
> Will this be fixed in new version of library?
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/3438>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEESRGb9j_pzpeZxmSoVoLOkgHY40eks5sI1lagaJpZM4OI81v>
> .
>
"
square/okhttp,"I am using okhttp 3.8.0 and getting a lot crashes in crashlytics with this stacktrace 

<pre>
Fatal Exception: java.util.concurrent.RejectedExecutionException: Task d.bh@33f4a51 rejected from java.util.concurrent.ThreadPoolExecutor@63d82b6[Shutting down, pool size = 5, active threads = 5, queued tasks = 0, completed tasks = 22]
       at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2049)
       at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:814)
       at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1360)
       at okhttp3.Dispatcher.promoteCalls(Dispatcher.java:164)
       at okhttp3.Dispatcher.finished(Dispatcher.java:200)
       at okhttp3.Dispatcher.finished(Dispatcher.java:187)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:151)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
       at java.lang.Thread.run(Thread.java:762)
</pre>


What colud be the reason of this ?",https://github.com/square/okhttp/issues/3424#issuecomment-318944325,Maybe we should handle this error and call `Callback.onFailure()` with a cancelation? That would be pretty reasonable.
square/okhttp,"If one tries to navigate to a HTTPS page using a proxy authentication, and the user or password for the proxy are wrong, infinite loop occurs. The code to duplicate this is simple:

`	package testOKHTTP;
	
	import java.io.IOException;
	import java.net.InetSocketAddress;
	import java.net.Proxy;
	import java.util.Arrays;
	import java.util.concurrent.TimeUnit;
	
	import okhttp3.Authenticator;
	import okhttp3.Call;
	import okhttp3.Credentials;
	import okhttp3.OkHttpClient;
	import okhttp3.Protocol;
	import okhttp3.Request;
	import okhttp3.Response;
	import okhttp3.Route;
	
	public class testok
	{
	  void run(String url) throws IOException {
	    String proxy = ""137.74.248.8"";
	    int port = 3128;
	    final String user = ""blabla"";
	    final String password = ""titimimi"";
	
	    Authenticator proxyAuthenticator = new Authenticator() {
	      public Request authenticate(Route route, Response response) throws IOException {
	           String credential = Credentials.basic(user, password);
	           return response.request().newBuilder()
	               .header(""Proxy-Authorization"", credential)
	               .header(""User-Agent"", ""Mozilla/5.0 (Windows NT 6.2; WOW64; rv:44.0) Gecko/20100101 Firefox/44.0"")
	               .build();
	      }
	    };
	    
	    OkHttpClient client = new OkHttpClient.Builder()
	        .protocols(Arrays.asList(Protocol.HTTP_2, Protocol.HTTP_1_1, Protocol.SPDY_3))
	        .connectTimeout(20, TimeUnit.SECONDS)
	        .writeTimeout(20, TimeUnit.SECONDS)
	        .readTimeout(20, TimeUnit.SECONDS)
	        .proxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxy, port)))
	        .proxyAuthenticator(proxyAuthenticator)
	        .build();
	    
	    Request request = new Request.Builder()
	        .url(url)
	        .header(""User-Agent"", ""Mozilla/5.0 (Windows NT 6.2; WOW64; rv:44.0) Gecko/20100101 Firefox/44.0"")
	        .header(""Accept"", ""text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"")
	        .header(""Accept-Language"", ""en-US,en;q=0.5"")
	        .header(""Accept-Encoding"", ""gzip, deflate"")
	        .header(""Cookie"", ""NID=77=tJ2mqhkopJG8tterOLf9RoQT5wIXF76XgEsmUgc4UnRbEktrsG4UOPKIeWhu58nkQPaQDoRNucdJAhCeTQoBmsaUJusiPrSlN5mwPltG7iM01tb2__RITDwGrBK1wC5BGsF8ibXa_r7zhg;"")        
	        .header(""Connection"", ""keep-alive"")
	        .build();
	
	    final Call call = client.newCall(request);
	    
	    Response response = call.execute();
	        
	    System.out.println(""XXXXXXXXXXXXXXXXXXXX response: "" + response.code());
	  }
	
	  public static void main(String[] args) throws IOException {
	    System.out.println(System.getProperty(""java.runtime.version""));
	    System.out.println(System.getProperty(""java.endorsed.dirs""));
	
	    testok example = new testok();
	    
	    example.run(
	        //""http://localhost/phpinfo.php""
	        //""https://www.google.com/""
	        ""https://www.advancedwebranking.com/""
	        /*""https://whatsmyuseragent.com/""*/);    
	  }
	  
	}
	

`

This fills the proxy server log with 407

1498207186.367      0 82.79.222.141 TCP_DENIED/407 4275 CONNECT www.advancedwebranking.com:443 blabla HIER_NONE/- text/html
	1498207186.416      0 82.79.222.141 TCP_DENIED/407 4275 CONNECT www.advancedwebranking.com:443 blabla HIER_NONE/- text/html
	1498207186.465      0 82.79.222.141 TCP_DENIED/407 4275 CONNECT www.advancedwebranking.com:443 blabla HIER_NONE/- text/html

And the thread is blocked forever in a loop reading from socket (see profiler attached picture)
![loop](https://user-images.githubusercontent.com/17740806/27474247-6f1f1002-580a-11e7-96ff-414ca34670bd.jpg)

I will take a look at the code, maybe I can break the loop and get the 407 response. ",https://github.com/square/okhttp/issues/3423#issuecomment-310615930,https://github.com/square/okhttp/wiki/Recipes#handling-authentication explains how to avoid infinite retries no? 
square/okhttp,"It seems to occur very rarely
Perhaps glide has canceled it and it seems to be thread interrupted

use library
- okhttp3 3.7.0
- glide 3.7.0

OkHttp Log
06-12 14:29:36.716 17923 18274 W OkHttp  : Failed to read public suffix list
06-12 14:29:36.716 17923 18274 W OkHttp  : java.io.InterruptedIOException: thread interrupted
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.Timeout.throwIfReached(Timeout.java:146)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.Okio$2.read(Okio.java:135)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.RealBufferedSource.request(RealBufferedSource.java:66)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.RealBufferedSource.require(RealBufferedSource.java:59)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.GzipSource.consumeHeader(GzipSource.java:114)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.GzipSource.read(GzipSource.java:73)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.RealBufferedSource.request(RealBufferedSource.java:66)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.RealBufferedSource.require(RealBufferedSource.java:59)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okio.RealBufferedSource.readInt(RealBufferedSource.java:255)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okhttp3.internal.publicsuffix.PublicSuffixDatabase.readTheList(PublicSuffixDatabase.java:288)
06-12 14:29:36.716 17923 18274 W OkHttp  : 	at okhttp3.internal.publicsuffix.PublicSuffixDatabase.findMatchingRule(PublicSuffixDatabase.java:109)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.publicsuffix.PublicSuffixDatabase.getEffectiveTldPlusOne(PublicSuffixDatabase.java:82)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.Cookie.parse(Cookie.java:310)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.Cookie.parse(Cookie.java:218)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.Cookie.parseAll(Cookie.java:444)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.HttpHeaders.receiveHeaders(HttpHeaders.java:179)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:95)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:211)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at okhttp3.RealCall.execute(RealCall.java:69)
06-12 14:29:36.717 17923 18274 W OkHttp  : 	at com.bumptech.glide.integration.okhttp3.OkHttpStreamFetcher.loadData(OkHttpStreamFetcher.java:43)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.integration.okhttp3.OkHttpStreamFetcher.loadData(OkHttpStreamFetcher.java:19)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.model.ImageVideoModelLoader$ImageVideoFetcher.loadData(ImageVideoModelLoader.java:70)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.model.ImageVideoModelLoader$ImageVideoFetcher.loadData(ImageVideoModelLoader.java:53)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.DecodeJob.decodeSource(DecodeJob.java:170)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.DecodeJob.decodeFromSource(DecodeJob.java:128)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.EngineRunnable.decodeFromSource(EngineRunnable.java:122)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.EngineRunnable.decode(EngineRunnable.java:101)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.EngineRunnable.run(EngineRunnable.java:58)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at java.lang.Thread.run(Thread.java:761)
06-12 14:29:36.718 17923 18274 W OkHttp  : 	at com.bumptech.glide.load.engine.executor.FifoPriorityThreadPoolExecutor$DefaultThreadFactory$1.run(FifoPriorityThreadPoolExecutor.java:118)


HttpLoggingInterceptor Log
<-- HTTP FAILED: java.lang.IllegalStateException: Unable to load publicsuffixes.gz resource from the classpath.


",https://github.com/square/okhttp/issues/3404#issuecomment-308105154,@swankjesse any thoughts on action to take in this scenario? Re-throw the exception? I can grab this one if you like.
square/okhttp,"What kind of issue is this?
 - [X] Bug report.

Summary
- when using OkHttp with an HTTP2 server, the logging generated by logging-interceptor is wrong with regards to the protocol. it prints ""http/1.1"" when in reality it is ""h2"" 
(since in line https://github.com/square/okhttp/blob/a94f952d4fd612b649f0e1afbbcd06b7b991765b/okhttp/src/main/java/okhttp3/RealCall.java#L184 the connection is null, the connection will be null in 
https://github.com/square/okhttp/blob/master/okhttp-logging-interceptor/src/main/java/okhttp3/logging/HttpLoggingInterceptor.java#L154 , thus the result will be ""http/1.1"", which is extremely confusing and wrong.)

- how to verify this is ? / reproduce this

Create a request to a http2 capable server, fire it off, and inspect the Response (there the protocol is set to ""h2"" as expected), and watch the interceptor log ""http/1.1"".

- Write a failing test:
its properly more a definition of using http1.1 as a default value, instead of saying ""we do not know"". 









",https://github.com/square/okhttp/issues/3395#issuecomment-307533331,Failing test?
square/okhttp,"` java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String)' on a null object reference
                                                                                at com.android.tools.profiler.support.network.okhttp.reflection.okhttp3.Request$.getTargetClass(Request$.java:29)
                                                                                at com.android.tools.profiler.support.network.okhttp.reflection.okhttp3.Interceptor$$Chain$.proceed(Interceptor$.java:50)
                                                                                at com.android.tools.profiler.support.network.okhttp.OkHttp3Interceptor.invoke(OkHttp3Interceptor.java:57)
                                                                                at java.lang.reflect.Proxy.invoke(Proxy.java:393)
                                                                                at $Proxy0.intercept(Unknown Source)`

todayÔºåmy app crashÔºåi don't know what happenedÔºåthis is the logÔºåi try to debugÔºåbut  @couldn't find the question",https://github.com/square/okhttp/issues/3391#issuecomment-335004160,"@duzechao: How did you find out that this was related to this feature? Did you submit a bug report?
Thanks!"
square/okhttp,"I created a HTTP/2 connection, this connection remains open in a half-closed state (read time is 1 hour).  After connected, I disable the network and restart. And then, I send a normal request, which was occured a SocketTimeoutException : timeout

`java.net.SocketTimeoutException: timeout
                                                                     at okhttp3.internal.http2.Http2Stream$StreamTimeout.newTimeoutException(Http2Stream.java:593)
                                                                     at okhttp3.internal.http2.Http2Stream$StreamTimeout.exitAndThrowIfTimedOut(Http2Stream.java:601)
                                                                     at okhttp3.internal.http2.Http2Stream$FramingSink.emitFrame(Http2Stream.java:510)
                                                                     at okhttp3.internal.http2.Http2Stream$FramingSink.write(Http2Stream.java:481)
                                                                     at okio.RealBufferedSink.emitCompleteSegments(RealBufferedSink.java:171)
                                                                     at okio.RealBufferedSink.write(RealBufferedSink.java:85)`",https://github.com/square/okhttp/issues/3378#issuecomment-304631229,"Related to?

https://github.com/square/okhttp/issues/1771 https://github.com/square/okhttp/issues/3146 https://github.com/square/okhttp/issues/3278"
square/okhttp,"When I open AndroidStudio3.0Preview in the New Android Profiler function when there is a failure,
Closed to resume.
Probably a preview version of the bug.


![05fd8a70-b368-429c-8a7c-ecccf754888c](https://cloud.githubusercontent.com/assets/9566116/26242243/49faa202-3cba-11e7-8c66-542df4935be9.png)

 - [ ] 05-19 17:20:53.777 15693-15693/com.about.zhiye W/System.err: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Class java.lang.Object.getClass()' on a null object reference
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at com.android.tools.profiler.support.network.OkHttpInterceptorHandler.wrapResponseBody(OkHttpInterceptorHandler.java:108)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at com.android.tools.profiler.support.network.OkHttpInterceptorHandler.wrapResponse(OkHttpInterceptorHandler.java:74)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at com.android.tools.profiler.support.network.OkHttpInterceptorHandler.invoke(OkHttpInterceptorHandler.java:39)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at java.lang.reflect.Proxy.invoke(Proxy.java:393)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at $Proxy0.intercept(Unknown Source)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at com.about.zhiye.api.ApiRetrofit$1.intercept(ApiRetrofit.java:94)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at okhttp3.RealCall.execute(RealCall.java:69)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at retrofit2.OkHttpCall.execute(OkHttpCall.java:174)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at retrofit2.adapter.rxjava.CallExecuteOnSubscribe.call(CallExecuteOnSubscribe.java:40)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at retrofit2.adapter.rxjava.CallExecuteOnSubscribe.call(CallExecuteOnSubscribe.java:24)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at retrofit2.adapter.rxjava.BodyOnSubscribe.call(BodyOnSubscribe.java:33)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at retrofit2.adapter.rxjava.BodyOnSubscribe.call(BodyOnSubscribe.java:25)
05-19 17:20:53.778 15693-15693/com.about.zhiye W/System.err:     at rx.Observable.unsafeSubscribe(Observable.java:10346)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.Observable.unsafeSubscribe(Observable.java:10346)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.Observable.unsafeSubscribe(Observable.java:10346)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.schedulers.CachedThreadScheduler$EventLoopWorker$1.call(CachedThreadScheduler.java:230)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:423)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
05-19 17:20:53.779 15693-15693/com.about.zhiye W/System.err:     at java.lang.Thread.run(Thread.java:818)

",https://github.com/square/okhttp/issues/3368#issuecomment-302664491,What makes you think this is an OkHttp but vs a tools bug?
square/okhttp,"There is such a crash reported from our app:

```
Caused by java.lang.InternalError: java.util.MissingResourceException: Can't find bundle for base name sun.util.logging.resources.logging, locale en_AU
       at java.util.logging.Logger$1.run(Logger.java:1385)
       at java.util.logging.Logger$1.run(Logger.java:1379)
       at java.security.AccessController.doPrivileged(AccessController.java:41)
       at java.util.logging.Logger.findSystemResourceBundle(Logger.java:1378)
       at java.util.logging.Logger.findResourceBundle(Logger.java:1425)
       at java.util.logging.Logger.setupResourceInfo(Logger.java:1523)
       at java.util.logging.Logger.(Logger.java)
       at java.util.logging.Logger.(Logger.java)
       at java.util.logging.LogManager$SystemLoggerContext.demandLogger(LogManager.java:734)
       at java.util.logging.LogManager.demandSystemLogger(LogManager.java:399)
       at java.util.logging.Logger.getPlatformLogger(Logger.java:474)
       at java.util.logging.LoggingProxyImpl.getLogger(LoggingProxyImpl.java:41)
       at sun.util.logging.LoggingSupport.getLogger(LoggingSupport.java:100)
       at sun.util.logging.PlatformLogger$JavaLoggerProxy.(PlatformLogger.java)
       at sun.util.logging.PlatformLogger$JavaLoggerProxy.(PlatformLogger.java)
       at sun.util.logging.PlatformLogger.(PlatformLogger.java)
       at sun.util.logging.PlatformLogger.getLogger(PlatformLogger.java:205)
       at java.net.CookieManager.put(CookieManager.java:262)
       at okhttp3.JavaNetCookieJar.saveFromResponse(SourceFile:47)
       at okhttp3.internal.http.HttpEngine.receiveHeaders(SourceFile:866)
       at okhttp3.internal.http.HttpEngine.readResponse(SourceFile:598)
       at okhttp3.RealCall.getResponse(SourceFile:241)
       at okhttp3.RealCall$ApplicationInterceptorChain.proceed(SourceFile:198)
       at okhttp3.RealCall.getResponseWithInterceptorChain(SourceFile:160)
       at okhttp3.RealCall.execute(SourceFile:57)
```
We are using okhttp v3.2.0.
And the configuration is looks like this:
```java
CookieHandler cookieHandler = new CookieManager(cookieStore, CookiePolicy.ACCEPT_ALL);
OkHttpClient.Builder okHttpBuilder = okHttpClient.newBuilder()
        .cache(cache)
        .cookieJar(new JavaNetCookieJar(cookieHandler))
        .connectTimeout(HTTP_TIMEOUT, TimeUnit.SECONDS)
        .readTimeout(HTTP_TIMEOUT, TimeUnit.SECONDS);
this.okHttpClient = okHttpBuilder.build();
```

This crash is not easy to reproduce.
I'm not sure if it's an OS bug, because it only happens on Android 7 according to our collected data.




",https://github.com/square/okhttp/issues/3334#issuecomment-307598316,"Can you execute the following on the offending device? My guess is that there‚Äôs a problem with the way the Java library on the device was packaged and an important localization resource was omitted.

```
import java.util.Enumeration;
import java.util.Locale;
import java.util.ResourceBundle;

public class MissingBundleCheck {
  public static void main(String[] args) {
    ResourceBundle bundle = ResourceBundle.getBundle(
        ""sun.util.logging.resources.logging"", new Locale(""en"", ""AU""),
        ClassLoader.getSystemClassLoader());
    for (Enumeration<String> k = bundle.getKeys(); k.hasMoreElements(); ) {
      String key = k.nextElement();
      System.out.println(key + "": "" + bundle.getString(key));
    }
  }
}
```

When I run it on my Android 7 device everything works properly.

```
ALL: ALL
FINE: FINE
INFO: INFO
OFF: OFF
SEVERE: SEVERE
CONFIG: CONFIG
FINEST: FINEST
FINER: FINER
WARNING: WARNING
```

Also: which device is this? Might be a bogus device."
square/okhttp,"**Feature request:**  Throw identifiable exceptions for read timeout and connect timeout. 
_We wish to retry on connect timeout errors and not on read timeouts. The okHttp client throws the same exception in both cases. The only way to distinguish between the two is the through the error message, which is not clean or reliable._

On read timeout:
`java.net.SocketTimeoutException: timeout
    at okio.Okio$3.newTimeoutException(Okio.java:212)
    at okio.AsyncTimeout.exit(AsyncTimeout.java:288)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:242)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:325)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:314)
    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:210)
    at okhttp3.internal.http.Http1xStream.readResponse(Http1xStream.java:184)
    at okhttp3.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:125)
    at okhttp3.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:775)
    at okhttp3.internal.http.HttpEngine.access$200(HttpEngine.java:86)
    at okhttp3.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:760)
    at okhttp3.internal.http.HttpEngine.readResponse(HttpEngine.java:613)
    at okhttp3.RealCall.getResponse(RealCall.java:244)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:201)
    at com.bluejeans.sample.test.OkHttpConnect$1.intercept(OkHttpConnect.java:25)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:190)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:163)
    at okhttp3.RealCall.execute(RealCall.java:57)
    at com.bluejeans.sample.test.OkHttpConnect.main(OkHttpConnect.java:39)
Caused by: java.net.SocketTimeoutException: Read timed out
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
    at java.net.SocketInputStream.read(SocketInputStream.java:170)
    at java.net.SocketInputStream.read(SocketInputStream.java:141)
    at okio.Okio$2.read(Okio.java:140)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:238)
    ... 16 more`

On connect timeout:
`java.net.SocketTimeoutException: connect timed out
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    at java.net.Socket.connect(Socket.java:589)
    at okhttp3.internal.Platform.connectSocket(Platform.java:121)
    at okhttp3.internal.io.RealConnection.connectSocket(RealConnection.java:185)
    at okhttp3.internal.io.RealConnection.buildConnection(RealConnection.java:170)
    at okhttp3.internal.io.RealConnection.connect(RealConnection.java:111)
    at okhttp3.internal.http.StreamAllocation.findConnection(StreamAllocation.java:187)
    at okhttp3.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:123)
    at okhttp3.internal.http.StreamAllocation.newStream(StreamAllocation.java:93)
    at okhttp3.internal.http.HttpEngine.connect(HttpEngine.java:296)
    at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:248)
    at okhttp3.RealCall.getResponse(RealCall.java:243)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:201)
    at com.bluejeans.sample.test.OkHttpConnect$1.intercept(OkHttpConnect.java:25)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:190)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:163)
    at okhttp3.RealCall.execute(RealCall.java:57)
    at com.bluejeans.sample.test.OkHttpConnect.main(OkHttpConnect.java:39)`



",https://github.com/square/okhttp/issues/3318#issuecomment-423446991,how to solve this problem?
square/okhttp,"Stick the following test into `HttpOverHttp2Test` (which I did since it's hard to get tests to do HTTP2 otherwise):

```java
@Test
public void errorInterceptorDoesNotInfinitelyRetry() throws Exception {
  OkHttpClient client = this.client.newBuilder()
      .addNetworkInterceptor(new Interceptor() {
        @Override
        public Response intercept(Chain chain) throws IOException {
          throw new IOException(""Ouch"");
        }
      })
      .build();

  Call call = client.newCall(new Request.Builder()
      .url(server.url(""/foo""))
      .build());

  call.execute();
}
```

The test will never finish execution due to infinite retries.

The infinite retry happens in `RetryAndFollowUpInterceptor`. It constantly thinks it's got a recoverable error so it never quits.

As far as I can tell, the issue lies in `StreamAllocation.streamFailed()`. Without HTTP2 it sets `route = null`, which means that when you retry the request, you eventually run out of routes to try. Once `StreamAllocation.hasMoreRoutes()` returns false, the request is done.

However, with HTTP2 this never gets set to null, thus it always thinks it has more routes. As a result, an `IOException` can cause infinite retries.",https://github.com/square/okhttp/issues/3268#issuecomment-331962955,"Hello, I think I have a potential solution to this issue. Would it be best to discuss here or should I just submit a pull request? Thanks in advance.

I am thinking of making the following change in okhttp/src/main/java/okhttp3/internal/http/RetryAndFollowupInterceptor.java
```
- while ( true ) {
+ while ( followupCount++ < MAX_FOLLOW_UPS ) {
```"
square/okhttp,"OkHttp does not properly escape URL query parameters that contain curly braces.

Tomcat 7.0.73+, 8.0.39+, and 8.5.7+ will reject these requests with the following error:
```
Mar 20, 2017 2:47:59 PM org.apache.coyote.http11.Http11Processor service
INFO: Error parsing HTTP request header
 Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:471)
        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:667)
        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
        at java.lang.Thread.run(Thread.java:745)
```

These are the characters that Tomcat will now reject as part of the URI request line (see org.apache.tomcat.util.http.parser.HttpParser):
```
            if (IS_CONTROL[i] || i > 127 ||
                    i == ' ' || i == '\""' || i == '#' || i == '<' || i == '>' || i == '\\' ||
                    i == '^' || i == '`'  || i == '{' || i == '|' || i == '}') {
                IS_NOT_REQUEST_TARGET[i] = true;  // reject the character!
```

To solve issue, the characters included in HttpUrl.QUERY_COMPONENT_ENCODE_SET may need to be changed.  Here is current definition:
```
static final String QUERY_COMPONENT_ENCODE_SET = "" \""'<>#&="";
```

These 

",https://github.com/square/okhttp/issues/3235#issuecomment-287905422,"Can you ask the Tomcat authors to fix their server? Seems like they‚Äôre shutting out a lot of popular browsers with that check.

curl:
```
GET /?a={} HTTP/1.1
User-Agent: curl/7.51.0
```

Firefox:
```
GET /?a={} HTTP/1.1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:52.0) Gecko/20100101 Firefox/52.0
```

Chrome:
```
GET /?a={} HTTP/1.1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
```

Safari:
```
GET /?a={} HTTP/1.1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like 
```

Wget does conform though, for what that‚Äôs worth.
```
GET /?a=%7B%7D HTTP/1.1
User-Agent: Wget/1.16.1 (darwin13.4.0)
```"
square/okhttp,"When we do automatic pings it‚Äôd be nice to fail the connection if the peer isn‚Äôt ponging back. As-is a server that blackholes pings is not sufficient to consider the connection healthy.

See also https://github.com/square/okhttp/issues/3197",https://github.com/square/okhttp/issues/3227#issuecomment-331088410,"hi, any news on that?"
square/okhttp,"It happened in version 3.1.2.
```
java.lang.NullPointerException: Attempt to invoke virtual method 'void java.util.Calendar.setLenient(boolean)' on a null object reference
	at java.text.DateFormat.setLenient(DateFormat.java:659)
	at okhttp3.internal.http.HttpDate$1.initialValue(HttpDate.java:42)
	at okhttp3.internal.http.HttpDate$1.initialValue(HttpDate.java:38)
	at java.lang.ThreadLocal$Values.getAfterMiss(ThreadLocal.java:430)
	at java.lang.ThreadLocal.get(ThreadLocal.java:65)
	at okhttp3.internal.http.HttpDate.format(HttpDate.java:114)
	at okhttp3.Cookie.toString(Cookie.java:542)
```

When i configured `cookieJar` overriding `loadForRequest` method  to print cookie using `item.toString()` , it happended.

My code:

```
        mOkHttpClient = new OkHttpClient.Builder()
                .connectTimeout(CONNECT_TIMIE_OUT, TimeUnit.SECONDS)
                .writeTimeout(WRITE_TIME_OUT, TimeUnit.SECONDS)
                .readTimeout(READ_TIME_OUT, TimeUnit.SECONDS)
                .cookieJar(new CookieJar() {
                    private final PersistentCookieStore cookieStore = new PersistentCookieStore(AppContext.getInstance());

                    @Override
                    public void saveFromResponse(HttpUrl url, List<Cookie> cookies) {
                        if (cookies != null && cookies.size() > 0) {
                            LogUtil.d(TAG, ""saveCookie:"");
                            for (Cookie item : cookies) {
                                cookieStore.add(url, item);
                                if (item != null) {
                                    LogUtil.d(TAG, ""cookie:"" + item.toString());
                                }
                            }
                        }
                    }

                    @Override
                    public List<Cookie> loadForRequest(HttpUrl url) {
                        LogUtil.d(TAG, ""loadCookie:"");
                        List<Cookie> cookies = cookieStore.get(url);
                        for (Cookie item : cookies) {
                            if (item != null) {
                                LogUtil.d(TAG, ""cookie:"" + item.toString());
                            }
                        }
                        return cookies;
                    }
                })
                .build();
```",https://github.com/square/okhttp/issues/3221#issuecomment-287556691,Seems impossible. Which JVM or device did this occur on? Can you reproduce it consistently?
square/okhttp,"I use OKhttp 3.5.0, often crashes.

![1](https://cloud.githubusercontent.com/assets/17741114/23495767/82bc5916-ff55-11e6-8816-3ae2e7351d73.jpeg)


The above is the error logÔºÅ",https://github.com/square/okhttp/issues/3200#issuecomment-283636763,Could you help us to reproduce with an executable test case?
square/okhttp,"Tried writing a unit test w/ TestButler on Android w/ no luck, so I'll write up the steps to reproduce this and include some sample code.  This happens if you connect to an HTTP/2 server and your network goes down while the okhttp client is connected to it:
1) create an okhttp client
2) tell it to read from the HTTP/2 server
3) bring the network down
4) tell it to read from the HTTP/2 server (it'll get a SocketTimeoutException)
5) bring the network back up
6) tell it to read from the HTTP/2 server again (it'll be stuck w/ SocketTimeoutExceptions)
7) if you create new http clients at this point, it'll work, but the dead http client will eventually come back in the pool and fail.

okhttp client should attempt to reopen the HTTP/2 connection instead of being stuck in this state

Code sample for Android (create a trivial view w/ a button and a textview):

```
public class MainActivity extends AppCompatActivity {
    OkHttpClient okhttpClient = new OkHttpClient();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Button loadButton = (Button) findViewById(R.id.loadButton);
        TextView outputView = (TextView) findViewById(R.id.outputView);

        loadButton.setOnClickListener(view -> Observable.fromCallable(() -> {
                    Request request = new Request.Builder()
                            .url(<INSERT URL TO YOUR HTTP/2 SERVER HERE>)
                            .build();

                    Response response = okhttpClient.newCall(request).execute();

                    return response.body().string();
                })
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(outputView::setText, t -> outputView.setText(t.toString()))
        );
    }
}

```",https://github.com/square/okhttp/issues/3146#issuecomment-276450554,You‚Äôre using 3.6.0?
square/okhttp,"java.lang.InternalError: Thread starting during runtime shutdown
	at java.lang.Thread.nativeCreate(Native Method)
	at java.lang.Thread.start(Thread.java:1063)
	at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:921)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1328)
	at okhttp3.internal.ws.RealWebSocket$1.onClose(SourceFile:82)
	at okhttp3.internal.ws.WebSocketReader.readControlFrame(SourceFile:205)
	at okhttp3.internal.ws.WebSocketReader.processNextFrame(SourceFile:106)
	at okhttp3.internal.ws.RealWebSocket.readMessage(SourceFile:97)
	at okhttp3.ws.WebSocketCall.createWebSocket(SourceFile:152)
	at okhttp3.ws.WebSocketCall.access$000(SourceFile:41)
	at okhttp3.ws.WebSocketCall$1.onResponse(SourceFile:97)
	at okhttp3.RealCall$AsyncCall.execute(SourceFile:126)
	at okhttp3.internal.NamedRunnable.run(SourceFile:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
	at java.lang.Thread.run(Thread.java:818)",https://github.com/square/okhttp/issues/3116#issuecomment-273199073,Not much we can do here unfortunately. We can‚Äôt not create threads. Can you tear down OkHttp before shutting down your JVM?
square/okhttp,"It would be nice to support a niladic form of `Call#enqueue` that returns `CompletableFuture<Response>`. Is it currently reasonable to upgrade support for Android to at least v7.0 (API Level 24, where `CompletableFuture` arrives)?",https://github.com/square/okhttp/issues/3102#issuecomment-272012723,"That accounts for 0.7% of active Android devices so it will be at least 3
or 4 years before Java 8 is viable for a project like OkHttp.

On Wed, Jan 11, 2017 at 2:09 PM John Napier <notifications@github.com>
wrote:

> It would be nice to support a niladic form of Call#enqueue that returns
> CompletableFuture. Is it currently reasonable to upgrade support for
> Android to at least v7.0 (API Level 24, where CompletableFuture arrives)?
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/okhttp/issues/3102>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEEWtmgS1Ve4qctF7fOMdaifj87k0Uks5rRVL9gaJpZM4LhIWm>
> .
>
"
square/okhttp,"It‚Äôs a thing we could do.

https://tools.ietf.org/html/rfc7858",https://github.com/square/okhttp/issues/3027#issuecomment-311257335,"@swankjesse Curious, what was the objective here? A full DNS implementation? or an implementation of okhttp3.Dns (strictly a subset) for securing OkHttp clients?

If its the latter, would it be worth submitting a dns-over-https implementation (https://tools.ietf.org/html/draft-hoffman-dns-over-http-00)?  This is a working prototype for dns.google.com https://github.com/yschimke/oksocial/blob/master/src/main/java/com/baulsupp/oksocial/network/GoogleDns.java"
square/okhttp,"We‚Äôre exploring building this. We could reuse the same request, response, and interceptor types.
",https://github.com/square/okhttp/issues/2916#issuecomment-254070974,"1. In WIP PR https://github.com/square/okhttp/pull/2912/files: `<artifactId>okwebserver</artifactId>`, not `okhttpserver`. Can you please clarify naming?
2. Will `OkHttpServer` result in deletion of `MockWebServer` or it'll be used under the hood of `MockWebServer`?
"
square/okhttp,"https://bitsup.blogspot.ca/2016/05/cache-control-immutable.html?m=1
",https://github.com/square/okhttp/issues/2878#issuecomment-381494417,"In the [section 2 of the RFC8264](https://tools.ietf.org/html/rfc8246#section-2), it says that if a response is immutable, a reload should ignore a conditional request, but a force reload should not. 
>Clients SHOULD NOT issue a conditional request during the response's freshness lifetime (e.g., upon a reload) unless explicitly overridden by the user (e.g., a force reload).

And then I found that in Chrome, a force reload, pressing Ctrl + F5, is a request that contains a Cache-Control: no-cache header while a common reload, simply pressing F5,  is a request that contains condition headers. So I guess the code below indicates a reload and a force reload, if it is the same meaning with Chrome. Both of them will perform a request from network no matter the response is immutable or not.
``` java
CacheControl requestCaching = request.cacheControl();
if (requestCaching.noCache() || hasConditions(request)) {
    return new CacheStrategy(request, null);
}

 CacheControl responseCaching = cacheResponse.cacheControl();
if (responseCaching.immutable()) {
    return new CacheStrategy(null, cacheResponse);
}
```
Does that contradicts with the RFC?
Plus, OkHttp doesn't compute the freshness lifttime before checking whether the response is immutable, are there other considerations?"
square/okhttp,"In Java 7 the [`X509ExtendedTrustManager`](https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/X509ExtendedTrustManager.html) was introduced which closes the gap between the time when `SSLSocket#startHandshake` is called and when the certificates returned by the server are verified. Using that along with [`SSLParameters#setEndpointIdentificationAlgorithm`](https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLParameters.html#setEndpointIdentificationAlgorithm%28java.lang.String%29) allows the server certificate chain to be verified during the SSL handshake. 

This is because the `X509ExtendedTrustManager` has newer methods which take `SSLSocket` or `SSLEngine` instances. It can then use either of these to get the `SSLParameters` and check if the endpoint identification algorithm is set (e.g., to ""HTTPS"").

A few things that need to happen:
- [ ] Tests need to be updated to extend `X509ExtendedTrustManager` for the `RecordingTrustManager`
- [ ] The given trust manager must be checked to see whether it's an `X509ExtendedTrustManager`
- [ ] `SSLParameters#setEndpointIdentificationAlgorithm` needs to be called before `startHandshake` (i.e., in `Platform#enableTlsExtensions`)
- [ ] If the trust manager is a `X509ExtendedTrustManager` then the subsequent verifier check in `RealConnection` can be skipped to avoid double-checking the certificates.
",https://github.com/square/okhttp/issues/2877#issuecomment-248787656,"Just to be explicit: what's the benefit? Fail faster?
"
square/okhttp,"I have 2 Android apps which use Retrofit 2, with the latest version of okhttp. Last week, we enabled http/2 on our API, at the Akamai control panel. That same day, we started getting complaints that users could no longer do certain things in the apps,  and it quickly became apparent that it was only Android apps, and only DELETE calls 
",https://github.com/square/okhttp/issues/2851#issuecomment-246723450,"Definitely weird. Can you give us more to go on? Perhaps use Charles to record what OkHttp did and how that differs from what it should do?
"
square/okhttp,"I am seeing a very similar crash to #2323, reproducible on KitKat and Marshmellow, i.e.:

```
java.lang.IllegalStateException: Unable to extract the trust manager on okhttp3.internal.platform.AndroidPlatform@b1a3a6d8, sslSocketFactory is class com.paypal.android.sdk.cg
                                                                                at okhttp3.OkHttpClient$Builder.sslSocketFactory(OkHttpClient.java:599)
                                                                                at com.paypal.android.sdk.cc.a(Unknown Source)
                                                                                at com.paypal.android.sdk.cm.<init>(Unknown Source)
                                                                                at com.paypal.android.sdk.payments.PayPalService.a(Unknown Source)
                                                                                at com.paypal.android.sdk.payments.PayPalService.onBind(Unknown Source)
```

From what I can tell, for me the fallback mechanism inside AndroidPlatform.trustManager() is trying to work, i.e.:

```
@Override public X509TrustManager trustManager(SSLSocketFactory sslSocketFactory) {
    Object context = readFieldOrNull(sslSocketFactory, sslParametersClass, ""sslParameters"");
    if (context == null) {
      // If that didn't work, try the Google Play Services SSL provider before giving up. This
      // must be loaded by the SSLSocketFactory's class loader.
      try {
        Class<?> gmsSslParametersClass = Class.forName(
            ""com.google.android.gms.org.conscrypt.SSLParametersImpl"", false,
            sslSocketFactory.getClass().getClassLoader());
```

However, it seems that the sslSocketFactory class loader can't load that class, however the **sslSocketFactory.delegate** class loader **can** load the class.

A little background: my app allows both Google and PayPal login. PayPal login from start is OK. Attempting a Google login first somehow swaps the `com.android.org.conscrypt.SSLParametersImpl` for a `com.google.android.gms.org.conscrypt.SSLParametersImpl` under the hood, after which attempting a PayPal login fails to load `gmsSslParametersClass` and leads to the crash.

The `sslSocketFactory` is provided by the PayPal SDK and so loaded from my app's classloader. The delegate seems to be able to be loaded from `/system/priv-app/PrebuiltGmsCore.apk`

Correct me if I'm wrong, but doesn't that code need to cater for the class loader in the delegate case as well?
",https://github.com/square/okhttp/issues/2827#issuecomment-243954945,"Yeah, what a pain. Thanks for investigating this.

I think the best fix is to ask our friends at PayPal to use the 2-argument `sslSocketFactory()` method that accepts both an `SSLSocketFactory` _and_ a `TrustManager`. The thing we‚Äôre doing now that attempts to pull the trust manager out via reflection isn‚Äôt very robust.

https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#sslSocketFactory-javax.net.ssl.SSLSocketFactory-javax.net.ssl.X509TrustManager-

Wanna suggest that to them?
"
square/okhttp,"**When my network speed of uplink 18kbps or less** ,  upload pictures must report:


```
  java.net.SocketException: sendto failed: EBADF (Bad file descriptor) 
```

But I use tool of catch packet ÔºàCharles Ôºâ,  upload process is normalÔºåbut project debug is report 6003 code , exception above

Paste My codeÔºö

`MultipartBody.Builder builder = new MultipartBody.Builder();

```
    builder.setType(MultipartBody.FORM)
            .addFormDataPart(key, file.getName(), getProgressRequestBody(MultipartBody.FORM, file, callback))
            .addPart(Headers.of(""Content-Disposition"", ""form-data; filename=\""img.png\""""), RequestBody.create(MediaType.parse(""image/png""), file))
            .build();

    RequestBody requestBody = builder.build();

    Request request = new Request.Builder()
            .url(uploadUrl) //Âú∞ÂùÄ
            .post(requestBody)
            .build();

    createOkClient();

    mClient.newCall(request).enqueue(new okhttp3.Callback() {
        @Override
        public void onFailure(Call call, IOException e) {
            MainThreadCallback.onException(callback, ErrorCode.HTTP_CONNECTION_ERROR, e.toString());
        }

        @Override
        public void onResponse(Call call, Response response) throws IOException {
            if (!response.isSuccessful()) {
                MainThreadCallback.onException(callback, ErrorCode.HTTP_CONNECTION_ERROR, ""respone is no success"");
                return;
            }

            try {
                String result = response.body().string();
                JSONObject jsonObject = new JSONObject(result);
                String url = jsonObject.optString(""result"");

                if(TextUtils.isEmpty(url)){
                    MainThreadCallback.onException(callback, ErrorCode.DATA_ERROR, ""‰∏ä‰º†Êñá‰ª∂ÁîüÊàêÁöÑURL‰∏∫Á©∫"");
                    return;
                }

                MainThreadCallback.onSuccess(callback, url);

            } catch (Exception e) {
                MainThreadCallback.onException(callback, ErrorCode.IO_ERROR, e.getMessage());
            }
        }
    });`
```
",https://github.com/square/okhttp/issues/2794#issuecomment-240923356,"Could you provide a sample exception stacktrace?
"
square/okhttp,"What kind of issue is this?
Bug Report

hi, i've been trying to cache a response from a test rest api from http://jsonplaceholder.typicode.com

D/OkHttp: --> GET http://jsonplaceholder.typicode.com/posts/ http/1.1
D/OkHttp: --> END GET
D/OkHttp: <-- 200 OK http://jsonplaceholder.typicode.com/posts/ (2597ms)
D/OkHttp: Content-Type: application/json; charset=utf-8
D/OkHttp: Transfer-Encoding: chunked
D/OkHttp: Connection: keep-alive
D/OkHttp: Pragma: no-cache
D/OkHttp: Date: Mon, 15 Aug 2016 07:37:59 GMT
D/OkHttp: Set-Cookie: __cfduid=d7a80d31f44b803e5756cb4712926db891471246679; expires=Tue, 15-Aug-17 07:37:59 GMT; path=/; domain=.typicode.com; HttpOnly
D/OkHttp: X-Powered-By: Express
D/OkHttp: Vary: Accept-Encoding
D/OkHttp: Access-Control-Allow-Credentials: true
D/OkHttp: Expires: Mon, 15 Aug 2016 11:37:59 GMT
D/OkHttp: X-Content-Type-Options: nosniff
D/OkHttp: Etag: W/""6b80-uPwhAkDat3Fl5TugzmyYpQ""
D/OkHttp: Via: 1.1 vegur
D/OkHttp: CF-Cache-Status: HIT
D/OkHttp: Server: cloudflare-nginx
D/OkHttp: CF-RAY: 2d2afc05360e22be-LAX
D/OkHttp: Cache-Control: max-age=20
D/OkHttp: <-- END HTTP

i was successfully caching that response, along with also modifying the cache-control, however, all my efforts to remove `Pragma: no-cache` with `response.removeHeader(""Pragma"")` on my interceptor seems to have failed and i'm not sure why. That pragma prevents me from accessing my saved cache for offline work.

can someone give light to this?
",https://github.com/square/okhttp/issues/2792#issuecomment-239785316,"Can you post the interceptor code?
"
square/okhttp,"Here's how I created the SSLSocketFactory  that works fine with okhttp2.x but not with okhttp3:

```
public SSLSocketFactory createSslSocketFactory() {
    try {
      String base64PKCS12 = ""****';
      String certPassword = ""****"";

      InputStream is = new ByteArrayInputStream(base64PKCS12.getBytes());
      Base64InputStream b64is = new Base64InputStream(is, Base64.DEFAULT);

      char[] tableauCertPassword = certPassword.toCharArray();

      // Import PKCS12 in KeyStore
      KeyStore appKeyStore = KeyStore.getInstance(""PKCS12"");
      appKeyStore.load(b64is, tableauCertPassword);

      is.close();
      b64is.close();

      // Building SSL context for future use
      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(""X509"");
      keyManagerFactory.init(appKeyStore, tableauCertPassword);
      KeyManager[] keyManagers = keyManagerFactory.getKeyManagers();

      // Add Trustmanager
      KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
      InputStream instream = app.getResources().openRawResource(R.raw.truststore);
      trustStore.load(instream, ""*****"".toCharArray());
      instream.close();

      TrustManagerFactory tmf =
          TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
      tmf.init(trustStore);
      TrustManager[] managers = tmf.getTrustManagers();

      SSLContext context = SSLContext.getInstance(""TLS"");
      context.init(keyManagers, managers, null);

      return context.getSocketFactory();
    } catch (Exception e) {
      Timber.e(e, ""SSLSocket creation exception %s"", e.getMessage());
      throw new AssertionError(e);
    }
  }
```

 With okhttp3 i have tried this, as  @swankjesse did in : exemple CutomTust [https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java],  but in my case I have to use **TrustStore**  : 

```

private KeyManager[] keyManagers;

  OkHttpClient provideOkHttpClient(Application app) {
    X509TrustManager trustManager = trustManagerForCertificates(app);
    SSLContext sslContext = null;
    try {
      sslContext = SSLContext.getInstance(""TLS"");
      sslContext.init(keyManagers, new TrustManager[] { trustManager }, null);
    } catch (GeneralSecurityException e) {
      throw new RuntimeException(e);
    }

    return new OkHttpClient.Builder()//
        .sslSocketFactory(sslContext.getSocketFactory(),trustManager)//
        .addInterceptor(new HostSelectionInterceptor()).build();
  }

  public  X509TrustManager trustManagerForCertificates(Application app) {

    try {
      String base64PKCS12 = ""**"";
      String certPassword = ""**"";

      InputStream is = new ByteArrayInputStream(base64PKCS12.getBytes());
      Base64InputStream b64is = new Base64InputStream(is, Base64.DEFAULT);

      char[] tableauCertPassword = certPassword.toCharArray();

      // Import PKCS12 in KeyStore
      KeyStore appKeyStore = KeyStore.getInstance(""PKCS12"");
      appKeyStore.load(b64is, tableauCertPassword);

      is.close();
      b64is.close();

```

Here is where I manage the **TRUSTSTORE** 

```
  // Add Trustmanager
      KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
      InputStream instream = app.getResources().openRawResource(R.raw.truststore);
      trustStore.load(instream, ""****"".toCharArray());
      instream.close();

```

```
// Building SSL context for future use
      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(""X509"");
      keyManagerFactory.init(appKeyStore, tableauCertPassword);
      keyManagers = keyManagerFactory.getKeyManagers();



     TrustManagerFactory tmf =
          TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
      tmf.init(trustStore );

      TrustManager[] trustManagers = tmf.getTrustManagers();

      if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {
        throw new IllegalStateException(
            ""Unexpected default trust managers:"" + Arrays.toString(trustManagers));
      }
      return (X509TrustManager) trustManagers[0];
    } catch (Exception e) {
      Timber.e(e, ""SSLSocket creation exception %s"", e.getMessage());
      throw new AssertionError(e);
    }
  }

```

Thanks in advance
",https://github.com/square/okhttp/issues/2786#issuecomment-239208676,"How does it fail? It's working for other developers!
"
square/okhttp,"Could you pls check and help me on this ?

08-09 13:00:44.746: I/dalvikvm(15817): ""OkHttp http://yoapp-dev.herokuapp.com/..."" prio=5 tid=31 RUNNABLE
08-09 13:00:44.746: I/dalvikvm(15817):   | group=""main"" sCount=0 dsCount=0 obj=0x45ce3400 self=0x62c75130
08-09 13:00:44.746: I/dalvikvm(15817):   | sysTid=19629 nice=0 sched=0/0 cgrp=apps handle=1690652936
08-09 13:00:44.746: I/dalvikvm(15817):   | state=R schedstat=( 978869299 6219494 74 ) utm=97 stm=0 core=2
08-09 13:00:44.746: I/dalvikvm(15817):   at okio.Segment.<init>(Segment.java:~61)
08-09 13:00:44.746: I/dalvikvm(15817):   at okio.SegmentPool.take(SegmentPool.java:46)
08-09 13:00:44.751: I/dalvikvm(15817):   at okio.Buffer.writableSegment(Buffer.java:1151)
08-09 13:00:44.751: I/dalvikvm(15817):   at okio.Okio$2.read(Okio.java:138)
08-09 13:00:44.751: I/dalvikvm(15817):   at okio.RealBufferedSource.indexOf(RealBufferedSource.java:325)
08-09 13:00:44.751: I/dalvikvm(15817):   at okio.RealBufferedSource.indexOf(RealBufferedSource.java:314)
08-09 13:00:44.751: I/dalvikvm(15817):   at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:210)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.Cache$Entry.<init>(Cache.java:535)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.Cache.get(Cache.java:203)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.Cache$1.get(Cache.java:143)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:203)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall.getResponse(RealCall.java:243)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:201)
08-09 13:00:44.751: I/dalvikvm(15817):   at com.yo.android.di.NetWorkModule$OfflineResponseInterceptor.intercept(NetWorkModule.java:177)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:190)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:212)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:190)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:163)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall.access$100(RealCall.java:30)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
08-09 13:00:44.751: I/dalvikvm(15817):   at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
08-09 13:00:44.751: I/dalvikvm(15817):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
08-09 13:00:44.751: I/dalvikvm(15817):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
08-09 13:00:44.751: I/dalvikvm(15817):   at java.lang.Thread.run(Thread.java:841)
08-09 13:00:44.756: W/dalvikvm(15817): threadid=31: thread exiting with uncaught exception (group=0x41d5bc08)
08-09 13:00:44.811:
************************The below code I am using for offline caching
` public class OfflineResponseInterceptor implements Interceptor {
        final ConnectivityHelper mConnectivityHelper;

```
    public OfflineResponseInterceptor(ConnectivityHelper connectivityHelper) {
        mConnectivityHelper = connectivityHelper;
    }

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request request = chain.request();

        if (!mConnectivityHelper.isConnected()) {
            // tolerate 4-weeks stale
            int maxStale = 60 * 60 * 24 * 28;
            request = request.newBuilder()
                    .header(""Cache-Control"", ""public, only-if-cached, max-stale="" + maxStale)
                    .build();
        }

        return chain.proceed(request);
    }
}
```

`
",https://github.com/square/okhttp/issues/2781#issuecomment-238525592,"Is this the full log? I would have expected something about an exception.
"
square/okhttp,"At the moment, `Challenge` only contains the auth scheme name and realm. To provide authentication other than `Basic`, this is not enough. For instance, for `Digest` auth, there are various parameters which have to be parsed and processed.

I suggest to improve the `Challenge` class so that it contains not only auth scheme name and realm, but also a list of auth parameters, so that implementors don't have to parse `WWW-Authenticate` again and can use okhttp's `Challenge` instead, which would reduce redundancy. Logically, it sounds reasonable for me that a HTTP framework prepares authentication challenges in a way that they're already usable by authenticators.

For a suggested layout of `Challenge`, please have a look at this [HttpUtils.AuthScheme](https://gitlab.com/bitfireAT/dav4android/blob/bf2004e9052241345c435c2d46090ab9baf43eb8/src/main/java/at/bitfire/dav4android/HttpUtils.java#L118). It contains the auth scheme name, parsed unnamed parameters and parsed named parameters.

For a suggested parsing algorithm of `WWW-Authenticate` that generates such parameterized challenge instances, please see [HttpUtils.parseWwwAuthenticate](https://gitlab.com/bitfireAT/dav4android/blob/bf2004e9052241345c435c2d46090ab9baf43eb8/src/main/java/at/bitfire/dav4android/HttpUtils.java#L32) and its [tests](https://gitlab.com/bitfireAT/dav4android/blob/bf2004e9052241345c435c2d46090ab9baf43eb8/src/androidTest/java/at/bitfire/dav4android/HttpUtilsTest.java#L17). It handles challenges without parameters, with RFC-compliant parameters (`param=value`), and with unnamed parameters (like used in `Negotiate`).
",https://github.com/square/okhttp/issues/2772#issuecomment-238087497,"Is this for digest authentication? Consider using this project:
https://github.com/rburgst/okhttp-digest

At the moment we have no specific plans to offer digest authentication in OkHttp itself.
"
square/okhttp,"here is how it go endless loop:
in file RetryAndFollowUpInterceptor.java 

```
public Response intercept(Chain chain) throws IOException {

Request request = chain.request();
streamAllocation = new StreamAllocation(
    client.connectionPool(), createAddress(request.url()));
int followUpCount = 0;
Response priorResponse = null;
while (true) {
  if (canceled) {
    streamAllocation.release();
    throw new IOException(""Canceled"");
  }

  Response response = null;
  boolean releaseConnection = true;
  try {
    response = ((RealInterceptorChain) chain).proceed(request, streamAllocation, null, null);
    releaseConnection = false;
  } catch (RouteException e) {
    // The attempt to connect via a route failed. The request will not have been sent.
    if (!recover(e.getLastConnectException(), true, request)) throw e.getLastConnectException();
    releaseConnection = false;
    continue;
  } catch (IOException e) {
    // An attempt to communicate with a server failed. The request may have been sent.
    if (!recover(e, false, request)) throw e;
    releaseConnection = false;
    continue;
  } finally {
    // We're throwing an unchecked exception. Release any resources.
    if (releaseConnection) {
      streamAllocation.streamFailed(null);
      streamAllocation.release();
    }
  }
```

when there is a  IOException(""shutdown"") when execute 
`response = ((RealInterceptorChain) chain).proceed(request, streamAllocation, null, null);`
it will go into catch block,and judge if can recover,`recover(e, false, request)` unfortunately recover() return true,so it will continue and go endless loop
",https://github.com/square/okhttp/issues/2756#issuecomment-235957308,"Can you provide a test case to demonstrate?
"
square/okhttp,"Multiple Cookies are not sending to the subsequent request where the previous response has multiple ""Set-Cookie"".
At the moment the current implementation of JavaNetCookieJar sends only the first cookie to the request and ignores other cookies 

Any robust solution is appreciated 

http://stackoverflow.com/questions/38582530/multiple-cookies-headers-okhttp-javanetcookiejar/38586512#38586512
",https://github.com/square/okhttp/issues/2752#issuecomment-235238423,"Could you provide an executable test case please?
"
square/okhttp,"On Android 4.2 okhttp 3.4.1, as soon as I hit a button to start with the post request to the server, I get this error:

```
java.lang.IllegalStateException: Could not execute method for android:onClick

```

and it leads to this line:

```
okhttp3.HttpUrl.canonicalize
```

The logcat shows the following dump:

```
07-25 15:21:07.257 17202-17202/mobi.gaurav.telx E/AndroidRuntime: FATAL EXCEPTION: main
                                                                  java.lang.IllegalStateException: Could not execute method for android:onClick
                                                                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)
                                                                      at android.view.View.performClick(View.java:4212)
                                                                      at android.view.View$PerformClick.run(View.java:17476)
                                                                      at android.os.Handler.handleCallback(Handler.java:800)
                                                                      at android.os.Handler.dispatchMessage(Handler.java:100)
                                                                      at android.os.Looper.loop(Looper.java:194)
                                                                      at android.app.ActivityThread.main(ActivityThread.java:5371)
                                                                      at java.lang.reflect.Method.invokeNative(Native Method)
                                                                      at java.lang.reflect.Method.invoke(Method.java:525)
                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)
                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
                                                                      at dalvik.system.NativeStart.main(Native Method)
                                                                   Caused by: java.lang.reflect.InvocationTargetException
                                                                      at java.lang.reflect.Method.invokeNative(Native Method)
                                                                      at java.lang.reflect.Method.invoke(Method.java:525)
                                                                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)
                                                                      at android.view.View.performClick(View.java:4212)¬†
                                                                      at android.view.View$PerformClick.run(View.java:17476)¬†
                                                                      at android.os.Handler.handleCallback(Handler.java:800)¬†
                                                                      at android.os.Handler.dispatchMessage(Handler.java:100)¬†
                                                                      at android.os.Looper.loop(Looper.java:194)¬†
                                                                      at android.app.ActivityThread.main(ActivityThread.java:5371)¬†
                                                                      at java.lang.reflect.Method.invokeNative(Native Method)¬†
                                                                      at java.lang.reflect.Method.invoke(Method.java:525)¬†
                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)¬†
                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)¬†
                                                                      at dalvik.system.NativeStart.main(Native Method)¬†
                                                                   Caused by: java.lang.NullPointerException
                                                                      at okhttp3.HttpUrl.canonicalize(HttpUrl.java:1612)
                                                                      at okhttp3.FormBody$Builder.add(FormBody.java:110)
                                                                      at mobi.gaurav.telx.HTTP.post(HTTP.java:82)
                                                                      at mobi.gaurav.telx.MainActivity.startConnecting(MainActivity.java:358)
                                                                      at java.lang.reflect.Method.invokeNative(Native Method)¬†
                                                                      at java.lang.reflect.Method.invoke(Method.java:525)¬†
                                                                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)¬†
                                                                      at android.view.View.performClick(View.java:4212)¬†
                                                                      at android.view.View$PerformClick.run(View.java:17476)¬†
                                                                      at android.os.Handler.handleCallback(Handler.java:800)¬†
                                                                      at android.os.Handler.dispatchMessage(Handler.java:100)¬†
                                                                      at android.os.Looper.loop(Looper.java:194)¬†
                                                                      at android.app.ActivityThread.main(ActivityThread.java:5371)¬†
                                                                      at java.lang.reflect.Method.invokeNative(Native Method)¬†
                                                                      at java.lang.reflect.Method.invoke(Method.java:525)¬†
                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)¬†
                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)¬†
                                                                      at dalvik.system.NativeStart.main(Native Method)¬†
```

The strange thing is it works perfectly with Android 4.4+ but fails on Android 4.2. 

I am using the example from the website itself. Nothing fancy.
",https://github.com/square/okhttp/issues/2749#issuecomment-234957936,"Are you passing null to something that isn‚Äôt expecting it? Perhaps on line 82 of `HTTP.java` ?
"
square/okhttp,"okhttp 3.1.2 throws unknownhost exception when using socks proxy with azure sdk (beta1)
Other jars used : retrofit-2.0.0-beta4.jar

Note : 
The machine on which the code gets executed does not have internet. But hosts file has IP Address mapping
This issue is not seen for HTTP proxy

Code snippet:

OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder();
            clientBuilder.connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS);
            clientBuilder.writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS);
            clientBuilder.readTimeout(READ_TIMEOUT, TimeUnit.SECONDS);
            logger.debug(methodName, ""ProxyType :"" + proxy.getproxyType());
            clientBuilder.proxy(new Proxy(proxy.getproxyType(), InetSocketAddress.createUnresolved(proxy.getproxyHost(),
                    proxy.getproxyPort())));

```
        // Set Proxy Credentials
        Authenticator proxyAuthenticator = new Authenticator() {
            @Override
            public okhttp3.Request authenticate(okhttp3.Route route, okhttp3.Response response) throws IOException {
                String credential = Credentials.basic(proxy.getuserName(), proxy.getpassword());
                return response.request().newBuilder().header(""Proxy-Authorization"", credential).build();
            }
        };
        clientBuilder.proxyAuthenticator(proxyAuthenticator);

        Retrofit.Builder retroBuilder = new Retrofit.Builder();
        retroBuilder.client(clientBuilder.build());

        tmpArmClient = new ResourceManagementClientImpl(account.getbaseURL(), appTokenCreds, clientBuilder, retroBuilder);
```

exception
java.net.UnknownHostException: management.azure.com:443
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:466)
    at java.net.Socket.connect(Socket.java:589)
    at okhttp3.internal.Platform.connectSocket(Platform.java:126)
    at okhttp3.internal.io.RealConnection.connectSocket(RealConnection.java:140)
    at okhttp3.internal.io.RealConnection.connect(RealConnection.java:111)
    at okhttp3.internal.http.StreamAllocation.findConnection(StreamAllocation.java:188)
    at okhttp3.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:127)
    at okhttp3.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)
    at okhttp3.internal.http.HttpEngine.connect(HttpEngine.java:289)
    at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:241)
    at okhttp3.RealCall.getResponse(RealCall.java:240)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
    at com.microsoft.rest.UserAgentInterceptor.intercept(UserAgentInterceptor.java:58)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at com.microsoft.rest.retry.RetryHandler.intercept(RetryHandler.java:69)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at com.microsoft.rest.credentials.TokenCredentialsInterceptor.sendRequestWithAuthorization(TokenCredentialsInterceptor.java:49)
    at com.microsoft.rest.credentials.TokenCredentialsInterceptor.intercept(TokenCredentialsInterceptor.java:37)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at com.microsoft.azure.CustomHeaderInterceptor.intercept(CustomHeaderInterceptor.java:133)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
    at okhttp3.RealCall.execute(RealCall.java:57)
    at retrofit2.OkHttpCall.execute(OkHttpCall.java:177)
    at com.microsoft.azure.management.resources.ProvidersOperationsImpl.list(ProvidersOperationsImpl.java:240)
",https://github.com/square/okhttp/issues/2748#issuecomment-234969941,"Is it somehow thinking `management.azure.com:443` is the hostname, instead of `management.azure.com` ?
"
square/okhttp,"Device is Nexus 6P

```
Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method 'c.f okhttp3.ResponseBody.source()' on a null object reference
       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:103)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)
       at okhttp3.RealCall.access$100(RealCall.java:33)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:120)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
       at java.lang.Thread.run(Thread.java:761)
```
",https://github.com/square/okhttp/issues/2745#issuecomment-234809491,"Do you have any interceptors installed? It‚Äôs possible that one of those interceptors is returning a response with a null body.
"
square/okhttp,"Feature Request:
After I  cached a http request with _timestamp_ parameter, such as http://api.example.com/path?user=xxx&timestamp=xxx, the next time I send a request within 2 hours, for the reason of timestamp changed, okhttp will send a second requst to server. But I don't want to send a new request, and I just want okhttp read data from cache directly

Solution:
1. Remove _final_ modifier of class  _okhttp3.Cache_ 
2. Make the method _okhttp3.Cache#urlToKey_  public and none static. 

Can you make this feature?

Poor English, Sorry~
",https://github.com/square/okhttp/issues/2740#issuecomment-234531168,"What problem are you attempting to solve? Can you use Cache-Control instead of the query parameter?
"
square/okhttp,"java.net.SocketException: sendto failed: ECONNRESET (Connection reset by peer)
cause = {ErrnoException@22155} ""android.system.ErrnoException: sendto failed: ECONNRESET (Connection reset by peer)""
detailMessage = ""sendto failed: ECONNRESET (Connection reset by peer)""
stackState = {Object[36]@22157} 
stackTrace = {StackTraceElement[0]@22158} 
suppressedExceptions = {Collections$EmptyList@22159}  size = 0
shadow$_klass_ = {Class@20115} ""class java.net.SocketException""
shadow$_monitor_ = -1092557150

ÂΩìÊàë‰∏ä‰º†5Âº†ÊàñËÄÖ5Âº†‰ª•‰∏äÁöÑÂõæÁâáÊó∂ÔºåÂ∞±‰ºöÊä•Ëøô‰∏™ÈîôËØØ„ÄÇ
MultipartBody.Builder builder = new MultipartBody.Builder();
        builder.setType(MultipartBody.FORM)
                .addFormDataPart(""uid"", MySharedPreferences.getUserInfo(TweetActivity.this).getUid())
                .addFormDataPart(""coustumeclass"", selectCategory.getCname())
                .addFormDataPart(""clothestype"", selectCategory.getClothestype())
                .addFormDataPart(""longitude"", myLocation.getLongitude() + """")
                .addFormDataPart(""latitude"", myLocation.getLatitude() + """")
                .addFormDataPart(""status"", status);

```
    if (selectBrand != null && selectBrand.getBid() != null)
        builder.addFormDataPart(""bid"", selectBrand.getBid());

    if (selectStore != null && selectStore.getSaid() != null) {
        builder.addFormDataPart(""signstores"", selectStore.getStid());
        builder.addFormDataPart(""said"", selectStore.getSaid());
        builder.addFormDataPart(""storesname"", selectStore.getStname());
        builder.addFormDataPart(""stlongitude"", selectStore.getStlongitude());
        builder.addFormDataPart(""stlatitude"", selectStore.getStlatitude());
    }

    if (selectSize != null)
        builder.addFormDataPart(""size"", selectSize);

    if (!modeTexts.isEmpty()) {
        String s = """";
        for (int i = 0; i < modeTexts.size(); i++) {
            s += modeTexts.get(i) + Constant.TWEET_TEXT_DOT;
        }
        builder.addFormDataPart(""introduce"", s.substring(0, s.length() - Constant.TWEET_TEXT_DOT.length()));
    }

    if (selectBrand.getSaid() == null && url != null) {
        builder.addFormDataPart(""link"", url);
    }

    for (int i = 0; i < pathList.size(); i++) {
       /* String s;
        if (i == 0) {
            s = ""headImage"";
        } else {
            s = ""headImage"" + i;
        }*/
        builder.addFormDataPart(""headImage"", System.currentTimeMillis() + "".png"",
                RequestBody.create(Constant.MEDIA_TYPE_PNG, new File(pathList.get(i))));
    }
    RequestBody requestBody = builder.build();
    okhttp3.Request request = new okhttp3.Request.Builder()
            .url(ApiManager.getRequestUrl(ApiManager.PUT_TWEET))
            .post(requestBody)
            .build();

    getClient().newCall(request).enqueue(new Callback() {
        @Override
        public void onFailure(Call call, IOException e) {
            LogUtils.d(e.toString());
            sendOnFailure();
        }

        @Override
        public void onResponse(Call call, Response response) throws IOException {
            if (response.isSuccessful()) {
                Gson gson = new Gson();
                String result = response.body().string();
                PutTweetRoot putTweetRoot = gson.fromJson(result, PutTweetRoot.class);
                if (putTweetRoot.getStatus() == ClientCode.SUCCEED) {
                    sendOnResponse();
                } else {
                    sendOnError(putTweetRoot.getStatus());
                }
            } else {
                sendOnFailure();
            }
        }
    });
```
",https://github.com/square/okhttp/issues/2730#issuecomment-234826119,"Could you please provide an executable test case to demonstrate the problem?
"
square/okhttp,"I have updated from OkHttp 3.3.1 to 3.3.4-RC1 and then have faced strange issue:
When I change request header value became merged with value from previous request (we have saw it on server side). It looks like this SESSION: <oldValue>, <newValue> instead of SESSION: <newValue>

This is exactly what we saw on server side - header has 2 different sessions in it 0ed91*\* and dc35275*:
`'api-session': '0ed91033efc8950f18c85afa4e6537a3; 7RCbXBqq#zK=Tmfk03hsR7vaRra7jka8S8bMZh0fd1VJkq7?Ydtp=Y&uNNguGvoI; active; 1467802743964; 900000, dc352754a1606f641acac300a9d81adb; 7kch9FjctfxHSQb29NGytrQe7XICtn9WyPtmT2yKJ@s4ou0#Gikg&bvYfY@XxHN6; not-active; 1467802755394; 900000',`

This happens only if Http2 enabled and client use OkHttp3 ver 3.3.4-RC1.

Server: Nginx 1.11.1 (Http2 Enabled)
Client: Nexus 5 (Android 6.0.1)
Connection: HTTPS (TLS1.2)

This is my interceptor used to add session header to each request and get new session header from each response.

``` JAVA
Interceptor apiInterceptor = new Interceptor() {
            @Override
            public okhttp3.Response intercept(Chain chain) throws IOException {
                Request original = chain.request();

                Request.Builder builder = original.newBuilder()
                        .method(original.method(), original.body());

                if (model.getSession() != null) {
                    builder.addHeader(SESSION_HEADER, model.getSession().getHeader());
                }

                Request request = builder.build();

                okhttp3.Response response = chain.proceed(request);

                if (response.isSuccessful()) {
                    extractSession(response.headers());
                }

                return response;
            }
        };
```
",https://github.com/square/okhttp/issues/2699#issuecomment-230866475,"Would this be caused my requests executing concurrently?
"
square/okhttp,"https://android-review.googlesource.com/#/c/243503/1/android/main/java/com/squareup/okhttp/internal/Platform.java
",https://github.com/square/okhttp/issues/2672#issuecomment-533867114,@swankjesse do you still want this?
square/okhttp,"If certificate pinner is set for host ""www.HOST.com"" if doesn't apply to the calls that has endpoint ""www.host.com"".

The CertificatePinner.findMatchingPins() should ignore the case because http doesn't care if the name is in uppercase or not.

Tested with OkHttp 2.7.5.
",https://github.com/square/okhttp/issues/2609#issuecomment-224236115,"Why not pass lowercased hostname to the CertificatePinner?

On Tue, 7 Jun 2016, 12:54 jkauppin, notifications@github.com wrote:

> If certificate pinner is set for host ""www.HOST.com"" if doesn't apply to
> the calls that has endpoint ""www.host.com"".
> 
> The CertificatePinner.findMatchingPins() should ignore the case because
> http doesn't care if the name is in uppercase or not.
> 
> Tested with OkHttp 2.7.5.
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/square/okhttp/issues/2609, or mute the thread
> https://github.com/notifications/unsubscribe/AA7B3IzOgks5lleB9tk7MCZNIQYknE4mks5qJT_WgaJpZM4Ivv_6
> .
"
square/okhttp,"I am using the following code to add a custom header:

```
    OkHttpClient.Builder builder = getBuilder()
            .addInterceptor(new Interceptor() {
                @Override
                public Response intercept(Chain chain) throws IOException {
                    Request request = chain.request()
                            .newBuilder()
                            .addHeader(""Session-Token"", accessToken)
                            .build();
                    return chain.proceed(request);
                }
            });
```

But sometimes I get an error:

```
Fatal Exception: java.lang.IllegalStateException: cache is closed
   at okhttp3.internal.DiskLruCache.checkNotClosed(DiskLruCache.java:635)
   at okhttp3.internal.DiskLruCache.edit(DiskLruCache.java:453)
   at okhttp3.internal.DiskLruCache.edit(DiskLruCache.java:447)
   at okhttp3.Cache.put(Cache.java:244)
   at okhttp3.Cache.access$000(Cache.java:135)
   at okhttp3.Cache$1.put(Cache.java:147)
   at okhttp3.internal.http.HttpEngine.maybeCache(HttpEngine.java:389)
   at okhttp3.internal.http.HttpEngine.readResponse(HttpEngine.java:633)
   at okhttp3.RealCall.getResponse(RealCall.java:241)
   at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
   at co.voggle.core.ApiProvider$3.intercept(ApiProvider.java:149)
   at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
   at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
   at okhttp3.RealCall.access$100(RealCall.java:30)
   at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
   at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
   at java.lang.Thread.run(Thread.java:818)
```

The error makes sense but I don't understand how to work around it, as I do not have the required objects in the `intercept(Chain chain)` method to check if the cache is closed or not.

It would be okay to drop the call if the cache is closed.

_I am using OkHttp via Retorofit for my android application_
",https://github.com/square/okhttp/issues/2605#issuecomment-223979632,"Don't close the response cache?
"
square/okhttp,"Bug report:
java.lang.ExceptionInInitializerError
    at okhttp3.OkHttpClient.<clinit>(OkHttpClient.java:64)
Caused by: java.lang.NullPointerException
    at okhttp3.ConnectionSpec$Builder.cipherSuites(ConnectionSpec.java:278)
    at okhttp3.ConnectionSpec.<clinit>(ConnectionSpec.java:66)
java.lang.NullPointerException
    at okhttp3.ConnectionSpec$Builder.cipherSuites(ConnectionSpec.java:278)
    at okhttp3.ConnectionSpec.<clinit>(ConnectionSpec.java:66)
    at okhttp3.OkHttpClient.<clinit>(OkHttpClient.java:64)
",https://github.com/square/okhttp/issues/2580#issuecomment-223466004,"Looks like a device or VM initialization problem. Can you tell me more about the impacted devices?
"
square/okhttp,"`private static String parseDomain(String s) {
    if (s.endsWith(""."")) {
      throw new IllegalArgumentException();
    }
    if (s.startsWith(""."")) {
      s = s.substring(1);
    }
    String canonicalDomain = domainToAscii(s);
    if (canonicalDomain == null) {
      throw new IllegalArgumentException();
    }
    return canonicalDomain;
  }`

Cookie seems to strip off the leading . from the domain; this in turn causes Android's CookiePolicy#ACCEPT_ORIGINAL_SERVER to drop the cookie when used in conjunction with JavaNetCookieStore and a CookieManager. Currently I am getting around this by using a custom interceptor to manually parse the header and directly persist cookies into CookieManager.

Why don't we preserve the domain as is from the header?
",https://github.com/square/okhttp/issues/2549#issuecomment-231949182,"@swankjesse HttpCookie#domainMatches in CookiePolicy#ACCEPT_ORIGINAL_SERVER has a slightly different set of matching rules compared to Cookie#domainMatch. Is there a reason for this?

I'm trying to understand the rationale to stripping off the leading . from the domain.

Thanks!
"
square/okhttp,"This is continuing from [Stack Overflow](http://stackoverflow.com/questions/36757076/prevent-okhttp-retrofit-from-bypassing-proxy).

When OkHttp tries a proxy in Android, and that route fails once, every request after that request will completely bypass the Android system proxy. So it is difficult to debug using Charles. [Test case](http://pastebin.com/iSCYwXmQ)

@swankjesse replied that it's because that's how HttpUrlConnection behaves. [UrlConnectionProxyTest](https://gist.github.com/swankjesse/240132f0d750a05d0380f32f7f822531)

To repro:
1. Have a proxy for watching network connections, like Charles, setup.
2. Setup a proxy on your connection in the system settings in Android.
3. Use an app that uses OkHttp. Network connections are logged properly.
4. Blacklist a URL in Charles.
5. Use the app to try to access that URL.
6. Charles records the URL attempt, and blocks it.
7. The app successfully accesses the URL even though Charles blocked it.
8. Use the app to try and access that URL again.
9. This 2nd attempt doesn't show up in Charles as even attempted, as OkHttp is now bypassing the proxy for every connection after the one failure.

I'm requesting the option to tell OkHttp to always use a proxy if there is one set.
Something like:
OkHttpClient.allowProxyBypass(boolean)
",https://github.com/square/okhttp/issues/2525#issuecomment-215606005,"Aside from the nicer API, is this different from calling `setProxy()` on the OkHttpClient?
"
square/okhttp,"Wounder if anyone else has seen this strict mode violation, it could be my own code but if it is I can't see how.

```
E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
                                                                      java.lang.Throwable: Explicit termination method 'close' not called
                                                                          at dalvik.system.CloseGuard.open(CloseGuard.java:180)
                                                                          at java.io.FileInputStream.<init>(FileInputStream.java:78)
                                                                          at okio.Okio.source(Okio.java:163)
                                                                          at okhttp3.internal.io.FileSystem$1.source(FileSystem.java:44)
                                                                          at okhttp3.internal.DiskLruCache$Entry.snapshot(DiskLruCache.java:1004)
                                                                          at okhttp3.internal.DiskLruCache.get(DiskLruCache.java:431)
                                                                          at okhttp3.Cache.get(Cache.java:193)
                                                                          at okhttp3.Cache$1.get(Cache.java:143)
                                                                          at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:198)
                                                                          at okhttp3.RealCall.getResponse(RealCall.java:240)
                                                                          at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
                                                                          at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
                                                                          at okhttp3.RealCall.access$100(RealCall.java:30)
                                                                          at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
                                                                          at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
                                                                          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
                                                                          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
                                                                          at java.lang.Thread.run(Thread.java:818)
```
",https://github.com/square/okhttp/issues/2487#issuecomment-210688032,"What version? What's your calling code? The trace isn't that useful by
itself.

On Fri, Apr 15, 2016, 7:41 PM Adam Brown notifications@github.com wrote:

> Wounder if anyone else has seen this strict mode violation, it could be my
> own code but if it is I can't see how.
> 
> E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
>                                                                       java.lang.Throwable: Explicit termination method 'close' not called
>                                                                           at dalvik.system.CloseGuard.open(CloseGuard.java:180)
>                                                                           at java.io.FileInputStream.<init>(FileInputStream.java:78)
>                                                                           at okio.Okio.source(Okio.java:163)
>                                                                           at okhttp3.internal.io.FileSystem$1.source(FileSystem.java:44)
>                                                                           at okhttp3.internal.DiskLruCache$Entry.snapshot(DiskLruCache.java:1004)
>                                                                           at okhttp3.internal.DiskLruCache.get(DiskLruCache.java:431)
>                                                                           at okhttp3.Cache.get(Cache.java:193)
>                                                                           at okhttp3.Cache$1.get(Cache.java:143)
>                                                                           at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:198)
>                                                                           at okhttp3.RealCall.getResponse(RealCall.java:240)
>                                                                           at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
>                                                                           at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
>                                                                           at okhttp3.RealCall.access$100(RealCall.java:30)
>                                                                           at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
>                                                                           at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
>                                                                           at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
>                                                                           at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
>                                                                           at java.lang.Thread.run(Thread.java:818)
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub
> https://github.com/square/okhttp/issues/2487
"
square/okhttp,"Cause Platform.java is fun!
",https://github.com/square/okhttp/issues/2480#issuecomment-211916694,"That sounds fair.  Let's see how a PR goes.  Can we say I'm used to your rejections in PRs by now?

Thanks
"
square/okhttp,"Currently we aren‚Äôt strict on this.

https://github.com/square/okhttp/pull/2473/files/8996934748a48fe04f7dde56069042dfecb64c91#r59138454
",https://github.com/square/okhttp/issues/2474#issuecomment-233125111,"Wouldn't the following in `RealConnection` already ensure that connection preface is being enforced on HTTP/2 connections?

```
if (protocol == Protocol.HTTP_2) {
      socket.setSoTimeout(0); // Framed connection timeouts are set per-stream.

      Http2Connection http2Connection = new Http2Connection.Builder(true)
          .socket(socket, route.address().url().host(), source, sink)
          .listener(this)
          .build();
      http2Connection.start();
```

Or do you have the idea to enforce it on the `Http2Writer` level?
"
square/okhttp," I'm getting a lot of RejectedExecutionException from line okhttp3.internal.ws.RealWebSocket$1.onClose (RealWebSocket.java:82) while using the engine.io/socket.io library. 

I assume that ping response runnable that is writing the pong by locking the thread, is staying in the pool long enough to create a problem when server requests socket close in the meantime? Since only one runnable can be in the pool at the time and so RejectedExecutionException is thrown.

https://github.com/square/okhttp/commit/8a1e6ceec92963423b4cc9f5edded6363fc2c43f#diff-84851fc7b3d535627088311c7ca1951dR70

Library version 3.0.1

Sorry for not writing the test case, I spent the whole day so far trying to find the issue...
",https://github.com/square/okhttp/issues/2455#issuecomment-229272617,"Is there a chance to fix this in 3.4?
"
square/okhttp,"This happen on version 3.2.0 with 300+ crashes in 30 days. Details:
`Fatal Exception: java.lang.IllegalStateException: Unable to take ownership of connection.
       at com.squareup.okhttp.ws.WebSocketCall.createWebSocket(SourceFile:157)
       at com.squareup.okhttp.ws.WebSocketCall.access$000(SourceFile:42)
       at com.squareup.okhttp.ws.WebSocketCall$1.onResponse(SourceFile:102)
       at com.squareup.okhttp.Call$AsyncCall.execute(SourceFile:168)
       at com.squareup.okhttp.internal.NamedRunnable.run(SourceFile:33)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:818)`

![image](https://cloud.githubusercontent.com/assets/5756363/14058933/69742c40-f362-11e5-8fa4-b55aeb71035d.png)

Please help me fix it.
",https://github.com/square/okhttp/issues/2440#issuecomment-202207608,"Could you provide a test case to reproduce the problem? That usually makes fixing easy.
"
square/okhttp,"```
Fatal Exception: java.lang.IllegalStateException: stream != null
       at okhttp3.internal.http.StreamAllocation.findConnection(StreamAllocation.java:155)
       at okhttp3.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:127)
       at okhttp3.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)
       at okhttp3.internal.http.HttpEngine.connect(HttpEngine.java:289)
       at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:241)
       at okhttp3.RealCall.getResponse(RealCall.java:240)
       at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
       at okhttp3.RealCall.access$100(RealCall.java:30)
       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)
```
",https://github.com/square/okhttp/issues/2409#issuecomment-199072263,"I was researching this one, but haven't found anything yet. @hamberluo do you know if you're using Http1 or Http2 when this exception happened?
"
square/okhttp,"I'm starting to see a lot of this exception in my app released with OkHttp 3.01 via Picasso 2.5.2 (using Jake's adapter from 3.01 to 2.5.2)

Fatal Exception: java.lang.RuntimeException: java.io.IOException: failed to delete /storage/emulated/0/Android/data/com.trixiesoft.clapp/cache/images/51d313bf28724ba47541b0ca45ac084f.0
       at okhttp3.internal.DiskLruCache$1.run(DiskLruCache.java:178)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)

Caused by java.io.IOException: failed to delete /storage/emulated/0/Android/data/com.trixiesoft.clapp/cache/images/51d313bf28724ba47541b0ca45ac084f.0
       at okhttp3.internal.io.FileSystem$1.delete(FileSystem.java:70)
       at okhttp3.internal.DiskLruCache.removeEntry(DiskLruCache.java:599)
       at okhttp3.internal.DiskLruCache.trimToSize(DiskLruCache.java:656)
       at okhttp3.internal.DiskLruCache.access$200(DiskLruCache.java:85)
       at okhttp3.internal.DiskLruCache$1.run(DiskLruCache.java:172)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)
",https://github.com/square/okhttp/issues/2318#issuecomment-184205494,"@KennyGoers do you happen to have any other information? Can you reproduce with a simple example or test case?
"
square/okhttp,"SOCKS proxy is **completely** broken on Android. When I set up SOCKS proxy in my app, all requests failed, when I wrote an instrumentation test, I found even create a default okhttp instance with a SOCKS proxy, it fails.

Here's the stack trace:

```
java.net.UnknownHostException: Host is unresolved: www.google.com
at java.net.Socket.connect(Socket.java:867)
at okhttp3.internal.Platform$Android.connectSocket(Platform.java:200)
at okhttp3.internal.io.RealConnection.connectSocket(RealConnection.java:137)
at okhttp3.internal.io.RealConnection.connect(RealConnection.java:108)
at okhttp3.internal.http.StreamAllocation.findConnection(StreamAllocation.java:188)
at okhttp3.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:127)
at okhttp3.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)
at okhttp3.internal.http.HttpEngine.connect(HttpEngine.java:289)
at okhttp3.internal.http.HttpEngine.sendRequest(HttpEngine.java:241)
at okhttp3.RealCall.getResponse(RealCall.java:240)
at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)
at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
at okhttp3.RealCall.execute(RealCall.java:57)
at org.mariotaku.twidere.test.okhttp3.OkHttpClientTest.testSocksFunctionality(OkHttpClientTest.java:27)
at java.lang.reflect.Method.invoke(Native Method)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runners.Suite.runChild(Suite.java:128)
at org.junit.runners.Suite.runChild(Suite.java:27)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
at android.support.test.internal.runner.TestExecutor.execute(TestExecutor.java:54)
at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:240)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1879)
```

Sample code:

``` java
import org.junit.Test;

import java.net.InetSocketAddress;
import java.net.Proxy;

import okhttp3.OkHttpClient;
import okhttp3.Request;

import static org.junit.Assert.assertTrue;

/**
 * Created by mariotaku on 16/2/5.
 */
public class OkHttpClientTest {

    @Test
    public void testSocksFunctionality() throws Exception {
        final Proxy proxy = new Proxy(Proxy.Type.SOCKS, InetSocketAddress.createUnresolved(""127.0.0.1"", 1080));
        final OkHttpClient client = new OkHttpClient.Builder()
                .proxy(proxy)
                .build();
        final Request request = new Request.Builder()
                .url(""https://www.google.com/"")
                .build();
        assertTrue(client.newCall(request).execute().isSuccessful());
    }

}

```
",https://github.com/square/okhttp/issues/2315#issuecomment-186862213,"Could you report this issue upstream to AOSP? I‚Äôm not particularly eager to implement a SOCKS proxy inside of OkHttp. You might need to implement your own SocketFactory that implements SOCKS.
"
square/okhttp,"This may be occurred when receive an message.
Two WebSocket is connected to server and they received same message.

Stacktrace is below.

---

java.lang.IllegalStateException: Listener failed to call close on message payload.
        at okhttp3.internal.ws.WebSocketReader.readMessageFrame(WebSocketReader.java:244)
        at okhttp3.internal.ws.WebSocketReader.processNextFrame(WebSocketReader.java:108)
        at okhttp3.internal.ws.RealWebSocket.readMessage(RealWebSocket.java:97)
        at okhttp3.ws.WebSocketCall.createWebSocket(WebSocketCall.java:152)
        at okhttp3.ws.WebSocketCall.access$000(WebSocketCall.java:41)
        at okhttp3.ws.WebSocketCall$1.onResponse(WebSocketCall.java:97)
        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:133)
        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:33)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
        at java.lang.Thread.run(Thread.java:818)
",https://github.com/square/okhttp/issues/2303#issuecomment-187692295,"Change your code to call close in onMessage() ?
"
square/okhttp,"java.lang.StackOverflowError
    at java.lang.ThreadLocal.get(ThreadLocal.java:53)
    at dalvik.system.BlockGuard.getThreadPolicy(BlockGuard.java:140)
    at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:163)
    at libcore.io.IoBridge.recvfrom(IoBridge.java:513)
    at java.net.PlainSocketImpl.read(PlainSocketImpl.java:488)
    at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)
    at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)
    at okio.Okio$2.read(Okio.java:139)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:211)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:306)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:300)
    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:196)
    at com.squareup.okhttp.internal.http.HttpConnection.readResponse(HttpConnection.java:191)
    at com.squareup.okhttp.internal.http.HttpTransport.readResponseHeaders(HttpTransport.java:79)
    at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:909)
    at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:93)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:894)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.library_http.RequestInterceptor.intercept(RequestInterceptor.java:27)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:867)
    at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:748)
    at com.squareup.okhttp.Call.getResponse(Call.java:277)
    at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:234)
    at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:196)
    at com.squareup.okhttp.Call.access$100(Call.java:34)
    at com.squareup.okhttp.Call$AsyncCall.execute(Call.java:162)
    at com.squareup.okhttp.internal.NamedRunnable.run(NamedRunnable.java:33)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
    at java.lang.Thread.run(Thread.java:856)

the method in the HttpEngine  and the RequestInterceptor  chain.proceed() call each other

i add interceptor below this 

`mOkHttpClient.networkInterceptors().add(new RequestInterceptor(ctx));`

this is the code of interceptor
`public class RequestInterceptor implements Interceptor {
    private Context mCtx;

```
public RequestInterceptor(Context ctx) {
    mCtx = ctx;
}

@Override
public Response intercept(Chain chain) throws IOException {
    Request originalRequest = chain.request();
    if (originalRequest.body() == null) {
        return chain.proceed(originalRequest);
    }
    String url = originalRequest.urlString();
    if (!url.contains(""distinctRequestId="")) {
        String requestId = OkHttpClientManager.getDistinctRequestId();
        if (url.contains(""?"")) {
            url = originalRequest.urlString() + ""&distinctRequestId="" + requestId;
        } else {
            url = originalRequest.urlString() + ""?distinctRequestId="" + requestId;
        }
        url = url + ""&p="" + PreferenceUtils.getRequestId(mCtx) + ""&span="" + PreferenceUtils.getConnectTime(mCtx);
        PreferenceUtils.setRequestId(mCtx, requestId);
        Request compressedRequest = originalRequest.newBuilder()
                .url(url)
                .build();
        return chain.proceed(compressedRequest);
    }
    return chain.proceed(originalRequest);
}
```

}
`
",https://github.com/square/okhttp/issues/2300#issuecomment-177164163,"Can you please isolate this into a test case? Will make it easier to diagnose & fix. Also does the problem happen in OkHttp 3?
"
square/okhttp,"Originally in Retrofit issues, Jake told me to post this here:

From time to time I am experiencing this fatal error when performing a request. It only happens to one request at a time and I cannot get it to go away until I uninstall and reinstall the application. I am using:
com.squareup.retrofit2:retrofit:2.0.0-beta3

and here is the error:

```
E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher 
    Process: package_name, PID: 4804 
    java.lang.IllegalArgumentException: byteString == null 
    at okio.Buffer.write(Buffer.java:787)
    at com.squareup.okhttp.Cache$Entry.readCertificateList(Cache.java:628)
    at com.squareup.okhttp.Cache$Entry.<init>(Cache.java:555)
    at com.squareup.okhttp.Cache.get(Cache.java:194)
    at com.squareup.okhttp.Cache$1.get(Cache.java:139)
    at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:226) 
    at com.squareup.okhttp.Call.getResponse(Call.java:267) 
    at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:224) 
    at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:195) 
    at com.squareup.okhttp.Call.access$100(Call.java:34) 
    at com.squareup.okhttp.Call$AsyncCall.execute(Call.java:162) 
    at com.squareup.okhttp.internal.NamedRunnable.run(NamedRunnable.java:33) 
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
    at java.lang.Thread.run(Thread.java:818)
```

Let me know if you need more information

EDIT: I was able to get the error to stop if I went to system setting and cleared the app cache manually
",https://github.com/square/okhttp/issues/2281#issuecomment-186861981,"Somehow your cache is being corrupted. Are you able to reproduce?
"
square/okhttp,"Before version 2.5 of okhttp-ws, client was passing a **Buffer** and it was sent as specified by the client.

On version 2.6, the implementation migrated to use **RequestBody** and **ResponseBody**. By doing this all payload sent to server are truncated at 2048 (size of the **Segment**). If the payload is bigger than 2048, then the implementation sends the remaining data as a continuation frame.

According to [RFC](https://tools.ietf.org/html/rfc6455#page-27), there is nothing wrong by splitting the payload into multiple frames.

But in my opinion this splitting is unnecessary and it should have an option to define the max desired frame size to avoid splitting.
",https://github.com/square/okhttp/issues/2270#issuecomment-174155793,"Your analysis isn't quite correct. 

Given a 10,000 byte string:

```
  @Test public void blah() throws IOException {
    String foo = """";
    for (int i = 0; i < 1000; i++) {
      foo += ""1234567890"";
    }
    client.sendMessage(RequestBody.create(TEXT, foo));

    System.out.println(client2Server.buffer.readByteString(4).hex());
  }
```

The header of the first frame is `01fe2000` which says that its length is 8192. The largest multiple of complete segments is taken and emitted in this case. Because of how `RequestBody` works, we can never know which write is the last one, so additional bytes are buffered. In this case, `close` is called immediately after which flushes the remaining bytes in another frame.

At most you'll see two frames for the fully-buffered case.

In addition to unifying the buffered and streaming model, this behavior has other benefits such as allowing pings and pongs to interleave without having to wait for potentially slow message sources (like the file system).

As you note, the RFC allows this, and it should be completely transparent to the receiver. Are you experiencing a bug or performance anomaly because of this behavior?
"
square/okhttp,"I'm using okhttp-ws and logging-interceptor is added to okhttp client.

I think NPE is caused because `response.body()` returns alway null.

```
01-20 14:28:45.033 12757-12904/? E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher
  java.lang.NullPointerException
    at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:207)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
    at okhttp3.RealCall.access$100(RealCall.java:30)
    at okhttp3.RealCall$AsyncCall.execute(RealCall.java:127)
    at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:33)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
    at java.lang.Thread.run(Thread.java:841)
```
",https://github.com/square/okhttp/issues/2264#issuecomment-173095613,"I think we define that response.body() should never return null, so this is
more likely a bug in the okhttp-ws module than the logger.

On Wed, Jan 20, 2016 at 12:34 AM Yongwoo Lee notifications@github.com
wrote:

> I'm using okhttp-ws and logging-interceptor is added to okhttp client
> 
> I think NPE is caused because responsebody() returns alway null
> 
> 01-20 14:28:45033 12757-12904/? E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher
>   javalangNullPointerException
>     at okhttp3loggingHttpLoggingInterceptorintercept(HttpLoggingInterceptorjava:207)
>     at okhttp3RealCall$ApplicationInterceptorChainproceed(RealCalljava:187)
>     at okhttp3RealCallgetResponseWithInterceptorChain(RealCalljava:160)
>     at okhttp3RealCallaccess$100(RealCalljava:30)
>     at okhttp3RealCall$AsyncCallexecute(RealCalljava:127)
>     at okhttp3internalNamedRunnablerun(NamedRunnablejava:33)
>     at javautilconcurrentThreadPoolExecutorrunWorker(ThreadPoolExecutorjava:1112)
>     at javautilconcurrentThreadPoolExecutor$Workerrun(ThreadPoolExecutorjava:587)
>     at javalangThreadrun(Threadjava:841)
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/square/okhttp/issues/2264.
"
square/okhttp,"If one is trying to use a slightly stricter ConnectionSpec than `MODERN_TLS` by limiting TLS to only v1.2 then OkHttp doesn't work on Android KitKat. Even though this version of Android does support TLS v1.2 (https://developer.android.com/reference/javax/net/ssl/SSLSocket.html).

Example: 

OkHttpClient will fail to establish connection on KitKat using this spec:

```
 new ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)
      .tlsVersions(TlsVersion.TLS_1_2)
      .build();
```

The underlying problem is that `ConnectionSpec` is checking if `SSLSocket.getEnabledProtocols()` contains TLS v1.2 before actually calling `setEnabledProtocols()` with TLS v1.2. Instead it should check if `SSLSocket` supports TLS v1.2 and then enable this protocol if so. 

It looks like replacing `getEnabledProtocols()` with `getSupportedProtocols()` in `ConnectionSpec.isCompatible()` and `ConnectionSpec.supportedSpec()` can fix it. 
",https://github.com/square/okhttp/issues/2259#issuecomment-172557185,"@nfuller we‚Äôve got another situation where OkHttp & the host OS disagree. Any idea why TLS 1.2 isn‚Äôt enabled on KitKat ?
"
square/okhttp,"okhttp-ws can only support client send ping and server response pong.

I have a requirment which is server send ping and client send pong.

Hope I can use okhttp-ws....
",https://github.com/square/okhttp/issues/2239#issuecomment-172154949,"So the feature request is to notify the application layer when a ping occurs?
"
square/okhttp,"``` java
public class Http2Test {

    @Test
    public void isHttp2Transport() throws IOException {
        HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();
        loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);

        OkHttpClient okHttpClient = new OkHttpClient.Builder()
                .addInterceptor(loggingInterceptor)
                .build();

        Request request = new Request.Builder()
                .url(""http://twitter.com"")
                .build();

        Response response = okHttpClient.newCall(request).execute();

        Protocol protocol = response.protocol();

        assertEquals(Protocol.HTTP_2, protocol);
    }
}
```

junit.framework.AssertionFailedError: 
Expected :h2
Actual   :http/1.1
",https://github.com/square/okhttp/issues/2236#issuecomment-171482541,"Do you have the ALPN jars added to your classpath? Or are you running the
test on Android 5+?

On Wed, Jan 13, 2016, 4:15 PM Alexey Zakharov notifications@github.com
wrote:

> public class Http2Test {
> 
> ```
> @Test
> public void isHttp2Transport() throws IOException {
>     HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();
>     loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);
> 
>     OkHttpClient okHttpClient = new OkHttpClient.Builder()
>             .addInterceptor(loggingInterceptor)
>             .build();
> 
>     Request request = new Request.Builder()
>             .url(""http://twitter.com"")
>             .build();
> 
>     Response response = okHttpClient.newCall(request).execute();
> 
>     Protocol protocol = response.protocol();
> 
>     assertEquals(Protocol.HTTP_2, protocol);
> }
> ```
> 
> }
> 
> ``` java
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> <https://github.com/square/okhttp/issues/2236>.
> 
> ```
"
square/okhttp,"There is a scenario which is occuring. Suppose there are 4 requests A,B,C,D in ascending order of time of request. I have implemented a network interceptor which adds cache header to the request. Now suppose requests A,B have been executed. Now when request C is executed and control comes in the network interceptor, then I can see requests A and B as well along with C. Why is such a thing happening?

Fatal Exception: java.lang.StackOverflowError
       at java.lang.Thread.currentThread(Thread.java:470)
       at java.lang.ThreadLocal.get(ThreadLocal.java:53)
       at dalvik.system.BlockGuard.getThreadPolicy(BlockGuard.java:139)
       at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:163)
       at libcore.io.IoBridge.recvfrom(IoBridge.java:506)
       at java.net.PlainSocketImpl.read(PlainSocketImpl.java:489)
       at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)
       at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:241)
       at okio.Okio$2.read(Okio.java:139)
       at okio.AsyncTimeout$2.read(AsyncTimeout.java:211)
       at okio.RealBufferedSource.indexOf(RealBufferedSource.java:306)
       at okio.RealBufferedSource.indexOf(RealBufferedSource.java:300)
       at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:196)
       at com.squareup.okhttp.internal.http.HttpConnection.readResponse(HttpConnection.java:191)
       at com.squareup.okhttp.internal.http.HttpTransport.readResponseHeaders(HttpTransport.java:80)
       at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:906)
       at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:92)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:891)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at app.viaindia.ViaOkHttpClient$1.intercept(ViaOkHttpClient.java:81)
       at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:868)
       at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:749)
       at com.squareup.okhttp.Call.getResponse(Call.java:268)
       at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:224)
       at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:195)
       at com.squareup.okhttp.Call.access$100(Call.java:34)
       at com.squareup.okhttp.Call$AsyncCall.execute(Call.java:162)
       at com.squareup.okhttp.internal.NamedRunnable.run(NamedRunnable.java:33)
       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
       at java.lang.Thread.run(Thread.java:841)
",https://github.com/square/okhttp/issues/2233#issuecomment-171325672,"Strange. Could you try to isolate this into a test case?
"
square/okhttp,"I am using okhttp to connect to google OAuth server (https://accounts.google.com/o/oauth2/token). I am occasionally getting ""stream was reset"" error. I was using org.apache library earlier and never faced this issue before. First I am getting ""stream was reset: CANCEL"" and on retry ""stream was reset: PROTOCOL_ERROR"". On retrying after some time the connection works fine.

java.io.IOException: stream was reset: CANCEL
    at com.squareup.okhttp.internal.framed.FramedStream.getResponseHeaders(FramedStream.java:146)
    at com.squareup.okhttp.internal.http.FramedTransport.readResponseHeaders(FramedTransport.java:141)
    at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:909)
    at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:93)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:894)
    at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:748)
    at com.squareup.okhttp.Call.getResponse(Call.java:277)
    at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:234)
    at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:196)
    at com.squareup.okhttp.Call.execute(Call.java:79)

and later-on on retry

java.io.IOException: stream was reset: PROTOCOL_ERROR
    at com.squareup.okhttp.internal.framed.FramedStream.getResponseHeaders(FramedStream.java:146)
    at com.squareup.okhttp.internal.http.FramedTransport.readResponseHeaders(FramedTransport.java:141)
    at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:909)
    at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:93)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:894)
    at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:748)
    at com.squareup.okhttp.Call.getResponse(Call.java:277)
    at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:234)
    at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:196)
    at com.squareup.okhttp.Call.execute(Call.java:79)
",https://github.com/square/okhttp/issues/2204#issuecomment-169874448,"@sreekumarr84 could you elaborate more on how you are using google Oauth server? I put together a simple project here, https://github.com/dave-r12/google-oauth2-example. Could you take a look and see if I'm roughly on the right path? It doesn't seem to be using Http2/SPDY for me, which I'm still investigating. I'm personally in uncharted waters, so apologies if I'm missing something obvious
"
square/okhttp,"After debugged several times I found:
https://github.com/square/okhttp/blob/7f4ce6fdd75d142819d612196dd45aff0795d682/okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java#L87

```
/**
 * Convert a request header to OkHttp's cookies via {@link HttpCookie}. That extra step handles
 * multiple cookies in a single request header, which {@link Cookie#parse} doesn't support.
 */
private List<Cookie> decodeHeaderAsJavaNetCookies(HttpUrl url, String header) {
   List<HttpCookie> javaNetCookies;
  try {
    javaNetCookies = HttpCookie.parse(header);
...
```

misuses [`HttpCookie.parse(String)`](http://developer.android.com/reference/java/net/HttpCookie.html#parse%28java.lang.String%29).

```
public static List<HttpCookie> parse (String header)

Constructs a cookie from a string. The string should comply with set-cookie
or set-cookie2 header format as specified in RFC 2965. Since set-cookies2
syntax allows more than one cookie definitions in one header, the returned
object is a list.
```

Current the header string was composed of several cookies which can't be parse with `HttpCookie.parse(String)`.
`decodeHeaderAsJavaNetCookies(HttpUrl, String)`'s doc comment details the same thing.

Edit: details more about this issue.
",https://github.com/square/okhttp/issues/2202#issuecomment-169527950,"I‚Äôve added a test that tries to reproduce the problem, but doesn‚Äôt. Could you send a test that does?
https://github.com/square/okhttp/pull/2207/files
"
square/okhttp,"Have been running into this a lot lately with Retrofit 1.9.0 and OkHttp 2.5.0.
While doing a PUT/POST request with a large request body, a ""SocketException: socket is closed"" is thrown from the native socket implementation. This seems to happen after a time determined by the configured OkHttp read timeout setting.

I would have expected the read timeout setting to mean the maximum time that is allowed to pass between the client having sent the entire request and the server sending the first response byte, or between response bytes sent by the server.
Instead it appears that the read timeout starts immediately and can be triggered while the client is still actively sending the request, at which point the server should not really have been expected to send a single byte yet.

Setting a huge read timeout (globally or for each request) is an ugly hack that does avoid the problem, but obviously that results in unexpectedly long timeouts in cases where the request was small and the server actually takes a long time to respond.
",https://github.com/square/okhttp/issues/2122#issuecomment-165302172,"I think it actually behaves the way you want it to. Is it possible something else is interfering? Nothing is better than a cold hard test case.
"
square/okhttp,"OkHttp v2.6 + Android 4/5/6 + Http 2/TLS + Port 443

We are observing zombie like states on all android versions, but more repeatable with Samsung devices for:

``` java
 Platform.get().connectSocket(socket, route.getSocketAddress(), connectTimeout);
```

Where the connectTimeout is absolutely ignored and the execution is just stuck there for eternity. This maybe due to China's GFW as we are doing testing behind this.

We know that GFW plays havoc with tls/ssl connections and randomly drops or leave tcp/tls/ssl conns in zombie states so this may play a part. 

But regardless, android/java side is not also respecting the timeouts as well to detect this broken/zombie dials.

We are currently bypassing this issue with a thread for timer, a thread for actual dialing, and lock for blocking the main execution path until first thread exists. 
",https://github.com/square/okhttp/issues/2079#issuecomment-168345727,"Any advice on action we should take on this?
"
square/okhttp,"So say I'm looking for a random reddit post via something like:
https://www.reddit.com/r/EarthPorn/random/.json

And I get a 302 redirect to something like:
 https://www.reddit.com/r/EarthPorn/comments/3viwq1/mj√∂lkeviken_sweden_3246x2448_oc/.json which gets stored in the ""Location"" header.

Notice the umlaut. It causes the IllegalArgumentException.

So I see that this was announced as part of the 2.5 release: ""OkHttp now rejects request headers that contain invalid characters"". And I think that is good as default behavior but it would be nice to be able to sanitize the headers before the request chain is errored out completely.

I can't use a network interceptor to solve this problem:

``` kotlin
    client.networkInterceptors().add(object : Interceptor {
            override fun intercept(chain: Interceptor.Chain?): Response? {
                var req = chain?.request()
               //The request headers are all valid
                return chain?.proceed(req)?.let { //BOOM!!! The crash happens in proceed
                    //This is where we would fix the headers if we could
                    it
                }
            }
        })
```

My stack trace looks like:

```
 fail
 java.lang.IllegalArgumentException: Unexpected char 0xf6 at 53 in header value: https://www.reddit.com/r/EarthPorn/comments/3viwq1/mj√∂lkeviken_sweden_3246x2448_oc/.json
    at com.squareup.okhttp.Headers$Builder.checkNameAndValue(Headers.java:295)
    at com.squareup.okhttp.Headers$Builder.add(Headers.java:245)
    at com.squareup.okhttp.internal.http.FramedTransport.readSpdy3HeadersList(FramedTransport.java:229)
    at com.squareup.okhttp.internal.http.FramedTransport.readResponseHeaders(FramedTransport.java:142)
    at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:909)
    at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:93)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:894)
    at com.hotpodata.baconforkotlin.RedditSessionService$genService$1.intercept(RedditSessionService.kt:73)
```
",https://github.com/square/okhttp/issues/2068#issuecomment-224264826,"I'm running in the same problem. Is there any progress so far?
"
square/okhttp,"I believe the cause of this is when no network is available (insta-`UnknownHostException`) and an expired cached response exists.

```
             StrictMode  E  A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
                         E  java.lang.Throwable: Explicit termination method 'close' not called
                         E      at dalvik.system.CloseGuard.open(CloseGuard.java:184)
                         E      at java.io.FileInputStream.<init>(FileInputStream.java:78)
                         E      at okio.Okio.source(Okio.java:163)
                         E      at com.squareup.okhttp.internal.io.FileSystem$1.source(FileSystem.java:44)
                         E      at com.squareup.okhttp.internal.DiskLruCache$Entry.snapshot(DiskLruCache.java:1001)
                         E      at com.squareup.okhttp.internal.DiskLruCache.get(DiskLruCache.java:429)
                         E      at com.squareup.okhttp.Cache.get(Cache.java:184)
                         E      at com.squareup.okhttp.Cache$1.get(Cache.java:139)
                         E      at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:227)
                         E      at com.squareup.okhttp.Call.getResponse(Call.java:276)
                         E      at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:234)
                         E      at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:196)
                         E      at com.squareup.okhttp.Call.execute(Call.java:79)
```
",https://github.com/square/okhttp/issues/2054#issuecomment-168332444,"Is anyone currently looking into this? If not, do you think an outside contribution is feasible? I'm willing to give it a shot, but will likely need guidance along the way
"
square/okhttp,"This regression was introduced with the new allocations model. It needs to be fixed before shipping the 2.7 final.
",https://github.com/square/okhttp/issues/2053#issuecomment-163828884,"@swankjesse do you know at what version the regression was introduced? 2.6?
"
square/okhttp,"I use your library in my application and with okhttp:2.5.0 everything works fine. But after upgrade to 2.6.0 I get the following errors:

```
11-28 16:49:09.714 2237-2237/com.mateusz.myapp W/System.err: retrofit.RetrofitError: Handshake failed
11-28 16:49:09.714 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:395)
11-28 16:49:09.714 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.RestAdapter$RestHandler.access$100(RestAdapter.java:220)
11-28 16:49:09.714 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.RestAdapter$RestHandler$2.obtainResponse(RestAdapter.java:278)
11-28 16:49:09.714 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.CallbackRunnable.run(CallbackRunnable.java:42)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.Platform$Android$2$1.run(Platform.java:142)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at java.lang.Thread.run(Thread.java:818)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err: Caused by: javax.net.ssl.SSLHandshakeException: Handshake failed
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:390)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Connection.connectTls(Connection.java:239)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Connection.connectSocket(Connection.java:201)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Connection.connect(Connection.java:172)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Connection.connectAndSetOwner(Connection.java:358)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:117)
11-28 16:49:09.715 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:329)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:246)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Call.getResponse(Call.java:276)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:234)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:196)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at com.squareup.okhttp.Call.execute(Call.java:79)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.client.OkClient.execute(OkClient.java:53)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:     at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:326)
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:    ... 7 more
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:    Suppressed: javax.net.ssl.SSLHandshakeException: Handshake failed
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:        ... 21 more
11-28 16:49:09.716 2237-2237/com.mateusz.myapp W/System.err:    Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb86f66d8: Failure in SSL library, usually a protocol error
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err: error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:770 0xac52af89:0x00000000)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:318)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:        ... 20 more
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err: Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb86f66d8: Failure in SSL library, usually a protocol error
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err: error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:770 0xac52af89:0x00000000)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:318)
11-28 16:49:09.717 2237-2237/com.mateusz.myapp W/System.err:    ... 20 more
```

Basic info:
    `Androis Studio 1.5`
    `Grandle 1.5.0`
    `compileSdkVersion 23`
    `buildToolsVersion 23.0.2`

What's wrong? If you need more information about the issue let me know.
",https://github.com/square/okhttp/issues/2047#issuecomment-160385662,"Is it possible the server has only obsolete cipher suites? We dropped the DSS suites in 2.6.0.
"
square/okhttp,"These are leaked implementation details. They‚Äôre useful for the response cache but they shouldn't exist elsewhere in the API.
",https://github.com/square/okhttp/issues/2035#issuecomment-165685688,"Why do you want to remove those headers? I think their useful for tracking the speed of the connections in an Interceptor. 
I use them for this at least.
"
square/okhttp,"The default logger for Android will only log up to 4k of a response body in a single call to `Log.d()` (the default used on Android when `HttpLoggingInterceptor` calls `Platform.get().log(message)`.

This isn't something that is inherently wrong with the class, and can be fixed by providing your own logger, but what is the policy for Android specific code in OkHttp? Could `HttpLoggingInterceptor` provide another `Logger` that chunks the message with respect to the logcat limit of 4k?
",https://github.com/square/okhttp/issues/2018#issuecomment-158581129,"Presumably if the data you want isn't in the first 4K, it isn't going to be in the next 10 MiB that follow?
"
square/okhttp,"I get crash reports like that:

```
java.lang.IllegalArgumentException: Unexpected char 0x43a at 101 in header value: Mozilla/5.0 (Linux; U; Android 4.1.2; ru-ru; PMP7170B3G_DUO Build/JZO54K) AppleWebKit/534.30 (KHTML, –∫–∞–∫ Gecko) Version/4.0 –ú–æ–±–∏–ª—å–Ω—ã–πSafari/534.30
    at com.squareup.okhttp.Headers$Builder.checkNameAndValue (Headers.java:295)
    at com.squareup.okhttp.Headers$Builder.set (Headers.java:275)
    at com.squareup.okhttp.internal.huc.HttpURLConnectionImpl.setRequestProperty (HttpURLConnectionImpl.java:526)
    <some 3rd library code I don't have access to>
```

Seems to happen due to non-ASCII chars in header value.
Similar to #1998. But #1998 is about response header and my smacktrace is about request header.

Thank you!
",https://github.com/square/okhttp/issues/2016#issuecomment-160848112,"Any chance you can get the 3rd party library to fix? It's difficult to fix this in OkHttp because the request header contains invalid data.
"
square/okhttp,"The fix for https://github.com/square/okhttp/issues/891 is causing IllegalArgumentException to be thrown for non ASCII _response_ headers. Most notably, content-disposition, and the filename part. This is basically causing filenames with all the best letters from all the best countries (√º,√§,√Æ,√¢ etc) to crash our app.

The failure mode for us is semi-rare for a variety of reasons, but I imagine this would be far worse for others.

The RFC on the ""filename"" parameter allows any ISO-8859-1 character: http://tools.ietf.org/html/rfc6266#page-5 so the current behaviour definitely seems to be incorrect.

It makes sense to check request headers. I'm not convinced that it's reasonable for response headers, given that there are plenty of occasions where you just don't control the full stack. Actually, even the unit test that was added in the commit https://github.com/square/okhttp/commit/a57aa43c57819e06fede3f89a653eb6f059449a8 (responseHeaderParsingIsLenient) seems to imply that this is what was intended - must just be a bug.

It would be great if OkHttp could be a little less strict in production situations, but that's sort of unrelated.

Possible fix would be addLenient at https://github.com/square/okhttp/blob/master/okhttp/src/main/java/com/squareup/okhttp/internal/http/FramedTransport.java#L192 but I don't know the ins and outs of this code with enough confidence to make those changes.

java.lang.IllegalArgumentException: Unexpected char 0xf6 at 21 in header value: inline;filename=""AndyÔøΩÔøΩIsSad.png""
at com.squareup.okhttp.Headers$Builder.checkNameAndValue(Headers.java:295)
    at com.squareup.okhttp.Headers$Builder.add(Headers.java:245)
    at com.squareup.okhttp.internal.http.FramedTransport.readNameValueBlock(FramedTransport.java:192)
    at com.squareup.okhttp.internal.http.FramedTransport.readResponseHeaders(FramedTransport.java:104)
    at com.squareup.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:906)
    at com.squareup.okhttp.internal.http.HttpEngine.access$300(HttpEngine.java:92)
    at com.squareup.okhttp.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:891)
    at com.squareup.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:749)
    at com.squareup.okhttp.Call.getResponse(Call.java:268)
    at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:224)
    at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:195)
    at com.squareup.okhttp.Call.execute(Call.java:79)
",https://github.com/square/okhttp/issues/1998#issuecomment-205975286,"any update on this?
"
google/guava,"Hi all,

I am facing something I'm calling a bug with the method parse from the class MediaType.
The method raises an exception if I parse the string ""application/toto"" what is correct.
The method don't raise any exception if I parse the string ""application/pdf"" what is also correct.
However, the method don't raise any exception if I parse the string ""application/p"" what is not a mime type.

Did I miss something?

Yours sincerely,
Julien BAUMGARTEN",https://github.com/google/guava/issues/2994#issuecomment-344630269,"What version of Guava are you using? This test passes at head:

```
  public void testIssue2994() {
    assertThat(MediaType.parse(""application/pdf"")).isNotNull();
    assertThat(MediaType.parse(""application/p"")).isNotNull();
    assertThat(MediaType.parse(""application/toto"")).isNotNull();
  }
```"
google/guava,"After serializing / deserializing Absent instances won't be the same (e.g. in an Apache Spark context with Kryo serialization).

Therefore the implementation below contains a bug. Why not just check if the two instances have the same class definition?

```
@Override public boolean equals(@Nullable Object object) {
  return object == this;
}
```",https://github.com/google/guava/issues/2779#issuecomment-291877755,"I've added the tests that should have existed, but they pass. Does ""Kryo serialization"" circumvent Java serialization and not invoke readResolve?"
google/guava,"how to solve this errorÔºüÔºüÔºü

Error:Execution failed for task ':testapp:transformClassesWithPreJackPackagedLibrariesForDebug'.
> com.android.build.api.transform.TransformException: com.android.jack.api.v01.CompilationException",https://github.com/google/guava/issues/2722#issuecomment-274432572,"Hi @SmileToMe, could you provide us with some more context, like what IDE or build tool you're using, or a full stack trace? There's very little we can understand from the information you've currently given us."
google/guava,"Hi, guys! I have some problem with method construct in ImmutableSortedSet class, cause I've received every time n-1 elements after build ImmutableSortedSet.

I found that this part of code can include a bug:
```
for (int i = 1; i < n; i++) {
      E cur = contents[i];
      E prev = contents[uniques - 1];
      if (comparator.compare(cur, prev) != 0) {
        contents[uniques++] = cur;
      }
    }
```
Why you not process the last one element? I mean this:
`for (int i = 1; i < n; i++)`",https://github.com/google/guava/issues/2659#issuecomment-263311574,"I'm not sure what you mean.  contents already includes all elements of the set, and the first element is definitely staying in; this is the deduplication phase, where we only need to check each element against its predecessor.

Could you provide a reproduction test case for returning n-1 elements?"
square/retrofit,"What kind of issue is this?

 - [x] Question. This issue tracker is not the place for questions. If you want to ask how to do
       something, or to understand why something isn't working the way you expect it to, use Stack
       Overflow. https://stackoverflow.com/questions/tagged/retrofit

 - [ ] Bug report. If you‚Äôve found a bug, spend the time to write a failing test. Bugs with tests
       get fixed. Here‚Äôs an example: https://gist.github.com/swankjesse/6608b4713ad80988cdc9

 - [ ] Feature Request. Start by telling us what problem you‚Äôre trying to solve. Often a solution
       already exists! Don‚Äôt send pull requests to implement new features without first getting our
       support. Sometimes we leave features out on purpose to keep the project small.

I am using Retrofit on Android.

I define a service `GitHubService`.

    public interface GithubService {
    
        @GET(""users/{user}"")
        Call<ResponseBody> fetchUserInfo(@Path(""user"") String user);
    
    }

Then I create service.

        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl(""http://api.github.com"")
                .build();

        GithubService service = retrofit.create(GithubService.class);
        Call<ResponseBody> call = service.fetchUserInfo(""coxier"");
        call.enqueue(...);
As you see, I use above code to get user info of github. And above code works well for me. Now I want to know how Retofit works so I read source code.The code below is `Retrofit#create`. After reading, I still don't know its magic then I decide to debug Retroft.

    public <T> T create(final Class<T> service) {
      ...
      return (T) Proxy.newProxyInstance(...,
          new InvocationHandler() {
            ...
            @Override public Object invoke(..)
                throws Throwable {
       
              if (method.getDeclaringClass() == Object.class) {
                return method.invoke(this, args);
              }
              ...
              return loadServiceMethod(method).invoke(args != null ? args : emptyArgs);
            }
          });
    }

I debug at `if(method.getDeclaringClass() == Object.class)` line ,however it crashes. I don't know why it crashes. 
",https://github.com/square/retrofit/issues/2907#issuecomment-424809820,"I don't know why debugging doesn't work but I can't see a way that Retrofit is somehow causing it. I'm able to put a breakpoint inside the invocation handler and have it work in my app.

What exception is thrown in the crash?"
square/retrofit,"I was trying to debug my retrofit call but it crashes every single time I enter the async callback, specifically the below line:
`mApiService.getReviews(mMovie.getId(), PrivateApiKey.YOUR_API_KEY).enqueue(new Callback<ReviewRootResponse>() {
    @Override
     public void onResponse(){}
    @Override
     public void onFailure(){}
     });
`
Running the app w/o debugger from Android Studio works fine. Crashes only in debug mode.
Logcat is as follows:
`10-16 18:37:23.158 6690-6697/com.example.android.designpattern A/libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x14 in tid 6697 (JDWP)`",https://github.com/square/retrofit/issues/2526#issuecomment-337109026,"If the only thing that changes is how you deploy from Android Studio, then
that sounds like a bug in Android Studio or the compilation toolchain. What
action do you expect us to take for this? Also you haven't really provided
enough information to even discern the cause of the crash.

On Mon, Oct 16, 2017 at 10:47 PM k3rn3l16 <notifications@github.com> wrote:

> I was trying to debug my retrofit call but it crashes every single time I
> enter the async callback, specifically the below line:
> mApiService.getReviews(mMovie.getId(),
> PrivateApiKey.YOUR_API_KEY).enqueue(new Callback<ReviewRootResponse>() {
> @Override public void onResponse(){} @Override public void onFailure(){} });
> Running the app w/o debugger from Android Studio works fine. Crashes only
> in debug mode.
> Logcat is as follows:
> 10-16 18:37:23.158 6690-6697/com.example.android.designpattern A/libc:
> Fatal signal 11 (SIGSEGV), code 1, fault addr 0x14 in tid 6697 (JDWP)
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/square/retrofit/issues/2526>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAEEEULxDEHEZBArSbm_gEPsY5cBWtwJks5stBUlgaJpZM4P7gSQ>
> .
>
"
square/retrofit,"
package in.jsroyal.apiconsume.api;
import android.widget.Toast;

import in.jsroyal.apiconsume.model.ItemResponse;
import retrofit2.Call;
import retrofit2.http.GET;
import retrofit2.http.Query;


public interface Service {
    @GET(""/search/users"")
    Call<ItemResponse> getItems(
            @Query(""location"") String location,
            @Query(""language"") String language
    );
}

getting null value?
but https://api.github.com/search/users?q=india
It will give you json response.",https://github.com/square/retrofit/issues/2294#issuecomment-295840425,"This sounds like something in your model is mapped to null, in which case that's either an issue with your serialization library (unlikely) or a question for Stack Overflow.

Can you make a minimal sample or a test case?"
square/retrofit,"When I am trying to call api.github.com , retrofit converts it to some 192.30.xx.xx Ip , I think this is a bug, 

I have my complete source code uploaded at 

---

: https://github.com/geniushkg/Android-Retrofit-callback-async-sample

---

PLease just once compile on your machine and run , you'l see on logcat , what I am saying

My logcat is like this

---

failed to connect to api.github.com/192.30.252.139 (port 80): connect failed: ECONNREFUSED (Connection refused)
03-03 23:59:43.720  13691-13691/in.ist.android_retrofit_callback_async_sample E/retrofitÔπï http://api.github.com/repos/square/retrofit/contributors
03-03 23:59:43.720  13691-13691/in.ist.android_retrofit_callback_async_sample E/retrofitÔπï retrofit.RetrofitError: failed to connect to api.github.com/192.30.252.139 (port 80): connect failed: ECONNREFUSED (Connection refused)

---
",https://github.com/square/retrofit/issues/768#issuecomment-77020172,"I get the same IP for resolving `api.github.com` so the problem is that a firewall or GitHub itself is blocking your access for some reason. I really can't know more without actually being there. Try running a `traceroute` perhaps?
"
PhilJay/MPAndroidChart,"When I add points on my LineChart, they are drawn in a right way, but suddenly when I add the 7th and 8th points graph looks like:
![screenshot](https://user-images.githubusercontent.com/17068109/48315418-f8b76a80-e5a3-11e8-8f9b-6479ce99223c.png)


Points: [Entry, x: 30566.0 y: 656.85, Entry, x: 32913.0 y: 656.7, Entry, x: 32929.0 y: 656.5, Entry, x: 32952.0 y: 656.7, Entry, x: 32976.0 y: 657.25, Entry, x: 32979.0 y: 657.4, Entry, x: 32981.0 y: 657.5, Entry, x: 32989.0 y: 657.5]
Following is the code:
        mChart.setDrawGridBackground(false);
        Description description = new Description();
        description.setText("""");
        mChart.setDescription(description);
        mChart.setNoDataText("""");
        mChart.setTouchEnabled(false);
        mChart.setDragEnabled(false);
        mChart.setScaleEnabled(false);
        mChart.setPinchZoom(false);
        mChart.setDrawBorders(false);
        mChart.setAutoScaleMinMaxEnabled(true);
        mChart.setDrawMarkers(false);

        xAxis = mChart.getXAxis();
        xAxis.removeAllLimitLines();
        xAxis.setAxisLineColor(R.color.colorBlanco);
        xAxis.setDrawAxisLine(false);
        xAxis.enableAxisLineDashedLine(4f, 4f, 0f);
        xAxis.enableGridDashedLine(4f, 4f, 0f);
        xAxis.setAxisLineColor(ContextCompat.getColor(contexto, R.color.colorBlanco));
        xAxis.setGridColor(ContextCompat.getColor(contexto, R.color.colorAtenuadoC));
        xAxis.setTextColor(ContextCompat.getColor(contexto, R.color.colorAtenuadoB));
        xAxis.setPosition(XAxis.XAxisPosition.TOP);
        xAxis.setTextSize(14f);
        xAxis.setGridLineWidth(1f);
        xAxis.setValueFormatter(xLabelFormatter);
        xAxis.setYOffset(0);
        xAxis.setAvoidFirstLastClipping(true);

        YAxis leftAxis = mChart.getAxisLeft();
        leftAxis.setEnabled(false);

        rightAxis = mChart.getAxisRight();
        rightAxis.removeAllLimitLines();
        rightAxis.enableAxisLineDashedLine(0f, 4f, 0f);
        rightAxis.enableGridDashedLine(4f, 4f, 0f);
        rightAxis.setAxisLineColor(ContextCompat.getColor(contexto, R.color.colorBlanco));
        rightAxis.setGridColor(ContextCompat.getColor(contexto, R.color.colorAtenuadoC));
        rightAxis.setTextColor(ContextCompat.getColor(contexto, R.color.colorAtenuadoB));
        rightAxis.setZeroLineColor(ContextCompat.getColor(contexto, R.color.colorBlanco));
        rightAxis.setTextSize(16f);
        rightAxis.setDrawZeroLine(false);
        rightAxis.setDrawLimitLinesBehindData(false);
        rightAxis.setLabelCount(4, true);
        rightAxis.setGranularity(0.25f);
        rightAxis.setValueFormatter(yLabelFormatter);

        mChart.animateX(100);
        mChart.getLegend().setEnabled(false);

And set has the following settings:

        LineDataSet set = new LineDataSet(points, """");
        set.setCircleColor(color);
        set.setCircleRadius(0f);
        set.setColor(color);
        set.setLineWidth(1.1f);
        set.setValueTextSize(0f);
        set.setAxisDependency(YAxis.AxisDependency.RIGHT);
        set.setMode(LineDataSet.Mode.LINEAR);
        set.setDrawCircles(false);
        set.setDrawCircleHole(false);
        set.setDrawValues(false);

Any idea why graph is painted weird?",https://github.com/PhilJay/MPAndroidChart/issues/4298#issuecomment-437684617,"""Any idea why graph is painted weird?"" is not very specific at all. I assume you mean the line is drawn in that dashed way with the edges fading out. Are you sure that is all that you do to the line data set? I don't see any reason with the code you've shown that could cause the line to be drawn that way."
PhilJay/MPAndroidChart,"![image](https://user-images.githubusercontent.com/30915794/38464185-bab94996-3b3b-11e8-941d-d915fe797b80.png)
If I don't set the drawing icon to false, there will be problems.
",https://github.com/PhilJay/MPAndroidChart/issues/3924#issuecomment-379569933,What problems?
PhilJay/MPAndroidChart,"I have 2 BarChart on the same page, both zoomed in, now I put one finger on one chart and second finger to the other chart and try to zoom out. It crashes with this stack trace:

```
    Process: com.path.sadow, PID: 28936
    java.lang.IllegalArgumentException: pointerIndex out of range
        at android.view.MotionEvent.nativeGetAxisValue(Native Method)
        at android.view.MotionEvent.getX(MotionEvent.java:2286)
        at android.support.v4.view.ViewPager.onInterceptTouchEvent(ViewPager.java:2066)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2368)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2841)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2516)
        at com.android.internal.policy.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2823)
        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1848)
        at android.app.Activity.dispatchTouchEvent(Activity.java:3047)
        at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:68)
        at com.android.internal.policy.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2784)
        at android.view.View.dispatchPointerEvent(View.java:10229)
        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5403)
        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5239)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4679)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4732)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4698)
        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4840)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4706)
        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4897)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4679)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4732)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4698)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4706)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4679)
        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7376)
        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7254)
        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7215)
        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7486)
        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)
        at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native Method)
        at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:176)
        at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:7450)
        at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:7513)
        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)
    	at android.view.Choreographer.doCal
```",https://github.com/PhilJay/MPAndroidChart/issues/3907#issuecomment-377909415,"This was already reported in #3032.
Can you close this issue to group all related information in one place?"
PhilJay/MPAndroidChart,"I change the XAixs position to BOTTOM_INSIDE  then  it show that 


![qq 20170110110520](https://cloud.githubusercontent.com/assets/12853050/21792436/bf61b73e-d724-11e6-9e89-3f73d4d2aa42.png)
![qq 20170110110525](https://cloud.githubusercontent.com/assets/12853050/21792437/c06d5a34-d724-11e6-9824-a2966bef2ada.png)

The xAxis label dosen't show inside..

How can I fix it???   ",https://github.com/PhilJay/MPAndroidChart/issues/2695#issuecomment-352385201,"Can you show me your code ?

I have the same problem, thank you ."
PhilJay/MPAndroidChart," i have found a bug, 
when ever we enter 1f or less then 1f in the entries....it doesnt add color in the piechart,this issue is not only for my app..but the sample app is also having same issue,

```
    entries.add(new PieEntry(1f, ""Monday""));
    entries.add(new PieEntry(1f,""Tuesday""));
    entries.add(new PieEntry(1f,""Wednesday""));
    setPieChart(entries);
```

I will get 3 entities but with no color,
Please fix this issue
",https://github.com/PhilJay/MPAndroidChart/issues/2385#issuecomment-255656865,"How to solve? I also encountered the same problem.
"
PhilJay/MPAndroidChart,"My Values:
![image](https://cloud.githubusercontent.com/assets/1205588/17442815/825c4c46-5aec-11e6-8b9b-df39263bd322.png)

The outputted graph:
![image](https://cloud.githubusercontent.com/assets/1205588/17442881/bad27500-5aec-11e6-87ac-0894b17ea8e8.png)

When the graph is largely positive:
![image](https://cloud.githubusercontent.com/assets/1205588/17442900/d00c652a-5aec-11e6-96cc-4e73e325d255.png)

Let me know if there is anything I can do to help debug. You can view it for yourself in my app https://play.google.com/store/apps/details?id=com.teamtol.livedota&hl=en by going to recent games and clicking on a few.
",https://github.com/PhilJay/MPAndroidChart/issues/2106#issuecomment-238025594,"What is the problem? Do you want the chart to start at zero?

`yAxis.setAxisMinValue(0f)` for positive chart

`yAxis.setAxisMaxValue(0f)` for negative chart
"
PhilJay/MPAndroidChart,"I delete some datas when add entries in LineChartActivity1, and LineDataSet.Mode is HORIZONTAL_BEZIER, like

> for (int i = 0; i < count; i++) {
>             if (i == 0 || i == 2 || i == 10) {
>                 continue;
>             }
>             float val = (float) (Math.random() \* range) + 3;
>             values.add(new Entry(i, val));
>         }

and there is a bug.
![5 pic_hd](https://cloud.githubusercontent.com/assets/8665764/16909027/4ee5bb92-4d02-11e6-9acf-6f56b3281701.jpg)
",https://github.com/PhilJay/MPAndroidChart/issues/2033#issuecomment-239551596,"Library version?
"
PhilJay/MPAndroidChart,"Hi - I have set both 'LineDataSet.setDrawFilled(true)' and 'LineDataSet.setFillColor(...)' or 'LineDataSet.setFillDrawable(...API18...)' as per 'LineChartActivity1' example. For some weird reason, the area filled comes out as if it is w.r.t Y-axis. Can you help ?

<img width=""371"" alt=""screen shot 2016-07-16 at 4 17 02 am"" src=""https://cloud.githubusercontent.com/assets/13557123/16890513/04f42772-4b0d-11e6-859e-589c9971c4ce.png"">
<img width=""382"" alt=""screen shot 2016-07-16 at 4 23 45 am"" src=""https://cloud.githubusercontent.com/assets/13557123/16890535/285905d4-4b0d-11e6-83f9-e50ee40e8233.png"">
",https://github.com/PhilJay/MPAndroidChart/issues/2028#issuecomment-233150712,"Show some code. Are you using the `FillFormatter` interface?
"
PhilJay/MPAndroidChart,"In Line chart when i increase first seekBar and when it reaches to approx value 350 app restarts it self.
I have attached zip file containing video of problem.
I tested this thing on Nexus 6. But not able to reproduc on nexus 4.
[MPAndroidChart Problem.zip](https://github.com/PhilJay/MPAndroidChart/files/324989/MPAndroidChart.Problem.zip)
",https://github.com/PhilJay/MPAndroidChart/issues/1895#issuecomment-227364307,"Thank you for the report. What kind of device are you using?

Could you tell me if the crash still occurs if you disable ""filled"" (the red gradient) option in the example you have shown me.
"
PhilJay/MPAndroidChart,"After updating library to 2.2.4 in my app some of my charts are messed.
I can't find differences in the usage between these version so I think this could be a bug.

![mpchartengine-difference-222vs224](https://cloud.githubusercontent.com/assets/963361/15333315/7245b516-1c69-11e6-9863-ebbbff3ad3c6.jpg)

Here's my styling for the chart

``````
   ```
            mChartView = (LineChart) findViewById(R.id.linechart);
            mChartView.setVisibility(View.VISIBLE);
            mChartView.setBorderWidth(0f);
            mChartView.setData(mDataChart);
            mChartView.setDrawBorders(false);
            mChartView.setDrawGridBackground(false);
            mChartView.setDescription(null);

            mChartView.setGridBackgroundColor(Color.parseColor(""#000000""));
            mChartView.getXAxis().setDrawAxisLine(false);
            mChartView.getXAxis().setPosition(XAxis.XAxisPosition.BOTTOM);
            mChartView.getAxis(YAxis.AxisDependency.LEFT).setDrawAxisLine(false);
            mChartView.getAxis(YAxis.AxisDependency.RIGHT).setEnabled(false);
            mChartView.getLegend().setForm(Legend.LegendForm.CIRCLE);
            mChartView.getAxis(YAxis.AxisDependency.LEFT).setStartAtZero(false);
            mChartView.getAxis(YAxis.AxisDependency.LEFT).setValueFormatter(new           YAxisValueFormatter() {
                @Override
                public String getFormattedValue(float value, YAxis yAxis) {
                    DecimalFormat mFormat = new DecimalFormat(""###,###,##0.00"");
                    return mFormat.format(value);
                }
            });

            MyMarkerView mv = new MyMarkerView(getBaseContext(), R.layout.marker_view);
            mChartView.setMarkerView(mv);
            mChartView.invalidate();
``````

```
```
",https://github.com/PhilJay/MPAndroidChart/issues/1779#issuecomment-221479490,"also +1.  when i use version 2.2.4, sometimes line chart displays  missed axis lines... or, lines confusion

![chartbugs](https://cloud.githubusercontent.com/assets/14026236/15529403/9d3b94ea-227f-11e6-9b96-fce5b5a602eb.jpg)
"
PhilJay/MPAndroidChart,"Hi Guys,

i'm using this amazing library, its easy and beautiful, tks.
I will try to explain what happens, and below the explanation put the source code.

When I start any of the charts, and use the setData the first time with a null data, the message ""The chart data available."" is displayed.
But if I start the chart, and use the setData chart with data, the char is displayed OK. Then, i call the setData again to ""update"" the chart with another period, and this period has a  null data, like the first explanation,  the message is not displayed.
I call invalidate() after setData, call notifyDataSetChanged() too, but the chart is not redrawn with the correct message, that is no data available.
Doing some test, if you setData with some numbers, after that call chart.clear() (internally this set mData to null) and call invalidate(), the chart is not redrawn to.

Explained my code below:

When I create the fragment, my onCreateView is called, and call the createGraph passing invalid as false. When my fragment is showing (and the User clicks on the button to update the date) the update event is called, passing invalid as true.
Here is the Code:

public class TravelDistanceLineChart extends BaseFragment {
    private LineChart chart;

```
public TravelDistanceLineChart() {
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    View rootView = inflater.inflate(R.layout.fragment_line_chart, container, false);
    ReportLabelFormatter labelformat = new ReportLabelFormatter(ReportLabelFormatter.types.DISTANCE);
    chart = (LineChart) rootView.findViewById(R.id.linechart);
    chart.setDescription(null);
    chart.setLogEnabled(true);
    chart.setNoDataText(getString(R.string.nao_ha_graficos));
    chart.getAxisRight().setValueFormatter(labelformat);
    chart.getAxisLeft().setValueFormatter(labelformat);
    createGraph(rootView, false);
    Log.d(getClass().getSimpleName(), ""Calling onCreateView"");
    return rootView;
}
public void update() {
    Log.d(getClass().getSimpleName(), ""Calling Update"");
    createGraph(getView(), true);
}

protected void createGraph(View view, boolean invalid){
    TextInputEditText report_ini_date = (TextInputEditText) getActivity().findViewById(R.id.report_ini_date);
    TextInputEditText report_end_date = (TextInputEditText) getActivity().findViewById(R.id.report_end_date);

    if(report_ini_date != null && report_end_date != null) {
        chart.setData(MeuCarroApplication.getInstance().reportTravelDistance(report_ini_date.getText().toString(), report_end_date.getText().toString()));
    }
    if (invalid) {
        chart.notifyDataSetChanged();
        chart.invalidate();
    }
    //chart.animateX(1500);
}
```
",https://github.com/PhilJay/MPAndroidChart/issues/1749#issuecomment-222764405,"@alexwbaule Did you find any solution for this problem? I'm facing exactly the same issue.
"
PhilJay/MPAndroidChart,"For example, method should include

```
copied.setDrawValues( isDrawValuesEnabled() );
```

Without it, the mDrawValues is lost during the copy.
",https://github.com/PhilJay/MPAndroidChart/issues/1604#issuecomment-202572665,"@danielgindi I have been thinking about dropping the ""copy"" feature for a long time. What do you think?
Should we keep it or just remove it from the library?
"
PhilJay/MPAndroidChart,"![device-2016-02-18-151807](https://cloud.githubusercontent.com/assets/4515769/13156949/256f9c0e-d653-11e5-9664-f544cca4bef8.png)

In the above chart, you can see that labels with the letter ""p"" or ""g"" (letters that go below the baseline) are not lined up with the rest of the labels. Maybe they have a different line height and it's throwing off the drawing calculations.
",https://github.com/PhilJay/MPAndroidChart/issues/1484#issuecomment-194989172,"Commit 19a98c2c8a0d1a0e84d89e700ab808995b157c1e seems to have fixed the problem for my project also. Should a pull request be made to merge it into the source?
"
PhilJay/MPAndroidChart,"Hi,

I'm using a **LineChart** and I'm having an option to toggle visiblity of lines in the chart by using the `lineDataSet.setVisible()` method. However when I set a line to not visible then the values for each entry is still shown (I'm using `lineData.setDrawValues(true)`. 

So there is no line visible but the values are still visible. Is there anyway to also toggle the visibilty of the values for each specific line? I don't want use `lineData.setDrawValues(false)` because that affects the whole chart. And I don't want to remove the dataset either, just make it not visible.

Thanks
",https://github.com/PhilJay/MPAndroidChart/issues/1475#issuecomment-183703984,"Which library version are you using?
"
PhilJay/MPAndroidChart,"Hi, This bug is coming from my crash & ANR reports.  It seems to have a link with this library.

java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
    at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
    at java.util.ArrayList.get(ArrayList.java:308)
    at com.github.mikephil.charting.data.DataSet.getColor(DataSet.java:681)
    at com.github.mikephil.charting.renderer.BarChartRenderer.initBuffers(BarChartRenderer.java:128)
                                                           drawData
                                                           drawDataSet
                                                           prepareBarHighlight
                                                           drawValue
                                                           drawHighlighted
                                                           getTransformedValues
    at com.github.mikephil.charting.renderer.BarChartRenderer.initBuffers(BarChartRenderer.java:75)
                                                           drawData
                                                           drawDataSet
                                                           prepareBarHighlight
                                                           drawValue
                                                           drawHighlighted
                                                           getTransformedValues
    at com.github.mikephil.charting.charts.BarLineChartBase.onDraw(BarLineChartBase.java:230)
    at android.view.View.draw(View.java:15321)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.draw(View.java:15324)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.draw(View.java:15324)
    at android.widget.FrameLayout.draw(FrameLayout.java:598)
    at android.widget.ScrollView.draw(ScrollView.java:1689)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.draw(View.java:15324)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.draw(View.java:15324)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.updateDisplayListIfDirty(View.java:14252)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.View.draw(View.java:15049)
    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)
    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)
    at android.view.View.draw(View.java:15324)
    at android.widget.FrameLayout.draw(FrameLayout.java:598)
    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:2653)
    at android.view.View.updateDisplayListIfDirty(View.java:14257)
    at android.view.View.getDisplayList(View.java:14279)
    at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273)
    at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279)
    at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318)
    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2540)
    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2356)
    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1986)
    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1065)
    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5901)
    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767)
    at android.view.Choreographer.doCallbacks(Choreographer.java:580)
    at android.view.Choreographer.doFrame(Choreographer.java:550)
    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753)
    at android.os.Handler.handleCallback(Handler.java:739)
    at android.os.Handler.dispatchMessage(Handler.java:95)
    at android.os.Looper.loop(Looper.java:211)
    at android.app.ActivityThread.main(ActivityThread.java:5389)
    at java.lang.reflect.Method.invoke(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:372)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1020)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:815)
",https://github.com/PhilJay/MPAndroidChart/issues/1385#issuecomment-173179912,"This looks like there are no colors in the color array of your dataset?
Could it (somehow) be the case that this happens in your app?
"
PhilJay/MPAndroidChart,"I created a simple linechart and everything worked perfectly (see bottom half of the attached image). But when I add foo.setDrawCubic(true); the filling isn't working anymore (see top half of the image). I included the circles to show that everything's the same except the cubic property.

Some older issues here suggest that this problem is fixed, but I experience this behavior in version 2.1.3 as well.

A minor issue I also noticed: the setLineWidth function works differently depending on the drawcubic property (see image, both are created with foo.setLineWidth(2f)).

![chart_problem](https://cloud.githubusercontent.com/assets/3966464/9876666/0b0b1796-5bb8-11e5-9ec6-6c4c2530925d.png)
",https://github.com/PhilJay/MPAndroidChart/issues/1031#issuecomment-146920258,"Does this issue still persist since the latest commit I made?
"
zxing/zxing,"Hi, I just wanted to let you know that your scanner doesn't do a good job of handling unicode, which leads to some nasty possibilities around malicious links. For instance, here's two screenshots, both of which lead to my site if clicked:

![image](https://user-images.githubusercontent.com/1331014/43690692-4eca42d6-98c3-11e8-9a4d-28b32f7a54a4.png)
![image](https://user-images.githubusercontent.com/1331014/43690693-51fac02a-98c3-11e8-8120-ad5cb6913a4f.png)

The first link is abusing an RTL character and is actually
(\u202e)https://dylankatz.com/moc.elgoog.www
This can be fixed by replacing whitespace unicode characters with spaces.

The second link abuses a character that looks like a slash and is actually:
http://www.google.xn--comsearchquery-iu3hgf.dktz.co
when rendered to punycode",https://github.com/zxing/zxing/issues/1050#issuecomment-410558375,"Changing/stripping these characters might not be valid -- unicode text itself is legitimate and should just be shown as that text. If it's true that changing/stripping results in a string that could be construed as a URI, is it proper to assume it was trying to be a URI? Otherwise we get into defining what constitutes a URI that isn't valid but was trying to be in a malicious way, so that only that is modified. I think just not pretending they're URIs in the interface helps noticeably. I did that at https://github.com/zxing/zxing/commit/2179c52ee3e18ddc7e3fc2e9cd8237a60315ea28"
zxing/zxing,"Hi,

this is a follow-up of issue  #806. Now we are using version 3.3.1 and it solves all issue reported in #806.

In our project we create data matrix barcodes using ZXing (core-3.3.1.jar and javase-3.3.1.jar) in this way:
```java
        final DataMatrixWriter barcode = new DataMatrixWriter();
        final BitMatrix bitMatrix = barcode.encode(text, BarcodeFormat.DATA_MATRIX, 0, 0);
```
We create an image (java.awt.Image) using the bit matrix and scan this barcode image afterwards (form screen or paper). In 99% percent of all cases the text of the scanned barcode image is identical to the the encoded text.

But in some cases we get another text. Examples:

* original text -> converted to barcode
* `*CH/GN1/022/00` -> `*CH/GN1/022/{00`

I suppose the leading asterisk causes again the problem.
![inf_01_zxingcreatewrongbarocde](https://user-images.githubusercontent.com/23717092/33834779-7110b9b4-de84-11e7-85be-655a257b14bb.png)
",https://github.com/zxing/zxing/issues/923#issuecomment-350733949,"Not sure, can you debug to see where it goes wrong? are you sure the contents are wrong or somehow is it read back wrong?"
zxing/zxing,"Steps to reproduce:

- have a contact with a phone number in the e164 format
- share the contact with the barcode scanner

![1845297871461598955_2](https://user-images.githubusercontent.com/10261186/28911439-cd6b6656-7830-11e7-88dd-ead3dab5c2e6.png)

As you can see, the barcode scanner is displaying the country prefix (+49 since it is a german phone number), but it somehow cut off the `+` character.

The data encoded in the qrcode is correct, though.",https://github.com/zxing/zxing/issues/842#issuecomment-319895912,"Hm, it is just showing whatever Android returns when it asks for the contact info. It doesn't add or strip anything. Do you see anything in the code that does otherwise?"
zxing/zxing,"Hi,

in our project we create data matrix barcodes using ZXing (core-3.3.0.jar and javase-3.3.0.jar) in this way:
```java
        final DataMatrixWriter barcode = new DataMatrixWriter();
        final BitMatrix bitMatrix = barcode.encode(text, BarcodeFormat.DATA_MATRIX, 0, 0);
```
We create an image (```java.awt.Image```) using the bit matrix and scan this barcode image afterwards (form screen or paper). In 99% percent of all cases the text of the scanned barcode image is identical to the the encoded text.

But in some cases we get another text. Examples:
* original text -> converted to barcode
* `*MEMANT-1F-MESTECH` -> `*MEMANQ90E5079ROO70` 
* `*MEMANT-1F-M-2estech` -> `*MEMANQ90E5089q{estech` 
* `*MEMANT-1F-M-2e-stech` -> `*MEMANQ90E5089q{e-stech` 
* `*MEMANT-1F-M6ABCDEF` -> `*MEMANQ90E5091` 

I suppose the leading asterisk causes the problems.",https://github.com/zxing/zxing/issues/806#issuecomment-304847014,It's hard to help without an example of the barcode?
zxing/zxing,"SAMSUNG Galaxy s5  SM-G9008V android 4.2.2  

Exception:
Unexpected error initializing camera
                                                                   java.lang.RuntimeException: Fail to connect to camera service
                                                                       at android.hardware.Camera.native_setup(Native Method)
                                                                       at android.hardware.Camera.<init>(Camera.java:423)
                                                                       at android.hardware.Camera.open(Camera.java:375)
                                                                       at codebar.camera.open.OpenCameraInterface.open(OpenCameraInterface.java:52)
                                                                       at codebar.camera.CameraManager.openDriver(CameraManager.java:87)
                                                                       at codebar.activity.CaptureActivity1.initCamera(CaptureActivity.java:312)
                                                                       at codebar.activity.CaptureActivity1.onResume(CaptureActivity.java:118)
                                                                       at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1198)
                                                                       at android.app.Activity.performResume(Activity.java:5530)
                                                                       at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3048)
                                                                       at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3087)
                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1345)
                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)
                                                                       at android.os.Looper.loop(Looper.java:136)
                                                                       at android.app.ActivityThread.main(ActivityThread.java:5579)
                                                                       at java.lang.reflect.Method.invokeNative(Native Method)
                                                                       at java.lang.reflect.Method.invoke(Method.java:515)
                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)
                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)
                                                                       at dalvik.system.NativeStart.main(Native Method)


Reason:  onPause () - > onResume()  initCamera(SurfaceHolder)is called two times  but  cameManager instatnce is Different  ",https://github.com/zxing/zxing/issues/794#issuecomment-297722858,Not sure what you're reporting here -- a problem in the Android Camera framework? the instance should be different.
zxing/zxing,"Barcode scanner seems to be using different type defaults for `ADR` and `TEL` than suggested in the specification (at least for vCard 2.1). For me it defaults to 'private' but it should to 'work'. From looking at the code it seems that there is no default internally. This can also result in wrong order of types, e.g. this vCard data will swap the types of the second and third number.  

```
BEGIN:VCARD
N:;John;;;
TEL;WORK:10
TEL:2
TEL;CELL:30
END:VCARD  
```

IMHO a good solution for both issues would be to default to the type 'WORK' for phone numbers and addresses at parse time. This should be close enough to the specification. Maybe also for eMails.  

I guess this could be implemented by adding a `defaultType` Parameter to the function `matchVCardPrefixedField` in VCardResultParser.java?
",https://github.com/zxing/zxing/issues/751#issuecomment-278942912,"I skimmed the code again and it seems like it defaults to nothing at all when there's no type metadata. ""private"" is perhaps an Android default. I don't know if this app should do something different.

What's the scenario where the types are wrong though? That does sound like a problem. The 'types' and values arrays should be of equal length. Are you on the trail of a fix already? if you have a PR to look at, I'll review. Maybe this as a test case plus some extra arg checking would reveal the issue."
zxing/zxing,"Hi ZXing Team,
I am trying to build ZXing android source code in Android Studio IDE, where i am using **compileSdkVersion 23** and **buildToolsVersion ""23.0.2""** in **build.gradle** file.

I want to compile source code with Android SDK API 23 to support runtime permission, but IDE shows compile time error for API Level 23 because Android OS remove the **Browser.BookmarkColumns** class from API Level 23.

Please suggest solution for this problem ?
",https://github.com/zxing/zxing/issues/557#issuecomment-182810335,"How about opening a pull request to just replace those references with the string value of those constants? that's OK by me.
"
zxing/zxing,"When I run the CommandLineRunner in javase it works unless I try to pass it command line arguments (like --try_harder and --crop).

Here is the error message:

> Exception in thread ""main"" java.lang.NoClassDefFoundError: com/beust/jcommander/JCommander
>   at com.google.zxing.client.j2se.CommandLineRunner.main(CommandLineRunner.java:52)
> Caused by: java.lang.ClassNotFoundException: com.beust.jcommander.JCommander
>   at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
>   at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
>   at java.security.AccessController.doPrivileged(Native Method)
>   at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
>   at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
>   at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
>   at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
>   ... 1 more

I tried it both with the jar files I built, and with the ones hosted at the Maven Release Repository.  It works on 3.2.0, but is broken on 3.2.1.
",https://github.com/zxing/zxing/issues/518#issuecomment-163066244,"How are you running this? the command-line programs need jcommander, so it has to be included in some way on the classpath. It's correctly specified in the Maven build.
"
zxing/zxing,"The ability to select camera when calling ZXing via intent: https://github.com/zxing/zxing/pull/135
Version 4.7.4 brakes that.

Now when you request a non-default camera in the intent (e.g. camera 1), the scanning intent opens and immediately shows an error dialog:

> **Barcode Scanner**  
> Sorry, the Android camera encountered a problem. You may need to restart the device.
> **OK**

The following appears in the logcat:

<pre>D/SecCameraHardware( 1937): LSIHAL int android::HAL_getCameraInfo(int, camera_info*)

W/com.google.zxing.client.android.camera.open.OpenCameraInterface(23318): Requested camera does not exist: 1

W/CaptureActivity(23318): java.io.IOException: Camera.open() failed to return object from driver
W/CaptureActivity(23318):   at com.google.zxing.client.android.camera.CameraManager.openDriver(CameraManager.java:82)
W/CaptureActivity(23318):   at com.google.zxing.client.android.CaptureActivity.initCamera(CaptureActivity.java:723)
W/CaptureActivity(23318):   at com.google.zxing.client.android.CaptureActivity.surfaceCreated(CaptureActivity.java:423)
W/CaptureActivity(23318):   at android.view.SurfaceView.updateWindow(SurfaceView.java:610)
W/CaptureActivity(23318):   at android.view.SurfaceView.access$000(SurfaceView.java:93)
W/CaptureActivity(23318):   at android.view.SurfaceView$3.onPreDraw(SurfaceView.java:182)
W/CaptureActivity(23318):   at android.view.ViewTreeObserver.dispatchOnPreDraw(ViewTreeObserver.java:864)
W/CaptureActivity(23318):   at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2142)
W/CaptureActivity(23318):   at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1249)
W/CaptureActivity(23318):   at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6364)
W/CaptureActivity(23318):   at android.view.Choreographer$CallbackRecord.run(Choreographer.java:791)
W/CaptureActivity(23318):   at android.view.Choreographer.doCallbacks(Choreographer.java:591)
W/CaptureActivity(23318):   at android.view.Choreographer.doFrame(Choreographer.java:561)
W/CaptureActivity(23318):   at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:777)
W/CaptureActivity(23318):   at android.os.Handler.handleCallback(Handler.java:730)
W/CaptureActivity(23318):   at android.os.Handler.dispatchMessage(Handler.java:92)
W/CaptureActivity(23318):   at android.os.Looper.loop(Looper.java:176)
W/CaptureActivity(23318):   at android.app.ActivityThread.main(ActivityThread.java:5419)
W/CaptureActivity(23318):   at java.lang.reflect.Method.invokeNative(Native Method)
W/CaptureActivity(23318):   at java.lang.reflect.Method.invoke(Method.java:525)
W/CaptureActivity(23318):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1046)
W/CaptureActivity(23318):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:862)
W/CaptureActivity(23318):   at dalvik.system.NativeStart.main(Native Method)</pre>


Works fine with v4.7.3.
",https://github.com/zxing/zxing/issues/489#issuecomment-153021898,"Hm, yeah this logic changed since it now accommodates requests for a specific camera as well as just a front/back camera. I think the problem is that it will require a rear-facing camera even when one is explicitly requested, and that one is front-facing. Really it should only prefer rear-facing if none was specified. Camera 1 is front-facing right?
"
zxing/zxing,"Given the following encode method:

```
public static BufferedImage encode(String contents, String format, int width, int height,    Map<EncodeHintType, ?> hints) {
    BufferedImage result = null;
    BarcodeFormat barcodeFormat = BarcodeFormat.valueOf(format);
    MultiFormatWriter barcodeWriter = new MultiFormatWriter();
    BitMatrix matrix = null;
    try {
        matrix = barcodeWriter.encode(contents, barcodeFormat, width, height, hints);
    } catch (WriterException ex) {
        return null;
    }
    result = MatrixToImageWriter.toBufferedImage(matrix);
    return result;
}
```

Calling encode(""1234"", ""DATA_MATRIX"", 300, 300, null) throws 

```
Exception in thread ""main"" java.lang.IllegalArgumentException: Can't find a symbol arrangement that matches the message. Data codewords: 2
at com.google.zxing.datamatrix.encoder.SymbolInfo.lookup(SymbolInfo.java:148)
at com.google.zxing.datamatrix.encoder.EncoderContext.updateSymbolInfo(EncoderContext.java:127)
at com.google.zxing.datamatrix.encoder.EncoderContext.updateSymbolInfo(EncoderContext.java:122)
at com.google.zxing.datamatrix.encoder.HighLevelEncoder.encodeHighLevel(HighLevelEncoder.java:189)
at com.google.zxing.datamatrix.DataMatrixWriter.encode(DataMatrixWriter.java:84)
at com.google.zxing.MultiFormatWriter.encode(MultiFormatWriter.java:94)
```
",https://github.com/zxing/zxing/issues/361#issuecomment-95667010,"Can you debug to see what's going on, and suggest a patch? this might be a straightforward one.
"
zxing/zxing,"I have developed a simple web app we use for tracking boxes at work which updates a database.

The boxes all have barcodes attached.

This is somewhat simplified, but for the purposes of this bug report I have two pages in the web app:
- Look up a box
- Add a new box

On the ""add a new box"" page I have a button which links to Barcode Scanner with a URL like:
http://zxing.appspot.com/scan?ret=https%3A%2F%2Fmyserver.example.com%2Faddbox.php%3F%26xid%3D%7BCODE%7D

On the ""look up a box"" page I have a similar button but it links to a different URL:
http://zxing.appspot.com/scan?ret=https%3A%2F%2Fmyserver.example.com%2Flookupbox.php%3F%26xid%3D%7BCODE%7D

However, I find if I go to ""add a new box"", scan a barcode with a particular value (doesn't seem to matter what type of barcode, I've reproduced with code 128 and with QR code), I am redirected correctly. But if I later go to ""look up a box"" and scan the same barcode, it returns me to addbox.php not lookupbox.php even though the link on the ""look up a box"" page was definitely correct.

If I scan a different barcode on the ""look up a box"" page I'm correctly redirected to lookupbox.php. If I clear all zxing's app data, and go to the ""look up a box"" page, and scan the same barcode, I'm also correctly redirected to lookupbox.php.

It looks like zxing is somehow caching the ret= value along with a particular barcode and refusing to change it on a later scan of the same code.

This breaks my web app's functionality. I guess the only way I can really work around it is by redirecting all scans to the same scan.php page and then using PHP session variables or something to tell scan.php where I really want to be redirected to. This is, quite obviously, a pain.

I'm using Barcode Scanner version 4.7.0 on a Sony Xperia Z2 running Android 4.4.4.
",https://github.com/zxing/zxing/issues/302#issuecomment-72204016,"Hm, I might see the problem. Can I send you a debug build to test, or are you in a position to build from a branch here?
"
zxing/zxing,"mecard deletes ""+"" as international telephone prefix, is that wanted? it's a problem to scan it to the cellphone addressbook.
Thank you
",https://github.com/zxing/zxing/issues/235#issuecomment-57935741,"Hm, the app seems to preserve + just fine. Are you referring to the encoder? I see that it does not preserve +. I'm not sure that MECARD is supposed to encode + (https://www.nttdocomo.co.jp/english/service/developer/make/content/barcode/function/application/addressbook/) but I don't see a big reason not to. I think I can change the encoder.
"
zxing/zxing,"I am using 3.1.1-SNAPSHOT of ZXing.
Encoded some UTF-8 text to Aztec Code using the library.
However, the Aztec Decoder fails to read the generated code.

The stacktrace is following:
java.lang.ArrayIndexOutOfBoundsException: 650
        at com.google.zxing.common.BitMatrix.get(BitMatrix.java:74)
        at com.google.zxing.aztec.decoder.Decoder.extractBits(Decoder.java:306)
        at com.google.zxing.aztec.decoder.Decoder.decode(Decoder.java:76)
        at com.google.zxing.aztec.AztecReader.decode(AztecReader.java:67)
        at com.google.zxing.MultiFormatReader.decodeInternal(MultiFormatReader.java:171)
        at com.google.zxing.MultiFormatReader.decode(MultiFormatReader.java:55)
        at net.atos.titan.matrixcode.MatrixCode.readMatrixCodeFromBufferedImage(MatrixCode.java:58)
        at net.atos.titan.matrixcode.MatrixCode.readMatrixCodeFromFile(MatrixCode.java:51)
        at net.atos.titan.matrixcode.MatrixCodeTest.testLoop(MatrixCodeTest.java:65)
",https://github.com/zxing/zxing/issues/214#issuecomment-54127613,"Can you debug? it looks like `Decoder.extractBits` overruns the size of your image. I don't know the code, and at first glance it looks complex. If you know your image and Aztec you might be able to see why and propose a patch.
"
zxing/zxing,"Sorry for my english, I'm a french user ;-)

All is in title. Try to scan a white code with a black background. That doesn't work for me. 
Tried with a Google Nexus 5.
Version 4.7.0 of Barcode Scanner

I hope it will be fixed soon.
",https://github.com/zxing/zxing/issues/194#issuecomment-50230350,"Did you turn on inverted scan?
"
square/leakcanary,"### Description
Using Bugsnag with LeakCanary in the documented fashion causes a build error in release mode. 

**Expected behavior:** Release build ignores leakcanary artefacts and dependents.

### Version Information

* LeakCanary version: 2.1
* Android OS version: N/A
* Gradle version: 3.5.3

### Additional Information

This seems to be due to the removal of the `releaseImplementation` plugin in the leakcanary 2 upgrade. The BugsnagLeakUploader and Application configuration need leakcanary, which is not part of the release compilation. Using Bugsnag with leakcanary seems to contradict the documentation, which says you don't need the release dependency because you don't need to configure anything in your `Application` class.",https://github.com/square/leakcanary/issues/1727#issuecomment-578265787,"Bugsnag is only meant at a place to send leaktraces to when LeakCanary is running. LeakCanary should only run in debug, so Bugsnag should only be configured that way in debug builds.

The [doc](https://square.github.io/leakcanary/recipes/#uploading-to-bugsnag) has this:

```
dependencies {
  // debugImplementation because LeakCanary should only run in debug builds.
  debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.1'
  debugImplementation ""com.bugsnag:bugsnag-android:$bugsnagVersion""
}
```

All the bugsnag + leakcanary config code should be in your debug folder.

We could add more explicit statements about this in the documentation. Am I missing something else?"
square/leakcanary,"### Description

We have an automation tests that run monkey tests on our debuggable app. The app crashed with this stack trace:

```
Short Msg: java.lang.IllegalStateException
Long Msg: java.lang.IllegalStateException: Hprof file missing due to: [Hprof directory cleared] /.....[_our app path_]/files/leakcanary/2020-01-11_17-08-58_093.hprof
Build Label: Android/sdk_google_phone_x86/generic_x86:6.0/MASTER/5525988:userdebug/test-keys
Build Changelist: 5525988
Build Time: 1556821263000
java.lang.IllegalStateException: Hprof file missing due to: [Hprof directory cleared] /.....[_our app path_]/files/leakcanary/2020-01-11_17-08-58_093.hprof
	at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:50)
	at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
	at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at android.os.Looper.loop(Looper.java:148)
	at android.os.HandlerThread.run(HandlerThread.java:61)
```

### Steps to Reproduce

it's not reproducible since monkey tests are random.

**Expected behavior:** app not to crash even if there is a memory leak

### Version Information

* LeakCanary version: com.squareup.leakcanary:leakcanary-android:2.0
* Android OS version: Android 6
* Gradle version: 3.2.1

### Additional Information

Any additional information, configuration or data that might be necessary to reproduce the issue.
",https://github.com/square/leakcanary/issues/1719#issuecomment-573417938,"Hello! Thanks for reporting this!
First of all, can you please check that the heap dump files are actually located at the specified file path? And if they are, what are the file sizes? They should be several Mb."
square/leakcanary,"### Description

Not working in my project, for resource not found in dex?

### Steps to Reproduce


1. open some actitivity
2.  dump the heap
3. crash

### Version Information

* LeakCanary version: 2.0, 2.1
* Android OS version: Android 10
* Gradle version: gradle-5.6.2,  android build plugin 3.4.2


### leakcannery log 
D/LeakCanary: Already scheduled retained check, ignoring (found new object retained)
D/LeakCanary: Already scheduled retained check, ignoring (found new object retained)
D/LeakCanary: Checking retained object because app became invisible
D/LeakCanary: Found 5 retained references, dumping the heap
D/LeakCanary: Analysis in progress, working on: PARSING_HEAP_DUMP
D/LeakCanary: Analysis in progress, working on: EXTRACTING_METADATA
D/LeakCanary: Analysis in progress, working on: FINDING_RETAINED_OBJECTS
D/LeakCanary: Analysis in progress, working on: FINDING_PATHS_TO_RETAINED_OBJECTS


it seems to be work but do not have  R field in dex?",https://github.com/square/leakcanary/issues/1712#issuecomment-571692642,@qianlvable can you paste the stacktrace please? 
square/leakcanary,"```
 kotlin.KotlinNullPointerException
        at shark.ApplicationLeak$createGroupHash$1.invoke(HeapAnalysis.kt:205)
        at shark.ApplicationLeak$createGroupHash$1.invoke(HeapAnalysis.kt:197)
        at kotlin.text.StringsKt__StringBuilderKt.appendElement(StringBuilder.kt:58)
        at kotlin.collections.CollectionsKt___CollectionsKt.joinTo(_Collections.kt:2313)
        at kotlin.collections.CollectionsKt___CollectionsKt.joinToString(_Collections.kt:2330)
        at kotlin.collections.CollectionsKt___CollectionsKt.joinToString$default(_Collections.kt:2329)
        at shark.ApplicationLeak.createGroupHash(HeapAnalysis.kt:204)
        at shark.Leak.getGroupHash(HeapAnalysis.kt:146)
        at leakcanary.internal.activity.db.HeapAnalysisTable.insert(HeapAnalysisTable.kt:41)
        at leakcanary.DefaultOnHeapAnalyzedListener.onHeapAnalyzed(DefaultOnHeapAnalyzedListener.kt:31)
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:73)
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:201)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```",https://github.com/square/leakcanary/issues/1706#issuecomment-569232883,@ditclear which version of LeakCanary are you using?
square/leakcanary,"### Description

Leak canary appears to crash intermittently if automation tests are run with dumpHeap forced on

### Steps to Reproduce

Not sure, it takes a number of unrelated instrumentation tests running for it to occur. Looking at the trace, might be related to how fast a test can close and reopen the app?

**Expected behavior:**
Don't crash

### Version Information

* LeakCanary version: 2.0-b5
* Android OS version: 28
* Gradle version: 5.6.2

### Additional information
<!-- language: none -->
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: FATAL EXCEPTION: IntentService[HeapAnalyzerService]
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: java.lang.IllegalStateException: Hprof file missing due to: [Older than all other hprof files] /storage/emulated/0/Download/leakcanary-mypackagename/2019-12-04_08-55-13_155.hprof
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:50)
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at android.os.Handler.dispatchMessage(Handler.java:106)
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at android.os.Looper.loop(Looper.java:214)
	12-04 08:59:30.651  8365 11564 E AndroidRuntime: 	at android.os.HandlerThread.run(HandlerThread.java:65)

Not sure how to attach hprof files with a 10mb limit (they're huge even compressed), but I suspect it's not that useful anyhow.

![Leaks_SamsungS9_1](https://user-images.githubusercontent.com/41120437/70750841-10e84480-1ce4-11ea-8210-8b61fbfe0097.png)



",https://github.com/square/leakcanary/issues/1670#issuecomment-565463408,"Thanks! I'm glad we have those logs in place, it helps.

A few follow up questions:

* Do you set `LeakCanary.Config.maxStoredHeapDumps` to a value different than the default?
* `automation tests are run with dumpHeap forced on` why do that? Have you seen this? https://square.github.io/leakcanary/recipes/#running-leakcanary-in-instrumentation-tests

From the looks of it, and unless I'm mistaken, this can only happen if there are more than maxStoredHeapDumps heap dumps enqueued and waiting to be analyzed. Heaps dumps are removed by oldest first, so if a non analyzed heap dump is the oldest then all other heap dumps must also be non analyzed yet, since this HeapAnalyzerService is an intent service (serial treatment).

We could probably detect that situation by tracking start commands (https://stackoverflow.com/a/28648443/703646) . 

So the first step is to evaluate whether this is actually happening and why.

The next question is.. what to do when that happens. Do we want to keep more heap dumps than the limit? Do we want to drop the oldest analyzing requests? The newests?"
square/leakcanary,"### Description

LeakCanary beta 3 correctly sees [BiometricPrompt](https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.html) holding on to the `mAuthenticationCallback` field. Logcat snippets showing both versions processing the leaking event are [here](https://gist.github.com/msfjarvis/c955835b7074722c8d61f8d553c01319).

### Steps to Reproduce

Sample project: https://github.com/msfjarvis/leakcanary-test-project

1. Checkout the sample project to [`d3f9bbfedf78fc3bdb2ecc889e7bfc4637835fa3`](https://github.com/msfjarvis/leakcanary-test-project/commit/d3f9bbfedf78fc3bdb2ecc889e7bfc4637835fa3), so you can be on LeakCanary beta 3. 
2. Install and launch the app, authenticate with fingerprint, and then use home to go back. LeakCanary will automatically analyze and find the leak.
3. Now switch to `master` and repeat step 2, LeakCanary will dump heap and analyze it again, but will fail to find any leaks.

**Expected behavior:** LeakCanary beta 4 should also see the leak

### Version Information

* LeakCanary version: 2.0-beta-4
* Android OS version: 10
* Gradle version: 6.0.1

### Additional Information

This exact leak also [seems to exist](https://stackoverflow.com/questions/53481621/memory-leak-but-how-can-i-pass-a-different-context-than-the-one-of-the-activity/53825372#53825372) in [FingerprintManager](https://developer.android.com/reference/android/hardware/fingerprint/FingerprintManager.html) as well and was never fixed. I haven't found any fixes or workarounds yet so an update to framework leaks might be in order.",https://github.com/square/leakcanary/issues/1634#issuecomment-558220893,@msfjarvis Thanks for the detailed report! Can you share the hprof file from the leak found in Beta 3? That way I can repro automatically & git bissect.
square/leakcanary,"### Description

java.lang.NoSuchMethodError: No interface method getBuffer()Lokio/Buffer

![viber_image_2019-11-18_13-30-09](https://user-images.githubusercontent.com/13106194/69051771-f933de00-0a0d-11ea-914b-f28f4584f3cf.jpg)

### Version Information

* LeakCanary version: 2.0-beta-3
* Android OS version: all
* Gradle version: 4.10.2

### Additional Information

```
java.lang.NoSuchMethodError: No interface method getBuffer()Lokio/Buffer; in class Lokio/BufferedSource; or its super classes (declaration of 'okio.BufferedSource' appears in /data/app/com.viber.voip-6ojoFjZTeEeqwsTlqLMPvA==/base.apk!classes5.dex)
at shark.Hprof.moveReaderTo(Hprof.kt:43)
at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof(HprofInMemoryIndex.kt:404)
at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof$default(HprofInMemoryIndex.kt:346)
at shark.HprofHeapGraph$Companion.indexHprof(HprofHeapGraph.kt:187)
at shark.HeapAnalyzer.analyze(HeapAnalyzer.kt:100)
at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:61) 
at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:78)
at android.os.Handler.dispatchMessage(Handler.java:107) at android.os.Looper.loop(Looper.java:214)
at android.os.HandlerThread.run(HandlerThread.java:67)
```
",https://github.com/square/leakcanary/issues/1624#issuecomment-555188421,@alexander-smityuk Can you check which version of Okio is in your project?
square/leakcanary,"### Description

Hi!

**Scenario:**
I'm building an instant app through app bundle. At the time of launching the instant app I get a runtime exception.
There is a way to disable leak canary when is instant app?

**StackTrace:**
```
java.lang.RuntimeException: Unable to get provider leakcanary.internal.AppWatcherInstaller: kotlin.KotlinNullPointerException
        at android.app.ActivityThread.installProvider(ActivityThread.java:6988)
        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6528)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6445)
        at android.app.ActivityThread.access$1300(ActivityThread.java:219)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)
        at android.os.Handler.dispatchMessage(Handler.java:107)
        at android.os.Looper.loop(Looper.java:214)
        at android.app.ActivityThread.main(ActivityThread.java:7356)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)
     Caused by: kotlin.KotlinNullPointerException
        at leakcanary.internal.InternalLeakCanary.addDynamicShortcut(InternalLeakCanary.kt:124)
        at leakcanary.internal.InternalLeakCanary.invoke(InternalLeakCanary.kt:83)
        at leakcanary.internal.InternalLeakCanary.invoke(InternalLeakCanary.kt:30)
        at leakcanary.internal.InternalAppWatcher.install(InternalAppWatcher.kt:70)
        at leakcanary.internal.AppWatcherInstaller.onCreate(AppWatcherInstaller.kt:19)
        at android.content.ContentProvider.attachInfo(ContentProvider.java:2092)
        at android.content.ContentProvider.attachInfo(ContentProvider.java:2066)
        at android.app.ActivityThread.installProvider(ActivityThread.java:6983)
        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6528)¬†
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6445)¬†
        at android.app.ActivityThread.access$1300(ActivityThread.java:219)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)¬†
        at android.os.Handler.dispatchMessage(Handler.java:107)¬†
        at android.os.Looper.loop(Looper.java:214)¬†
        at android.app.ActivityThread.main(ActivityThread.java:7356)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)¬†
```

### Steps to Reproduce

From an instant enabled dynamic feature:

1. Add leak canary dependency to gradle
2. Run instant app feature

**Expected behavior:**
Instant app should run normally without crashing at launch time.

### Version Information

* LeakCanary version: 2.0-beta-3
* Android OS version: 10
* Gradle version: 5.6.4

### Additional Information

As I could investigate, the problem is here https://github.com/square/leakcanary/blob/53fa1902d3eb3aec9d99257a517dc6ad198acc39/leakcanary-android-core/src/main/java/leakcanary/internal/InternalLeakCanary.kt#L124
Looks like in instant app the `ShortcutManager` service is not available.",https://github.com/square/leakcanary/issues/1612#issuecomment-552009259,@SmasSive Can you test with the latest Snapshot version? https://square.github.io/leakcanary/faq/#how-do-i-use-the-snapshot-version
square/leakcanary,"### Description

My App runs well before 'debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-3', but it crash after that.
The application using kotlin and androidx, enable multiple-dex.

```
    --------- beginning of crash
10723-10859/com.wizarpos.nigeriapay E/AndroidRuntime: FATAL EXCEPTION: IntentService[HeapAnalyzerService]
    kotlin.TypeCastException: null cannot be cast to non-null type java.io.File
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:46)
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:148)
        at android.os.HandlerThread.run(HandlerThread.java:61)
```
",https://github.com/square/leakcanary/issues/1607#issuecomment-546201679,"Thanks for reporting this issue, we will take a look.
Can you please try running it with a previous version like this: `debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-2'`

Also, what device / OS version are you running?"
square/leakcanary,"Error messageÔºö

```
E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.xincaidong.truemerger, PID: 29219
    java.lang.RuntimeException: Unable to get provider leakcanary.internal.LeakCanaryFileProvider: java.lang.ClassNotFoundException: Didn't find class ""leakcanary.internal.LeakCanaryFileProvider"" on path: DexPathList[[zip file ""/data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/base.apk""],nativeLibraryDirectories=[/data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/lib/arm64, /data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/base.apk!/lib/arm64-v8a, /system/lib64, /vendor/lib64]]
        at android.app.ActivityThread.installProvider(ActivityThread.java:6542)
        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6030)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5936)
        at android.app.ActivityThread.access$1200(ActivityThread.java:200)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1673)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:201)
        at android.app.ActivityThread.main(ActivityThread.java:6815)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)
     Caused by: java.lang.ClassNotFoundException: Didn't find class ""leakcanary.internal.LeakCanaryFileProvider"" on path: DexPathList[[zip file ""/data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/base.apk""],nativeLibraryDirectories=[/data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/lib/arm64, /data/app/com.xincaidong.truemerger-dH6uDnSLWeCztjnKidrcTA==/base.apk!/lib/arm64-v8a, /system/lib64, /vendor/lib64]]
        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:171)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
        at android.app.AppComponentFactory.instantiateProvider(AppComponentFactory.java:121)
        at androidx.core.app.CoreComponentFactory.instantiateProvider(CoreComponentFactory.java:60)
        at android.app.ActivityThread.installProvider(ActivityThread.java:6526)
        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6030)¬†
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5936)¬†
        at android.app.ActivityThread.access$1200(ActivityThread.java:200)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1673)¬†
        at android.os.Handler.dispatchMessage(Handler.java:106)¬†
        at android.os.Looper.loop(Looper.java:201)¬†
        at android.app.ActivityThread.main(ActivityThread.java:6815)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)¬†
```

DependencyÔºö
```
debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-3'
```

‰∏çÈõÜÊàêÁöÑÊó∂ÂÄôÔºåÈÉΩÊòØÂèØ‰ª•ËøêË°åÁöÑÔºå‰∏ÄÈõÜÊàê‰πãÂêéÂ∞±Ë∑ë‰∏ç‰∫Ü„ÄÇÈ°πÁõÆÊòØ‰ΩøÁî®‰∫ÜAndroidXÁöÑÔºåËØ≠Ë®ÄÊòØjava

Edit with translation from Google translate:

> When it is not integrated, it can be run, and it cannot run after integration. The project uses AndroidX and the language is java",https://github.com/square/leakcanary/issues/1597#issuecomment-538482370,"Hello!
It looks like the `LeakCanaryFileProvider` is not present in the final apk, while being present in the `AndroidManifest.xml` as a content provider (this is done my leakcanary, it's correct).

With the `LeakCanaryFileProvider` being a part of `-core` package it's quite surprising it didn't made its way to the apk. Are you using code shrinker on the debug builds?

Also, can you please share the part of gradle script where you add dependency on Leakcanary? Just want to make sure it's been set up properly."
square/leakcanary,"### Description

We are seeing instrumentation tests failing due to the following stack trace:
```
:
    at shark.Hprof$Companion.open(Hprof.kt:70)
    at shark.HeapAnalyzer.analyze(HeapAnalyzer.kt:98)
    at leakcanary.InstrumentationLeakDetector.detectLeaks(InstrumentationLeakDetector.kt:169)
    at leakcanary.FailTestOnLeakRunListener.detectLeaks(FailTestOnLeakRunListener.kt:105)
    at leakcanary.FailTestOnLeakRunListener.testFinished(FailTestOnLeakRunListener.kt:87)
    at org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)
    at org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)
    at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)
    at org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)
    at org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)
    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    at androidx.test.runner.AndroidJUnit4.run(AndroidJUnit4.java:104)
    at org.junit.runners.Suite.runChild(Suite.java:128)
    at org.junit.runners.Suite.runChild(Suite.java:27)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
    at androidx.test.internal.runner.TestExecutor.execute(TestExecutor.java:56)
    at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:392)
    at com.XXX.test.instrumentation.runner.XXXAndroidJUnitRunner.onStart(XXXAndroidJUnitRunner.java:54)
    at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2022)
Caused by: :
Caused by: java.lang.IllegalArgumentException: Hprof file is 0 byte length
```
Leakcanary is enabled on Instrumentation tests with the appraoch suggested in:
https://github.com/square/leakcanary/blob/133a8f1febf4156ab139c9b4a436f669e501b077/docs/api/leakcanary-android-instrumentation/leakcanary/-instrumentation-leak-detector/-init-.md#add-an-instrumentation-test-listener

The issue happens ONLY on Moto G4 - athene with Android 7.
It appears that in slow devices, there might be a race condition between when heap is dumped and when heap is parsed.

**Update**: We ran the tests on several devices running Android 7, however we noticed the issue only on Moto G4 - athene.
### Steps to Reproduce

[Provide a sample project, a .hprof file or a failing test]

1. [First Step]
2. [Second Step]
3. [and so on...]

**Expected behavior:** [What you expect to happen]

### Version Information

* LeakCanary version: `2.0-beta-3`
* Android OS version: 7
* Gradle version:

### Additional Information

Any additional information, configuration or data that might be necessary to reproduce the issue.
",https://github.com/square/leakcanary/issues/1592#issuecomment-533646997,"> It appears that in slow devices, there might be a race condition between when heap is dumped and when heap is parsed.

Interesting! We could introduce a sleep, though I wonder how long would be needed. Can you tell by looking at the timestamp of when the heap dump file was last modified (vs timestamp of when dumping heap) ?"
square/leakcanary,"### Description

Updating to beta 3 from beta 2 I noticed that heap analysis became much slower (I'm assuming because of changes in https://github.com/square/leakcanary/pull/1543)

We mainly use LeakCanary in instrumentation tests on CI via Firebase test lab, and with beta 3 a heap analysis takes 14 minutes. This is really problematic because Firebase test matrices time out at 30 minutes, so if multiple tests have the same leak then the test matrix can't complete.

Leak canary v1, as well as v2-beta1, also had similarly slow performance that made it infeasible for us to use in instrumentation tests. Thankfully, beta 2 brought the analysis time down to about 5 minutes so we could actually use it.

I'm following the standard instructions for using leak canary with instrumentation tests. We also run our Firebase tests on a Pixel 3 physical device, which is the fastest one available. Running analysis locally on an emulator is a bit faster, but still around 10 minutes.

### Steps to Reproduce

hprof file at:
https://drive.google.com/file/d/1xJYE7YogS1Ae2sHyjbk5ZXlu6U0mjGBN/view?usp=sharing

1. Run heap analysis on hprof file with LeakCanary v2.0-beta-3
2. Takes ~14 minutes to complete on Pixel 3 Firebase device
3. Heap analysis with beta 2 seemed to be about half as long.

**Expected behavior:** [What you expect to happen]
For a ~70MB heap dump I'm not sure what the expected analysis time is, but this big of a regression across versions forces us to stay on beta 2 for now.

### Version Information

* LeakCanary version: v2.0-beta-3
* Android OS version: API 28
* Gradle version: 4.10.2

### Additional Information

As a side note, I am using a subclass of `FailTestOnLeakRunListener` that blocks heap analysis after one leak is found (in following tests). This helps to prevent the test matrix from taking too long and timing out if several of the tests have a leak. I am not sure if our heap analysis is much slower than others, or how other people are using instrumentation tests with leak canary, but a change like this was necessary for us to even be able to use it.",https://github.com/square/leakcanary/issues/1558#issuecomment-529001683,"@elihart When I run the analysis of this file in an emulator it takes 20 seconds. Can you import the file into LeakCanary and reanalyze it just to confirm? You can do that by opening the LeakCanary launcher app and going into the menu:

![Screenshot_1567801420](https://user-images.githubusercontent.com/557033/64458216-9a66f580-d0a9-11e9-85dd-b007309683ca.png)
"
square/leakcanary,"### Description

In our App we integrated leakcanary with instrumentation tests so that tests would fail if leaks are detected.

The issue is that memory leaks wouldn't be detected 100% of the time, which results into flakiness.
Has this been observed before ? Is there anything that we can do to improve ?

The leak tracker is initialized with:

```
LeakCanary.config = LeakCanary.config.copy(
                computeRetainedHeapSize = true,
                dumpHeap = true,
                dumpHeapWhenDebugging = true,
                retainedVisibleThreshold = 0,
                referenceMatchers = getWhitelistLeaks())

        AppWatcher.config = AppWatcher.config.copy(
                enabled = true,
                watchActivities = true,
                watchFragmentViews = true,
                watchDurationMillis = TimeUnit.SECONDS.toMillis(10))
    }
```

### Steps to Reproduce

[Provide a sample project, a .hprof file or a failing test]

1. [First Step]
2. [Second Step]
3. [and so on...]

**Expected behavior:** [What you expect to happen]

Leak should be detected 100% of the time, or should not be detected at all.

### Version Information

* LeakCanary version: `2.0-beta-3`
* Android OS version: `Android 7.0 (API 24)`
* Gradle version:

### Additional Information

Any additional information, configuration or data that might be necessary to reproduce the issue.
",https://github.com/square/leakcanary/issues/1550#issuecomment-524523659,"Have you seen this?

https://square.github.io/leakcanary/recipes/#running-leakcanary-in-instrumentation-tests"
square/leakcanary,"### Description

Leak analysis failed - error suggested I report this failure to LeakCanary. Including a link to .hprof and the logcat below.

### Steps to Reproduce

https://drive.google.com/open?id=1Eez5QchPJ9zjQqK-noO-qzh95tplHz82

```2019-08-12 14:53:02.159 16258-16289/com.radiocom.staging D/LeakCanary: Found 2 retained references, dumping the heap
2019-08-12 14:53:02.176 16258-16289/com.radiocom.staging I/adiocom.stagin: hprof: heap dump ""/storage/emulated/0/Download/leakcanary-com.radiocom.staging/2019-08-12_14-53-02_168.hprof"" starting...
2019-08-12 14:53:08.147 16258-16289/com.radiocom.staging D/LeakCanary: Checking retained object because found new object retained
2019-08-12 14:53:08.147 16258-16289/com.radiocom.staging D/LeakCanary: No retained objects
2019-08-12 14:53:08.253 16258-23141/com.radiocom.staging D/LeakCanary: Analysis in progress, working on: PARSING_HEAP_DUMP
2019-08-12 14:53:21.928 16258-23141/com.radiocom.staging D/LeakCanary: Analysis in progress, working on: REPORTING_HEAP_ANALYSIS
2019-08-12 14:53:21.931 16258-23141/com.radiocom.staging D/LeakCanary: HeapAnalysisFailure(heapDumpFile=/storage/emulated/0/Download/leakcanary-com.radiocom.staging/2019-08-12_14-53-02_168.hprof, createdAtTimeMillis=1565643201930, analysisDurationMillis=13678, exception=
    java.lang.RuntimeException: Not enough memory to allocate buffers for rehashing: 2097152 -> 4194304
        at shark.internal.hppc.LongObjectScatterMap.allocateBuffers(LongObjectScatterMap.kt:275)
        at shark.internal.hppc.LongObjectScatterMap.allocateThenInsertThenRehash(LongObjectScatterMap.kt:307)
        at shark.internal.hppc.LongObjectScatterMap.set(LongObjectScatterMap.kt:99)
        at shark.internal.HprofInMemoryIndex$Builder.onHprofRecord(HprofInMemoryIndex.kt:170)
        at shark.HprofReader.readHprofRecords(HprofReader.kt:424)
        at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof(HprofInMemoryIndex.kt:249)
        at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof$default(HprofInMemoryIndex.kt:211)
        at shark.HprofHeapGraph$Companion.indexHprof(HprofHeapGraph.kt:187)
        at shark.HeapAnalyzer.analyze(HeapAnalyzer.kt:100)
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:61)
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.OutOfMemoryError: Failed to allocate a 33554456 byte allocation with 10849984 free bytes and 10MB until OOM, max allowed footprint 201326592, growth limit 201326592
        at shark.internal.hppc.LongObjectScatterMap.allocateBuffers(LongObjectScatterMap.kt:269)
        at shark.internal.hppc.LongObjectScatterMap.allocateThenInsertThenRehash(LongObjectScatterMap.kt:307) 
        at shark.internal.hppc.LongObjectScatterMap.set(LongObjectScatterMap.kt:99) 
        at shark.internal.HprofInMemoryIndex$Builder.onHprofRecord(HprofInMemoryIndex.kt:170) 
        at shark.HprofReader.readHprofRecords(HprofReader.kt:424) 
        at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof(HprofInMemoryIndex.kt:249) 
        at shark.internal.HprofInMemoryIndex$Companion.createReadingHprof$default(HprofInMemoryIndex.kt:211) 
        at shark.HprofHeapGraph$Companion.indexHprof(HprofHeapGraph.kt:187) 
        at shark.HeapAnalyzer.analyze(HeapAnalyzer.kt:100) 
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:61) 
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55) 
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76) 
        at android.os.Handler.dispatchMessage(Handler.java:106) 
        at android.os.Looper.loop(Looper.java:193) 
        at android.os.HandlerThread.run(HandlerThread.java:65) 
    
    )
```

Trying to trigger memory leaks within app with LeakCanary monitoring, LeakCanary had a HeapAnalysisFailure

### Version Information

* LeakCanary version: LeakCanary 2.0-beta-2 cc5b133
* Phone: Pixel 2 XL
* Android OS version: 9
* Gradle version: gradle-4.10.1
",https://github.com/square/leakcanary/issues/1532#issuecomment-520673512,"Running the analysis with the profiler:

- Memory starts at 2Mb
- Goes up to 176Mb when building the index
- After building the index it drops back to 140Mb. => 1) what are the extra 36Mb for?
- Then it goes up to 181Mb => 2) Is this for finding leaking instances?
- Then down to 140Mb (so those were temporary 40Mb)
- Then up to 214Mb => 3) Is this for the shortest path? Maybe initial list of GC roots?
- Then down to 153Mb and slowing building back up to 190Mb => 4) What's that about?

Generally, we have two directions to investigate: a) the baseline memory required post hprof indexing, and how to lower that and b) the spikes while analyzing. The baseline is the most impactful right now.

I dumped the heap post indexing:

- The object cache uses 120Mb, the hprof string cache 13Mb
- Object cache (LongObjectScatterMap):
  - => Keys: 33Mb for the array
  - => values: 87Mb including 16Mb for the array => 71Mb for the rest => matches the remaining.
  - IndexedInstance (1.4M): 45Mb
  - PrimitiveArray (514K): 16Mb
  - ObjectArray (213K): 7Mb
  - Class (27K classes): 1Mb"
square/leakcanary,"### Description

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{cn.itsite.glomax/leakcanary.internal.activity.LeakActivity}: java.lang.ClassCastException: leakcanary.internal.activity.LeakActivity cannot be cast to androidx.appcompat.app.AppCompatActivity
```

### dependencies

```
    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-2'

```

Thank you for your wonderful lib.
Could you tell me how to solve this problem?My Activity extends AppCompatActivity.",https://github.com/square/leakcanary/issues/1526#issuecomment-517971577,Can you provide the full stracktrace? What were you trying to do?
square/leakcanary,"### Description

Can't build the app with LeakCanary when using material theme (Theme.MaterialComponents.NoActionBar).

Caused by: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.

### Version Information

* LeakCanary version: 2.0-alpha-3
* Android OS version: API28
* Gradle version: 3.4.2",https://github.com/square/leakcanary/issues/1512#issuecomment-517680127,"Is this a build error (ie when you run the ./gradlew command it fails) or a a runtime error (ie you start the app and it crashes) ? Can you provide the full stacktrace?

Can you try with the [latest release](https://square.github.io/leakcanary/changelog) of LeakCanary?"
square/leakcanary,"### Description

App crashes due to HeapAnalyzerService

### Steps to Reproduce

```stacktrace:
2019-06-25 09:33:10.296 21102-24672/? E/AndroidRuntime: FATAL EXCEPTION: IntentService[HeapAnalyzerService]
    Process: com.airgoat.goat.staging, PID: 21102
    java.util.NoSuchElementException: List is empty.
        at kotlin.collections.CollectionsKt___CollectionsKt.first(_Collections.kt:194)
        at leakcanary.internal.activity.db.LeakingInstanceTable.createGroupDescription(LeakingInstanceTable.kt:277)
        at leakcanary.internal.activity.db.LeakingInstanceTable.insert(LeakingInstanceTable.kt:49)
        at leakcanary.internal.activity.db.HeapAnalysisTable.insert(HeapAnalysisTable.kt:55)
        at leakcanary.DefaultAnalysisResultListener.invoke(DefaultAnalysisResultListener.kt:40)
        at leakcanary.DefaultAnalysisResultListener.invoke(DefaultAnalysisResultListener.kt:22)
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:55)
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```
",https://github.com/square/leakcanary/issues/1407#issuecomment-505534445,@wugeorgeq Thanks! Are you using alpha 1 or alpha 2?
square/leakcanary,"### enable desugar build error

[in tag v2.0-alpha-2 code enable desugar will build error ]

### Steps to Reproduce

```
git checkout v2.0-alpha-2
```
add two line in gradle.properties

```
android.enableD8.desugaring=false
android.enableDesugar=true
```

build will with an error

error log:
```
org.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.
	at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)
	at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)
	at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)
	at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)
	at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)
	at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)
	at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)
	at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)
	at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)
	at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)
	at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)
	at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
	at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)
	at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)
	at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)
	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)
	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)
	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)
	at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)
	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)
	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)
	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)
	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)
	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)
	at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)
	at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)
	at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)
	at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)
	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)
	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)
	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)
	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)
	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)
	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)
	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)
	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)
	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)
	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)
	at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)
	at org.gradle.util.Swapper.swap(Swapper.java:38)
	at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)
	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)
	at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)
	at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':leakcanary-sample:transformClassesWithDesugarForDebug'.
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:95)
	at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)
	at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)
	at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)
	at org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)
	at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)
	at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)
	at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)
	at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)
	at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)
	at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)
	at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)
	at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)
	at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)
	at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)
	at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)
	at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)
	at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)
	... 6 more
Caused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/1.jar --input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/18.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-analyzer/build/libs/leakcanary-analyzer-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-leaksentry/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-watcher/build/libs/leakcanary-watcher-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-haha/build/libs/leakcanary-haha-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-log/build/libs/leakcanary-log-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/tmp/kotlin-classes/debug --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/42582547e115bdc1396d856455b874a1dd5cd90c6c908d229678325304b1643f.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/11f6bdd4e815e4b64fae437ac4068ef62a39e10a4a08c6c8247d8a20e8c45c38.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/52df658a22d7e1ebd1222b3ae0ed3d59a57d5f53d60ebb0fd229c53d3115a3d8.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/32f3023577a3259af2540a00e9c851b37d8e73cdbbbcb6da1a1d95671387d47d.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0ce180eca808eca3928b09dd955d84c77cb4806333d5b750daaa07043e657403.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0f0e8bdba266b146dda89a3603b1c08b3ea452f647cca4b143ca5cfcafb1ed34.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/cffeb7e941e3762087633cb8cf70bb8d21e1b542563d732b0eeba06778c49d0e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/e1891b3c8464fe68ddea08a4d59013f1b080323896bb81628df016b078c160b7.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/c1f11d7ea0a21c349a817ed60cbec6f87011e8f2af6000cfec63645d9702294e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/898c88b7244c22a1990e479866c71e155075e4a880ca06e353a0857f20ab4e4d.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/platforms/android-28/android.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/build-tools/28.0.3/core-lambda-stubs.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes --copy_bridges_from_classpath}
	at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)
	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)
	at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
	at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:47)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:284)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)
	at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)
	at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:273)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:258)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:67)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:145)
	at org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:49)
	at org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)
	at org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)
	at org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)
	at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:33)
	at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)
	at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)
	at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)
	at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)
	at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:82)
	at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:36)
	at org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)
	at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)
	at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)
	at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)
	at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)
	at java.util.Optional.map(Optional.java:215)
	at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)
	at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)
	at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)
	... 35 more
Caused by: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/1.jar --input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/18.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-analyzer/build/libs/leakcanary-analyzer-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-leaksentry/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-watcher/build/libs/leakcanary-watcher-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-haha/build/libs/leakcanary-haha-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-log/build/libs/leakcanary-log-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/tmp/kotlin-classes/debug --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/42582547e115bdc1396d856455b874a1dd5cd90c6c908d229678325304b1643f.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/11f6bdd4e815e4b64fae437ac4068ef62a39e10a4a08c6c8247d8a20e8c45c38.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/52df658a22d7e1ebd1222b3ae0ed3d59a57d5f53d60ebb0fd229c53d3115a3d8.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/32f3023577a3259af2540a00e9c851b37d8e73cdbbbcb6da1a1d95671387d47d.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0ce180eca808eca3928b09dd955d84c77cb4806333d5b750daaa07043e657403.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0f0e8bdba266b146dda89a3603b1c08b3ea452f647cca4b143ca5cfcafb1ed34.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/cffeb7e941e3762087633cb8cf70bb8d21e1b542563d732b0eeba06778c49d0e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/e1891b3c8464fe68ddea08a4d59013f1b080323896bb81628df016b078c160b7.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/c1f11d7ea0a21c349a817ed60cbec6f87011e8f2af6000cfec63645d9702294e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/898c88b7244c22a1990e479866c71e155075e4a880ca06e353a0857f20ab4e4d.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/platforms/android-28/android.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/build-tools/28.0.3/core-lambda-stubs.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes --copy_bridges_from_classpath}
	at com.android.build.gradle.internal.transforms.DesugarTransform.transform(DesugarTransform.java:286)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)
	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)
	... 77 more
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/1.jar --input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/18.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-analyzer/build/libs/leakcanary-analyzer-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-leaksentry/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-watcher/build/libs/leakcanary-watcher-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-haha/build/libs/leakcanary-haha-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-log/build/libs/leakcanary-log-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/tmp/kotlin-classes/debug --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/42582547e115bdc1396d856455b874a1dd5cd90c6c908d229678325304b1643f.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/11f6bdd4e815e4b64fae437ac4068ef62a39e10a4a08c6c8247d8a20e8c45c38.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/52df658a22d7e1ebd1222b3ae0ed3d59a57d5f53d60ebb0fd229c53d3115a3d8.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/32f3023577a3259af2540a00e9c851b37d8e73cdbbbcb6da1a1d95671387d47d.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0ce180eca808eca3928b09dd955d84c77cb4806333d5b750daaa07043e657403.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0f0e8bdba266b146dda89a3603b1c08b3ea452f647cca4b143ca5cfcafb1ed34.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/cffeb7e941e3762087633cb8cf70bb8d21e1b542563d732b0eeba06778c49d0e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/e1891b3c8464fe68ddea08a4d59013f1b080323896bb81628df016b078c160b7.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/c1f11d7ea0a21c349a817ed60cbec6f87011e8f2af6000cfec63645d9702294e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/898c88b7244c22a1990e479866c71e155075e4a880ca06e353a0857f20ab4e4d.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/platforms/android-28/android.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/build-tools/28.0.3/core-lambda-stubs.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes --copy_bridges_from_classpath}
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)
	at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)
	at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)
	at com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:149)
	at com.android.build.gradle.internal.transforms.DesugarTransform.processNonCachedOnes(DesugarTransform.java:456)
	at com.android.build.gradle.internal.transforms.DesugarTransform.transform(DesugarTransform.java:271)
	... 80 more
Caused by: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/1.jar --input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/18.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-analyzer/build/libs/leakcanary-analyzer-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-leaksentry/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-watcher/build/libs/leakcanary-watcher-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-haha/build/libs/leakcanary-haha-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-log/build/libs/leakcanary-log-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/tmp/kotlin-classes/debug --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/42582547e115bdc1396d856455b874a1dd5cd90c6c908d229678325304b1643f.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/11f6bdd4e815e4b64fae437ac4068ef62a39e10a4a08c6c8247d8a20e8c45c38.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/52df658a22d7e1ebd1222b3ae0ed3d59a57d5f53d60ebb0fd229c53d3115a3d8.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/32f3023577a3259af2540a00e9c851b37d8e73cdbbbcb6da1a1d95671387d47d.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0ce180eca808eca3928b09dd955d84c77cb4806333d5b750daaa07043e657403.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0f0e8bdba266b146dda89a3603b1c08b3ea452f647cca4b143ca5cfcafb1ed34.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/cffeb7e941e3762087633cb8cf70bb8d21e1b542563d732b0eeba06778c49d0e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/e1891b3c8464fe68ddea08a4d59013f1b080323896bb81628df016b078c160b7.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/c1f11d7ea0a21c349a817ed60cbec6f87011e8f2af6000cfec63645d9702294e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/898c88b7244c22a1990e479866c71e155075e4a880ca06e353a0857f20ab4e4d.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/platforms/android-28/android.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/build-tools/28.0.3/core-lambda-stubs.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes --copy_bridges_from_classpath}
	at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1431)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/1.jar --input /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --output /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/transforms/desugar/debug/18.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-android-core/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-analyzer/build/libs/leakcanary-analyzer-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-leaksentry/build/intermediates/runtime_library_classes/debug/classes.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-watcher/build/libs/leakcanary-watcher-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-haha/build/libs/leakcanary-haha-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-log/build/libs/leakcanary-log-2.0-alpha-2.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/tmp/kotlin-classes/debug --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/42582547e115bdc1396d856455b874a1dd5cd90c6c908d229678325304b1643f.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/11f6bdd4e815e4b64fae437ac4068ef62a39e10a4a08c6c8247d8a20e8c45c38.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/52df658a22d7e1ebd1222b3ae0ed3d59a57d5f53d60ebb0fd229c53d3115a3d8.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/32f3023577a3259af2540a00e9c851b37d8e73cdbbbcb6da1a1d95671387d47d.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0ce180eca808eca3928b09dd955d84c77cb4806333d5b750daaa07043e657403.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/0f0e8bdba266b146dda89a3603b1c08b3ea452f647cca4b143ca5cfcafb1ed34.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/cffeb7e941e3762087633cb8cf70bb8d21e1b542563d732b0eeba06778c49d0e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/e1891b3c8464fe68ddea08a4d59013f1b080323896bb81628df016b078c160b7.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/c1f11d7ea0a21c349a817ed60cbec6f87011e8f2af6000cfec63645d9702294e.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/5de30bbc59babd16ec460e308bd312e0731b3ee5744092ab2b6b30e132d19ffd.jar --classpath_entry /Users/linsir/AndroidStudioProjects/leakcanary/leakcanary-sample/build/intermediates/fixed_stack_frames/debug/out/898c88b7244c22a1990e479866c71e155075e4a880ca06e353a0857f20ab4e4d.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/platforms/android-28/android.jar --bootclasspath_entry /Users/linsir/Library/Android/sdk/build-tools/28.0.3/core-lambda-stubs.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes --copy_bridges_from_classpath}
	at com.android.build.gradle.internal.process.GradleProcessResult.buildProcessException(GradleProcessResult.java:73)
	at com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:48)
	at com.android.build.gradle.internal.transforms.DesugarTransform.lambda$processNonCachedOnes$1(DesugarTransform.java:452)
	at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)
	... 4 more
Caused by: org.gradle.process.internal.ExecException: Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1
	at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:396)
	at com.android.build.gradle.internal.process.GradleProcessResult.assertNormalExitValue(GradleProcessResult.java:46)
	... 6 more


```




**Expected behavior:** [What you expect to happen]

fix it , build success

### Version Information

* LeakCanary version: v2.0-alpha-2
* Android OS version: all
* Gradle version: 3.4.0

",https://github.com/square/leakcanary/issues/1406#issuecomment-506849640,Is this a problem only for LeakCanary?
square/leakcanary,"### Description
i think Dynamic Shortcut should not add when release;
i saw the code and add R.bool.leak_canary_add_dynamic_shortcut to override the value to false,
but it not work.

### Version Information

* LeakCanary version: 2.0-alpha-2
* Android OS version: android P
* Gradle version: 5.1.1
",https://github.com/square/leakcanary/issues/1386#issuecomment-500635005,Any particular reason why you're adding LeakCanary to release builds? https://github.com/square/leakcanary#leakcanary-artifacts
square/leakcanary,"### Description

There is a NPE

### Steps to Reproduce

App crashed when I switched the app from the background to the foreground 

### Version Information

* LeakCanary version: com.squareup.leakcanary:leakcanary-android:2.0-alpha-2
* Android OS version: Android 8.0.0
* Gradle version: gradle-4.10.2-all

### Additional Information

kotlin.KotlinNullPointerException
 at leakcanary.HeapAnalyzer.readHeapDumpMemoryStore(HeapAnalyzer.kt:207)
 at leakcanary.HeapAnalyzer.checkForLeaks(HeapAnalyzer.kt:108)
 at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:49)
 at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:68)
 at android.os.Handler.dispatchMessage(Handler.java:105)
 at android.os.Looper.loop(Looper.java:176)
 at android.os.HandlerThread.run(HandlerThread.java:65)
",https://github.com/square/leakcanary/issues/1366#issuecomment-497635452,Thanks! Any chance you could upload the hprof file that caused this crash?
square/leakcanary,"### Description

""Leak analysis failed"" happened when I try the LeakCanary plugin 2.0-alpha-2 1f151c4

```
[...]
D/LeakCanary: Found 1 retained instances, which is less than the visible threshold of 5
D/LeakCanary: Checking retained instances because Showing retained instance notification
D/LeakCanary: Found 1 retained instances, which is less than the visible threshold of 5
[...]
D/LeakCanary: Dumping the heap because user tapped notification
D/LeakCanary: Checking retained instances because Showing retained instance notification
D/LeakCanary: No retained instances
D/LeakCanary: Analysis in progress, working on: READING_HEAP_DUMP_FILE
D/LeakCanary: HeapAnalysisFailure(heapDumpFile=/storage/emulated/0/Download/leakcanary-com.epicbutterfly.vince.wfootball4.dev/df5f4fa5-d4d6-4694-9947-c8ff5fb750c7_pending.hprof, createdAtTimeMillis=1559142821323, analysisDurationMillis=146, exception=
    java.io.EOFException
        at okio.RealBufferedSource.require(RealBufferedSource.kt:55)
        at okio.RealBufferedSource.readInt(RealBufferedSource.kt:259)
        at leakcanary.HprofParser$Companion.open(HprofParser.kt:954)
        at leakcanary.HeapAnalyzer.checkForLeaks(HeapAnalyzer.kt:100)
        at leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.kt:49)
        at leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.kt:55)
        at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
    
    )
```

### Steps to Reproduce

[Here is the hpref file](https://github.com/square/leakcanary/files/3233175/hprof.file.zip)

### Version Information

* LeakCanary version: 2.0-alpha-2 1f151c4
* Android OS version: API 28
* Gradle version: 5.4.1-all
",https://github.com/square/leakcanary/issues/1364#issuecomment-497261881,"@EBfVince the hprof file is 0 bytes. That's weird, it looks like the heap wasn't dumped properly. Is this the only case, does LeakCanary otherwise work fine on that device?"
square/leakcanary,"App deployed as instant app (debug variant) can not be ran when LeakCanary isenabled.

Using 1.6.3, tested with two devices. Works with an One Plus 5 with Android 9 (9.0.4 OxygenOS). Broken with a Huawei P9 lite with Android 7.0. Not really sure if this can be solved, but perhaps it can. As I obviously don't include LeakCanary in release builds, this bug is not too bad.

```kotlin
package de.chagemann.regexcrossword

import android.app.Application
import com.facebook.stetho.Stetho
import com.squareup.leakcanary.LeakCanary

class RegexApplication : Application() {

    override fun onCreate() {
        super.onCreate()
        
        if (LeakCanary.isInAnalyzerProcess(this)) {
            // This process is dedicated to LeakCanary for heap analysis.
            // You should not init your app in this process.
            return
        }
        LeakCanary.install(this)

        Stetho.initializeWithDefaults(this)
    }
}
```

```
2019-03-10 16:57:14.145 13588-13588/? E/AndroidRuntime: FATAL EXCEPTION: main
    Process: de.chagemann.regexcrossword, PID: 13588
    java.lang.RuntimeException: Unable to create application de.chagemann.regexcrossword.RegexApplication: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5677)
        at android.app.ActivityThread.-wrap2(ActivityThread.java)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1637)
        at android.os.Handler.dispatchMessage(Handler.java:105)
        at android.os.Looper.loop(Looper.java:156)
        at android.app.ActivityThread.main(ActivityThread.java:6523)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)
     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference
        at com.squareup.leakcanary.internal.LeakCanaryInternals.isInServiceProcess(LeakCanaryInternals.java:114)
        at com.squareup.leakcanary.LeakCanary.isInAnalyzerProcess(LeakCanary.java:182)
        at de.chagemann.regexcrossword.RegexApplication.onCreate(RegexApplication.kt:13)
        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1028)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5658)
        at android.app.ActivityThread.-wrap2(ActivityThread.java)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1637)¬†
        at android.os.Handler.dispatchMessage(Handler.java:105)¬†
        at android.os.Looper.loop(Looper.java:156)¬†
        at android.app.ActivityThread.main(ActivityThread.java:6523)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)¬†
2019-03-10 16:57:14.148 13538-13617/? E/Isotope: UID: [10053]  PID: [13538] IActivityManagerProxy : Instant app: de.chagemann.regexcrossword crashed: java.lang.RuntimeException: Unable to create application de.chagemann.regexcrossword.RegexApplication: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5677)
        at android.app.ActivityThread.-wrap2(ActivityThread.java)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1637)
        at android.os.Handler.dispatchMessage(Handler.java:105)
        at android.os.Looper.loop(Looper.java:156)
        at android.app.ActivityThread.main(ActivityThread.java:6523)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)
     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference
        at com.squareup.leakcanary.internal.LeakCanaryInternals.isInServiceProcess(LeakCanaryInternals.java:114)
        at com.squareup.leakcanary.LeakCanary.isInAnalyzerProcess(LeakCanary.java:182)
        at de.chagemann.regexcrossword.RegexApplication.onCreate(RegexApplication.kt:13)
        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1028)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5658)
        at android.app.ActivityThread.-wrap2(ActivityThread.java)¬†
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1637)¬†
        at android.os.Handler.dispatchMessage(Handler.java:105)¬†
        at android.os.Looper.loop(Looper.java:156)¬†
        at android.app.ActivityThread.main(ActivityThread.java:6523)¬†
        at java.lang.reflect.Method.invoke(Native Method)¬†
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)¬†
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)¬†
```
",https://github.com/square/leakcanary/issues/1196#issuecomment-474196226,"Thanks!

It looks like this is the line crashing: https://github.com/square/leakcanary/blob/master/leakcanary-android/src/main/java/com/squareup/leakcanary/internal/LeakCanaryInternals.java#L114

```
    if (serviceInfo.processName.equals(mainProcess)) {
```

So serviceInfo.processName is null? First time I see this.. but we can definitely handle that case in the next release."
square/leakcanary,"```
* FAILURE in 1.6.1 26145bf:java.lang.IllegalStateException: Could not find the com.squareup.leakcanary.KeyedWeakReference class in the heap dump.
at com.squareup.leakcanary.HeapAnalyzer.findLeakingReference(HeapAnalyzer.java:216)
at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:172)
at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntentInForeground(HeapAnalyzerService.java:67)
at com.squareup.leakcanary.internal.ForegroundService.onHandleIntent(ForegroundService.java:55)
at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
at android.os.Handler.dispatchMessage(Handler.java:111)
at android.os.Looper.loop(Looper.java:224)
at android.os.HandlerThread.run(HandlerThread.java:61)

* Reference Key: d469243b-dcc5-4fc8-874f-88865002c276
* Device: OPPO OPPO OPPO R9m R9m
* Android Version: 5.1 API: 22 LeakCanary: 1.6.1 26145bf
* Durations: watch=685299ms, gc=281ms, heap dump=7374ms, analysis=4502ms
* Excluded Refs:
| Field: android.os.Message.obj
| Field: android.os.Message.next
| Field: android.os.Message.target
| Field: android.view.inputmethod.InputMethodManager.mNextServedView
| Field: android.view.inputmethod.InputMethodManager.mServedView
| Field: android.view.inputmethod.InputMethodManager.mServedInputConnection
| Field: android.view.inputmethod.InputMethodManager.mCurRootView
| Field: android.animation.LayoutTransition$1.val$parent
| Field: android.view.textservice.SpellCheckerSession$1.this$0
| Field: android.widget.SpellChecker$1.this$0
| Field: android.support.v7.internal.widget.ActivityChooserModel.mActivityChoserModelPolicy
| Field: android.widget.ActivityChooserModel.mActivityChoserModelPolicy
| Field: android.accounts.AccountManager$AmsTask$Response.this$1
| Field: android.media.MediaScannerConnection.mContext
| Field: android.os.UserManager.mContext
| Field: android.media.AudioManager$1.this$0
| Field: android.widget.Editor$Blink.this$0
| Field: android.net.ConnectivityManager.sInstance
| Field: android.view.Choreographer$FrameDisplayEventReceiver.mMessageQueue (always)
| Static field: android.text.TextLine.sCached
| Thread:FinalizerWatchdogDaemon (always)
| Thread:main (always)
| Thread:LeakCanary-Heap-Dump (always)
| Class:java.lang.ref.WeakReference (always)
| Class:java.lang.ref.SoftReference (always)
| Class:java.lang.ref.PhantomReference (always)
| Class:java.lang.ref.Finalizer (always)
| Class:java.lang.ref.FinalizerReference (always)
```",https://github.com/square/leakcanary/issues/1124#issuecomment-430650485,Thanks! Can you upload the corresponding heapdump?
square/leakcanary,"leakcanary version: 1.5.4


Click the ""Share info""

```
04-17 17:48:14.556 576-979/? E/QC-QMI: linux_qmi_qmux_io_wake_lock: Err in writing wakelock=qmuxd_port_wl_0, error [1:Operation not permitted]
    linux_qmi_qmux_io_wake_unlock: Err in writing wakelock=qmuxd_port_wl_0, error [1:Operation not permitted]
04-17 17:48:19.472 20886-20886/com.opera.android:leakcanary E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 1493668)
04-17 17:48:19.476 20886-20886/com.opera.android:leakcanary E/InputEventReceiver: Exception dispatching input event.
04-17 17:48:19.476 20886-20886/com.opera.android:leakcanary E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback
04-17 17:48:19.489 20886-20886/com.opera.android:leakcanary E/MessageQueue-JNI: java.lang.RuntimeException: Failure from system
        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1618)
        at android.app.Activity.startActivityForResult(Activity.java:4487)
        at android.app.Activity.startActivityForResult(Activity.java:4445)
        at android.app.Activity.startActivity(Activity.java:4806)
        at android.app.Activity.startActivity(Activity.java:4774)
        at com.squareup.leakcanary.internal.DisplayLeakActivity.shareLeak(DisplayLeakActivity.java:207)
        at com.squareup.leakcanary.internal.DisplayLeakActivity$1.onMenuItemClick(DisplayLeakActivity.java:166)
        at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:163)
        at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:908)
        at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:898)
        at com.android.internal.view.menu.MenuPopup.onItemClick(MenuPopup.java:128)
        at android.widget.AdapterView.performItemClick(AdapterView.java:318)
        at android.widget.AbsListView.performItemClick(AbsListView.java:1158)
        at android.widget.AbsListView$PerformClick.run(AbsListView.java:3127)
        at android.widget.AbsListView.onTouchUp(AbsListView.java:4054)
        at android.widget.AbsListView.onTouchEvent(AbsListView.java:3813)
        at android.widget.DropDownListView.onTouchEvent(DropDownListView.java:116)
        at android.view.View.dispatchTouchEvent(View.java:11776)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2962)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2643)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2968)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2657)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2968)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2657)
        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2406)
        at android.view.View.dispatchPointerEvent(View.java:12015)
        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4795)
        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4609)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4200)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4166)
        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4293)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4174)
        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4350)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4200)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4166)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4174)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6661)
        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6635)
        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6596)
        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6764)
        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:186)
        at android.os.MessageQueue.nativePollOnce(Native Method)
        at android.os.MessageQueue.next(MessageQueue.java:325)
        at android.os.Looper.loop(Looper.java:142)
        at android.app.ActivityThread.main(ActivityThread.java:6494)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)
     Caused by: android.os.TransactionTooLargeException: data parcel size 1493668 bytes
        at android.os.BinderProxy.transactNative(Native Method)
        at android.os.BinderProxy.transact(Binder.java:764)
    	at android.app.IActivityManager$Stub$Proxy.startActivity(IActiv
04-17 17:48:19.499 20886-20886/com.opera.android:leakcanary E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.opera.android:leakcanary, PID: 20886
    java.lang.RuntimeException: Failure from system
        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1618)
        at android.app.Activity.startActivityForResult(Activity.java:4487)
        at android.app.Activity.startActivityForResult(Activity.java:4445)
        at android.app.Activity.startActivity(Activity.java:4806)
        at android.app.Activity.startActivity(Activity.java:4774)
        at com.squareup.leakcanary.internal.DisplayLeakActivity.shareLeak(DisplayLeakActivity.java:207)
        at com.squareup.leakcanary.internal.DisplayLeakActivity$1.onMenuItemClick(DisplayLeakActivity.java:166)
        at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:163)
        at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:908)
        at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:898)
        at com.android.internal.view.menu.MenuPopup.onItemClick(MenuPopup.java:128)
        at android.widget.AdapterView.performItemClick(AdapterView.java:318)
        at android.widget.AbsListView.performItemClick(AbsListView.java:1158)
        at android.widget.AbsListView$PerformClick.run(AbsListView.java:3127)
        at android.widget.AbsListView.onTouchUp(AbsListView.java:4054)
        at android.widget.AbsListView.onTouchEvent(AbsListView.java:3813)
        at android.widget.DropDownListView.onTouchEvent(DropDownListView.java:116)
        at android.view.View.dispatchTouchEvent(View.java:11776)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2962)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2643)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2968)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2657)
        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2968)
        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2657)
        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2406)
        at android.view.View.dispatchPointerEvent(View.java:12015)
        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4795)
        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4609)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4200)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4166)
        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4293)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4174)
        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4350)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4200)
        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4166)
        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4174)
        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4147)
        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6661)
        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6635)
        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6596)
        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6764)
        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:186)
        at android.os.MessageQueue.nativePollOnce(Native Method)
        at android.os.MessageQueue.next(MessageQueue.java:325)
        at android.os.Looper.loop(Looper.java:142)
        at android.app.ActivityThread.main(ActivityThread.java:6494)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)
     Caused by: android.os.TransactionTooLargeException: data parcel size 1493668 bytes
        at android.os.BinderProxy.transactNative(Native Method)
04-17 17:48:19.500 20886-20886/com.opera.android:leakcanary E/AndroidRuntime:     at android.os.BinderProxy.transact(Binder.java:764)
        at android.app.IActivityManager$Stub$Proxy.startActivity(IActivityManager.java:4351)
        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1611)
        	... 50 more
    
    
    --------- beginning of system
04-17 17:48:20.553 3720-3720/? E/BeaconBle: Scan couldn't start for Places
```",https://github.com/square/leakcanary/issues/968#issuecomment-383255948,"DisplayLeakActivity.shareLeak() is starting an activity with the leak info, which can be a really large string.

Rumor says this can also happen if your buffer happens to be full at that time. Not sure if true or not.

In theory we could cut the string down when this happens, better have a shorter string than a crash?"
square/leakcanary,"hi ,I'm sorry to bother you. My project displays this error at compile time. I Don'T understand what the problem is ?
Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.
> java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex

AndroidStudio 3.0 

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation 'com.android.support:appcompat-v7:26.0.1'
    implementation 'com.android.support.constraint:constraint-layout:1.0.2'
    testImplementation 'junit:junit:4.12'
    androidTestImplementation 'com.android.support.test:runner:0.5'
    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'
    compile 'android.arch.lifecycle:runtime:1.0.0-alpha9'
    compile 'android.arch.lifecycle:extensions:1.0.0-alpha9'
    annotationProcessor ""android.arch.lifecycle:compiler:1.0.0-alpha9""
    compile 'android.arch.persistence.room:runtime:1.0.0-alpha9'
    annotationProcessor ""android.arch.persistence.room:compiler:1.0.0-alpha9""
    testCompile 'android.arch.persistence.room:testing:1.0.0-alpha9'
    compile 'android.arch.persistence.room:rxjava2:1.0.0-alpha9'
    compile project(path: ':library')
    implementation 'com.android.support:design:26.0.2'
    compile 'com.lcodecorex:tkrefreshlayout:1.0.7'
    debugCompile 'com.squareup.leakcanary:leakcanary-android:1.5.2'
    releaseCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.2'
    compile 'com.android.support:multidex:1.0.2'
}
",https://github.com/square/leakcanary/issues/847#issuecomment-470321501,Try updating LeakCanary?
square/leakcanary,"I am getting above error I am using below dependencies I have all searched on the web but I got no solution.

    compile 'com.squareup.retrofit2:retrofit:2.0.2'
    compile 'com.android.support:multidex:1.0.1'
    debugCompile 'com.squareup.leakcanary:leakcanary-android:1.5.2'
    releaseCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.2'
    compile 'com.squareup.retrofit2:converter-gson:2.0.2'
    compile 'com.squareup.okhttp3:logging-interceptor:3.0.0'",https://github.com/square/leakcanary/issues/821#issuecomment-322364831,how to fix it 
square/leakcanary,"I was trying out Leak Canary for the first time today and I couldn't get it to show a notification for an obvious leak (storing a view in a static variable). After debugging into the source code, I found that [Leak Canary will simply do nothing as long as a debugger is attached][1].

Which makes sense to me, but I think a lot of first-time users like me will be surprised that nothing is happening when they first fire up their app in the emulater after installing Leak Canary. So it might be a good idea to document this behaviour right under the installation instructions in the README of this repo, so first-time users are aware of this restriction.

Thanks for the awesome library!

[1]: https://github.com/square/leakcanary/blob/master/leakcanary-watcher/src/main/java/com/squareup/leakcanary/RefWatcher.java#L106",https://github.com/square/leakcanary/issues/710#issuecomment-284096695,How about the FAQ instead?
square/leakcanary,"SVC-Calling onStartCommand: com.squareup.leakcanary.DisplayLeakService@1e01bf51, flags=0, startId=1
* FAILURE in :java.lang.NullPointerException: Attempt to read from null array
                                                              at com.squareup.haha.trove.TLongObjectHashMap.isFree(TLongObjectHashMap.java:391)
                                                              at com.squareup.haha.trove.TLongObjectHashMap.index(TLongObjectHashMap.java:302)
                                                              at com.squareup.haha.trove.TLongObjectHashMap.get(TLongObjectHashMap.java:246)
                                                              at com.squareup.haha.perflib.Heap.getInstance(Heap.java:123)
                                                              at com.squareup.haha.perflib.Snapshot.findInstance(Snapshot.java:199)
                                                              at com.squareup.haha.perflib.Instance.readValue(Instance.java:225)
                                                              at com.squareup.haha.perflib.ArrayInstance.getValues(ArrayInstance.java:47)
                                                              at com.squareup.haha.perflib.ArrayInstance.accept(ArrayInstance.java:82)
                                                              at com.squareup.haha.perflib.analysis.TopologicalSort$TopologicalSortVisitor.doVisit(TopologicalSort.java:88)
                                                              at com.squareup.haha.perflib.analysis.TopologicalSort.compute(TopologicalSort.java:36)
                                                              at com.squareup.haha.perflib.Snapshot.computeDominators(Snapshot.java:311)
                                                              at com.squareup.leakcanary.HeapAnalyzer.findLeakTrace(HeapAnalyzer.java:188)
                                                              at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:123)
                                                              at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntent(HeapAnalyzerService.java:58)
                                                              at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
                                                              at android.os.Handler.dispatchMessage(Handler.java:111)
                                                              at android.os.Looper.loop(Looper.java:194)
                                                              at android.os.HandlerThread.run(HandlerThread.java:61)
                                                          
                                                          * Reference Key: 4c6c08c3-f6d3-4fbd-91d6-3399e13c0e4f
                                                          * Device: Xiaomi Xiaomi Redmi Note 3 hennessy
                                                          * Android Version: 5.0.2 API: 21 LeakCanary: 
                                                          * Durations: watch=5011ms, gc=238ms, heap dump=3444ms, analysis=43051ms
                                                          * Excluded Refs:
                                                          | Field: android.app.ActivityThread$ActivityClientRecord.nextIdle
                                                          | Field: android.view.inputmethod.InputMethodManager.mNextServedView
                                                          | Field: android.view.inputmethod.InputMethodManager.mServedView
                                                          | Field: android.view.inputmethod.InputMethodManager.mServedInputConnection
                                                          | Field: android.view.inputmethod.InputMethodManager.mCurRootView
                                                          | Field: android.animation.LayoutTransition$1.val$parent
                                                          | Field: android.view.textservice.SpellCheckerSession$1.this$0
                                                          | Field: android.support.v7.internal.widget.ActivityChooserModel.mActivityChoserModelPolicy
                                                          | Field: android.widget.ActivityChooserModel.mActivityChoserModelPolicy
                                                          | Field: android.accounts.AccountManager$AmsTask$Response.this$1
                                                          | Field: android.media.MediaScannerConnection.mContext
                                                          | Field: android.os.UserManager.mContext
                                                          | Field: android.appwidget.AppWidgetHost$Callbacks.this$0
                                                          | Field: android.media.AudioManager$1.this$0
                                                          | Field: android.widget.Editor$Blink.this$0
                                                          | Field: android.net.ConnectivityManager.sInstance
                                                          | Field: android.view.Choreographer$FrameDisplayEventReceiver.mMessageQueue (always)
                                                          | Static field: android.media.session.MediaSessionLegacyHelper.sInstance
                                                          | Static field: android.text.TextLine.sCached
                                                          | Thread:FinalizerWatchdogDaemon (always)
                                                          | Thread:main (always)
                                                          | Thread:LeakCanary-Heap-Dump (always)
                                                          | Class:java.lang.ref.WeakReference (always)
                                                          | Class:java.lang.ref.SoftReference (always)
                                                          | Class:java.lang.ref.PhantomReference (always)
                                                          | Class:java.lang.ref.Finalizer (always)
                                                          | Class:java.lang.ref.FinalizerReference (always)",https://github.com/square/leakcanary/issues/700#issuecomment-292093177,"This _appears_ to be a bug in perflib, but to be sure, can you provide the hprof file?"
square/leakcanary,"* FAILURE:
```
java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference
  at com.squareup.leakcanary.HeapAnalyzer.findLeakingReference(HeapAnalyzer.java:160)
  at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:95)
  at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntent(HeapAnalyzerService.java:57)
  at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)
  at android.os.Handler.dispatchMessage(Handler.java:102)
  at android.os.Looper.loop(Looper.java:148)
  at android.os.HandlerThread.run(HandlerThread.java:61)
```

* Reference Key: c1231eae-d560-4a40-8b80-bb15f397b181
* Device: LGE google Nexus 5 hammerhead
* Android Version: 6.0.1 API: 23 LeakCanary: 1.3.1
* Durations: watch=5010ms, gc=124ms, heap dump=4460ms, analysis=14234ms

Here's the **ScreenShot**:
![screenshot_20161202-125337](https://cloud.githubusercontent.com/assets/18696978/20826757/080fbc42-b88f-11e6-88f3-7fb3a23db532.png)

",https://github.com/square/leakcanary/issues/667#issuecomment-304516199,@DanishAmjad12 @webmaster33 @adunayak @huiye520 Does this still happen using version 1.5.1?
square/leakcanary,"```
java.lang.ArrayIndexOutOfBoundsException: length=0; index=0
    at com.squareup.haha.perflib.ClassObj.getStaticFieldValues(ClassObj.java:156)
    at com.squareup.haha.perflib.ClassObj.accept(ClassObj.java:194)
    at com.squareup.haha.perflib.analysis.TopologicalSort$TopologicalSortVisitor.doVisit(TopologicalSort.java:88)
    at com.squareup.haha.perflib.analysis.TopologicalSort.compute(TopologicalSort.java:36)
    at com.squareup.haha.perflib.Snapshot.computeDominators(Snapshot.java:311)
    at com.squareup.leakcanary.HeapAnalyzer.findLeakTrace(HeapAnalyzer.java:157)
    at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:91)
    at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntent(HeapAnalyzerService.java:58)
    at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
    at android.os.Handler.dispatchMessage(Handler.java:111)
    at android.os.Looper.loop(Looper.java:194)
    at android.os.HandlerThread.run(HandlerThread.java:61)

* Reference Key: 54ee5059-f355-4813-85bc-b7da0e1f9267
* Device: vivo vivo vivo X5Pro D bbk6752_lwt_l
* Android Version: 5.0 API: 21 LeakCanary: 1.4-beta2 3799172
* Durations: watch=5067ms, gc=167ms, heap dump=3136ms, analysis=37396ms
* Excluded Refs:
| Field: android.app.ActivityThread$ActivityClientRecord.nextIdle
| Field: android.view.inputmethod.InputMethodManager.mNextServedView
| Field: android.view.inputmethod.InputMethodManager.mServedView
| Field: android.view.inputmethod.InputMethodManager.mServedInputConnection
| Field: android.view.inputmethod.InputMethodManager.mCurRootView
| Field: android.animation.LayoutTransition$1.val$parent
| Field: android.view.textservice.SpellCheckerSession$1.this$0
| Field: android.support.v7.internal.widget.ActivityChooserModel.mActivityChoserModelPolicy
| Field: android.widget.ActivityChooserModel.mActivityChoserModelPolicy
| Field: android.accounts.AccountManager$AmsTask$Response.this$1
| Field: android.media.MediaScannerConnection.mContext
| Field: android.os.UserManager.mContext
| Field: android.appwidget.AppWidgetHost$Callbacks.this$0
| Field: android.media.AudioManager$1.this$0
| Field: android.widget.Editor$Blink.this$0
| Field: android.view.Choreographer$FrameDisplayEventReceiver.mMessageQueue (always)
| Static field: android.media.session.MediaSessionLegacyHelper.sInstance
| Static field: android.text.TextLine.sCached
| Thread:FinalizerWatchdogDaemon (always)
| Thread:main (always)
| Thread:LeakCanary-Heap-Dump (always)
| Class:java.lang.ref.WeakReference (always)
| Class:java.lang.ref.SoftReference (always)
| Class:java.lang.ref.PhantomReference (always)
| Class:java.lang.ref.Finalizer (always)
| Class:java.lang.ref.FinalizerReference (always)
| Root Class:android.os.Binder (always)
```
",https://github.com/square/leakcanary/issues/570#issuecomment-246249815,"@tmexcept Could you provide your heap dump?
"
square/leakcanary,"LeakCanary Version: 1.3.1
In my team, we wanted to have an option to disable/enable leakcanary at runtime, because the library freezes our app a lot and it is not usable. So we've created a small adapter so we can have a no-op watcher in debug builds. Something like this:

```
if (isLekcanaryEnabled()) {
    watcher = new WatcherAdapter(
            LeakCanary.install(ctx));
} else {
    watcher = new NoOpWatcher();
}
```

I think it would be nice to have such feature in the library itself.
What do you think? If you think it is a nice idea, I am ready to contribute.

Thanks.
",https://github.com/square/leakcanary/issues/512#issuecomment-225542792,"Why don't you just use `RefWatcher.DISABLED`?

That is basically the no-op implementation you are looking for.
"
square/leakcanary,"LeakCanary Version: 
com.squareup.leakcanary:leakcanary-android:1.4-beta2

```
* FAILURE:
    java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List com.squareup.haha.perflib.ClassObj.getInstancesList()' on a null object reference
    at com.squareup.leakcanary.HeapAnalyzer.findLeakingReference(HeapAnalyzer.java:129)
    at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:84)
    at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntent(HeapAnalyzerService.java:58)
    at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
    at android.os.Handler.dispatchMessage(Handler.java:102)
    at android.os.Looper.loop(Looper.java:135)
    at android.os.HandlerThread.run(HandlerThread.java:61)

```
",https://github.com/square/leakcanary/issues/471#issuecomment-203168399,"Interesting. This means `snapshot.findClass(KeyedWeakReference.class.getName());` returned null. It looks like the heap dump did not contain the `KeyedWeakReference` class, or perflib wasn't able to find it.

@luxiaoyu can you post a link to the heap dump file?
"
square/leakcanary,"![image](https://cloud.githubusercontent.com/assets/7311419/14101118/c6f9eac6-f5c4-11e5-8f65-dea830dc1c3b.png)
",https://github.com/square/leakcanary/issues/469#issuecomment-202833600,"This looks similar to #341.  What version of LeakCanary are you using?
"
square/leakcanary,"In com.sumxiang.noteapp:1.0:2.
- FAILURE:
  java.lang.NullPointerException: java.lang.NullPointerException
  at com.squareup.leakcanary.HahaHelper.classInstanceValues(HahaHelper.java:143)
  at com.squareup.leakcanary.HahaHelper.asString(HahaHelper.java:73)
  at com.squareup.leakcanary.HahaHelper.threadName(HahaHelper.java:55)
  at com.squareup.leakcanary.ShortestPathFinder.enqueueGcRoots(ShortestPathFinder.java:133)
  at com.squareup.leakcanary.ShortestPathFinder.findPath(ShortestPathFinder.java:82)
  at com.squareup.leakcanary.HeapAnalyzer.findLeakTrace(HeapAnalyzer.java:112)
  at com.squareup.leakcanary.HeapAnalyzer.checkForLeak(HeapAnalyzer.java:87)
  at com.squareup.leakcanary.internal.HeapAnalyzerService.onHandleIntent(HeapAnalyzerService.java:58)
  at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
  at android.os.Handler.dispatchMessage(Handler.java:102)
  at android.os.Looper.loop(Looper.java:136)
  at android.os.HandlerThread.run(HandlerThread.java:61)
- Reference Key: 17ea16ba-cb43-4a23-bd9e-18c6ad09b2d2
- Device: Xiaomi Xiaomi HM 1SW armani
- Android Version: 4.4.4 API: 19 LeakCanary: 1.4-beta1 02804f3
- Durations: watch=5018ms, gc=123ms, heap dump=580ms, analysis=4082ms
- Excluded Refs:
  | Field: android.app.ActivityThread$ActivityClientRecord.nextIdle
  | Field: android.widget.Editor$EasyEditSpanController.this$0
  | Field: android.widget.Editor$SpanController.this$0
  | Field: android.os.Message.obj
  | Field: android.os.Message.next
  | Field: android.os.Message.target
  | Field: android.view.inputmethod.InputMethodManager.mNextServedView
  | Field: android.view.inputmethod.InputMethodManager.mServedView
  | Field: android.view.inputmethod.InputMethodManager.mServedInputConnection
  | Field: android.view.inputmethod.InputMethodManager.mCurRootView
  | Field: android.animation.LayoutTransition$1.val$parent
  | Field: android.view.textservice.SpellCheckerSession$1.this$0
  | Field: android.support.v7.internal.widget.ActivityChooserModel.mActivityChoserModelPolicy
  | Field: android.widget.ActivityChooserModel.mActivityChoserModelPolicy
  | Field: android.speech.SpeechRecognizer$InternalListener.this$0
  | Field: android.accounts.AccountManager$AmsTask$Response.this$1
  | Field: android.media.MediaScannerConnection.mContext
  | Field: android.os.UserManager.mContext
  | Field: android.appwidget.AppWidgetHost$Callbacks.this$0
  | Field: android.media.AudioManager$1.this$0
  | Field: android.view.Choreographer$FrameDisplayEventReceiver.mMessageQueue (always)
  | Static field: android.text.TextLine.sCached
  | Thread:FinalizerWatchdogDaemon (always)
  | Thread:main (always)
  | Thread:LeakCanary-Heap-Dump (always)
  | Class:java.lang.ref.WeakReference (always)
  | Class:java.lang.ref.SoftReference (always)
  | Class:java.lang.ref.PhantomReference (always)
  | Class:java.lang.ref.Finalizer (always)
  | Class:java.lang.ref.FinalizerReference (always)
  | Root Class:android.os.Binder (always)
  dump http://pan.baidu.com/s/1c0KU7y4
",https://github.com/square/leakcanary/issues/417#issuecomment-198804624,"@fanwu123 Can you reproduce this consistently? Does it happen on other devices as well?

@jrodbx yet another string parsing in heap dump problem? Not sure.. this is in API 19.
"
square/leakcanary,"I'm having a new crash on Marshmallow with the latest version of leak canary (1.4-SNAPSHOT, latest snapshot):

```
java.lang.UnsupportedOperationException: Could not create leak directory /storage/emulated/0/Download/leakcanary-com.myapp
   at com.squareup.leakcanary.DefaultLeakDirectoryProvider.leakDirectory(DefaultLeakDirectoryProvider.java:23)
   at com.squareup.leakcanary.AndroidHeapDumper.getHeapDumpFile(AndroidHeapDumper.java:113)
   at com.squareup.leakcanary.AndroidHeapDumper.access$100(AndroidHeapDumper.java:33)
   at com.squareup.leakcanary.AndroidHeapDumper$1.run(AndroidHeapDumper.java:100)
   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
   at java.lang.Thread.run(Thread.java:818)
```

I don't think it was happening in the previous snapshot.
",https://github.com/square/leakcanary/issues/374#issuecomment-169628647,"possibly related to https://github.com/square/leakcanary/issues/285 (storage permission issue)?
"
square/leakcanary,"Sometimes the Toast with the message ""Dumping memory, app will freeze. Brrr."" appears on my application and does not disappear. 
I also get a few ANR while this message is visible (I think this is expected) and always select wait instead of killing the application. 
The only way to remove the Toast is killing the application.
To install the leakcanary I only added the install method on the application class (`LeakCanary.install(this);`). It is necessary to do something more? 

On my device (OnePlus One with Android 5.1.1) I never get this behaviour but on Android emulator with Android 6.0 it happens with some frequency.  
",https://github.com/square/leakcanary/issues/285#issuecomment-146139111,"Was confused why we were using the storage permission, this makes perfect sense now! Our workaround is to request the permission using Google's new permission handling for our debug version.

Can the permission be removed from the releaseCompile version though? The storage permission still comes through even for release builds, which might seem strange to users.
"
square/leakcanary,"I've got this:

```
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$1: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$Itr
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$2: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$Itr
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$RandomAccessWrappedList: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$RandomAccessWrappedList: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedList
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$SortedAsMap: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$AsMap
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$SortedKeySet: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$KeySet
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedList: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedList: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedList$WrappedListIterator: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedList$WrappedListIterator: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection$WrappedIterator
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedSet: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedSortedSet: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedSortedSet: can't find referenced class com.squareup.haha.guava.collect.AbstractMapBasedMultimap$com.squareup.haha.guava.collect.AbstractMapBasedMultimap$WrappedCollection
Warning: com.squareup.haha.guava.collect.AbstractMultimap$EntrySet: can't find referenced class com.squareup.haha.guava.collect.AbstractMultimap$com.squareup.haha.guava.collect.AbstractMultimap$Entries
Warning: com.squareup.haha.guava.collect.ImmutableMultimap$1: can't find referenced class com.squareup.haha.guava.collect.ImmutableMultimap$com.squareup.haha.guava.collect.ImmutableMultimap$Itr
Warning: com.squareup.haha.guava.collect.ImmutableMultimap$2: can't find referenced class com.squareup.haha.guava.collect.ImmutableMultimap$com.squareup.haha.guava.collect.ImmutableMultimap$Itr
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$EntryIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$WriteThroughEntry
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$WriteThroughEntry
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$WriteThroughEntry
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$KeyIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator
Warning: com.squareup.haha.guava.collect.MapMakerInternalMap$ValueIterator: can't find referenced class com.squareup.haha.guava.collect.MapMakerInternalMap$com.squareup.haha.guava.collect.MapMakerInternalMap$HashIterator
Warning: com.squareup.haha.perflib.io.MemoryMappedFileBuffer: can't find referenced class sun.misc.Cleaner
Warning: com.squareup.haha.perflib.io.MemoryMappedFileBuffer: can't find referenced class sun.nio.ch.DirectBuffer
Warning: com.squareup.haha.perflib.io.MemoryMappedFileBuffer: can't find referenced class sun.misc.Cleaner
Warning: com.squareup.haha.perflib.io.MemoryMappedFileBuffer: can't find referenced class sun.nio.ch.DirectBuffer
Warning: com.squareup.haha.trove.THashMap$EntryView: can't find referenced class com.squareup.haha.trove.THashMap$com.squareup.haha.trove.THashMap$MapBackedView
Warning: com.squareup.haha.trove.THashMap$KeyView: can't find referenced class com.squareup.haha.trove.THashMap$com.squareup.haha.trove.THashMap$MapBackedView
Warning: com.squareup.haha.trove.THashMap$ValueView: can't find referenced class com.squareup.haha.trove.THashMap$com.squareup.haha.trove.THashMap$MapBackedView
Warning: there were 50 unresolved references to classes or interfaces.
         You may need to add missing library jars or update their versions.
         If your code works fine without the missing classes, you can suppress
         the warnings with '-dontwarn' options.
         (http://proguard.sourceforge.net/manual/troubleshooting.html#unresolvedclass)
Exception while processing task
```

Even though in my proguard.cfg:

```
-keep class org.eclipse.mat.** { *; }
-keep class com.squareup.leakcanary.** { *; }
-keep class com.squareup.haha.** { *; }
-keep class sun.misc.** { *; }
-keep class sun.nio.** { *; }
```
",https://github.com/square/leakcanary/issues/265#issuecomment-137253562,"mmm that's strange. What happens when you turn off proguard in your app, does LeakCanary work just fine?
"
square/leakcanary,"Will be cool to have a setLogLevel or something like that to add leakcanary logcat prints just when you want.
",https://github.com/square/leakcanary/issues/201#issuecomment-121331232,"Is that really a problem? You're supposed to use LeakCanary only in your dev builds. Do you need debug builds without all the logs.

I guess I could use Timber.
"
square/leakcanary,"This is on a Galaxy Nexus:

```
 StrictMode policy violation; ~duration=102 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=95 violation=2
    at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1089)
    at libcore.io.BlockGuardOs.read(BlockGuardOs.java:148)
    at libcore.io.IoBridge.read(IoBridge.java:422)
    at java.io.FileInputStream.read(FileInputStream.java:179)
    at org.apache.harmony.security.provider.crypto.RandomBitsSupplier.getUnixDeviceRandom(RandomBitsSupplier.java:111)
    at org.apache.harmony.security.provider.crypto.RandomBitsSupplier.getRandomBits(RandomBitsSupplier.java:159)
    at org.apache.harmony.security.provider.crypto.SHA1PRNG_SecureRandomImpl.engineNextBytes(SHA1PRNG_SecureRandomImpl.java:288)
    at java.security.SecureRandom.nextBytes(SecureRandom.java:273)
    at java.util.UUID.randomUUID(UUID.java:130)
    at com.squareup.leakcanary.RefWatcher.watch(RefWatcher.java:96)
    at com.squareup.leakcanary.RefWatcher.watch(RefWatcher.java:80)
    at com.squareup.leakcanary.ActivityRefWatcher.onActivityDestroyed(ActivityRefWatcher.java:76)
    at com.squareup.leakcanary.ActivityRefWatcher$1.onActivityDestroyed(ActivityRefWatcher.java:59)
    at android.app.Application.dispatchActivityDestroyed(Application.java:210)
    at android.app.Activity.onDestroy(Activity.java:1396)
    at android.app.Activity.performDestroy(Activity.java:4629)
    at android.app.Instrumentation.callActivityOnDestroy(Instrumentation.java:1079)
    at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:3099)
    at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:3130)
    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3328)
    at android.app.ActivityThread.access$700(ActivityThread.java:123)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1151)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4424)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
 Shutting down VM
 threadid=1: thread exiting with uncaught exception (group=0x40a461f8)
 FATAL EXCEPTION: main
 android.os.StrictMode$StrictModeViolation: policy=95 violation=2
    at android.os.StrictMode.executeDeathPenalty(StrictMode.java:1326)
    at android.os.StrictMode.access$1300(StrictMode.java:111)
    at android.os.StrictMode$AndroidBlockGuardPolicy.handleViolation(StrictMode.java:1319)
    at android.os.StrictMode$AndroidBlockGuardPolicy$1.run(StrictMode.java:1206)
    at android.os.Handler.handleCallback(Handler.java:605)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4424)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
 GC_CONCURRENT freed 237K, 3% free 12786K/13127K, paused 3ms+2ms
   Force finishing activity com.example.leakcanary/.MainActivity
 Activity pause timeout for ActivityRecord{41f6cfd8 com.example.leakcanary/.MainActivity}
```
",https://github.com/square/leakcanary/issues/155#issuecomment-121345182,"What version of LeakCanary are you using?
"
square/leakcanary,"DisplayLeakActivity is enabled, but it should only run on target api over 11.

```
05-24 13:12:06.550      371-371/com.github.baoti.pioneer W/dalvikvmÔπï threadid=1: thread exiting with uncaught exception (group=0x4001e578)
05-24 13:12:06.560      371-371/com.github.baoti.pioneer E/AndroidRuntimeÔπï FATAL EXCEPTION: main
    java.lang.NoSuchMethodError: com.squareup.leakcanary.internal.DisplayLeakActivity.invalidateOptionsMenu
            at com.squareup.leakcanary.internal.DisplayLeakActivity.updateUi(DisplayLeakActivity.java:270)
            at com.squareup.leakcanary.internal.DisplayLeakActivity.access$500(DisplayLeakActivity.java:66)
            at com.squareup.leakcanary.internal.DisplayLeakActivity$LoadLeaks$3.run(DisplayLeakActivity.java:435)
            at android.os.Handler.handleCallback(Handler.java:587)
            at android.os.Handler.dispatchMessage(Handler.java:92)
            at android.os.Looper.loop(Looper.java:130)
            at android.app.ActivityThread.main(ActivityThread.java:3691)
            at java.lang.reflect.Method.invokeNative(Native Method)
            at java.lang.reflect.Method.invoke(Method.java:507)
            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
            at dalvik.system.NativeStart.main(Native Method)
```
",https://github.com/square/leakcanary/issues/148#issuecomment-105048282,"1) Increase Minimum API level
2) AppCompat
3) Reflection 

@pyricau Which options you want to do? 
"
skylot/jadx,"the lastest unstable jadx(v1.1.0-b1234-c24a3edb)
apkÈìæÊé•Ôºöhttps://drive.google.com/open?id=1Ij0MNPby7Jnd1vnvvjvWXE1MRmttdaXm

class nameÔºö`flutter.rhes.top.flutterpluginrdsdk9.SdkHandler`
Search for `success` in java
![image](https://user-images.githubusercontent.com/42903751/74152000-570c4680-4c48-11ea-8330-ecc185a4287a.png)


Search for `success` in smali
![image](https://user-images.githubusercontent.com/42903751/74151701-b584f500-4c47-11ea-8320-d3e9335dea09.png)



",https://github.com/skylot/jadx/issues/848#issuecomment-584316794,"@skylot Right, the lambda classes are also displayed inline. 
A list of all inner classes that were included while generating the Java code would be the best option. Then the smali code would really include all relevant classes no matter what setting is active. 

But generating this class list seems to be a little tricky as the outer ¬¥ClassNode¬¥ is not accessible where the actual inlining happens in `InsGen`. Or do you see a different way to get the information on the inlined classes?"
skylot/jadx,"Hi, I'm trying to decompile Tiktok app (https://drive.google.com/file/d/1lfQvIqsfxXq8Uru6_voDDn50dkx_nBh3/view?usp=sharing) with the following settings
![image](https://user-images.githubusercontent.com/15173437/73224393-65536080-417a-11ea-850f-ee1d2ecc6f0b.png)

The only thing I see is repeating outputs like
```
INFO  - JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r5v116, resolved type: java.util.List} in com.ss.android.ugc.aweme.global.config.settings.pojo.IESSettings.ProtoAdapter_IESSettings.decode(com.squareup.wire.ProtoReader, com.ss.android.ugc.aweme.global.config.settings.pojo.IESSettings):com.ss.android.ugc.aweme.global.config.settings.pojo.IESSettings
```

Decompilation stucks at 99%, I believe there is only one class left which is never finished because of an endless loop",https://github.com/skylot/jadx/issues/840#issuecomment-579137889,"Are you sure you waited long enough? It seems like this app contains a very large class with hundred of variables, that requires some time for decompilation. In my tests the decompilation was finished in about 30 minutes. However during the decompilation I encountered several captured StackOverflowException, may be with a larger stack it would have taken even more time."
skylot/jadx,"```
public enum d implements x.a.c {
    ;
    
    private static x.a.c sB;
}
```
```
.class public final enum Lx/a/d;
.super Ljava/lang/Enum;
.source ""SourceFile""

# interfaces
.implements Lx/a/c;
# static fields
.field public static final enum sA:Lx/a/d;

.field private static sB:Lx/a/c;
```
As you can see, sA is dropped",https://github.com/skylot/jadx/issues/830#issuecomment-573842160,@addhaloka can you post full smali for this class or attach original apk? I understand the source of the issue but I need complete class to be sure.
skylot/jadx,"Something similar happened before: 
https://github.com/skylot/jadx/issues/803#issue-540100836
https://github.com/skylot/jadx/issues/742#issue-484938135

jadx version: dev(2019.12.23 the lastest commitÔºÅ) and jadx-1.1.0-b1197-0c55ab90
Tested both my compiled jadx and the unstable version of jadx you posted

apk link: https://drive.google.com/open?id=1ZC4soMkpfcFiGwbHb3bHIm0-PjxY6AQO
apk version:`3.3.227-10000227`

class:`com.adguard.android.n`
find:`joke_phrase_0`
![image](https://user-images.githubusercontent.com/42903751/71343146-e2971e80-2599-11ea-85be-bc289fbd9103.png)


but in GDAÔºö
![image](https://user-images.githubusercontent.com/42903751/71343502-0444d580-259b-11ea-97cf-b70754560390.png)
Open jadx to the same location
class:`com.adguard.android.ui.DrawerActivity`
find:`joke_phrase_0`
method:`protected void onPostCreate(android.os.Bundle bundle)`
![image](https://user-images.githubusercontent.com/42903751/71343253-31dd4f00-259a-11ea-93df-2f3c7a00f9cf.png)

This is the third time I have encountered the same problem in jadx and I don't know what to do.
I sincerely suggest you think about it: `search based on smali`",https://github.com/skylot/jadx/issues/812#issuecomment-568460094,"I can not reproduce this issue. I downloaded the linked APK file and opened it in jadx-1.1.0-b1197-0c55ab90 on Windows using AdoptOpenJDK 11.0.5.

Full text for `joke_phrase_0` shows me 3 occurrences. The two from your screen shot plus the one in com.adguard.android.ui.DrawerActivity.

I am getting the same result when starting the same Jadx version on Ubuntu 18.04 using OpenJdk 11.0.5. 

Are you sure you have assigned enough RAM/Heap for Jadx so that Jadx is able to fully decompile the app and create the full text index? If Jadx is running out of ram the full text index may be incomplete. 

In my environment 4 GB max heap is sufficient to open the APK file you have posted. If you use an older Java version you may need more RAM as the memory management of older Java versions is not as good as the one from Java 11. "
skylot/jadx,"Hi, when I try to decompile Twitter app, I see a lot of stackoverflows like
```
""pool-1-thread-4"" #15 prio=5 os_prio=0 cpu=19984.38ms elapsed=743.20s tid=0x00000023f0927000 nid=0xee4 runnable  [0x0000002382af9000]
   java.lang.Thread.State: RUNNABLE
        at java.util.HashMap.keySet(java.base@12.0.1/HashMap.java:903)
        at java.util.HashSet.iterator(java.base@12.0.1/HashSet.java:173)
        at java.util.AbstractCollection.addAll(java.base@12.0.1/AbstractCollection.java:351)
        at jadx.core.dex.regions.conditions.IfInfo.merge(IfInfo.java:52)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeIfInfo(IfMakerHelper.java:295)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:224)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
        at jadx.core.dex.visitors.regions.IfMakerHelper.mergeNestedIfNodes(IfMakerHelper.java:226)
        at jadx.core.dex.visitors.regions.IfMakerHelper.searchNestedIf(IfMakerHelper.java:55)
```

Arguments
```
--no-replace-consts --show-bad-code --threads-count 4 --no-inline-anonymous --no-imports --deobf --deobf-min 2 --deobf-rewrite-cfg
```

APK: https://drive.google.com/file/d/1WAf3xb7uznY0XKlL-6UDcfiDVm9_hvUg/view?usp=sharing",https://github.com/skylot/jadx/issues/809#issuecomment-568219328,"Hello,

I was unable to reproduce with latest version of jadx.

By the way, this doesn't seem like an error. It looks like a normal stack trace of a thread showing what the thread in question is currently executing.

Are you executing jadx directly from the command line or from within, let's say, an IDE? I suspect your runtime environment enables some kind of thread debugging, which results in this information being printed on the console. I'm not a Java expert, just guessing here.

Also, is this the complete error log or you have trimmed it down?"
skylot/jadx,"Open ``` com.ksmobile.launcher.LauncherModel ```, you will see that tons of methods are not generated because of error
```java
        void mo22935a(
/*
Method generation error in method: com.ksmobile.launcher.LauncherModel.b.a(com.ksmobile.launcher.az, boolean, boolean):void, dex: classes.dex
        jadx.core.utils.exceptions.JadxRuntimeException: Code variable not set in r1v0 ?
        	at jadx.core.dex.instructions.args.SSAVar.getCodeVar(SSAVar.java:189)
        	at jadx.core.codegen.MethodGen.addMethodArguments(MethodGen.java:157)
        	at jadx.core.codegen.MethodGen.addDefinition(MethodGen.java:129)
        	at jadx.core.codegen.ClassGen.addMethod(ClassGen.java:297)
        	at jadx.core.codegen.ClassGen.addMethods(ClassGen.java:263)
        	at jadx.core.codegen.ClassGen.addClassBody(ClassGen.java:226)
        	at jadx.core.codegen.ClassGen.addClassCode(ClassGen.java:111)
        	at jadx.core.codegen.ClassGen.addInnerClasses(ClassGen.java:238)
        	at jadx.core.codegen.ClassGen.addClassBody(ClassGen.java:225)
        	at jadx.core.codegen.ClassGen.addClassCode(ClassGen.java:111)
        	at jadx.core.codegen.ClassGen.makeClass(ClassGen.java:77)
        	at jadx.core.codegen.CodeGen.wrapCodeGen(CodeGen.java:49)
        	at jadx.core.codegen.CodeGen.generateJavaCode(CodeGen.java:33)
        	at jadx.core.codegen.CodeGen.generate(CodeGen.java:21)
        	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
        	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:273)
        
*/
```

APK: https://drive.google.com/file/d/1ITPTFbRKIvV9UlcctL-J5OcuMjaR3k8y/view?usp=sharing",https://github.com/skylot/jadx/issues/775#issuecomment-549493048,"Are you sure you have tested this APK using the latest unstable build? 
Because using the latest unstable version I don't see any `Code variable not set` errors in the mentioned class (the class is not fully decompiled but at least this message never occurs). 

Even using full text search I am not able find any  `Code variable not set` errors."
skylot/jadx,"window10
![res](https://user-images.githubusercontent.com/27600008/67998931-299d1d80-fc95-11e9-8036-db2675e347a8.gif)

",https://github.com/skylot/jadx/issues/772#issuecomment-548699071,"Which Jadx version do you use? Have you tried the latest unstable version? Does this bug occur always?
Which Java version is used (shown for example in Jadx about box)?"
skylot/jadx,"I am deobfuscating an app containing android.support library, whose classes are obfuscated as a, b, etc. Automatic deobfuscator doesn't recognize android.support.vX as a valid name and renames vX to autogenerated unique name like C0001vX",https://github.com/skylot/jadx/issues/765#issuecomment-543118756,"What name would you have expected? 
Note that Jadx does not contain functionality for library identification. Therefore Jadx is is not able to regenerate the original class names. The deobfuscation feature is mainly for classes that has been obfuscated in a way that makes them hard to read by humans."
skylot/jadx,"when running on MacBook Pro, Jadx recognises case sensitive file systems as insensitive file systems and case insensitive file systems as case sensitive.",https://github.com/skylot/jadx/issues/747#issuecomment-528729137,"When opening an issue you should provide a bit more info that just one sentence:

1. What is Jade?
2. What is the effect of this case sensitive and insensitive errors?"
skylot/jadx,"Hi @skylot,

I've noticed that a lot of apps are not decompiled completely. I caught one of them with a deadlock 

jadx-cli args
```
--no-replace-consts --show-bad-code --threads-count 8 --no-inline-anonymous --no-imports --deobf --deobf-min 2 --deobf-rewrite-cfg
```

Output of ``` jstack ```
```
Full thread dump Java HotSpot(TM) 64-Bit Server VM (12.0.2+10 mixed mode, sharing):

Threads class SMR info:
_java_thread_list=0x00007ffec3f45cc0, length=21, elements={
0x00007ffec200b000, 0x00007ffec60b1800, 0x00007ffec2004000, 0x00007ffec5834000,
0x00007ffec5833000, 0x00007ffec5837000, 0x00007ffec5008800, 0x00007ffec5860000,
0x00007ffec508f800, 0x00007ffec2923000, 0x00007ffec662e000, 0x00007ffec7755000,
0x00007ffec30af000, 0x00007ffec30b2000, 0x00007ffec4115000, 0x00007ffec32f3800,
0x00007ffec4116000, 0x00007ffec32fe800, 0x00007ffec5a9a000, 0x00007ffec742f000,
0x00007ffec8341800
}

""main"" #1 prio=5 os_prio=31 cpu=6028.67ms elapsed=150.42s tid=0x00007ffec200b000 nid=0x2203 waiting on condition  [0x000070000eb68000]
   java.lang.Thread.State: TIMED_WAITING (parking)
	at jdk.internal.misc.Unsafe.park(java.base@12.0.2/Native Method)
	- parking to wait for  <0x000000046b2754d0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.parkNanos(java.base@12.0.2/LockSupport.java:235)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(java.base@12.0.2/AbstractQueuedSynchronizer.java:2123)
	at java.util.concurrent.ThreadPoolExecutor.awaitTermination(java.base@12.0.2/ThreadPoolExecutor.java:1454)
	at jadx.api.JadxDecompiler.save(JadxDecompiler.java:143)
	at jadx.api.JadxDecompiler.save(JadxDecompiler.java:128)
	at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:39)
	at jadx.cli.JadxCLI.main(JadxCLI.java:19)

   Locked ownable synchronizers:
	- None

""Reference Handler"" #2 daemon prio=10 os_prio=31 cpu=1.32ms elapsed=150.40s tid=0x00007ffec60b1800 nid=0x4403 waiting on condition  [0x000070001007d000]
   java.lang.Thread.State: RUNNABLE
	at java.lang.ref.Reference.waitForReferencePendingList(java.base@12.0.2/Native Method)
	at java.lang.ref.Reference.processPendingReferences(java.base@12.0.2/Reference.java:241)
	at java.lang.ref.Reference$ReferenceHandler.run(java.base@12.0.2/Reference.java:213)

   Locked ownable synchronizers:
	- None

""Finalizer"" #3 daemon prio=8 os_prio=31 cpu=0.20ms elapsed=150.40s tid=0x00007ffec2004000 nid=0x3703 in Object.wait()  [0x0000700010f80000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(java.base@12.0.2/Native Method)
	- waiting on <0x000000044479a3d0> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@12.0.2/ReferenceQueue.java:155)
	- locked <0x000000044479a3d0> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@12.0.2/ReferenceQueue.java:176)
	at java.lang.ref.Finalizer$FinalizerThread.run(java.base@12.0.2/Finalizer.java:170)

   Locked ownable synchronizers:
	- None

""Signal Dispatcher"" #4 daemon prio=9 os_prio=31 cpu=0.26ms elapsed=150.40s tid=0x00007ffec5834000 nid=0x3d03 runnable  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

""C2 CompilerThread0"" #5 daemon prio=9 os_prio=31 cpu=9832.54ms elapsed=150.40s tid=0x00007ffec5833000 nid=0xa903 waiting on condition  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
   No compile task

   Locked ownable synchronizers:
	- None

""C1 CompilerThread0"" #8 daemon prio=9 os_prio=31 cpu=3159.32ms elapsed=150.40s tid=0x00007ffec5837000 nid=0x5603 waiting on condition  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
   No compile task

   Locked ownable synchronizers:
	- None

""Sweeper thread"" #9 daemon prio=9 os_prio=31 cpu=82.48ms elapsed=150.40s tid=0x00007ffec5008800 nid=0xa603 runnable  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

""Service Thread"" #10 daemon prio=9 os_prio=31 cpu=4.99ms elapsed=150.38s tid=0x00007ffec5860000 nid=0x5903 runnable  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

""Common-Cleaner"" #11 daemon prio=8 os_prio=31 cpu=1.34ms elapsed=150.38s tid=0x00007ffec508f800 nid=0x5c03 in Object.wait()  [0x0000700014e95000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(java.base@12.0.2/Native Method)
	- waiting on <no object reference available>
	at java.lang.ref.ReferenceQueue.remove(java.base@12.0.2/ReferenceQueue.java:155)
	- locked <0x000000044479ad88> (a java.lang.ref.ReferenceQueue$Lock)
	at jdk.internal.ref.CleanerImpl.run(java.base@12.0.2/CleanerImpl.java:148)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)
	at jdk.internal.misc.InnocuousThread.run(java.base@12.0.2/InnocuousThread.java:134)

   Locked ownable synchronizers:
	- None

""pool-1-thread-1"" #12 prio=5 os_prio=31 cpu=2235.01ms elapsed=143.88s tid=0x00007ffec2923000 nid=0x8f03 waiting for monitor entry  [0x0000700016ecb000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423df9f0> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b276298> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-2"" #13 prio=5 os_prio=31 cpu=4026.55ms elapsed=143.88s tid=0x00007ffec662e000 nid=0x8c03 waiting for monitor entry  [0x0000700017dce000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423d76b8> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b2eadd8> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-3"" #14 prio=5 os_prio=31 cpu=2233.49ms elapsed=143.88s tid=0x00007ffec7755000 nid=0x7003 waiting for monitor entry  [0x0000700018cd0000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.dex.nodes.ClassNode.loadAndProcess(ClassNode.java:251)
	at jadx.core.dex.nodes.RootNode.getClassGenerics(RootNode.java:279)
	at jadx.core.utils.TypeUtils.replaceClassGenerics(TypeUtils.java:35)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.invokeListener(TypeUpdate.java:296)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$45/0x00000008011adc40.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:73)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:50)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.applyImmutableType(TypeInferenceVisitor.java:155)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.setImmutableType(TypeInferenceVisitor.java:136)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor$$Lambda$126/0x000000080126b840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.runTypePropagation(TypeInferenceVisitor.java:102)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.visit(TypeInferenceVisitor.java:71)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:30)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$1(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$90/0x0000000801246840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$0(DepthTraversal.java:14)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$89/0x0000000801247440.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:14)
	at jadx.core.ProcessClass.process(ProcessClass.java:43)
	- locked <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004422eb2f0> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b3604f8> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-4"" #15 prio=5 os_prio=31 cpu=2264.72ms elapsed=143.88s tid=0x00007ffec30af000 nid=0x8703 waiting for monitor entry  [0x0000700019bd4000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423f94e8> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b3d5550> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-5"" #16 prio=5 os_prio=31 cpu=2017.32ms elapsed=143.88s tid=0x00007ffec30b2000 nid=0x7203 waiting for monitor entry  [0x000070001aad7000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423a1f28> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b000360> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-6"" #17 prio=5 os_prio=31 cpu=2136.99ms elapsed=143.88s tid=0x00007ffec4115000 nid=0x7303 waiting for monitor entry  [0x000070001b9da000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:60)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x000000044243a208> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b0eac38> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-7"" #18 prio=5 os_prio=31 cpu=2134.24ms elapsed=143.88s tid=0x00007ffec32f3800 nid=0x7403 waiting for monitor entry  [0x000070001c8db000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass.process(ProcessClass.java:27)
	at jadx.core.dex.nodes.ClassNode.loadAndProcess(ClassNode.java:251)
	at jadx.core.dex.nodes.RootNode.getClassGenerics(RootNode.java:279)
	at jadx.core.utils.TypeUtils.replaceClassGenerics(TypeUtils.java:35)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.invokeListener(TypeUpdate.java:296)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$45/0x00000008011adc40.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:142)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:73)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:50)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.applyImmutableType(TypeInferenceVisitor.java:155)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.setImmutableType(TypeInferenceVisitor.java:136)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor$$Lambda$126/0x000000080126b840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.runTypePropagation(TypeInferenceVisitor.java:102)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.visit(TypeInferenceVisitor.java:71)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:30)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$1(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$90/0x0000000801246840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:15)
	at jadx.core.ProcessClass.process(ProcessClass.java:43)
	- locked <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:60)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423a5b08> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b075828> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""pool-1-thread-8"" #19 prio=5 os_prio=31 cpu=2154.06ms elapsed=143.87s tid=0x00007ffec4116000 nid=0x8003 waiting for monitor entry  [0x000070001d7e0000]
   java.lang.Thread.State: BLOCKED (on object monitor)
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x0000000446a769b8> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- <0x000000046b2eb100> (a java.util.concurrent.ThreadPoolExecutor$Worker)

""Java2D Disposer"" #21 daemon prio=10 os_prio=31 cpu=1.86ms elapsed=141.24s tid=0x00007ffec32fe800 nid=0x7907 in Object.wait()  [0x000070001e6e3000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(java.base@12.0.2/Native Method)
	- waiting on <0x000000046b3d56f8> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@12.0.2/ReferenceQueue.java:155)
	- locked <0x000000046b3d56f8> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(java.base@12.0.2/ReferenceQueue.java:176)
	at sun.java2d.Disposer.run(java.desktop@12.0.2/Disposer.java:144)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- None

""AppKit Thread"" #22 daemon prio=5 os_prio=31 cpu=264.56ms elapsed=141.21s tid=0x00007ffec5a9a000 nid=0x307 runnable  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

""Java2D Queue Flusher"" #24 daemon prio=10 os_prio=31 cpu=83.59ms elapsed=140.95s tid=0x00007ffec742f000 nid=0xf507 in Object.wait()  [0x00007000207fb000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(java.base@12.0.2/Native Method)
	- waiting on <no object reference available>
	at sun.java2d.opengl.OGLRenderQueue$QueueFlusher.run(java.desktop@12.0.2/OGLRenderQueue.java:205)
	- locked <0x000000046b075b48> (a sun.java2d.opengl.OGLRenderQueue$QueueFlusher)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

   Locked ownable synchronizers:
	- None

""Attach Listener"" #54 daemon prio=9 os_prio=31 cpu=0.61ms elapsed=0.57s tid=0x00007ffec8341800 nid=0xc063 waiting on condition  [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

   Locked ownable synchronizers:
	- None

""VM Thread"" os_prio=31 cpu=583.42ms elapsed=150.41s tid=0x00007ffec5832000 nid=0x4503 runnable  

""GC Thread#0"" os_prio=31 cpu=357.17ms elapsed=150.42s tid=0x00007ffec581e800 nid=0x4f03 runnable  

""GC Thread#1"" os_prio=31 cpu=372.99ms elapsed=149.43s tid=0x00007ffec60a1800 nid=0x5f07 runnable  

""GC Thread#2"" os_prio=31 cpu=364.40ms elapsed=149.43s tid=0x00007ffec6158000 nid=0x5e07 runnable  

""GC Thread#3"" os_prio=31 cpu=363.83ms elapsed=149.43s tid=0x00007ffec6159000 nid=0x6207 runnable  

""GC Thread#4"" os_prio=31 cpu=378.84ms elapsed=149.43s tid=0x00007ffec2018000 nid=0xa003 runnable  

""GC Thread#5"" os_prio=31 cpu=374.66ms elapsed=149.43s tid=0x00007ffec6152000 nid=0x6403 runnable  

""GC Thread#6"" os_prio=31 cpu=245.64ms elapsed=148.57s tid=0x00007ffec290d000 nid=0x6e03 runnable  

""GC Thread#7"" os_prio=31 cpu=247.52ms elapsed=148.57s tid=0x00007ffec304e000 nid=0x9103 runnable  

""G1 Main Marker"" os_prio=31 cpu=0.56ms elapsed=150.42s tid=0x00007ffec500a000 nid=0x4d03 runnable  

""G1 Conc#0"" os_prio=31 cpu=230.08ms elapsed=150.42s tid=0x00007ffec581f800 nid=0x4a03 runnable  

""G1 Conc#1"" os_prio=31 cpu=235.44ms elapsed=148.63s tid=0x00007ffec49d7800 nid=0x6d03 runnable  

""G1 Refine#0"" os_prio=31 cpu=285.65ms elapsed=150.41s tid=0x00007ffec60a0000 nid=0x3003 runnable  

""G1 Refine#1"" os_prio=31 cpu=116.28ms elapsed=148.85s tid=0x00007ffec3099000 nid=0x9b03 runnable  

""G1 Refine#2"" os_prio=31 cpu=81.27ms elapsed=148.85s tid=0x00007ffec5861800 nid=0x9a03 runnable  

""G1 Refine#3"" os_prio=31 cpu=56.36ms elapsed=148.85s tid=0x00007ffec309a000 nid=0x9803 runnable  

""G1 Refine#4"" os_prio=31 cpu=50.29ms elapsed=148.85s tid=0x00007ffec291f000 nid=0x9603 runnable  

""G1 Refine#5"" os_prio=31 cpu=27.60ms elapsed=148.85s tid=0x00007ffec40c3800 nid=0x6a03 runnable  

""G1 Refine#6"" os_prio=31 cpu=26.09ms elapsed=148.85s tid=0x00007ffec309a800 nid=0x9403 runnable  

""G1 Refine#7"" os_prio=31 cpu=27.13ms elapsed=148.84s tid=0x00007ffec309b800 nid=0x6b03 runnable  

""G1 Young RemSet Sampling"" os_prio=31 cpu=129.26ms elapsed=150.41s tid=0x00007ffec60a1000 nid=0x4803 runnable  
""VM Periodic Task Thread"" os_prio=31 cpu=118.62ms elapsed=150.38s tid=0x00007ffec508e800 nid=0xa303 waiting on condition  

JNI global refs: 77, weak refs: 2


Found one Java-level deadlock:
=============================
""pool-1-thread-1"":
  waiting to lock monitor 0x000000014600b200 (object 0x0000000444a58f28, a jadx.core.dex.info.ClassInfo),
  which is held by ""pool-1-thread-7""
""pool-1-thread-7"":
  waiting to lock monitor 0x0000000145e9ee00 (object 0x0000000444a53c20, a jadx.core.dex.info.ClassInfo),
  which is held by ""pool-1-thread-3""
""pool-1-thread-3"":
  waiting to lock monitor 0x000000014600b200 (object 0x0000000444a58f28, a jadx.core.dex.info.ClassInfo),
  which is held by ""pool-1-thread-7""

Java stack information for the threads listed above:
===================================================
""pool-1-thread-1"":
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423df9f0> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)
""pool-1-thread-7"":
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass.process(ProcessClass.java:27)
	at jadx.core.dex.nodes.ClassNode.loadAndProcess(ClassNode.java:251)
	at jadx.core.dex.nodes.RootNode.getClassGenerics(RootNode.java:279)
	at jadx.core.utils.TypeUtils.replaceClassGenerics(TypeUtils.java:35)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.invokeListener(TypeUpdate.java:296)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$45/0x00000008011adc40.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:142)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.moveListener(TypeUpdate.java:324)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$36/0x00000008011af840.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:73)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:50)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.applyImmutableType(TypeInferenceVisitor.java:155)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.setImmutableType(TypeInferenceVisitor.java:136)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor$$Lambda$126/0x000000080126b840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.runTypePropagation(TypeInferenceVisitor.java:102)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.visit(TypeInferenceVisitor.java:71)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:30)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$1(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$90/0x0000000801246840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:15)
	at jadx.core.ProcessClass.process(ProcessClass.java:43)
	- locked <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:60)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004423a5b08> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)
""pool-1-thread-3"":
	at jadx.core.ProcessClass.process(ProcessClass.java:35)
	- waiting to lock <0x0000000444a58f28> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.dex.nodes.ClassNode.loadAndProcess(ClassNode.java:251)
	at jadx.core.dex.nodes.RootNode.getClassGenerics(RootNode.java:279)
	at jadx.core.utils.TypeUtils.replaceClassGenerics(TypeUtils.java:35)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.invokeListener(TypeUpdate.java:296)
	at jadx.core.dex.visitors.typeinference.TypeUpdate$$Lambda$45/0x00000008011adc40.update(Unknown Source)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.runListeners(TypeUpdate.java:190)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdate(TypeUpdate.java:171)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.requestUpdateForSsaVar(TypeUpdate.java:148)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeForSsaVar(TypeUpdate.java:136)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.updateTypeChecked(TypeUpdate.java:116)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:73)
	at jadx.core.dex.visitors.typeinference.TypeUpdate.apply(TypeUpdate.java:50)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.applyImmutableType(TypeInferenceVisitor.java:155)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.setImmutableType(TypeInferenceVisitor.java:136)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor$$Lambda$126/0x000000080126b840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.runTypePropagation(TypeInferenceVisitor.java:102)
	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.visit(TypeInferenceVisitor.java:71)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:30)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$1(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$90/0x0000000801246840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:15)
	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$0(DepthTraversal.java:14)
	at jadx.core.dex.visitors.DepthTraversal$$Lambda$89/0x0000000801247440.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:14)
	at jadx.core.ProcessClass.process(ProcessClass.java:43)
	- locked <0x0000000444a53c20> (a jadx.core.dex.info.ClassInfo)
	at jadx.core.ProcessClass$$Lambda$153/0x000000080127a840.accept(Unknown Source)
	at java.util.ArrayList.forEach(java.base@12.0.2/ArrayList.java:1540)
	at jadx.core.ProcessClass.generateCode(ProcessClass.java:61)
	at jadx.core.dex.nodes.ClassNode.decompile(ClassNode.java:262)
	- locked <0x00000004422eb2f0> (a jadx.core.dex.nodes.ClassNode)
	at jadx.api.JavaClass.getCodeInfo(JavaClass.java:53)
	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:201)
	at jadx.api.JadxDecompiler$$Lambda$74/0x00000008011f0040.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@12.0.2/ThreadPoolExecutor.java:1128)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@12.0.2/ThreadPoolExecutor.java:628)
	at java.lang.Thread.run(java.base@12.0.2/Thread.java:835)

Found 1 deadlock.
```

APK: https://drive.google.com/file/d/18wPwqqSeeppz5LDybFX3CLvAZJ3sB7JJ/view?usp=sharing",https://github.com/skylot/jadx/issues/743#issuecomment-525409010,"@skylot OK collecting the dependency information and building a dependency graph is also nice. Do you already have a working partitioning algorithm in mind for splitting up the graphs in regions that don't ""collide"", one for each thread?

Or do you have an alternative approach in mind how to make use of the dependency information?"
skylot/jadx,"**Checks before report**
- [+] check [latest unstable build](https://bintray.com/skylot/jadx/unstable/_latestVersion#files) (maybe issue already fixed)
- [+] search existing issues by exception message
- [+] check [Troubleshooting Q&A](https://github.com/skylot/jadx/wiki/Troubleshooting-Q&A) section on wiki

**Describe error**
Class ``` com.paypal.android.p2pmobile.appconfig.configNode.AtmFinderConfig ```
```java
    public AtmFinderConfig() {
        super(r1, r2, r3, r4, r5, r6);
        Boolean valueOf = Boolean.valueOf(false);
        EciDCSKeys eciDCSKeys = new EciDCSKeys(""atmFinder"", valueOf);
        EciDCSKeys eciDCSKeys2 = new EciDCSKeys(""atmFinderLayout"", ""map"");
        EciDCSKeys eciDCSKeys3 = new EciDCSKeys(""atmFinderSearch"", ""address"");
        EciDCSKeys eciDCSKeys4 = new EciDCSKeys(""atmFinderShowRecent"", valueOf);
        Boolean valueOf2 = Boolean.valueOf(true);
        EciDCSKeys eciDCSKeys5 = new EciDCSKeys(""atmFinderShowSearchBar"", valueOf2);
        EciDCSKeys eciDCSKeys6 = new EciDCSKeys(""atmFinderEnableTabOnMapDisableTabOnList"", valueOf2);
    }
```
If a result of execution is used only once, can it be inlined?

APK: https://drive.google.com/file/d/1fCN9PXu8Zw4Kdnhgd0_qmzEvgWLfEU-9/view?usp=sharing",https://github.com/skylot/jadx/issues/717#issuecomment-513902422,"> If a result of execution is used only once, can it be inlined?

Jadx usually does this, but with a condition: method invocation order must be preserved. And in this case, it is not possible because of `Boolean.valueOf(true);` method. Anyway, that boolean variables used twice so they will not be inlined. To fix this issue I need to implement ""reboxing"" to convert `valueOf` call to constants. So it is not a bug fix but a whole new feature :)

P.S. In the previous version of apk (2019-06-20) there is no such issue in this method and this is sad :(
"
skylot/jadx,"**Checks before report**
- [+] check [latest unstable build](https://bintray.com/skylot/jadx/unstable/_latestVersion#files) (maybe issue already fixed)
- [+] search existing issues by exception message
- [+] check [Troubleshooting Q&A](https://github.com/skylot/jadx/wiki/Troubleshooting-Q&A) section on wiki

**Describe error**
Please open the attached APK, and browse to sources. You will see reserved names in root package names e.g. ``` if ```, ``` for ```, ``` do ```

```java
         do.int.if.AffideliceauChablis.m35920a((java.lang.Object) settings, (java.lang.String) ""webView.settings"");
```

https://drive.google.com/file/d/1FezWyJKTexSoO4lFNDhnRvS7K4elD6bE/view?usp=sharing",https://github.com/skylot/jadx/issues/711#issuecomment-511200249,"@sergey-wowwow  I made a fix, can you check it?"
skylot/jadx,"**Checks before report**
- [+] check [latest unstable build](https://bintray.com/skylot/jadx/unstable/_latestVersion#files) (maybe issue already fixed)
- [+] search existing issues by exception message
 (for example `JadxRuntimeException: Can't find immediate dominator for block`)
- [+] check [Troubleshooting Q&A](https://github.com/skylot/jadx/wiki/Troubleshooting-Q&A) section on wiki

**Describe error**
Original declaration: https://github.com/apache/commons-collections/blob/bf5e45885a2d01010a7b9299feb44c72495fa6d9/src/main/java/org/apache/commons/collections4/comparators/ReverseComparator.java#L39
```java
 private final Comparator<? super E> comparator;
``` 

Decompiled declaration (class ``` org.apache.commons.a.d.g ``` or ``` org.apache.commons.p185a.p497d.C10101g ```)
```java
    private final java.util.Comparator<O> f28238b;
```
but should be also
```java
    private final java.util.Comparator<? super O> f28238b;
```
Because of this bug multiple errors are occurred in the class body

APK: https://drive.google.com/file/d/1x6VtjwLojBsf2boZlBaDzzSoUdSWkEfU/view?usp=sharing",https://github.com/skylot/jadx/issues/702#issuecomment-521342605,"@sergey-wowwow sorry, but I don't see an issue, class `org.apache.commons.a.d.g`:
```java
/* compiled from: TransformingComparator */
public class g<I, O> implements Serializable, Comparator<I> {
    private static final long f21396a = 3456940356043606220L;
    private final Comparator<O> f21397b;
```
is compiled from [TransformingComparator.java](https://github.com/apache/commons-collections/blob/670dc76cf575e1af4a9e8886f07dafd6ee73e2d1/src/main/java/org/apache/commons/collections4/comparators/TransformingComparator.java#L41), because `compiled from` say so and also has same `serialVersionUID` value which is unique. And there field has correct type:
```java
public class TransformingComparator<I, O> implements Comparator<I>, Serializable {
    private static final long serialVersionUID = 3456940356043606220L;
    private final Comparator<O> decorated;
```
So this case looks good to me.

Anyway, can you provide another example of type error in field?"
skylot/jadx,"Hi, in some cases casts are invalid. For example in class ``` com/paypal/android/foundation/presentation/model/ConsentUriParams.java ``` type ``` boolean ``` is converted to ``` byte ``` using explicit cast
```java
    public void writeToParcel(android.os.Parcel parcel, int i) {
        parcel.writeByte((byte) this.showConsent);
        parcel.writeByte((byte) this.showOneTouch);
```
but the following code should be generated instead
```java
    public void writeToParcel(android.os.Parcel parcel, int i) {
        parcel.writeByte(this.showConsent ? 1 : 0);
        parcel.writeByte(this.showOneTouch ? 1 : 0);
```
APK: https://drive.google.com/file/d/16O--dtXt35zB1Ahx-9qEYvCmyeF1n0AG/view?usp=sharing",https://github.com/skylot/jadx/issues/596#issuecomment-485065065,"I have rechecked from the GUI and now the code generated is:

```
public void writeToParcel(Parcel parcel, int i) {
    parcel.writeByte(this.showConsent ? (byte) 1 : 0);
    parcel.writeByte(this.showOneTouch ? (byte) 1 : 0);
    parcel.writeString(this.secureIdToken);
    parcel.writeString(this.challengeUri);
    parcel.writeString(this.consentData.toString());
}
```"
skylot/jadx,"# Problem
![jadx-bug](https://user-images.githubusercontent.com/14809754/55917717-50f0a800-5be8-11e9-853a-0d97e52ef6a2.png)

Also deobfuscation of methods and fields is applied but it wasn't enabled on preferences
```java
package o;

/* renamed from: o.·¥ª */
public final /* synthetic */ class C implements Qn {
    /* renamed from: Àä */
    private final HttpInterface f19353;
    /* renamed from: Àè */
    private final DownloadPdfRequest f19354;

    public C(HttpInterface httpInterface, DownloadPdfRequest downloadPdfRequest) {
        this.f19353 = httpInterface;
        this.f19354 = downloadPdfRequest;
    }

    public Object apply(Object obj) {
        return LeagueListingFeature.m29926(this.f19353, this.f19354, (PermissionEnum) obj);
    }
}
```

# Jadx version
Latest unstable

Comments contain the right symbol:
```java
/* renamed from: o.–ß */
public class C extends C {
    /* renamed from: Àã */
```
 # Sample
- https://apkpure.com/dream11/com.app.dream11Pro/download?from=details
- [Dream11_v3.33.1_apkpure.com.apk.zip](https://github.com/skylot/jadx/files/3066105/Dream11_v3.33.1_apkpure.com.apk.zip)
",https://github.com/skylot/jadx/issues/584#issuecomment-481972299,"I couldn't understand where the wrong characters are. I assume you mean all classes are named `C`.

Well, this happens only in case sensitive systems (e.g. *nix), without enabling deobfuscation. Once you enable deobfuscation, the files are renamed.

In case insensitive systems (e.g. Windows), without deobfuscation, the files are changed to Cxyz.

I guess this was the intended behavior (previously). Please also look into #570, with its pending PR.

Regarding the fields, should they all be `f`? as in class `C'? since they are all invalid identifiers."
microsoft/CNTK,"When I used CNTK to implement Time Frequency LSTM (TF-LSTM [1], a 2-D LSTM), I noticed that there maybe exist a training bug under NDL or BrainScript as this issue says (https://github.com/Microsoft/CNTK/issues/738)
And I found a solution for this bug in this commit: https://github.com/Microsoft/CNTK/commit/f34b7d78f0f9fbfe889934cf68909cc12fe9526c

The bug looks like: **when training TF-LSTM, the weight update is executed multiple times on the same node in one mini-batch training.**

The new bug I found is:
When I use this commit to solve the repetitive update problem and train TF-LSTM models, the loss curve of single-GPU training looks fine (loss decrease steadily), but **the loss curve of BMUF multi-GPU training has a lot of jitter**. 
My partial experiment also shows that the loss curve of ASGD multi-GPU training looks fine (loss decrease steadily).

I'm working on fixing this TF-LSTM multi-GPU training problem between BMUF and ASGD, and I'm reading the source code to confirm the existence of this repetitive update problem.

I think it's important to confirm the existence of this repetitive update problem and merge the solution into master branch, or we can not correctly train any multi-dimensional LSTM using CNTK NDL or BrainScript, such as F-LSTM[2], TF-LSTM, and Grid-LSTM[3].

[1] https://www.microsoft.com/en-us/research/wp-content/uploads/2016/11/TFLSTM.pdf
[2] https://www.microsoft.com/en-us/research/wp-content/uploads/2016/04/spectral_LSTM.pdf
[3] https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/45401.pdf",https://github.com/microsoft/CNTK/issues/3136#issuecomment-409832979,Thanks for the detailed report. Could you send a PR for this fix?
microsoft/CNTK,"I tried to run PyTorch U-net model in CNTK through ONNX, but got this message.
And i got the same message with TransposedConv.

How can i avoid this?
```

Traceback (most recent call last):
  File ""onnx_test.py"", line 2, in <module>
    z = C.Function.load(""our_unet.onnx"", device=C.device.cpu(), format=C.ModelFormat.ONNX)
  File ""/home/alex/anaconda3/lib/python3.6/site-packages/cntk/internal/swig_helper.py"", line 69, in wrapper
    result = f(*args, **kwds)
  File ""/home/alex/anaconda3/lib/python3.6/site-packages/cntk/ops/functions.py"", line 1608, in load
    return cntk_py.Function.load(str(model), device, format.value)
RuntimeError: ONNX (Upsample) is not supported in CNTK

[CALL STACK]
[0x7fc854975ef9]                                                       + 0x8aeef9
[0x7fc854bfc05d]    CNTK::ONNXToCNTKHelper::  CreateFunction  (ONNXIR::Node const*,  std::vector<CNTK::Variable,std::allocator<CNTK::Variable>> const&) + 0x874d
[0x7fc854bfd48e]    CNTK::ONNXToCNTKHelper::  CreateCNTKNode  (ONNXIR::Node const*,  std::vector<CNTK::Variable,std::allocator<CNTK::Variable>> const&,  CNTK::DeviceDescriptor const&) + 0x1ce
[0x7fc854bfda64]    CNTK::ONNXToCNTKHelper::  FromONNXNode  (ONNXIR::Node const*,  std::unordered_map<ONNXIR::Node const*,std::vector<std::shared_ptr<CNTK::Function>,std::allocator<std::shared_ptr<CNTK::Function>>>,std::hash<ONNXIR::Node const*>,std::equal_to<ONNXIR::Node const*>,std::allocator<std::pair<ONNXIR::Node const* const,std::vector<std::shared_ptr<CNTK::Function>,std::allocator<std::shared_ptr<CNTK::Function>>>>>>&,  std::unordered_map<std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>,CNTK::Variable,std::hash<std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>>,std::equal_to<std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>>,std::allocator<std::pair<std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>> const,CNTK::Variable>>>&,  ONNXIR::Graph const*,  CNTK::DeviceDescriptor const&) + 0x3a4
[0x7fc854bfde4e]    CNTK::ONNXToCNTK::  CreateGraph  (ONNXIR::Graph*,  CNTK::DeviceDescriptor const&) + 0x17e
[0x7fc854c02a89]    CNTK::ONNXFormat::  Load  (std::__cxx11::basic_string<wchar_t,std::char_traits<wchar_t>,std::allocator<wchar_t>> const&,  CNTK::DeviceDescriptor const&) + 0x89
[0x7fc85497ad25]    CNTK::Function::  Load  (std::__cxx11::basic_string<wchar_t,std::char_traits<wchar_t>,std::allocator<wchar_t>> const&,  CNTK::DeviceDescriptor const&,  CNTK::ModelFormat) + 0x65
[0x7fc8557140a6]                                                       + 0x1bd0a6
[0x5636d1f512a1]    _PyCFunction_FastCallDict                          + 0x91
[0x5636d1fe3ebc]                                                       + 0x19eebc
[0x5636d200562a]    _PyEval_EvalFrameDefault                           + 0x30a
[0x5636d1fde8d9]    PyEval_EvalCodeEx                                  + 0x329
[0x5636d1fdf806]                                                       + 0x19a806
[0x5636d1f5116e]    PyObject_Call                                      + 0x3e
[0x5636d2006d28]    _PyEval_EvalFrameDefault                           + 0x1a08
[0x5636d1fdd0b6]                                                       + 0x1980b6
[0x5636d1fdddc1]                                                       + 0x198dc1
[0x5636d1fe3f95]                                                       + 0x19ef95
[0x5636d20063e7]    _PyEval_EvalFrameDefault                           + 0x10c7
[0x5636d1fde8d9]    PyEval_EvalCodeEx                                  + 0x329
[0x5636d1fdf67c]    PyEval_EvalCode                                    + 0x1c
[0x5636d2059ce4]                                                       + 0x214ce4
[0x5636d205a0e1]    PyRun_FileExFlags                                  + 0xa1
[0x5636d205a2e4]    PyRun_SimpleFileExFlags                            + 0x1c4
[0x5636d205ddaf]    Py_Main                                            + 0x5ff
[0x5636d1f248be]    main                                               + 0xee
[0x7fc85b53f830]    __libc_start_main                                  + 0xf0
[0x5636d200c0da]                                                       + 0x1c70da
```

Transposed one:
```
Inside File: Source/CNTKv2LibraryDll/proto/onnx/ONNXToCNTK.cpp  Line: 2667  Function: CreateCNTKConvTransposeNode  -> Feature Not Implemented.
Traceback (most recent call last):
  File ""onnx_test.py"", line 2, in <module>
    z = C.Function.load(""our_unet.onnx"", device=C.device.cpu(), format=C.ModelFormat.ONNX)
  File ""/home/alex/anaconda3/lib/python3.6/site-packages/cntk/internal/swig_helper.py"", line 69, in wrapper
    result = f(*args, **kwds)
  File ""/home/alex/anaconda3/lib/python3.6/site-packages/cntk/ops/functions.py"", line 1608, in load
    return cntk_py.Function.load(str(model), device, format.value)
RuntimeError: Inside File: Source/CNTKv2LibraryDll/proto/onnx/ONNXToCNTK.cpp  Line: 2667  Function: CreateCNTKConvTransposeNode  -> Feature Not Implemented.


```",https://github.com/microsoft/CNTK/issues/3043#issuecomment-375645174,"I have the same problem:
PyTorch has next parameters for ConvTranspose layer: 
`torch.nn.ConvTranspose2d(in_channels,` out_channels, kernel_size, stride=1, padding=0, output_padding=0, groups=1, bias=True, dilation=1)

CNTK code of this method ONNXToCNTKHelper::CreateCNTKConvTransposeNode expects the following parameter (else it will throw NOT_IMPLEMENTED):
    `if` (HasNamedAttribute(node, ""output_shape""))

Which parameters we have to setup for torch.nn.ConvTranspose2d to get the output_shape during conversion to ONNX?"
microsoft/CNTK,"Here is what the Python Tools team has to say about the issue:
>So we believe the problem here is that CNTK is installing DLLs into the wrong location. We've chatted with them separately about it, so it may be fixed in one of their updates.

>The DLLs should be alongside the module (DLL) that loads them, not the executable. Presumably they chose that path to work with a regular install of Python or an Anaconda env and did not test it with a virtualenv, which has a different layout.

>They should fix their wheel (and we've already told them this, so a newer version might be fixed already?).

>The wheels that their docs point to were built on May 31st, so it's possible that they've implemented a fix but not released it yet. Or maybe they have, but haven't updated the installation page (linked above).

>So it looks like they've known about it since May or even earlier. I'll try to find out who it is we need to send a reminder to.

Please, fix this finally.

https://github.com/Microsoft/PTVS/issues/2528
https://github.com/Microsoft/PTVS/issues/2806
",https://github.com/microsoft/CNTK/issues/2780#issuecomment-467205042,"Has this issue been fixed?  I'm still having the same trouble working a conda virtualenv.  The installation in base is able to find the dll without any problems.  But inside any virtualenv, it's never able to find the dll.  I am running cntk-gpu-2.6."
microsoft/CNTK,"I compiled CNTK 2.2 with win7 pro 64 (VS2015). CPU-only compilations run fine, but GPU-ones do not. Running cntk.exe raises CRT init error R6030.
Does anyone have a solution to this? I would much appreciate it.
",https://github.com/microsoft/CNTK/issues/2548#issuecomment-340279351,https://msdn.microsoft.com/en-us/library/9ecfyw6c.aspx This seems to be related to your security software? 
microsoft/CNTK,"I'm training a model using cross_entropy_with_softmax as the loss and classification_error for the evaluation metric. After a few minibatches, the metric was calculated as -219100133361550.00 % x 102 after which the metric is fixed at 0.00% x <no_of_samples>. However, the loss is still slowly but consistently decreasing.

Considering how classification_error is calculated, should this be possible? Do I abort the training at this point?",https://github.com/microsoft/CNTK/issues/2505#issuecomment-338100639,This indeed looks strange. Are you doing distributed training? 
microsoft/CNTK,"I have been using CTFDeserializer with success so far. But with large datasets, the text file grows too big. I tried to switch to CBF, by converting CTF file to CBF with the ""ctf2bin"" tool, which reduces CTF file size from 16GB to CBF file size of 4GB. The reader is defined as: 

```python
def create_reader(path, is_training=True):
    return C.io.MinibatchSource(C.io.CBFDeserializer(path, C.io.StreamDefs(
        features = C.io.StreamDef(field='features', shape=input_dim, is_sparse=False),
        labels = C.io.StreamDef(field='labels', shape=label_dim, is_sparse=False)
    )), randomize=is_training, max_sweeps = C.io.INFINITELY_REPEAT if is_training else 1)
```

However, the training program crashes at specific times. E.g, if minibatch_size = 200, it crashes at 29th epoch, and at 2nd epoch when minibatch_size=300.

Note that the same training code with the same data loaded by CTFDeserializer works perfectly. So, the culprit would be somewhere in CBFDeserializer, or I didn't use it correctly.

In either case, can someone give me a workaround to handle big dataset?

edit: I'm using CTNK 2.2 GPU, Python 3.6 on Windows.",https://github.com/microsoft/CNTK/issues/2479#issuecomment-335996856,Can you please provide us your crash output to debug further?
microsoft/CNTK,"I have tried both the script setup and pip install methods a couple of times now, but still not able to run the demos.

In the demo Examples/Image/Detection I am not able to run the command `python DetectionDemo.py`. This is the output:
>training FasterRCNN
Traceback (most recent call last):
  File "".\DetectionDemo.py"", line 59, in <module>
    eval_model = od.train_object_detector(cfg)
  File ""C:\cntk-2-2\CNTK-Samples-2-2\Examples\Image\Detection\utils\od_utils.py"", line 19, in train_object_detector
    from FasterRCNN.FasterRCNN_train import prepare, train_faster_rcnn
  File ""C:\cntk-2-2\CNTK-Samples-2-2\Examples\Image\Detection\FasterRCNN\FasterRCNN_train.py"", line 30, in <module>
    from utils.od_mb_source import ObjectDetectionMinibatchSource
  File ""C:\cntk-2-2\CNTK-Samples-2-2\Examples\Image\Detection\utils\od_mb_source.py"", line 9, in <module>
    from utils.od_reader import ObjectDetectionReader
  File ""C:\cntk-2-2\CNTK-Samples-2-2\Examples\Image\Detection\utils\od_reader.py"", line 8, in <module>
    import cv2 # pip install opencv-python
  File ""C:\Users\krberge\AppData\Local\Continuum\Anaconda3\lib\site-packages\cv2\__init__.py"", line 9, in <module>
    from .cv2 import *
ImportError: DLL load failed: The specified module could not be found.
PS C:\cntk-2-2\CNTK-Samples-2-2\Examples\Image\Detection>

From what I understand, this boils down to the cv2 import, because the command `python -c ""import cv2""` outputs a similar error message
> Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
  File ""C:\Users\krberge\AppData\Local\Continuum\Anaconda3\lib\site-packages\cv2\__init__.py"", line 9, in <module>
    from .cv2 import *
ImportError: DLL load failed: The specified module could not be found.

Runnin `pip install opencv-python` outputs that everything is up to date.

Not really sure what is missing here and how python/anaconda does imports.

I also noticed that the example I'm trying to run is using Fast R-CNN, so I followed the steps in the readme there too, but `pip install dlib` failes here. It says cmake is missing. After installing cmake with `conda install cmake` I get a new error saying that the cmake configuration failed.

I think the tutorial/install guide might be inadequate here, because I'm not able get anything to work by following the guide.",https://github.com/microsoft/CNTK/issues/2423#issuecomment-332526524,"How about trying the following sites regarding import `cv2`?
https://stackoverflow.com/questions/33200025/cant-import-cv2-dll-load-failed
or
https://github.com/skvark/opencv-python/issues/36

The situation is similar to yours."
microsoft/CNTK,"**Repro steps:** try to create basically a Hello World project using CNTK C# evaluation API:

``` xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFrameworks>netcoreapp2.0;net461</TargetFrameworks>
  </PropertyGroup>

  <ItemGroup Condition=""'$(TargetFramework)' == 'net461'"">
    <PackageReference Include=""CNTK.CPUOnly"" Version=""2.1.0"" />
  </ItemGroup>

</Project>
```

```cs
using System;
#if NET461
using CNTK;
#endif

namespace TestCntk {
    class Program {
        static void Main(string[] args) {
            Console.WriteLine(""Hello World!"");
        }
    }
}
```

It doesn't even link to the right library, even though VS displays the NuGet package as a (conditional) dependency and it's definitely restored locally to the machine.
```
1>Program.cs(3,7,3,11): error CS0246: The type or namespace name 'CNTK' could not be found (are you missing a using directive or an assembly reference?)
```",https://github.com/microsoft/CNTK/issues/2346#issuecomment-389750271,when will this be fixed?
microsoft/CNTK,"I am using CNTK C++ API for License Plate Detection. My problem is that the code does not work in debug mode and it is very slow.
Here is my setup:
* i am using __Visual Studio 2015 Update 3__
* i have added __CNTK.CPUOnly__ nuget package
* i have trained the model in __Keras__ with CNTK back-end

```
cv::Mat AECropper::GetMask(cv::Mat img) {
	// pre-process and resize
	cv::Mat img_pp = Preprocess(img);

	// create network input from the image
	ValuePtr inVal;
	MatToInput(img_pp, inVal);
	
	// pointer for network output
	ValuePtr outVal;
	std::unordered_map<Variable, ValuePtr> inputs = { {inVar, inVal} };
	std::unordered_map<Variable, ValuePtr> outputs = { { outVar, outVal } };

	// compute the output for the given input
	model->Forward(inputs, outputs,DeviceDescriptor::CPUDevice());

	// create an image from network's output
	cv::Mat raw_mask = OutputToMat(outputs[outVar]);
	
	// resize back to the original size
	cv::Mat mask = Resize(raw_mask, img.size());

	return mask;
}
```
The call to the `Forward` method takes _**70** seconds in Debug mode_ and _**0.5** seconds in Release mode_ and their result is different.
### Release result:
![Release_mask](https://user-images.githubusercontent.com/1968642/30310981-7bf241a4-97a8-11e7-819f-80a152cd971c.jpg)
### Debug result:
![debug_mask](https://user-images.githubusercontent.com/1968642/30310998-9306ce1e-97a8-11e7-8954-cddefbd33020.jpg)
--
This makes debugging very hard for me. i cannot trace the code in the release mode.
Do you know why CNTK behaves very different in Debug?
Is there any way to fix it?
Thanks.",https://github.com/microsoft/CNTK/issues/2329#issuecomment-329890483,Can you use Release_NoOpt?
microsoft/CNTK,It fails since recurrence is a list of variables rather than variable.,https://github.com/microsoft/CNTK/issues/2101#issuecomment-314792756,Could you elaborate more? Maybe give us a small repro? 
microsoft/CNTK,"I am trying to run CNTK under the Visual Studio 2015 debugger to inspect what's happening within the reader's, and more specifically within `CNTKBinaryReader`. 

When I try to run `CNTK.exe` under the `Debug` mode, the break points are never reached because the symbols are not loaded. Indeed, in the `/Debug` folder, there is no `.pdb` to be found for the reader's library. 

When I attempt the same under the `Release` mode, the `.pdb` are generated and found, hence allowing me to debug the solution.

It's not overly clear what's missing in the `Debug` configuration, but it would make a lot of the sense to have all the elements required for debugging purposes, because this configuration should be the go-to configuration for troubleshooting purposes.",https://github.com/microsoft/CNTK/issues/2057#issuecomment-311893360,"Hi vermorel,

Do you build CNTK yourself? If yes - all pdbs should be located in CNTK/x64/Debug, including ones for the CNTKBinaryReader like on the picture below:
![image](https://user-images.githubusercontent.com/12430061/27677533-5d82f2bc-5cb2-11e7-8213-1d6bb799be92.png)

If you simply take the binary drop - we do not have debug version in there, we only ship release.
Thanks!"
microsoft/CNTK,"Hi!

I've encountered issue with (possibly) leaky memory while trying to evaluate large dataset with CNTK model. Here is my script which explains the situation:

``` python
import cntk as C
from cntk import relu
from cntk.layers import Convolution, MaxPooling, Dense
from cntk.initializer import glorot_uniform

import numpy as np


def memory():
    # taken from here: http://stackoverflow.com/questions/938733/total-memory-used-by-python-process
    import os
    from wmi import WMI
    w = WMI('.')
    result = w.query(
        ""SELECT WorkingSet FROM Win32_PerfRawData_PerfProc_Process WHERE IDProcess=%d"" % os.getpid())
    return int(result[0].WorkingSet)


def create_basic_model(input_var, out_dims):
    # just some baseline classification model
    # with convolutional layers

    # 1x64x64 -> 32x32x32
    net = Convolution((5, 5), 32, init=glorot_uniform(), activation=relu, pad=True)(input_var)
    net = MaxPooling((3, 3), strides=(2, 2), pad=True)(net)

    # 32x32x32 -> 32x16x16
    net = Convolution((5, 5), 32, init=glorot_uniform(), activation=relu, pad=True)(net)
    net = MaxPooling((3, 3), strides=(2, 2), pad=True)(net)

    # 32x16x16 -> 64x8x8
    net = Convolution((5, 5), 64, init=glorot_uniform(), activation=relu, pad=True)(net)
    net = MaxPooling((3, 3), strides=(2, 2), pad=True)(net)

    # 64x8x8 -> 64 -> 3
    net = Dense(64, init=glorot_uniform())(net)
    net = Dense(out_dims, init=glorot_uniform(), activation=None)(net)

    return net


# input and output shapes
image_height = 64
image_width = 64
num_channels = 1
num_classes = 3

input_var = C.input((num_channels, image_height, image_width))
label_var = C.input((num_classes))

model = create_basic_model(input_var, num_classes)

# training ommited...

mem_x = []
mem_y = []

np.random.seed(42)  # just in case

# try different number of samples:
for n_test in [1, 2, 4, 8, 16, 32, 64, 128, 256]:

    # generate and evaluate some random data:
    X_test = np.random.randn(n_test * num_channels * image_height * image_width).reshape(
        (n_test, num_channels, image_height, image_width)).astype('float32')
    Y_pred = model.eval(X_test)

    # how much memory we used:
    used_mb = memory() / 1024 / 1024

    # record history for polyfit:
    mem_x += [n_test]
    mem_y += [used_mb]

    print('n_test: {:5}, memory usage: {:5.0f} MB'.format(n_test, used_mb))

# plot(mem_x, mem_y) seems to be linear,
# lets see how used memory scales with 1 sample
a, b = np.polyfit(mem_x, mem_y, deg=1)

# estimated usage just for storing X_test in memory:
sizeof_item = 4  # float32
estimated_a = (num_channels * image_height * image_width * sizeof_item) / 1024 / 1024

print('real usage:\t{:0.2f} MB per sample'.format(a))
print('estimated:\t{:0.2f} MB per sample'.format(estimated_a))
```

It yields this output:
```
n_test:     1, memory usage:    82 MB
n_test:     2, memory usage:    89 MB
n_test:     4, memory usage:    99 MB
n_test:     8, memory usage:   119 MB
n_test:    16, memory usage:   158 MB
n_test:    32, memory usage:   226 MB
n_test:    64, memory usage:   364 MB
n_test:   128, memory usage:   643 MB
n_test:   256, memory usage:  1196 MB
real usage:     4.35 MB per sample
estimated:      0.02 MB per sample
```

If I comment out the eval string (```Y_pred = model.eval(X_test)```), memory usage becomes normal:
```
n_test:     1, memory usage:    68 MB
n_test:     2, memory usage:    68 MB
n_test:     4, memory usage:    68 MB
n_test:     8, memory usage:    68 MB
n_test:    16, memory usage:    69 MB
n_test:    32, memory usage:    69 MB
n_test:    64, memory usage:    70 MB
n_test:   128, memory usage:    71 MB
n_test:   256, memory usage:    73 MB
real usage:     0.02 MB per sample
estimated:      0.02 MB per sample
```

Does CNTK really needs so much mem for evaluation? If so, how can I evaluate the validation dataset (which contains > 1000 images of size 1x64x64)? Or maybe I'm missing something with Python API?

I'm using CNTK version 2.0rc2 CPU-only, Python 3.5.1 (Anaconda), Windows 7.",https://github.com/microsoft/CNTK/issues/1838#issuecomment-299707644,"@kokostek Thanks for reporting the issue. Do you see the same problem when you evaluate a saved model, i.e. instead of creating the model on the fly, using cntk.ops.functions.load_model() to load a saved model and then call model.eval()? You can save a model by call save_model() to save a model into a file."
microsoft/CNTK,"Hello,

This model:

def create_model(h):
        h = MaxPooling((2,), strides=1, pad=True)(h)
        last_layer = Dense(1, activation=None)
        return last_layer(h)

runs as expected on CPU. However, switching to GPU I get the following error message:

Traceback (most recent call last):

  File ""<ipython-input-3-f722a2bdfaa7>"", line 63, in <module>
    trainer.train_minibatch({feature : train_features, label : train_labels})

  File ""C:\Anaconda\lib\site-packages\cntk\train\trainer.py"", line 171, in train_minibatch
    device)

  File ""C:\Anaconda\lib\site-packages\cntk\cntk_py.py"", line 2327, in train_minibatch
    return _cntk_py.Trainer_train_minibatch(self, *args)

RuntimeError: cuDNN failure 3: CUDNN_STATUS_BAD_PARAM ; GPU=0 ; hostname=CNTK ; expr=cudnnSetTensorNdDescriptor(m_tensor, dataType, (int)dims.size(), dims.data(), strides.data())

[CALL STACK]
    > Microsoft::MSR::CNTK::TensorView<float>::~TensorView<float>  
    - Microsoft::MSR::CNTK::GPUDataTransferer::  WaitForCopyCPUToGPUAsync
    - Microsoft::MSR::CNTK::CudaTimer::  Stop
    - Microsoft::MSR::CNTK::CudaTimer::  Stop
    - Microsoft::MSR::CNTK::CudaTimer::  Stop
    - Microsoft::MSR::CNTK::ConvolutionEngine<float>::  Create
    - Microsoft::MSR::CNTK::TracingGPUMemoryAllocator::  operator=
    - Microsoft::MSR::CNTK::TracingGPUMemoryAllocator::  operator=
    - Microsoft::MSR::CNTK::TracingGPUMemoryAllocator::  operator=
    - Microsoft::MSR::CNTK::TracingGPUMemoryAllocator::  operator=
    - Microsoft::MSR::CNTK::TracingGPUMemoryAllocator::  operator=
    - CNTK::DeviceDescriptor::  UseDefaultDevice
    - CNTK::DeviceDescriptor::  UseDefaultDevice
    - CNTK::Function::  Forward
    - CNTK::  CreateTrainer
    - CNTK::Trainer::  TotalNumberOfSamplesSeen

I have verified that e.g a simple Dense layer runs just fine on the GPU so the culprit seems to be the MaxPooling layer - but maybe there is something I'm not getting. FYI I ran this on an Azure NC6 Standard VM (EDIT: Using the ""Deep Learning toolkit for Data Science VM"").",https://github.com/microsoft/CNTK/issues/1785#issuecomment-297051378,"It's very rare to see people using maxpooling with stride 1. This issue is caused by a bug in cuDNN not handling asymmetric padding correctly when lower pad is less than upper pad. 

Are you sure you want max pooling with stride 1? "
microsoft/CNTK,"Following @mortengryning in #1154 and  @slaweks17 lines in issue #1094 . 

Could there be a bug in the SquareError function? 

I've used it in a variant of RegrSimple_CIFAR10, a simple regression model mentioned in #1154 , and got a rmse that disagreed completely with my observations when I've been evaluating the trained model from my C# project. Then, following @slaweks17, I have re-defined the square error function on my own. Since I have only 1 regression label, it was possible for me to simply write
```
	rmse = Sqrt ((regrLabels - ol) * (regrLabels - ol))
```
in the BrainScript network description. Now, with that I get the rmse I can finally trust: it's some 10 times as large as what I presumably get with SquareError, but at least it is just as big as what I see in my application. 

It seems as if the actual  age getting divided by 10, despite of the fact that I've changed regrLabels and labelDim to 1 at each and every instance they were not in the original file.

@mortengryning and @slaweks17 reported having analogous problems with the Python implementation. Both were ""solved"" by writing a new loss function (latter) or switching to the beta3 version (former).",https://github.com/microsoft/CNTK/issues/1160#issuecomment-266899577,"@KolyaIvankov, when you run RegrSimple_CIFAR10.cntk, does the square error function behave normally? 

If it does, we need a small sample data set to replicate your observation. Would it be possible for you to share us code + data that we can debug with? Thanks! "
microsoft/CNTK,"I've tried running the code based on `CSEvalClient` example. I've installed latest  Microsoft.Research.CNTK.CpuEval-mkl v1.6.0 via NuGet, and referenced the dlls from `\support\x64\Debug`.

The code fails on call to `model.CreateNetwork()` with the following message:

> An unhandled exception of type 'Microsoft.MSR.CNTK.Extensibility.Managed.CNTKRuntimeException' occurred in EvalWrapper.dll
> 
> Additional information: configparameters: required parameter missing: unknown:modelPath

Which is rather weird because I'm pretty sure that the `modelPath` was specified properly.
And anyway if I switch to using libs from `\support\x64\Release`, same code works just well. 

So it seems that something is broken in Debug libs.
",https://github.com/microsoft/CNTK/issues/730#issuecomment-236849088,"Hi,

Can you run the original CSEvalClient exmaple with dlls from Debug build?

Are you using a full path or relative path when specifying modelPath? Currently, the modelPath has to be specified as a full path. In the CSEvalClient example, the relative path is combined with the current working directory to build the full path. 

In addition, mapped drive is not supported for modelPath. Another clarification is that CreateNetwork  must be passed a string containing the ""modelPath=<filepath>""  attribute specifying the model's file path.
"
microsoft/CNTK,"DoWriteOutput in EvalActions.cpp tries to set the ""randomize"" variable of the reader configuration to ""None"", but ""None"" isn't a false value for bool types in the config (Config.h L264). I think it should be ""false"" instead.
",https://github.com/microsoft/CNTK/issues/603#issuecomment-226677863,"Indeed! Thanks! Would you like to submit a pull request, or should we fix this internally?
"
libgdx/libgdx,"Hello,
I am the developer of Happy Can:
https://play.google.com/store/apps/details?id=com.happycenter.happycan.android

After August 1 2019, I developed Happy Can version 15 with 64-bit ABI support.
To do this, I updated LibGDX, Gradle, Android Studio etc.
And for the first time, the game does not run on some devices such as Samsung SM-T113 Tablet and some of Android 4.x devices.
My game is running in debug mode on all devices
but it is not running in release mode on some devices:
[https://imgbbb.com/image/LRjHD2](https://imgbbb.com/image/LRjHD2)
[https://imgbbb.com/image/LRj62G](https://imgbbb.com/image/LRj62G)
",https://github.com/libgdx/libgdx/issues/5808#issuecomment-537888901,"It would be benefits if you added more info.
What does ""not running"" mean?
Are there any exceptions?
Can you supply a minimal example in which this occurs so we can reproduce it?"
libgdx/libgdx,"#### Issue details
I am trying to execute this piece of code in my game.

`public void draw(Batch batch, float parentAlpha){
    PolygonRegion polyReg = new PolygonRegion(connectorTextureRegion, getVertices(), getTriangles());
    polygonSprite.setRegion(polyReg);
    polygonSprite.draw((PolygonSpriteBatch)batch);
}`

In general, it works well but sometimes I'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line. If I dive into the methods code, it fails at the first line in the for loop.



    public void setRegion (PolygonRegion region) {
         this.region = region;

    float[] regionVertices = region.vertices;
    float[] textureCoords = region.textureCoords;

    if (vertices == null || regionVertices.length != vertices.length) vertices = new float[(regionVertices.length / 2) * 5];

    // Set the color and UVs in this sprite's vertices.
    float floatColor = color.toFloatBits();
    float[] vertices = this.vertices;
    for (int i = 0, v = 2, n = regionVertices.length; i < n; i += 2, v += 5) {
        vertices[v] = floatColor;
        vertices[v + 1] = textureCoords[i];
        vertices[v + 2] = textureCoords[i + 1];
    }

    dirty = true;
}`

Now let me know if I'm wrong, but I feel like there might be an issue with the if condition. We should have
`(regionVertices.length /2)*5!= vertices.length`
instead of
`regionVertices.length != vertices.length` 

Whenever I get the exception, it's because the length of the region vertices array and the length of the sprite vertices array are equal.

#### Version of LibGDX and/or relevant dependencies
Libgdx:1.9.6

#### Stacktrace
E/AndroidRuntime: FATAL EXCEPTION: GLThread 3995
                                                                Process: com.kozma.rope, PID: 13199
                                                                java.lang.ArrayIndexOutOfBoundsException: length=20; index=22
                                                                    at com.badlogic.gdx.graphics.g2d.PolygonSprite.setRegion(PolygonSprite.java:342)
                                                                    at com.kozma.rope.components.LineConnector.draw(LineConnector.java:99)
                                                                    at com.kozma.rope.models.LineSegment.draw(LineSegment.java:372)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.drawChildren(Group.java:123)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.draw(Group.java:57)
                                                                    at com.kozma.rope.models.Line.draw(Line.java:341)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.drawChildren(Group.java:110)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.draw(Group.java:57)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.drawChildren(Group.java:110)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.draw(Group.java:57)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.drawChildren(Group.java:110)
                                                                    at com.badlogic.gdx.scenes.scene2d.Group.draw(Group.java:57)
                                                                    at com.badlogic.gdx.scenes.scene2d.Stage.draw(Stage.java:128)
                                                                    at com.kozma.rope.screens.GameScreen.render(GameScreen.java:248)
                                                                    at com.badlogic.gdx.Game.render(Game.java:46)
                                                                    at com.kozma.rope.Rope.render(Rope.java:139)
                                                                    at com.badlogic.gdx.backends.android.AndroidGraphics.onDrawFrame(AndroidGraphics.java:459)
                                                                    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1562)
                                                                    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1262)

#### Please select the affected platforms
- [x] Android
- [ ] iOS (robovm)
- [ ] iOS (MOE)
- [ ] HTML/GWT
- [ ] Windows
- [ ] Linux
- [ ] MacOS
",https://github.com/libgdx/libgdx/issues/5099#issuecomment-370072565,"Looks like simple fix, why not make a PR for it? Making multiple issues about same thing wont help."
libgdx/libgdx,"I am trying to execute this piece of code in my game.

`public void draw(Batch batch, float parentAlpha){
    PolygonRegion polyReg = new PolygonRegion(connectorTextureRegion, getVertices(), getTriangles());
    polygonSprite.setRegion(polyReg);
    polygonSprite.draw((PolygonSpriteBatch)batch);
}`

In general, it works well but sometimes I'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line. If I dive into the methods code, it fails at the first line in the for loop.



    public void setRegion (PolygonRegion region) {
         this.region = region;

    float[] regionVertices = region.vertices;
    float[] textureCoords = region.textureCoords;

    if (vertices == null || regionVertices.length != vertices.length) vertices = new float[(regionVertices.length / 2) * 5];

    // Set the color and UVs in this sprite's vertices.
    float floatColor = color.toFloatBits();
    float[] vertices = this.vertices;
    for (int i = 0, v = 2, n = regionVertices.length; i < n; i += 2, v += 5) {
        vertices[v] = floatColor;
        vertices[v + 1] = textureCoords[i];
        vertices[v + 2] = textureCoords[i + 1];
    }

    dirty = true;
}`

Now let me know if I'm wrong, but I feel like there might be an issue with the if condition. We should have
`(regionVertices.length /2)*5!= vertices.length`
instead of
`regionVertices.length != vertices.length` 

Whenever I get the exception, it's because the length of the region vertices array and the length of the sprite vertices array are equal.",https://github.com/libgdx/libgdx/issues/5039#issuecomment-371147972,"Sorry for the delay. It looks like you are right. I've committed a fix, @JKazma can you please test with whatever you used to produce the problem?"
libgdx/libgdx,"Please ensure you have given all the following requested information in your report.
#### Issue details

After trying to sync some music on desktop, I found out that music.getPosition() does not always return accurate values. This is due to the field ""renderedSeconds"" being set to 0 once there isn't data to be put on one of the buffer, even with the other two buffers still not processed.
#### Reproduction steps/code

The music being used for this example was .wav, 10s long, 16bit, 44100Hz, mono --> 10s_2bytes_44100Hz = 882000 bytes of music. It was set to loop and, on the first loop, the method music.getPosition() did not go all the way to 10s, instead only went to 9.287981859s before going back to 0, and here is why: 

The class OpenALMusic uses three byte buffers of maximum size 40960 bytes each to transfer data to the audio device. In this example it is needed 21 buffers of size 40960 bytes and 1 of size 21840 bytes to pass all the 882000 bytes of music data on each loop. The problem is that a parameter that gives the information on music.getPosition() is reset once there is no data on ONE of the buffers, not all three.

In this example: the last three buffers sizes of the loop are: 1-40960 bytes; 2-40960 bytes; 3-21840 bytes. Once the first buffer is completely processed, the music is reset, taking music.getPosition() to 0 again, but there still was (40960+21840)bytes = 0.712018141s of data before the end of the loop.

The following code snippet is from OpenALMusic. The update() method calls fill(int bufferID) and resets renderedSeconds to 0 once there isn't data to be put on one of the three buffers, leading to a value of 0 being returned from getPosition() before the end of the loop.

``` java
public float getPosition () {
      if (audio.noDevice) return 0;
      if (sourceID == -1) return 0;
      return renderedSeconds + alGetSourcef(sourceID, AL11.AL_SEC_OFFSET);
   }

public void update () {
      if (audio.noDevice) return;
      if (sourceID == -1) return;

      boolean end = false;
      int buffers = alGetSourcei(sourceID, AL_BUFFERS_PROCESSED);
      while (buffers-- > 0) {
         int bufferID = alSourceUnqueueBuffers(sourceID);
         if (bufferID == AL_INVALID_VALUE) break;
         renderedSeconds += secondsPerBuffer;
         if (end) continue;
         if (fill(bufferID))
            alSourceQueueBuffers(sourceID, bufferID);
         else
            end = true;
      }
      if (end && alGetSourcei(sourceID, AL_BUFFERS_QUEUED) == 0) {
         stop();
         if (onCompletionListener != null) onCompletionListener.onCompletion(this);
      }

      // A buffer underflow will cause the source to stop.
      if (isPlaying && alGetSourcei(sourceID, AL_SOURCE_STATE) != AL_PLAYING) alSourcePlay(sourceID);
   }

private boolean fill (int bufferID) {
      tempBuffer.clear();
      int length = read(tempBytes);
      if (length <= 0) {
         if (isLooping) {
            loop();
            renderedSeconds = 0;
            length = read(tempBytes);
            if (length <= 0) return false;
         } else
            return false;
      }
      tempBuffer.put(tempBytes, 0, length).flip();
      alBufferData(bufferID, format, tempBuffer, sampleRate);
      return true;
   }
```
#### Version of LibGDX and/or relevant dependencies

1.9.4
#### Stacktrace

``` java
//Please provide the stacktrace if applicable 
```
#### Please select the affected platforms
- [ ] Android
- [ ] iOS (robovm)
- [ ] iOS (MOE)
- [ ] HTML/GWT
- [X] Windows
- [X] Linux
- [X] MacOS
",https://github.com/libgdx/libgdx/issues/4268#issuecomment-262859917,Would you like to submit a PR? :)
libgdx/libgdx,"#### Issue details

When rendering text on screen using Distance Field Fonts as described in the tutorial, some letters have the wrong padding. I tried this with multiple fonts and they all had this problem. The last one I tried was Arial Black with the same settings in Hiero as described in this tutorial: [https://github.com/libgdx/libgdx/wiki/Distance-field-fonts](https://github.com/libgdx/libgdx/wiki/Distance-field-fonts)

I noticed the problem always seemed to be with the same letters, like with the letter 'j' in this case 
![6e03375d772b45e243484ccb470a10e2](https://cloud.githubusercontent.com/assets/15983269/15627771/4e6147c8-24f7-11e6-9ce0-957ba645e51f.png)

As you can see, the first 'i' after the 'j' is too close. I tried this again with another font (""Roboto"") and it still had the same problem with the same settings. Note that this problem persisted regardless of my settings or my font.
![524f56d475893268c3385e2572cda93e](https://cloud.githubusercontent.com/assets/15983269/15627781/aa5fc77a-24f7-11e6-9c91-fba943575bd5.png)
#### Reproduction steps/code

Here is the code I used. This code was compiled using IntelliJ and Gradle, with LibGDX version 1.6.2 and 1.9.3, the result was the same regardless of the LibGDX version.

``` java
package com.mygdx.game;

import com.badlogic.gdx.ApplicationAdapter;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureRegion;
import com.badlogic.gdx.graphics.glutils.ShaderProgram;

public class MyGdxGame extends ApplicationAdapter
{
    SpriteBatch batch;
    BitmapFont font;
    ShaderProgram fontShader;

    @Override public void create ()
    {
        Texture text = new Texture(Gdx.files.internal(""test.png""));
        text.setFilter(Texture.TextureFilter.Linear, Texture.TextureFilter.Linear);

        batch = new SpriteBatch();
        font = new BitmapFont(Gdx.files.internal(""test"" + "".fnt""), new TextureRegion(text), false);
        font.setColor(Color.BLACK);
        font.getData().setScale(3);
        fontShader = new ShaderProgram(Gdx.files.internal(""font.vert""), Gdx.files.internal(""font.frag""));
    }

    @Override
    public void render ()
    {
        Gdx.gl.glClearColor(1, 1, 1, 1);
        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
        batch.setShader(fontShader);
        batch.begin();

        font.draw(batch, ""jii"", 0, 100);
        batch.end();
    }
}
```
#### Please select the affected platforms
- [X] Android
- [X] iOS
- [X] HTML/GWT
- [X] Windows
- [X] Linux
- [X] MacOS
",https://github.com/libgdx/libgdx/issues/4106#issuecomment-222313876,"Does this look ok with other shaders? I would assume the problem is in how
the fonts texture map has arranged the letters OR in how that texture is
used to create a bitmap for the shader.
I dont think it will be a issue in the distance field shader itself.
Have you tried looking at the test.png itself ? Its possible even with the
gradient style for the distance field you can still see if the spacing
looks off on some letters.

## 

http://lostagain.nl <-- our company site.
http://fanficmaker.com <-- our, really,really, bad story generator.

On 28 May 2016 at 16:19, SasLuca notifications@github.com wrote:

> Issue details
> 
> When rendering text on screen using Distance Field Fonts as described in
> the tutorial, some letters have the wrong padding. I tried this with
> multiple fonts and they all had this problem. The last one I tried was
> Arial Black with the same settings in Hiero as described in this tutorial:
> https://github.com/libgdx/libgdx/wiki/Distance-field-fonts
> 
> I noticed the problem always seemed to be with the same letters, like with
> the letter 'j' in this case
> [image: 6e03375d772b45e243484ccb470a10e2]
> https://cloud.githubusercontent.com/assets/15983269/15627771/4e6147c8-24f7-11e6-9ce0-957ba645e51f.png
> 
> As you can see, the first 'i' after the 'j' is too close. I tried this
> again with another font (""Roboto"") and it still had the same problem with
> the same settings. Note that this problem persisted regardless of my
> settings or my font.
> [image: 524f56d475893268c3385e2572cda93e]
> https://cloud.githubusercontent.com/assets/15983269/15627781/aa5fc77a-24f7-11e6-9c91-fba943575bd5.png
> Reproduction steps/code
> 
> Here is the code I used. This code was compiled using IntelliJ and Gradle,
> with LibGDX version 1.6.2 and 1.9.3, the result was the same regardless of
> the LibGDX version.
> 
> package com.mygdx.game;
> import com.badlogic.gdx.ApplicationAdapter;import com.badlogic.gdx.Gdx;import com.badlogic.gdx.graphics.Color;import com.badlogic.gdx.graphics.GL20;import com.badlogic.gdx.graphics.Texture;import com.badlogic.gdx.graphics.g2d.BitmapFont;import com.badlogic.gdx.graphics.g2d.SpriteBatch;import com.badlogic.gdx.graphics.g2d.TextureRegion;import com.badlogic.gdx.graphics.glutils.ShaderProgram;
> public class MyGdxGame extends ApplicationAdapter
> {
>     SpriteBatch batch;
>     BitmapFont font;
>     ShaderProgram fontShader;
> 
> ```
> @Override public void create ()
> {
>     Texture text = new Texture(Gdx.files.internal(""test.png""));
>     text.setFilter(Texture.TextureFilter.Linear, Texture.TextureFilter.Linear);
> 
>     batch = new SpriteBatch();
>     font = new BitmapFont(Gdx.files.internal(""test"" + "".fnt""), new TextureRegion(text), false);
>     font.setColor(Color.BLACK);
>     font.getData().setScale(3);
>     fontShader = new ShaderProgram(Gdx.files.internal(""font.vert""), Gdx.files.internal(""font.frag""));
> }
> 
> @Override
> public void render ()
> {
>     Gdx.gl.glClearColor(1, 1, 1, 1);
>     Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
>     batch.setShader(fontShader);
>     batch.begin();
> 
>     font.draw(batch, ""jii"", 0, 100);
>     batch.end();
> }
> ```
> 
> }
> 
> Please select the affected platforms
> - Android
> - iOS
> - HTML/GWT
> - Windows
> - Linux
> - MacOS
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/libgdx/libgdx/issues/4106, or mute the thread
> https://github.com/notifications/unsubscribe/AFbm0RjA4V9GbU0Xhgv33tyZq6ZsFqejks5qGE77gaJpZM4IpFah
> .
"
libgdx/libgdx,"Hi guys,

I have created a simple project that shows this bug.

Please, clone it:
git clone https://github.com/serhii-k/test.git

It contains the ttf-file that contains only one character 'm', for the simplicity of this test.

When I generate a font, specifying:
parameter.characters = ""m"";

Then
font.draw(batch, ""m"", 300, 300);
displays this result:

![test1](https://cloud.githubusercontent.com/assets/10563821/12652654/778483f2-c5f4-11e5-8e7d-f7f507cfcbe9.png)

A workaround is to specify the characters parameter as ""mm"":
parameter.characters = ""mm"";

Then, the font is renderred correctly:

![test2](https://cloud.githubusercontent.com/assets/10563821/12652680/938fa536-c5f4-11e5-97d3-3167541ef7c4.png)

This issue was first seen since libGDX 1.8.0.

Kind regards,
Serhii
",https://github.com/libgdx/libgdx/issues/3791#issuecomment-188940126,"Creating example code as described [here](https://github.com/libgdx/libgdx/wiki/Getting-Help#executable-example-code) instead of whole repo will make it easier for others to help.

That said, looking at your code: does this happen with smaller glyph sizes? 150 is pretty big.
"
libgdx/libgdx,"Using 1.8.0, old LWJGL works fine, but I can't get new one to start.

The liblwjgl.so under /tmp is 32 bit, though the one under target/natives is 64 bit. (I tried manually replacing it, but it's recreated each time as far as I can tell).

```
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /tmp/libgdxjunkdog/1c78875b/liblwjgl.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
Exception in thread ""main"" java.lang.UnsatisfiedLinkError: /tmp/libgdxjunkdog/1c78875b/liblwjgl.so: /tmp/libgdxjunkdog/1c78875b/liblwjgl.so: wrong ELF class: ELFCLASS32 (Possible cause: architecture word width mismatch)
    at java.lang.ClassLoader$NativeLibrary.load(Native Method)
    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1929)
    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1814)
    at java.lang.Runtime.load0(Runtime.java:809)
    at java.lang.System.load(System.java:1083)
    at org.lwjgl.system.Library$1.load(Library.java:25)
    at org.lwjgl.system.Library$1.load(Library.java:22)
    at org.lwjgl.system.Library.loadLibrary(Library.java:196)
    at org.lwjgl.system.Library.loadSystem(Library.java:90)
    at org.lwjgl.system.Library.<clinit>(Library.java:48)
    at org.lwjgl.system.MemoryUtil.<clinit>(MemoryUtil.java:56)
    at org.lwjgl.system.libffi.Closure.<clinit>(Closure.java:57)
    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:64)
    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.<init>(Lwjgl3Application.java:73)
    at se.feomedia.map.MapApplicationDesktopNoSwing.main(MapApplicationDesktopNoSwing.java:21)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:483)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
```
",https://github.com/libgdx/libgdx/issues/3704#issuecomment-203551839,"@junkdog what's the status on this issue?
"
libgdx/libgdx,"- [x] https://github.com/libgdx/libgdx/wiki/Fullscreen-%26-vsync 
- [ ] https://github.com/libgdx/libgdx/wiki/Starter-classes-%26-configuration
- [x] https://github.com/libgdx/libgdx/wiki/Take-a-Screenshot
- [x] https://github.com/libgdx/libgdx/wiki/Controllers
- [x] https://github.com/libgdx/libgdx/wiki/Cursor-visibility-%26-catching

All of those pages are outdated due to LWJGL3.
- [x] https://github.com/libgdx/libgdx/wiki/Configuration-%26-querying

This page is also outdated, see #3594 (Addition of Gyroscope). We should also add an extra wiki page for the Gyroscope.
",https://github.com/libgdx/libgdx/issues/3700#issuecomment-174284276,"I removed the full-screen/vsync article in favor of a more elaborate one. 

I rewrote the ""Take a screenshot"" article.

I fixed up the controllers page.

@intrigus could you revamp the starter classes configuration, cursor visibility and input config/querying pages as you suggested?

Controllers doesn't need an update from what i can tell.
"
libgdx/libgdx,"I have found a bug in libgdx:
# Steps to reproduce
1. You have to have nexus device, that does have on screen buttons (tested on nexus 5 and nexus 9), device must be running Android 6.0 (app worked correctly in previous versions)
2. Create fresh new project (can be only andorid, no need for ios, desktop or html)
3. edit AndoridLauncher.java, add folowing comfig: `config.useImmersiveMode = true;` to enable ""full screen mode""
4. Set app to be portrait rather than landscape (In AndoridManifest.xml, set: `android:screenOrientation=""portrait""`)
5. Build & Deploy
6. Start app -> **App runs fine** -> _App runs fine only on first start_
7. Exit app by pressing back button twice
8. Start app again
9. There is **black belt at the bottom of the screen** as shown in screenshot)

![screenshot_20151022-083547](https://cloud.githubusercontent.com/assets/15046120/10658606/d101e7ac-7898-11e5-952c-5a368b9f9e10.png)

Aditional info:
- belt can be removed by going out of the app and back into (middle button)
- belt can be removed by going to app switcher and back into the app
- our app is still in the development, therefore I cannot give you link to the play store to test it, but we have observed same problem with https://play.google.com/store/apps/details?id=com.freaxator.game100balls which presumably uses libgdx framework. 
- I have used latest gdx-setup.jar and latest LibGDX 1.7.0
# Logs

This is log of first startup (no black belt)

> 10-22 09:04:45.451 17959-17959/? I/art: Late-enabling -Xcheck:jni
> 10-22 09:04:45.484 17959-17965/? I/art: Debugger is no longer active
> 10-22 09:04:45.533 17959-17959/? I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: QUALCOMM Build: 09/02/15, 76f806e, Ibddc658e36
> 10-22 09:04:45.665 17959-17959/? I/AndroidInput: sensor listener setup
> 10-22 09:04:45.673 17959-17982/? D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true
> 10-22 09:04:45.715 17959-17982/? I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: QUALCOMM Build: 09/02/15, 76f806e, Ibddc658e36
> 10-22 09:04:45.715 17959-17982/? I/OpenGLRenderer: Initialized EGL, version 1.4
> 10-22 09:04:45.746 17959-17978/? W/GL2JNIView: creating OpenGL ES 2.0 context
> 10-22 09:04:45.761 17959-17978/? I/GL2: all initialized 2
> 10-22 09:04:45.761 17959-17978/? I/AndroidGraphics: OGL renderer: Adreno (TM) 330
> 10-22 09:04:45.761 17959-17978/? I/AndroidGraphics: OGL vendor: Qualcomm
> 10-22 09:04:45.762 17959-17978/? I/AndroidGraphics: OGL version: OpenGL ES 3.0 V@127.0 AU@  (GIT@Ibddc658e36)
> 10-22 09:04:45.762 17959-17978/? I/AndroidGraphics: OGL extensions: GL_AMD_compressed_ATC_texture GL_AMD_performance_monitor GL_AMD_program_binary_Z400 GL_EXT_debug_label GL_EXT_debug_marker GL_EXT_discard_framebuffer GL_EXT_robustness GL_EXT_texture_format_BGRA8888 GL_EXT_texture_type_2_10_10_10_REV GL_NV_fence GL_OES_compressed_ETC1_RGB8_texture GL_OES_depth_texture GL_OES_depth24 GL_OES_EGL_image GL_OES_EGL_sync GL_OES_EGL_image_external GL_OES_element_index_uint GL_OES_fbo_render_mipmap GL_OES_fragment_precision_high GL_OES_get_program_binary GL_OES_packed_depth_stencil GL_OES_depth_texture_cube_map GL_OES_rgb8_rgba8 GL_OES_standard_derivatives GL_OES_texture_3D GL_OES_texture_float GL_OES_texture_half_float GL_OES_texture_half_float_linear GL_OES_texture_npot GL_OES_vertex_half_float GL_OES_vertex_type_10_10_10_2 GL_OES_vertex_array_object GL_QCOM_alpha_test GL_QCOM_binning_control GL_QCOM_driver_control GL_QCOM_perfmon_global_mode GL_QCOM_extended_get GL_QCOM_extended_get2 GL_QCOM_tiled_rendering GL_QCOM_writeonly_rendering GL_EXT_sRGB GL_EXT_sRGB_write_control GL_EXT_texture_sRGB_decode GL_EXT_texture_filter_anisotropic GL_EXT_multisampled_render_to_texture GL_EXT_color_buffer_float > GL_EXT_color_buffer_half_float GL_EXT_disjoint_timer_query 
> 10-22 09:04:45.763 17959-17978/? W/Adreno-EGL: <qeglDrvAPI_eglGetConfigAttrib:607>: EGL_BAD_ATTRIBUTE
> 10-22 09:04:45.763 17959-17978/? W/Adreno-EGL: <qeglDrvAPI_eglGetConfigAttrib:607>: EGL_BAD_ATTRIBUTE
> 10-22 09:04:45.763 17959-17978/? I/AndroidGraphics: framebuffer: (5, 6, 5, 0)
> 10-22 09:04:45.763 17959-17978/? I/AndroidGraphics: depthbuffer: (16)
> 10-22 09:04:45.763 17959-17978/? I/AndroidGraphics: stencilbuffer: (0)
> 10-22 09:04:45.763 17959-17978/? I/AndroidGraphics: samples: (0)
> 10-22 09:04:45.763 17959-17978/? I/AndroidGraphics: coverage sampling: (false)
> 10-22 09:04:45.767 17959-17978/? I/AndroidGraphics: Managed meshes/app: { }
> 10-22 09:04:45.767 17959-17978/? I/AndroidGraphics: Managed textures/app: { }
> 10-22 09:04:45.767 17959-17978/? I/AndroidGraphics: Managed cubemap/app: { }
> 10-22 09:04:45.767 17959-17978/? I/AndroidGraphics: Managed shaders/app: { }
> 10-22 09:04:45.767 17959-17978/? I/AndroidGraphics: Managed buffers/app: { }

This is log of second startup (bug, black belt)

> 10-22 09:02:41.778 15895-15895/? I/art: Late-enabling -Xcheck:jni
> 10-22 09:02:41.866 15895-15895/com.mygdx.game.android I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: QUALCOMM Build: 09/02/15, 76f806e, Ibddc658e36
> 10-22 09:02:42.004 15895-15895/com.mygdx.game.android I/AndroidInput: sensor listener setup
> 10-22 09:02:42.010 15895-15936/com.mygdx.game.android D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true
> 10-22 09:02:42.052 15895-15936/com.mygdx.game.android I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: QUALCOMM Build: 09/02/15, 76f806e, Ibddc658e36
> 10-22 09:02:42.052 15895-15936/com.mygdx.game.android I/OpenGLRenderer: Initialized EGL, version 1.4
> 10-22 09:02:42.072 15895-15930/com.mygdx.game.android W/GL2JNIView: creating OpenGL ES 2.0 context
> 10-22 09:02:42.085 15895-15930/com.mygdx.game.android I/GL2: all initialized 2
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android I/AndroidGraphics: OGL renderer: Adreno (TM) 330
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android I/AndroidGraphics: OGL vendor: Qualcomm
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android I/AndroidGraphics: OGL version: OpenGL ES 3.0 V@127.0 AU@  (GIT@Ibddc658e36)
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android I/AndroidGraphics: OGL extensions: GL_AMD_compressed_ATC_texture GL_AMD_performance_monitor GL_AMD_program_binary_Z400 GL_EXT_debug_label GL_EXT_debug_marker GL_EXT_discard_framebuffer GL_EXT_robustness GL_EXT_texture_format_BGRA8888 GL_EXT_texture_type_2_10_10_10_REV GL_NV_fence GL_OES_compressed_ETC1_RGB8_texture GL_OES_depth_texture GL_OES_depth24 GL_OES_EGL_image GL_OES_EGL_sync GL_OES_EGL_image_external GL_OES_element_index_uint GL_OES_fbo_render_mipmap GL_OES_fragment_precision_high GL_OES_get_program_binary GL_OES_packed_depth_stencil GL_OES_depth_texture_cube_map GL_OES_rgb8_rgba8 GL_OES_standard_derivatives GL_OES_texture_3D GL_OES_texture_float GL_OES_texture_half_float GL_OES_texture_half_float_linear GL_OES_texture_npot GL_OES_vertex_half_float GL_OES_vertex_type_10_10_10_2 GL_OES_vertex_array_object GL_QCOM_alpha_test GL_QCOM_binning_control GL_QCOM_driver_control GL_QCOM_perfmon_global_mode GL_QCOM_extended_get GL_QCOM_extended_get2 GL_QCOM_tiled_rendering GL_QCOM_writeonly_rendering GL_EXT_sRGB GL_EXT_sRGB_write_control GL_EXT_texture_sRGB_decode GL_EXT_texture_filter_anisotropic GL_EXT_multisampled_render_to_texture GL_EXT_color_buffer_float > GL_EXT_color_buffer_half_float GL_EXT_disjoint_timer_query 
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android W/Adreno-EGL: <qeglDrvAPI_eglGetConfigAttrib:607>: EGL_BAD_ATTRIBUTE
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android W/Adreno-EGL: <qeglDrvAPI_eglGetConfigAttrib:607>: EGL_BAD_ATTRIBUTE
> 10-22 09:02:42.086 15895-15930/com.mygdx.game.android I/AndroidGraphics: framebuffer: (5, 6, 5, 0)
> 10-22 09:02:42.087 15895-15930/com.mygdx.game.android I/AndroidGraphics: depthbuffer: (16)
> 10-22 09:02:42.087 15895-15930/com.mygdx.game.android I/AndroidGraphics: stencilbuffer: (0)
> 10-22 09:02:42.087 15895-15930/com.mygdx.game.android I/AndroidGraphics: samples: (0)
> 10-22 09:02:42.087 15895-15930/com.mygdx.game.android I/AndroidGraphics: coverage sampling: (false)
> 10-22 09:02:42.090 15895-15930/com.mygdx.game.android I/AndroidGraphics: Managed meshes/app: { }
> 10-22 09:02:42.090 15895-15930/com.mygdx.game.android I/AndroidGraphics: Managed textures/app: { }
> 10-22 09:02:42.090 15895-15930/com.mygdx.game.android I/AndroidGraphics: Managed cubemap/app: { }
> 10-22 09:02:42.091 15895-15930/com.mygdx.game.android I/AndroidGraphics: Managed shaders/app: { }
> 10-22 09:02:42.091 15895-15930/com.mygdx.game.android I/AndroidGraphics: Managed buffers/app: { }
",https://github.com/libgdx/libgdx/issues/3500#issuecomment-150920411,"May it be related to https://github.com/libgdx/libgdx/issues/3335?
"
libgdx/libgdx,"I add a banner subview in top of the libgdx view just like this->

![Image of libgdx](https://dl.dropboxusercontent.com/u/78073642/ImagenesPosteadasEnForos/2014-01-02%2017.10.46.jpg)

All my buttons are set with scene2d, but i notice that i have to press below the buttons to get the changed event. 
if i do not add the banner view there is no problem about pressing the buttons.

I was looking the source code in the robovm back-end and i think the problem is the function getBounds, cause you are getting the size of all the screen, and not the view that is using libgx

As mario said in this comment its an issue with Libgdx. http://robovm.com/robovm-1-5-released-cross-platform-development-robopods/#comment-2128199229
",https://github.com/libgdx/libgdx/issues/3278#issuecomment-123687878,"#2105 related, do you have a test example with this layout so we can test?
"
libgdx/libgdx,"Yesterday, I was working on re-learning Box2D, and I had a previous example before-hand. When I was doing this, I was having trouble rendering the fixture that I have created, and I had no idea why.

What it turned out to be was that I was calling code in this order:

```
box2dDebugRenderer.render(world, camera.combined);
rayHandler.render();
```

Calling the code this way, without having any _Light_ objects in my _RayHandler_ would keep my _Box2DDebugRenderer_ from rending my _Body_.

Full _working_ Code (if necessary):

``` java
public class TestBox2D extends EGGame {

    int width;
    int height;

    static final Vector2 ZERO_GRAVITY = new Vector2(0f, 0f);

    OrthographicCamera camera;
    World world;
    Body body;
    Box2DDebugRenderer box2dDebugRenderer;
    RayHandler rayHandler;
    Array<Body> bodies;

    public TestBox2D(EGVersion version, String dataFolderName, LwjglApplicationConfiguration config) {
        super(version, dataFolderName, config);
    }

    @Override
    protected void init() {
        width = Gdx.graphics.getWidth()/4;
        height = Gdx.graphics.getHeight()/4;
        camera = new OrthographicCamera(width, height);
        camera.position.set(width / 2, height / 2, 0);
        camera.update();

        world = new World(ZERO_GRAVITY, true);
        box2dDebugRenderer = new Box2DDebugRenderer();
        rayHandler = new RayHandler(world);
        rayHandler.setCombinedMatrix(camera.combined);

        BodyDef bodyDef = new BodyDef();
        bodyDef.type = BodyDef.BodyType.StaticBody;
         bodyDef.position.set(width / 2, height / 2);

        body = world.createBody(bodyDef);

        CircleShape shape = new CircleShape();
        shape.setRadius(1f);

        FixtureDef fixtureDef = new FixtureDef();
        fixtureDef.shape = shape;
        body.createFixture(fixtureDef);

        bodies = new Array<>();

//      new PointLight(rayHandler, 500, Color.GREEN, 50, 20, 20);
    }

    @Override
    protected void updateGame() {
        world.step(1f / 30f, 6, 2);
        world.getBodies(bodies);
        rayHandler.update();
    }

    @Override
    protected void renderGame() {
//      rayHandler.render();
        box2dDebugRenderer.render(world, camera.combined);
    }

    @Override
    public void dispose() {
        world.dispose();
    }

    public static void main(String... args) {
        new TestBox2D(null, null, new LwjglApplicationConfiguration());
    }
}
```

**The Issue is**:

When rendering, if the code is called like:

``` java
box2dDebugRenderer.render(world, camera.combined);
rayHandler.render();
```

and there are no _Light_ objects associated with the _RayHandler_, the _Box2DDebugRenderer_ doesn't render (at least) the fixtures.
",https://github.com/libgdx/libgdx/issues/3049#issuecomment-95749862,"So... What exactly is the issue you are reporting?
"
libgdx/libgdx,"Hi,

I've found small problem in Actor's drawDebugBounds method. My app has viewport working in virtual world dimensions 16 units x 9 units. drawDebugBounds is using its coordinates instead of pixel screen resolution and because of this and ""width - 1, height - 1"", every rectangle is one unit short in width (1/16 of viewport) and height (1/9 of viewport). Fullscreen background with 16x9 unit size has 15x8 debug rectangle, sprites with 1x1 unit size has 0x0 debug rectangle, etc.

_my code_

``` java
        camera = new OrthographicCamera();
        viewport = new FitViewport(16f, 9f, camera);
        viewport.apply();
        stage = new Stage(viewport);
```

_libgdx/gdx/src/com/badlogic/gdx/scenes/scene2d/Actor.java_

``` java
    /** Draws a rectange for the bounds of this actor if {@link #getDebug()} is true. */
    protected void drawDebugBounds (ShapeRenderer shapes) {
        if (!debug) return;
        shapes.set(ShapeType.Line);
        shapes.setColor(stage.getDebugColor());
        shapes.rect(x, y, originX, originY, width - 1, height - 1, scaleX, scaleY, rotation);
    }
```
",https://github.com/libgdx/libgdx/issues/2989#issuecomment-87452755,"Do you have an executable example?
"
libgdx/libgdx,,https://github.com/libgdx/libgdx/issues/2924#issuecomment-77882796,"All good on my end @badlogic, sure it's not muted? Seems like muted is the default setting on a new install.
"
libgdx/libgdx,"The game which was successfully working crash on the real device (iPhone 5s) with the latest nightly 01.02.2015 right at the start. At the same time it works fine in simulator of the same device. Here is the simbolication of crash report:

<pre><code>11: [J]org.robovm.apple.foundation.Foundation.log(Ljava/lang/String;Lorg/robovm/apple/foundation/NSObject;)V (in Ted the Jumper) + 180
12: [j]org.robovm.apple.foundation.Foundation.log(Ljava/lang/String;Lorg/robovm/apple/foundation/NSObject;)V[clinit] (in Ted the Jumper) + 84
13: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication.debug(Ljava/lang/String;Ljava/lang/String;)V (in Ted the Jumper) (/IOSApplication.java:348)
14: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication.didFinishLaunching(Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) (/IOSApplication.java:123)
15: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication$Delegate.didFinishLaunching(Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) + 112
16: [J]org.robovm.apple.uikit.UIApplicationDelegate$ObjCProxy.$cb$application$didFinishLaunchingWithOptions$(Lorg/robovm/apple/uikit/UIApplicationDelegate;Lorg/robovm/objc/Selector;Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) (/Unknown source:1048629)
17: [j]org.robovm.apple.uikit.UIApplicationDelegate$ObjCProxy.$cb$application$didFinishLaunchingWithOptions$(Lorg/robovm/apple/uikit/UIApplicationDelegate;Lorg/robovm/objc/Selector;Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z[callback] (in Ted the Jumper) + 236
</code></pre>


The issue was got using last libGDX and roboVM snapshot. From the history It is probably that the problem is exactly in the commit 2 days ago: 41708a5. It do the opposite to what it is named :) libGDX 1.5.3 with roboVM beta-03 works just fine. Latest SNAPSHOTS (libGDX & roboVM) fail with this issue.

This is connected to roboVM issue #737
",https://github.com/libgdx/libgdx/issues/2800#issuecomment-72388285,"What's the device?
On Feb 1, 2015 11:27 PM, ""titovmaxim"" notifications@github.com wrote:

> The game which was successfully working crash on the real device (iPhone
> 5s) with the latest nightly 01.02.2015 right at the start. At the same time
> it works fine in simulator of the same device. Here is the simbolication of
> crash report:
> 
> 11: [J]org.robovm.apple.foundation.Foundation.log(Ljava/lang/String;Lorg/robovm/apple/foundation/NSObject;)V (in Ted the Jumper) + 180
> 12: [j]org.robovm.apple.foundation.Foundation.log(Ljava/lang/String;Lorg/robovm/apple/foundation/NSObject;)V[clinit](in Ted the Jumper) + 84
> 13: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication.debug(Ljava/lang/String;Ljava/lang/String;)V (in Ted the Jumper) (/IOSApplication.java:348)
> 14: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication.didFinishLaunching(Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) (/IOSApplication.java:123)
> 15: [J]com.badlogic.gdx.backends.iosrobovm.IOSApplication$Delegate.didFinishLaunching(Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) + 112
> 16: [J]org.robovm.apple.uikit.UIApplicationDelegate$ObjCProxy.$cb$application$didFinishLaunchingWithOptions$(Lorg/robovm/apple/uikit/UIApplicationDelegate;Lorg/robovm/objc/Selector;Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z (in Ted the Jumper) (/Unknown source:1048629)
> 17: [j]org.robovm.apple.uikit.UIApplicationDelegate$ObjCProxy.$cb$application$didFinishLaunchingWithOptions$(Lorg/robovm/apple/uikit/UIApplicationDelegate;Lorg/robovm/objc/Selector;Lorg/robovm/apple/uikit/UIApplication;Lorg/robovm/apple/uikit/UIApplicationLaunchOptions;)Z[callback](in Ted the Jumper) + 236
> 
> The issue was got using last libGDX and roboVM snapshot. From the history
> It is probably that the problem is exactly in the commit 2 days ago:
> 41708a5
> https://github.com/libgdx/libgdx/commit/41708a5e801cac069e7b742c35f1ad4a57f937e1.
> It do the opposite to what it is named :) libGDX 1.5.3 with roboVM beta-03
> works just fine. Latest SNAPSHOTS (libGDX & roboVM) fail with this issue.
> 
> This is connected to roboVM issue #737
> https://github.com/libgdx/libgdx/pull/737
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2800.
"
libgdx/libgdx,"I've just published the game build with libGDX & roboVM for iOS devices. I've tested the game locally on simulator and iPhone-5s - everything works fine. However I've got plenty (several hundreds) of crash reports by Flurry from the game in the field:

<pre><code>*** Terminating app due to uncaught exception 'NullPointerException: null', reason: 'NullPointerException: null
com.badlogic.gdx.backends.iosrobovm.IOSSound.play(IOSSound.java:66)
com.badlogic.gdx.backends.iosrobovm.IOSSound.play(IOSSound.java:56)
com.mmxgames.engine.audio.RandomSound.playAtIndex(RandomSound.java:47)
com.mmxgames.engine.audio.RandomSound.play(RandomSound.java:36)
com.mmxgames.engine.audio.SoundPack.play(SoundPack.java:53)
com.mmxgames.engine.audio.SoundPack.play(SoundPack.java:37)
com.mmxgames.engine.ResMan$RSoundPack.play(ResMan.java:205)
com.mmxgames.ttj.themes.GameView3D.onMove(GameView3D.java:360)
com.mmxgames.ttj.play.ALevelScene.processAction(ALevelScene.java:356)
com.mmxgames.ttj.play.ALevelScene.__update(ALevelScene.java:186)
com.mmxgames.ttj.play.StoryLevelScene.__update(StoryLevelScene.java:144)
com.mmxgames.engine.components.Host.__update(Host.java:235)
com.mmxgames.engine.AGame.render(AGame.java:282)
com.badlogic.gdx.backends.iosrobovm.IOSGraphics.draw(IOSGraphics.java:330)
com.badlogic.gdx.backends.iosrobovm.IOSGraphics$1.draw(IOSGraphics.java:200)
org.robovm.apple.uikit.UIView.$cb$drawRect$(UIView.java)
org.robovm.apple.uikit.UIApplication.main(Native Method)
org.robovm.apple.uikit.UIApplication.main(UIApplication.java:334)
com.bulkypix.tedthejumper.ios.Launcher.main(Launcher.java:182)
</code></pre>


So the exception raise for more or less any device type (iPhone 6 Plus, iPhone 6, iPhone 5s, iPhone 4s, iPads, etc.). The source code line is:

<pre><code>
ALSource soundSource = OALSimpleAudio.sharedInstance().playEffect(soundPath, volume, pitch, pan, loop);</code></pre>


Only the possibility I see is that  OALSimpleAudio.sharedInstance() returns null.

What could be the problem for that?
",https://github.com/libgdx/libgdx/issues/2790#issuecomment-72316609,"That's going to be a tough one to crack without a reproduction case :(
On Jan 31, 2015 1:20 PM, ""titovmaxim"" notifications@github.com wrote:

> I've just published the game build with libGDX & roboVM for iOS devices.
> I've tested the game locally on simulator and iPhone-5s - everything works
> fine. However I've got plenty (several hundreds) of crash reports by Flurry
> from the game in the field:
> 
> **\* Terminating app due to uncaught exception 'NullPointerException: null', reason: 'NullPointerException: null
> 
> com.badlogic.gdx.backends.iosrobovm.IOSSound.play(IOSSound.java:66)
> 
> com.badlogic.gdx.backends.iosrobovm.IOSSound.play(IOSSound.java:56)
> 
> com.mmxgames.engine.audio.RandomSound.playAtIndex(RandomSound.java:47)
> 
> com.mmxgames.engine.audio.RandomSound.play(RandomSound.java:36)
> 
> com.mmxgames.engine.audio.SoundPack.play(SoundPack.java:53)
> 
> com.mmxgames.engine.audio.SoundPack.play(SoundPack.java:37)
> 
> com.mmxgames.engine.ResMan$RSoundPack.play(ResMan.java:205)
> 
> com.mmxgames.ttj.themes.GameView3D.onMove(GameView3D.java:360)
> 
> com.mmxgames.ttj.play.ALevelScene.processAction(ALevelScene.java:356)
> 
> com.mmxgames.ttj.play.ALevelScene.__update(ALevelScene.java:186)
> 
> com.mmxgames.ttj.play.StoryLevelScene.__update(StoryLevelScene.java:144)
> 
> com.mmxgames.engine.components.Host.__update(Host.java:235)
> 
> com.mmxgames.engine.AGame.render(AGame.java:282)
> 
> com.badlogic.gdx.backends.iosrobovm.IOSGraphics.draw(IOSGraphics.java:330)
> 
> com.badlogic.gdx.backends.iosrobovm.IOSGraphics$1.draw(IOSGraphics.java:200)
> 
> org.robovm.apple.uikit.UIView.$cb$drawRect$(UIView.java)
> 
> org.robovm.apple.uikit.UIApplication.main(Native Method)
> 
> org.robovm.apple.uikit.UIApplication.main(UIApplication.java:334)
> 
> com.bulkypix.tedthejumper.ios.Launcher.main(Launcher.java:182)
> 
> So the exception raise for more or less any device type (iPhone 6 Plus,
> iPhone 6, iPhone 5s, iPhone 4s, iPads, etc.). The source code line is:
> 
> ALSource soundSource = OALSimpleAudio.sharedInstance().playEffect(soundPath, volume, pitch, pan, loop);
> 
> Only the possibility I see is that OALSimpleAudio.sharedInstance() returns
> null.
> 
> What could be the problem for that?
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2790.
"
libgdx/libgdx,"This bug was introduced in 1.5.3. Here's a comparision between 1.5.2 (left) and 1.5.3 (right):
![scrollpane bug 1 5 3](https://cloud.githubusercontent.com/assets/4956158/5943563/460fbfec-a720-11e4-9bc3-0657055cea41.png)

The bar for scrolling on x is not currently visible but notice the widget is offset by its height in 1.5.3.

I believe [this commit](https://github.com/libgdx/libgdx/commit/17f8525b056708df4c197e5a693ab1ba111ca5b4#diff-5924fb1b14a1b709cfac453b8f8b717c) introduced the problem. Since this commit `scrollbarHeight` is only subtracted from `areaHeight` if scrolling on both axes is enabled which in my picture is not the case. Undoing the changes to `ScrollPane` in this commit should fix the issue.
",https://github.com/libgdx/libgdx/issues/2777#issuecomment-71961779,"Can you please edit scroll pane test to show the problem?
"
libgdx/libgdx,"I previously posted [this](https://groups.google.com/forum/#!topic/robovm/8Q_crAlkxYw) on the RoboVM forums, but Niklas directed me this way. 

I noticed my touches are reported as being half a centimeter or so lower than where I'm really pressing. This happens with a app on iOS when UIStatusBarHidden is set to false. When the status bar is hidden, touch coordinates are correct. The offset is about the size of the status bar, so I think this isn't being taken into account somehow? Test case [here](http://pastebin.com/CG5SDVKi). 

It's barely noticeable most of the time, but, for instance, if you hit the bottom of buttons in a stage they don't respond. Easy fix by hiding it anyway.

Everything else is glorious, keep it up! :D 
",https://github.com/libgdx/libgdx/issues/2766#issuecomment-100737244,"Had a look into this, but couldn't actually get the status bar to show correctly. Anyone have the config for RoboVM that shows the status bar?  (For LibGDX 1.6.0 and RoboVM 1.2 that is)
"
libgdx/libgdx,"See http://i.imgur.com/4Vorrp7.png & http://i.imgur.com/2992Rg9.png.
![lights](https://cloud.githubusercontent.com/assets/2349087/5825034/cfa2361a-a0e8-11e4-8ff5-2030b65b0361.png)
![invaders](https://cloud.githubusercontent.com/assets/2349087/5825038/d85be42c-a0e8-11e4-8832-e4f122f68ee7.png)
",https://github.com/libgdx/libgdx/issues/2758#issuecomment-91051153,"After going for some investigation, it is due to the fact that the light direction uniform is not passed correctly to the shader.

Looking at the code, the way the vector are passed to the shader do not seem to conform to [the spec](https://www.opengl.org/wiki/Uniform_%28GLSL%29#Uniform_management), since we assume that the uniform are linearly arranged and the spec states:

> However, for structs, if the locations were not explicitly specified then the location of any particular element will have no relation to any other element. So you cannot count on the next element being one location index higher than the previous. This is true even for arrays of structs.

Therefore I changed it to conform, and it did not work either. I finally found that there is a known bug on current Chrome version on windows, [reported here](https://code.google.com/p/chromium/issues/detail?id=462968)

This bug is windows only, so it would be nice **if someone could check that it is ok on other GWT platform (Mac / Linux someone ?), this would be great**.

For the more (sort of) correct code for setting the uniform, I simply use array of uniforms instead of the current implementation which compute the stride and use it directly. If you think it would be better, I can provide a PR for this to review. The general idea for the code is given below:

``` java
    protected final int[] u_dirLightsColor;
    protected final int[] u_dirLightsDirection;
    protected final int[] u_pointLightsColor;
    protected final int[] u_pointLightsPosition;
    protected final int[] u_pointLightsIntensity;
    ...
    protected int[] dirLightsColorLoc;
    protected int[] dirLightsDirectionLoc;
    protected int[] pointLightsColorLoc;
    protected int[] pointLightsPositionLoc;
    protected int[] pointLightsIntensityLoc;

    In constructor : 

        u_dirLightsColor = new int[config.numDirectionalLights];
        u_dirLightsDirection = new int[config.numDirectionalLights];
        for (int i = 0; i < config.numDirectionalLights; i++) {
            String light = ""u_dirLights["" + i + ""]""; 
            u_dirLightsColor[i] = register(new Uniform(light + "".color""));
            u_dirLightsDirection[i] = register(new Uniform(light + "".direction""));
        }

        u_pointLightsColor = new int[config.numPointLights];
        u_pointLightsPosition = new int[config.numPointLights];
        u_pointLightsIntensity = new int[config.numPointLights];
        for (int i = 0; i < config.numPointLights; i++) {
            String light = ""u_pointLights["" + i + ""]"";
            u_pointLightsColor[i] = register(new Uniform(light + "".color""));
            u_pointLightsPosition[i] = register(new Uniform(light + "".position""));
            u_pointLightsIntensity[i] = register(new Uniform(light + "".intensity""));
        }

    In init : 

        dirLightsColorLoc = new int[config.numDirectionalLights];
        dirLightsDirectionLoc = new int[config.numDirectionalLights];
        for (int i = 0; i < config.numDirectionalLights; i++) {
            dirLightsColorLoc[i] = loc(u_dirLightsColor[i]);
            dirLightsDirectionLoc[i] = loc(u_dirLightsDirection[i]);
        }

        pointLightsColorLoc = new int[config.numPointLights];
        pointLightsPositionLoc = new int[config.numPointLights];
        pointLightsIntensityLoc = new int[config.numPointLights];
        for (int i = 0; i < config.numPointLights; i++) {
            pointLightsColorLoc[i] = loc(u_pointLightsColor[i]);
            pointLightsPositionLoc[i] = loc(u_pointLightsPosition[i]);
            pointLightsIntensityLoc[i] = loc(u_pointLightsIntensity[i]);
        }

```
"
libgdx/libgdx,"I've created a game using your framework (can find it here) 
https://play.google.com/store/apps/details?id=com.polygonattraction.shorb.android&hl=en

I'm doing the iOS release, everything is working fine apart from a few things. It's extremely blurry on an iPhone 6 and on iPhone 6 & 5 the screen dimensions are reported are wrong, example using Gdx.graphics.getPpcx() returns a size way bigger than a CM which I use for everything (button sizes, characters etc).

On a side note:
the desktop version & the iOS version reports the wrong size for CM's. It only effects the desktop version for 1.5.2

Any ideas?
",https://github.com/libgdx/libgdx/issues/2736#issuecomment-70338363,"ASAP, but i won't be able to fix it in the next 2 weeks. Maybe someone else
can step in and help.
On Jan 17, 2015 12:15 AM, ""voidstarfire"" notifications@github.com wrote:

> Any idea when this would be implemented? I've got around the issue with
> some manual scaling function, but I've still got the blurry issue.
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2736#issuecomment-70338187.
"
libgdx/libgdx,"When enabling debug in stage, a ShapeRenderer is  created, but I find nothing about its disposing,why?
",https://github.com/libgdx/libgdx/issues/2735#issuecomment-69569983,"Because it's for debugging.

On Mon, Jan 12, 2015 at 8:47 AM, panli32811 notifications@github.com
wrote:

> When enabling debug in stage, a ShapeRenderer is created, but I find
> nothing about its disposing,why?
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2735.
"
libgdx/libgdx,"find an error in my game.only in samung i9008L mobile phone.

```
    java.lang.NoSuchFieldError: java.util.Locale.ROOT
at com.badlogic.gdx.utils.I18NBundle.getCandidateLocales(I18NBundle.java:270)
at com.badlogic.gdx.utils.I18NBundle.createBundleImpl(I18NBundle.java:165)
at com.badlogic.gdx.utils.I18NBundle.createBundle(I18NBundle.java:130)
at com.oahcflystudio.game.XueBaGame.init(XueBaGame.java:37)
at com.oahcfly.chgame.core.mvc.CHGame.create(CHGame.java:136)
at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:237)
at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1325)
at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1116)
```
",https://github.com/libgdx/libgdx/issues/2701#issuecomment-68591661,"Hmmm... looks like Locale.ROOT has been added in API level 9.
Android 2.2 is API level 8, do we still support it?
"
libgdx/libgdx,"This is not so much a bug as a suggestion. I would like to use LibGDX's markup language to use in an ingame chat but the issue with this is that if a user uses a color code incorrectly, all the clients will crash. I thought it might be a good idea to instead of crashing the program when it encounters an invalid color code it could instead just remove the color code and print the error in the console. Thanks!
",https://github.com/libgdx/libgdx/issues/2644#issuecomment-66914802,"What's wrong with exception handling?
"
libgdx/libgdx,"Hello everyone,

I set up fresh sample project from libgdx 1.4.1 using generator. I added simple code:

``` java
Music music;
...
create() {
  ...
  music = Gdx.audio.newMusic(new FileHandle(""test.m4a""));
  music.play();
```

Here is the full sample project:
[Sample project](https://github.com/b-wojtowicz/libgdx-issue-report-no-sound-iphone5)

When launching this project on iPhone 5, there is no sound/music, but works for iPhone 4s and simulator.

Let me know if you need more info.

Best regards,
Bart
",https://github.com/libgdx/libgdx/issues/2636#issuecomment-66807041,"Hm, is your phone jailbroken? I have no iPhone 5 to test on until monday.
On Dec 12, 2014 6:41 PM, ""Bart≈Çomiej W√≥jtowicz"" notifications@github.com
wrote:

> Update: also tested on 1.5.0, unfortunately the same situation (branch:
> v_1_5_0
> https://github.com/b-wojtowicz/libgdx-issue-report-no-sound-iphone5/tree/v_1_5_0
> ).
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2636#issuecomment-66806826.
"
libgdx/libgdx,"I received this exception from a user, so I'm not sure about the specific scenario it happened.

java.lang.NullPointerException
at com.badlogic.gdx.backends.android.AndroidFragmentApplication.getApplicationWindow(AndroidFragmentApplication.java:420)
at com.badlogic.gdx.backends.android.AndroidFragmentApplication.useImmersiveMode(AndroidFragmentApplication.java:105)
at com.badlogic.gdx.backends.android.AndroidVisibilityListener$1$1.run(AndroidVisibilityListener.java:34)
at android.os.Handler.handleCallback(Handler.java:733)
at android.os.Handler.dispatchMessage(Handler.java:95)
at android.os.Looper.loop(Looper.java:157)
at android.app.ActivityThread.main(ActivityThread.java:5867)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:674)
at dalvik.system.NativeStart.main(Native Method)

Maybe this happened because the useImmersiveMode method runs as a post message and the Activity had already finished....

Thanks.
",https://github.com/libgdx/libgdx/issues/2602#issuecomment-64120798,"Since I wrote this code, I'll take responsibility of it and investigate.

To help make my life easier, could you tell me the Android version by any chance (KitKat or Lolipop). I don't absolutely need it but if you have it it won't hurt.

Edit: Also which libGDX version?
"
libgdx/libgdx,"It seems that readPixels, takes pixel data from wrong framebuffer resulting in empty pixels in screenshots when multisampling. As i googled , there is a glResolveMultisampleFramebufferAPPLE way (IOS + apple opengl extension ) and a glBlitFrameBuffer way (requires GL30) 

or 
For ios 5.x+, in IOSGraphics. there is a GLKView.getDrawableMultisample()
public native UIImage snapshot();

http://apidocs.robovm.com/1.0.0-SNAPSHOT/org/robovm/apple/glkit/GLKView.html#getDrawableMultisample()

GLKView is hidden but it can be accessible from ((IOSGraphics)Gdx.graphics).getView() ? 
",https://github.com/libgdx/libgdx/issues/2590#issuecomment-197876807,"Is this still an issue? The link is no longer available.

How would you reproduce it?
"
libgdx/libgdx,"Some bugs like #2396 have come up where it's been difficult to pin down the cause, and it has ended up being improper issue of GL commands (e.g. outside of the render() loop).

It'd be helpful to log non-zero results from glGetError() to catch these conditions early. Maybe just log once, or each time the value changes? Maybe just one class shared among the backends, or maybe we can put it in the core code without touching the backends?

According to Apple, glGetError() may degrade performance so we would probably want a developer-mode switch.
",https://github.com/libgdx/libgdx/issues/2585#issuecomment-63066254,"LWJGL had a debug JAR that does this.
On Nov 14, 2014 2:14 PM, ""Steven Hugg"" notifications@github.com wrote:

> Some bugs like #2396 https://github.com/libgdx/libgdx/issues/2396 have
> come up where it's been difficult to pin down the cause, and it has ended
> up being improper issue of GL commands (e.g. outside of the render() loop).
> 
> It'd be helpful to log non-zero results from glGetError() to catch these
> conditions early. Maybe just log once, or each time the value changes?
> Maybe just one class shared among the backends, or maybe we can put it in
> the core code without touching the backends?
> 
> According to Apple, glGetError() may degrade performance so we would
> probably want a developer-mode switch.
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2585.
"
libgdx/libgdx,"We build our app using libgdx, it works perfectly well in ios7 or before, even ios8 stimulator.
But find an issue with AVAudioSession in iOS8.

I get the following error message:

AVAudioSession.mm:646: -[AVAudioSession setActive:withOptions:error:]: Deactivating an audio session that has running I/O. All I/O should be stopped or paused prior to deactivating the audio session.

Same problem occurs in ios8 to others, they fixed as followed:
http://stackoverflow.com/questions/24114323/ios8-avaudiosession-setactive-error

It is very urgent, waiting for the solution eagerly.
",https://github.com/libgdx/libgdx/issues/2570#issuecomment-63216917,"@wdcmlds could you please supply steps to reproduce this issue? Audio works fine on my iOS 8 device.
"
libgdx/libgdx,"First in Lollipop preview app freezed on MediaPlayer.prepare() call in final build of Lollipop no music is played at all...
Sound class is working fine, only Music is silent.
This shows up in Logcat
![gfs](https://cloud.githubusercontent.com/assets/1550507/4925173/0f096e14-6529-11e4-8a83-b7f9c5a7fd1f.png)
",https://github.com/libgdx/libgdx/issues/2550#issuecomment-61880569,"You mentioned the L preview as well? What device do you have for that as I'm running it on my Nexus 7 2013? 
"
libgdx/libgdx,"Hi,
I using TextField to input string. When i use SamSung (Samsung Galaxy S3) keyboard, the keyboard always pop. But when I type anything, it don't display any letters. The problems seems to appear only when ""predictive text"" is enabled. Please, fix it. It is really uncomfortable :(
",https://github.com/libgdx/libgdx/issues/2491#issuecomment-60294199,"Hi! 

Could you please provide a SSCCE ( http://sscce.org/ ) to help us reproduce the issue? Also I need the following information about the device:
- Android Version 
- Keyboard App Name (System/Stock, Google, or a 3rd-party implementation?)

Please try the Google Keyboard https://play.google.com/store/apps/details?id=com.google.android.inputmethod.latin&hl=en and see if it works on your device as well.
"
libgdx/libgdx,"Hi,
I tried myself the last 3 hrs of setting up a good testcase but I am not 100% sure what goes wrong:
What happens:
It's not possible to change the color of tb1 after it was set the first time. The actions have no effect.
If I create a new BitmapFont or set the style, so a new BitmapFontCache is created I can set the color as many times as I want to.
It's not a real testcase but I didnt know how to put everything in one class as you would need more, if you need the testproject with files etc, I could upload it.

``` java
    /**
     * the font of the textbuttonstyle is created by Smartfontgenerator
     */
    public static void testTextButton() {
        RessourceManager.stage.clear();

        final Table testTbl = new Table();
        final TextButton tb1 = new TextButton(""FAILS"",
                RessourceManager.primaryButtonStyle);

        // ###########
        // has the same effect as if I would call tb2.setStyle(tb2.getStyle())
        // AFTER the first render call
        BitmapFont bf = new BitmapFont(
                RessourceManager.primaryButtonStyle.font.getData(),
                (TextureRegion) null, false);
        RessourceManager.primaryButtonStyle.font = bf;
        // ###########

        final TextButton tb2 = new TextButton(""WORKS"",
                RessourceManager.primaryButtonStyle);
        tb2.setStyle(tb2.getStyle());
        // **
        tb1.addAction(Actions.alpha(0));
        tb1.addAction(Actions.delay(1, Actions.alpha(1)));
        tb1.addAction(Actions.delay(1, Actions.color(new Color(1, 1, 1, 1))));
        tb1.addAction(Actions.delay(1, Actions.run(new Runnable() {

            @Override
            public void run() {
                // would fix it
                // tb1.setStyle(tb1.getStyle());
            }
        })));
        testTbl.add(tb1);
        testTbl.row();

        tb2.addAction(Actions.alpha(0));
        tb2.addAction(Actions.delay(1, Actions.alpha(1)));
        // set it a second time
        tb2.addAction(Actions.delay(2, Actions.alpha(0.2f)));
        tb2.addAction(Actions.delay(3, Actions.alpha(1f)));
        // third time
        tb2.addAction(Actions.delay(4, Actions.run(new Runnable() {

            @Override
            public void run() {
                TextButton tb3 = new TextButton(""WORKS too"",
                        RessourceManager.primaryButtonStyle);
                tb3.addAction(Actions.alpha(0));
                tb3.addAction(Actions.delay(1, Actions.alpha(1)));
                testTbl.add(tb3);
                testTbl.row();
            }
        })));
        testTbl.add(tb2);
        testTbl.row();

        testTbl.setPosition(Gdx.graphics.getWidth() / 2,
                Gdx.graphics.getHeight() / 2, Align.center);
        RessourceManager.stage.addActor(testTbl);
    }
```

I think it's caused by these changes:
https://github.com/libgdx/libgdx/commit/0c0e308fb2b691723434f0ca425b71c3fc55c671?w=1
SmartFontgenerator loades the fonts that way:
new BitmapFont(Gdx.files.external(""myFont.fnt""));
I dont think that tint() goes wrong, I assume that the loaded BitmapFont isnt compatible with the changes  but I dont know why. It's just a assumption. I will have a look at it after getting some sleep :)
",https://github.com/libgdx/libgdx/issues/2433#issuecomment-58287001,"You should try to reduce the code as much as possible. A runnable test would be even better.
Also, is color markup enabled on the BitmapFontCache?
"
libgdx/libgdx,"Reproduce step:
1. Use gdx-setup.jar to generate new project. Import core, desktop and android project into Eclipse.
2. At core project, implement InputProcessor into ApplicationAdapter (MyGdxGame) and add missing method.
3. On create method, set InputProcessor ( Gdx.input.setInputProcessor(this) ) and set it to null at dispose method.
4. Now, build android project into your device.
5. Dont run your app from Home Screen, go to Drawer and run app.
6. When first screen is shown (with red background and bad-ass logic game logo), tap screen 1 time - ONLY 1 time.
7. Press back key, app will be exit and we will go to drawer screen.
8. Press home key, and:
- we will have focus on Drawer icon (my Nexus 5 android 4.4)
- Google text on search box will be focus (my LG LTE 2 android 4.1)

![device-2014-10-06-141321](https://cloud.githubusercontent.com/assets/5146176/4522417/4ffbfa7c-4d28-11e4-9bc5-ac741b5f4dfe.png)
",https://github.com/libgdx/libgdx/issues/2421#issuecomment-58089618,"Is the the Google Now Launcher? Please get back to me and I'll investigate. 
"
libgdx/libgdx,"iOS 8 introduces the notion of orientation dependent width/heights. See http://stackoverflow.com/questions/24150359/is-uiscreen-mainscreen-bounds-size-becoming-orientation-dependent-in-ios8

This breaks the iOS implementation of libgdx. Apps crash right after the splash screen. A good example is the GDX Super Jumper sample app (https://itunes.apple.com/us/app/gdx-super-jumper/id704308213?mt=8&uo=4). 

See http://www.badlogicgames.com/forum/viewtopic.php?f=11&t=16401 for more information.
",https://github.com/libgdx/libgdx/issues/2350#issuecomment-56276423,"Is there a workaround for this until it gets fixed? I have a friend coming over tomorrow that has an Iphone 5s that I would like to test my game on. Thanks in advance.
"
libgdx/libgdx,"steps to replicate:
1. open Setup with only ADK version 20 installed
2. Error along the lines of ""gdx requires at least 19.1""
3. Install version 19.1
4. ""ADK version is higher than recommended""

what I expected: Gdx uses the best version > 19.1
what happened: Gdx used version 20 if version 19.1 is installed
",https://github.com/libgdx/libgdx/issues/2286#issuecomment-53993172,"There are no such errors in the latest setup. Do you mean Android SDK? 

The latest setup checks for two things currently in your Android SDK:
1. Installed Android Build Tools versions
2. Installed Android API versions
- If you dont have any installed, it will tell you and abort.
- If either of these is behind the recommended version, it will tell you and abort.
- If either of these is beyond the recommended version, it will ask you if you would like to use your latest version.  If you say yes, it will use that version. If you say no, it will use LibGDX's recommended version.

I cant reproduce given your steps because your errors are not exactly what they actually are. Along the lines of is too vague.  If you could post them verbatim that would be great.
"
libgdx/libgdx,"Due to the [introduction](https://github.com/libgdx/libgdx/commit/da8fb9e108abdf593f02258f0b3f52093124c937) of [checkStatics](https://github.com/libgdx/libgdx/blob/1.3.1/gdx/src/com/badlogic/gdx/utils/Timer.java#L262), if any Timer is created within libGDX, it runs the risk of wiping out user-created timers. Specifically, if one is created after a pause event, and before a resume event, the Timer constructor will call checkStatics and will clear existing Timer instances.

Since GestureDetector creates a new Timer instance every time the touchDown event occurs, it could do this if it happens to run before resume. The following code demonstrates the issue by manually calling touchDown on the pause event. Simply run it, then switch to another window to pause it, then switch back and the timer will not resume.

``` java
import com.badlogic.gdx.Game;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.input.GestureDetector;
import com.badlogic.gdx.utils.Timer;

public class Main extends Game {
    GestureDetector gd;

    public void create() {
        gd = new GestureDetector(
            new GestureDetector.GestureAdapter() {
                public boolean touchDown (float x, float y, int pointer, int button) {
                    return true;
                }
            }
        );
        Gdx.input.setInputProcessor(gd);

        new Timer().scheduleTask(new Timer.Task() {
            public void run() {
                System.out.println(""timer"");
            }
        }, 0, 1);
    }

    public void pause() {
        System.out.println(""pause"");
        gd.touchDown(0, 0, 0, 0);
    }

    public void resume() {
        System.out.println(""resume"");
    }
}
```

This issue was [previously reported](https://github.com/libgdx/libgdx/issues/1930), but it was closed because it did not have a test case.

It looks like checkStatics was introduced to solve an [issue](https://github.com/libgdx/libgdx/issues/1548) that occurred on mobile where the game's create event is called when the game is resumed, preventing old Timers from running again. Perhaps a better solution would be to call checkStatics when this event occurs, rather than every time a Timer is initialized.

Additionally, I suggest that checkStatics use thread.dispose() because it currently isn't cleaning up everything (it isn't calling removeLifecycleListener for example).
",https://github.com/libgdx/libgdx/issues/2274#issuecomment-53998099,"What if we change the order in which pause of LifeCycleListener and ApplicationListener is called? Smells fishy, but i guess i'd be a workable ""solution"".
"
libgdx/libgdx,"Hi devs!

In ""com.badlogic.gdx.Input.Keys"" I can not find the key which is located over the ""Tab"" key. On German keyboards it's the ""Caret"" and on English ones it's the ""Tilde"". Both are missing.

In the source I see that the line for Tilde is commented:
// public static final int TILDE = 0;

Is there a way to check if this key is pressed or how I can find out which int it needs so I can make a pull request after implementing it?

Cheers,
Benedikt
",https://github.com/libgdx/libgdx/issues/2263#issuecomment-53264034,"can you put a print statement in the keyDown method that prints out the integer value of the keycode? And then tell us what it is?
"
libgdx/libgdx,"I have declared two Stage objects in my Screen class with different Viewport.

Stage stageBackground = new Stage(new StretchViewport(Gdx.graphics.getWidth(), Gdx.graphics.getHeight()));
stageBackground.addActor(bgImage);

Stage stageActor= new Stage(new ScalingViewport(Scaling.fit, 480f, 800f, new OrthographicCamera()));
stageActor.addActor(mySquare);

But the last Viewport will be apply to the both stages.
Is it a bug?
",https://github.com/libgdx/libgdx/issues/2192#issuecomment-50863749,"Not a bug. If using one stage or multiple stages with the same viewport,
applying the viewport in resize is fine because it never needs to change.
If the stages use a different viewport, you need to apply it yourself:
apply one viewport, draw stage, apply other viewport, draw other stage.

On Fri, Aug 1, 2014 at 4:50 AM, hypertextcorp notifications@github.com
wrote:

> I have declared two Stage objects in my Screen class with different
> Viewport.
> 
> Stage stageBackground = new Stage(new
> StretchViewport(Gdx.graphics.getWidth(), Gdx.graphics.getHeight()));
> Stage stageActor= new Stage(new ScalingViewport(Scaling.fit, 480f, 800f,
> new OrthographicCamera()));
> 
> But the last Viewport will be apply to the both stages.
> Is it a bug?
> 
> ‚Äî
> Reply to this email directly or view it on GitHub
> https://github.com/libgdx/libgdx/issues/2192.
"
libgdx/libgdx,"I can turn it on just fine.  But when I try to turn it off (via `stage.setDebugAll(false)`), nothing happens.  It looks like the `stage.debug` field is never set to `false` anywhere.
",https://github.com/libgdx/libgdx/issues/2162#issuecomment-82005521,"Hi!
Turning debug off is not working for me yet, i did some research and found out method in Actor:

``` java
public void setDebug (boolean enabled) {
    debug = enabled;
    if (enabled) Stage.debug = true;
}
```

but what if enabled is false?
maybe this need to be updated?
anyway, even if i am wrong, after calling setDebugAll(false); on my stage, debug is still on for my GROUP actors (and only for them, not even for the actors in those groups)..
thanks!
"
libgdx/libgdx,"Setting allowIpod = true in IOSApplicationConfiguration seems to have no effect if the libGDX application is launched without any music playing.

Steps to reproduce:
- start libGDX app with music off  (with allowIpod = true)
- switch to iTunes/music app
- start music
- return to libGDX app (music stops, it should keep playing)

I get the same result in iOS 6 and 7
libGDX version: 1.2.0
roboVM version 0.0.14

There is another report of the same issue on stack overflow: http://stackoverflow.com/questions/23473429/libgdx-robovm-allowipod-does-not-work-if-game-starts-then-paused
",https://github.com/libgdx/libgdx/issues/2136#issuecomment-49783810,"Isn't this normal behavior? I think you need to set the AVAudioSession category to Ambient, in order to make this work. Check this page here: https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAudioSession_ClassReference/Reference/Reference.html#//apple_ref/doc/constant_group/Audio_Session_Categories
We are currently finishing the AVFoundation framework binding, so this should be available soon with the latest RoboVM nightlies.
"
google/ExoPlayer,"I have problem on the 2.11.1 release right now.
Sometimes, when switching different files, with different codecs, with codec cache enabled, onAudioSessionId events do not work at all! At this time mMediaPlayer.getAudioSessionId() produces 0.
Most often it happens when you switch from 4k movie to mp3 track.
Music is playing, but no audio session and no onAudioSessionId events.
Fix it, please.
What details are you interested in?",https://github.com/google/ExoPlayer/issues/6954#issuecomment-584143808,"What is the type of mMediaPlayer? Did it work with a previous version of ExoPlayer? Could you please provide steps to reproduce the issue, together with the test contents, as described [here](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md)?"
google/ExoPlayer,"Getting stacktrace below when trying to play DRM video on Android TV api ver 28

Version of ExoPlayer being used: 2.11.1

Stacktrace:
```
E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.NullPointerException
        at com.google.android.exoplayer2.util.Assertions.checkNotNull(Assertions.java:147)
        at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.createNewDefaultSession(DefaultDrmSessionManager.java:563)
        at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.acquireSession(DefaultDrmSessionManager.java:530)
        at com.google.android.exoplayer2.BaseRenderer.getUpdatedSourceDrmSession(BaseRenderer.java:322)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1235)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:755)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readToFlagsOnlyBuffer(MediaCodecRenderer.java:801)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:700)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:599)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:329)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)`

`E/EventLogger: playerFailed [eventTime=1.15, mediaPos=0.00, window=0, period=0]
    com.google.android.exoplayer2.ExoPlaybackException: java.lang.NullPointerException
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:401)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.NullPointerException
        at com.google.android.exoplayer2.util.Assertions.checkNotNull(Assertions.java:147)
        at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.createNewDefaultSession(DefaultDrmSessionManager.java:563)
        at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.acquireSession(DefaultDrmSessionManager.java:530)
        at com.google.android.exoplayer2.BaseRenderer.getUpdatedSourceDrmSession(BaseRenderer.java:322)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1235)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:755)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readToFlagsOnlyBuffer(MediaCodecRenderer.java:801)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:700)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:599)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:329)
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)
```

Seems like some parameter excepted as not-null in Kotlin is null, but i can't see which exactly",https://github.com/google/ExoPlayer/issues/6951#issuecomment-583035868,Can you provide repro steps for this in the demo app? 
google/ExoPlayer,"I am trying to remove PlayerNotificationManager notification on activity destroy but it's not removing notification after app killed

```
private fun killPlayer() {
         playerNotificationManager.setPlayer(null)
        if (exoPlayer != null) {
            exoPlayer.release()
            mediaSource = null
        }
    }
```

can anyone suggest me why notification is not removed programmatically ",https://github.com/google/ExoPlayer/issues/6944#issuecomment-581452919,"When looking at the code, calling `setPlayer(/* player= */ null)` results in calling `notificationManager.cancel(notificationId)` in case there was a) a non-null player set and b) a notification has already been started. So I'm pretty sure that works as expected.

In case you are running the player in a foreground service, and you've called `startForeground(notificationId, notification)`, the notification would not be removed by the system until you have called `stopForeground(/* removeNotification= */ true || false)`.

May I ask you to check whether this is the case for you? I change the type of this issue to 'question'. I'll put it back to 'bug' in case we can rule out the foreground service reason. LMK.



"
google/ExoPlayer,"### [REQUIRED] Issue description
On Sony TV device starting from API 26 (introduced with the update to it) there is no video during playback of 4:3 video while audio plays well. Other videos work well.

### [REQUIRED] Reproduction steps
This issue is reported by multiple users of ""TV Input Service"" app, I do not have Sony TV to reproduce it locally.

I have next environment:
* ExoPlayer as part of ""TV Input Service"" (`android.media.tv.TvInputService`)
* ExoPlayer renders to `Surface` provided by system TV App
* `TIS` sends surface and updates about it to the app, which bypass it to ExoPlayer

```
12:03:58.560|main] EventLogger: decoderEnabled [eventTime=0.22, mediaPos=42.00, window=0, period=0, video]
12:03:58.588|main] EventLogger: decoderEnabled [eventTime=0.25, mediaPos=42.00, window=0, period=0, audio]
12:03:58.594|main] EventLogger: tracks [eventTime=0.25, mediaPos=42.00, window=0, period=0, 
12:03:58.595|main] EventLogger:   Renderer:0 [
12:03:58.596|main] EventLogger:     Group:0, adaptive_supported=N/A [
12:03:58.597|main] EventLogger:       [X] Track:0, id=0, mimeType=video/avc, bitrate=2000000, codecs=avc1.64001E, res=720x540, supported=YES
12:03:58.598|main] EventLogger:     ]
12:03:58.599|main] EventLogger:     Metadata [
12:03:58.600|main] EventLogger:       HlsTrackMetadataEntry
12:03:58.601|main] EventLogger:     ]
12:03:58.602|main] EventLogger:   ]
12:03:58.602|main] EventLogger:   Renderer:1 [
12:03:58.602|main] EventLogger:     Group:0, adaptive_supported=N/A [
12:03:58.603|main] EventLogger:       [X] Track:0, id=1/15, mimeType=audio/mp4a-latm, channels=2, sample_rate=48000, language=ru, supported=YES
12:03:58.603|main] EventLogger:     ]
12:03:58.603|main] EventLogger:   ]
12:03:58.604|main] EventLogger:   Renderer:3 [
12:03:58.604|main] EventLogger:     Group:0, adaptive_supported=N/A [
12:03:58.604|main] EventLogger:       [ ] Track:0, id=1/8219, mimeType=application/cea-608, supported=YES
12:03:58.604|main] EventLogger:     ]
12:03:58.604|main] EventLogger:   ]
12:03:58.605|main] EventLogger:   Renderer:4 [
12:03:58.605|main] EventLogger:     Group:0, adaptive_supported=N/A [
12:03:58.606|main] EventLogger:       [X] Track:0, id=null, mimeType=application/id3, supported=YES
12:03:58.606|main] EventLogger:     ]
12:03:58.607|main] EventLogger:   ]
12:03:58.607|main] EventLogger: ]
```
As part of `TIS` integration my app sends tracks with sizes to `TIS`:

```
12:03:58.618|main|T] Session-5: notifyTracksChanged:
id: 0-0, Audio, ch:2, sampleRate: 48000, lng: ru
id: 1-0-720x540/1.02, Video, 720x540/1.0227273
id: 2-0, Subs

12:03:58.630|main|T] Session-5: notifyTrackSelected: Audio id: 0-0
12:03:58.631|main|T] Session-5: notifyTrackSelected: Video id: 1-0-720x540/1.02
```

```
12:03:58.632|main|D] EventLogger: mediaPeriodReadingStarted [eventTime=0.29, mediaPos=42.00, window=0, period=0]
12:03:58.633|main|D] EventLogger: downstreamFormat [eventTime=0.29, mediaPos=42.00, window=0, period=0, id=0, mimeType=null, bitrate=2000000]
```
As part of `TIS` integration the app receives surface updates back through `android.media.tv.TvInputService.Session.onSurfaceChanged`:
```
12:03:58.686|main|T] Session-5: onSurfaceChanged: 1440x0@4
```
So it's clearly incorrect surface dimensions.
I'm expecting that those dimension is updated by decoder.

On top of that, if the app sends `0x0` video tracks to system TV App, Video plays well with full-screen surface:
```
12:03:40.388|main|T] Session-4: onSurfaceChanged: 1920x1080@4
```

In the logcat:
```
12:03:58.334 12396 12396 I ExoPlayerImpl: Init 9daa18d [ExoPlayerLib/2.10.6] [BRAVIA_ATV2, BRAVIA 4K GB, Sony, 26]
12:03:58.403 12396 12911 I vndksupport: sphal namespace is not configured for this process. Loading /odm/lib/hw/gralloc.mt5891.so from the current namespace instead.
12:03:58.455 12396 12911 I vndksupport: sphal namespace is not configured for this process. Loading /odm/lib/hw/gralloc.mt5891.so from the current namespace instead.
12:03:58.593 12396 18736 D MtkACodecPlugin: MtkACodecPlugin createAPlugin
12:03:58.605 12396 18757 I OMXClient: Treble IOmx obtained
12:03:58.608 12396 18757 D MtkACodecPlugin: OMX.MTK.VIDEO.DECODER.AVC needRmClient (655)
12:03:58.608 12396 18757 D MtkACodecPlugin: OMX.MTK.VIDEO.DECODER.AVC mNeedVdpImgrz (661)
12:03:58.739 12396 12911 W libEGL  : EGLNativeWindowType 0x849a4808 disconnect failed
12:03:58.758 12396 12911 D mali_winsys: EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, egl_color_buffer_format *, EGLBoolean) returns 0x3000
12:03:58.821 12396 18756 D SurfaceUtils: connecting to surface 0x76a59008, reason connectToSurface
12:03:58.825 12396 18756 I MediaCodec: [OMX.MTK.VIDEO.DECODER.AVC] setting surface generation to 12693521
12:03:58.825 12396 18756 D SurfaceUtils: disconnecting from surface 0x76a59008, reason connectToSurface(reconnect)
12:03:58.826 12396 18756 D SurfaceUtils: connecting to surface 0x76a59008, reason connectToSurface(reconnect)
12:03:58.826 12396 18756 D MtkMediaCodecPlugin: [OMX.MTK.VIDEO.DECODER.AVC] set mOutputPath = 0 L(150)
12:03:58.837 12396 18757 E ACodec  : [OMX.MTK.VIDEO.DECODER.AVC] setPortMode on output to DynamicANWBuffer failed w/ err -1010
12:03:58.840 12396 18757 I ACodec  : codec does not support config priority (err -1010)
12:03:58.855 12396 18757 D MtkACodecPlugin: add usage GRALLOC_USAGE_PATH_VDP0
12:03:58.855 12396 18757 D SurfaceUtils: disconnecting from surface 0x76a59008, reason setNativeWindowSizeFormatAndUsage
12:03:58.855 12396 18757 D SurfaceUtils: connecting to surface 0x76a59008, reason setNativeWindowSizeFormatAndUsage
12:03:58.855 12396 18757 D SurfaceUtils: set up nativeWindow 0x76a59008 for 720x544, color 0x7f000103, rotation 0, usage 0x30002900
12:03:58.909 12396 18736 D MtkACodecPlugin: MtkACodecPlugin createAPlugin
12:03:58.915 12396 18771 I OMXClient: Treble IOmx obtained
12:03:58.932 12396 18771 D MtkMediaCodecPlugin: No surfaceTextureClient, [OMX.google.aac.decoder] set mOutputPath = 1024 L(159)
12:03:58.937 12396 18771 I ACodec  : codec does not support config priority (err -2147483648)
12:03:58.937 12396 18771 I ACodec  : codec does not support config operating rate (err -2147483648)
12:03:58.998 12396 18736 D AudioTrack: Client defaulted notificationFrames to 8208 for frameCount 16416
```

### [REQUIRED] Link to test content
any 4:3 video (https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_fmp4/master.m3u8)

### [REQUIRED] A full bug report captured from the device
This issue is reported by multiple Sony users. I do not have Sony TV to reproduce it locally.

### [REQUIRED] Version of ExoPlayer being used
69a2cb862fd5b65f975db67c8b97844b81edcfbf (2.10.6 ?)

### [REQUIRED] Device(s) and version(s) of Android being used
```
System: 3.10.79 (665451)
Sdk: 26
Device: BRAVIA_ATV2
Product: BRAVIA_ATV2_EU
Manufacturer: Sony
Model: BRAVIA 4K GB
```

Could it be workarounded by existing ExoPlayer device-specific workarounds?",https://github.com/google/ExoPlayer/issues/6897#issuecomment-576729984,"The test link you provided seems to be 16x9:
https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_fmp4/master.m3u8

I used this one instead which is 4x3:
https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_4x3/bipbop_4x3_variant.m3u8

I tested it in the ExoPlayer demo app on a Sony TV we have available at API level 24 and the video plays back fine.

It seems from this part of your report that the problem is likely in TvInputService rather than ExoPlayer?

> As part of TIS integration the app receives surface updates back through `android.media.tv.TvInputService.Session.onSurfaceChanged`:
> ```
> 12:03:58.686|main|T] Session-5: onSurfaceChanged: 1440x0@4
> ```

In that case, you're probably best off filing a bug against the Android platform (like this one: https://issuetracker.google.com/139429602). It would be helpful if you could reply here with the bug number as well.
"
google/ExoPlayer,"### Issue description
The following crash is being seen in Crashlytics

```
Fatal Exception: java.lang.IllegalStateException
       at com.google.android.exoplayer2.util.Assertions.checkState(Assertions.java:81)
       at com.google.android.exoplayer2.offline.Download.<init>(Download.java:133)
       at com.google.android.exoplayer2.offline.DefaultDownloadIndex.getDownloadForCurrentRow(DefaultDownloadIndex.java:359)
       at com.google.android.exoplayer2.offline.DefaultDownloadIndex.access$100(DefaultDownloadIndex.java:35)
       at com.google.android.exoplayer2.offline.DefaultDownloadIndex$DownloadCursorImpl.getDownload(DefaultDownloadIndex.java:409)
       at com.google.android.exoplayer2.offline.DownloadManager$InternalHandler.initialize(DownloadManager.java:697)
       at com.google.android.exoplayer2.offline.DownloadManager$InternalHandler.handleMessage(DownloadManager.java:630)
       at android.os.Handler.dispatchMessage(Handler.java:106)
       at android.os.Looper.loop(Looper.java:216)
       at android.os.HandlerThread.run(HandlerThread.java:65)
```
It appears that the download progress is `null` which is failing the assertion.  From what I can see this progress is returned from the database.

Over the last 90 days: This issue has 1070 crashes affecting 110 users.

### Reproduction steps
We have not been able to reproduce this issue ourselves, but it is currently our biggest crash in Crashlytics and has recently generated a velocity alert.

### Link to test content
If required please let us know and we can try to provide access to a test user account

###  A full bug report captured from the device
As above this is an issue from Crashlytics so unable to capture a bug report ourselves

### Version of ExoPlayer being used
v2.10.4

### Device(s) and version(s) of Android being used
80% Samsung (Galaxy S8, S9, S8+)
5% Huawei (p20 lite, Y7 Prime 2019, P smart 2019)
4% OnePlus (A6000, 7T Pro, 5T)
4% OPPO (CPH1725)
56% Other

65% Android 9
23& Android 8
6% Android 7
3% Android 5
3% Other

25% In background
0% Rooted
93% Proximity On",https://github.com/google/ExoPlayer/issues/6785#issuecomment-567911816,"Thanks for the report. Does your app happen to call `DownloadService.sendRemoveAllDownloads`, `DownloadService.buildRemoveAllDownloadsIntent` or `DownloadManager.removeAllDownloads`? I think I see a possible bug along those code paths that might explain this."
google/ExoPlayer,"### Issue description

Exoplayer is crashed and doesn't switch to another stream (variant) if the new position in the stream is out-of-range.
```
Caused by: com.google.android.exoplayer2.upstream.DataSourceException
        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:314)
        at com.google.android.exoplayer2.upstream.DefaultDataSource.open(DefaultDataSource.java:257)¬†
        at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:83)¬†
        at com.google.android.exoplayer2.source.hls.HlsMediaChunk.prepareExtraction(HlsMediaChunk.java:369)¬†
        at com.google.android.exoplayer2.source.hls.HlsMediaChunk.feedDataToExtractor(HlsMediaChunk.java:350)¬†
        at com.google.android.exoplayer2.source.hls.HlsMediaChunk.loadMedia(HlsMediaChunk.java:325)¬†
        at com.google.android.exoplayer2.source.hls.HlsMediaChunk.load(HlsMediaChunk.java:301)¬†
        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:394)¬†
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)¬†
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)¬†
        at java.lang.Thread.run(Thread.java:764)¬†

```
### Reproduction steps

1. Provide a playlist with several streams (*.ts extension)
    For example in my case, there are streams: 
            _- stream/song_name_high_quality.ts_  (some chunks in the stream are broken)
            _- stream/song_name_low_quality.ts_  (works propertly)

2. Play the playlist

For example, playback starts from  _- stream/song_name_low_quality.ts_ and after a period of time, the current stream will be switched to more high-quality video which is broken since some chunks are not accessible.

#### Actual behavior
Exoplayer crashes with error `DataSourceException.POSITION_OUT_OF_RANGE`

#### Excepted behaviour
Current stream should be change to proper stream. In above case the current stream should be changed to _- stream/song_name_low_quality.ts_

### Exoplayer Version
https://github.com/google/ExoPlayer/commits/r2.10.8",https://github.com/google/ExoPlayer/issues/6775#issuecomment-568035218,"It should be noted that VLC fails in exactly the same way:
```
[00007f663c306490] adaptive stream error: Failed reading <url-to-one-of-the-chunks-was-here>: HTTP/1.1 416 Requested Range Not Satisfiable
```

We currently have logic to blacklist the variant (temporarily) and switch to another one if the server returns a 404 or a 410, but not a 416. We can probably add 416 to the list as well. In the meantime, you can do this yourself when creating the `HlsMediaSource`:

```
return new HlsMediaSource.Factory(dataSourceFactory)
    .......
    .setLoadErrorHandlingPolicy(new DefaultLoadErrorHandlingPolicy() {
      @Override
      public long getBlacklistDurationMsFor(
          int dataType, long loadDurationMs, IOException exception, int errorCount) {
       if (exception instanceof HttpDataSource.InvalidResponseCodeException) {
          int responseCode =
            ((HttpDataSource.InvalidResponseCodeException) exception).responseCode;
          return responseCode == 416 // HTTP 416
              ? DEFAULT_TRACK_BLACKLIST_MS
              : C.TIME_UNSET;
        }
        // Otherwise use the default policy logic.
        return super.getBlacklistDurationMsFor(
           dataType, loadDurationMs, exception, errorCount);
      }
    })
    .createMediaSource(uri);
```"
google/ExoPlayer,"### [REQUIRED] Issue description
com.google.android.exoplayer2.extractor.mp4.Sniffer cannot recognize the stream (see a link to torrent containing m4b files below).
ExoPlayer can play a file when media source is created with Mp4Extractor factory:
`MediaSource mediaSource = new ProgressiveMediaSource.Factory(dataSourceFactory, Mp4Extractor.FACTORY)`

However, exception is thrown when media source should recognize format:
`MediaSource mediaSource = new ProgressiveMediaSource.Factory(dataSourceFactory)`

### [REQUIRED] Reproduction steps
Download m4b files from torrent. Put any of them to test device/emulator. Define PATH_TO_FILE. Use the simplest code to play it by ExoPlayer:
```
mp = new SimpleExoPlayer.Builder(context)
	.setTrackSelector(new DefaultTrackSelector(context))
	.build();
mp.setAudioAttributes(new AudioAttributes.Builder()
	.setContentType(C.CONTENT_TYPE_MUSIC)
	.setUsage(C.USAGE_MEDIA).build());
DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(context, ""none"");
MediaSource mediaSource = new ProgressiveMediaSource.Factory(dataSourceFactory)
	.createMediaSource(Uri.fromFile(new File(PATH_TO_FILE)));
mp.prepare(mediaSource);
mp.setPlayWhenReady(true);
```

### [REQUIRED] Link to test content
[Torrent file](https://rutracker.org/forum/dl.php?t=5781821)

### [REQUIRED] A full bug report captured from the device
```
2019-12-17 17:21:03.783 25627-25627/mindmine.audiobook I/ExoPlayerImpl: Init 64ad1d2 [ExoPlayerLib/2.11.0] [blueline, Pixel 3, Google, 29]
2019-12-17 17:21:03.874 25627-25756/mindmine.audiobook E/ExoPlayerImplInternal: Source error.
    com.google.android.exoplayer2.source.UnrecognizedInputFormatException: None of the available extractors (MatroskaExtractor, FragmentedMp4Extractor, Mp4Extractor, Mp3Extractor, AdtsExtractor, Ac3Extractor, TsExtractor, FlvExtractor, OggExtractor, PsExtractor, WavExtractor, AmrExtractor, Ac4Extractor) could read the stream.
        at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractorHolder.selectExtractor(ProgressiveMediaPeriod.java:1095)
        at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:974)
        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:391)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
        at java.lang.Thread.run(Thread.java:919)
```

### [REQUIRED] Version of ExoPlayer being used
2.9.6 , 2.11.0

### [REQUIRED] Device(s) and version(s) of Android being used
Pixel 3, Android 10
",https://github.com/google/ExoPlayer/issues/6774#issuecomment-566990600,"Hi,

It seems I can not access that file. If possible, please can you zip the test content and send it to dev.exoplayer@gmail.com using a subject in the format ""Issue #6774""? Please also update this issue to indicate you‚Äôve done this."
google/ExoPlayer,"### [REQUIRED] Issue description
I cannot generate signed apk/bundle. Whenever I do it, I get the following messages on failure:

`com.google.android.exoplayer2.text.ssa.SsaDecoder: can't find referenced class com.google.android.exoplayer2.text.ssa.SsaStyle$SsaAlignment`

`com.google.android.exoplayer2.text.ssa.SsaStyle$Overrides: can't find referenced class com.google.android.exoplayer2.text.ssa.SsaStyle$SsaAlignment`

### [REQUIRED] Reproduction steps
Attempt to generate a signed apk/bundle. I am using **ProGuard**.

### [REQUIRED] Link to test content

### [REQUIRED] A full bug report captured from the device

### [REQUIRED] Version of ExoPlayer being used
Latest (v2.11.0).

### [REQUIRED] Device(s) and version(s) of Android being used
",https://github.com/google/ExoPlayer/issues/6771#issuecomment-566545533,"I'm not able to reproduce this building a release/proguarded APK of the demo app at 2.11.

Can you provide more detailed repro instructions, including information about how you're depending on the ExoPlayer library?

"
google/ExoPlayer,"Playing video with exoplayer(exoplayer:2.9.2) has a high probability of black screen. How can I crack it?Thank you very much

```
ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalArgumentException
        at android.media.MediaCodec.native_setSurface(Native Method)
        at android.media.MediaCodec.setOutputSurface(MediaCodec.java:1986)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setOutputSurfaceV23(MediaCodecVideoRenderer.java:1014)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setSurface(MediaCodecVideoRenderer.java:422)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.handleMessage(MediaCodecVideoRenderer.java:387)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.deliverMessage(ExoPlayerImplInternal.java:871)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageToTarget(ExoPlayerImplInternal.java:842)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageInternal(ExoPlayerImplInternal.java:824)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:333)
        at android.os.Handler.dispatchMessage(Handler.java:108)
        at android.os.Looper.loop(Looper.java:216)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```",https://github.com/google/ExoPlayer/issues/6750#issuecomment-565044772,"This is an error from MediaCodec.setOutputSurface; we need more information to assist on an issue like this. Please take a look at the [bug template](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md).

For such an error it would be best to grab a bug-report. If you can't share bug reports publicly, please send them to dev.exoplayer@gmail.com with subject ""Issue #6750"".

Also, we've seen errors on MdiaCodec.setOutputSurface being device-specific. Have you searched for similar the issues? For example #6346 and #6331."
google/ExoPlayer,"### [REQUIRED] Issue description
Player error occurs when trying to change parameters of player's track selector.
(About 80% error)

**Parameter changing codes:**
```
public class CustomTrackSelector extends DefaultTrackSelector {
    // ...
    public void clearVideoSizeConstraints() {
        ParametersBuilder builder = getParameters().buildUpon();
        builder.clearVideoSizeConstraints();
        setParameters(builder.build());
    }
    // ...
}
```

**Player error:**

```
playerFailed [0.69, 3.78, window=0, period=0]
    com.google.android.exoplayer2.ExoPlaybackException: java.lang.NullPointerException: Attempt to read from null array
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.NullPointerException: Attempt to read from null array
        at com.google.android.exoplayer2.source.hls.HlsSampleStreamWrapper.selectTracks(HlsSampleStreamWrapper.java:329)
        at com.google.android.exoplayer2.source.hls.HlsMediaPeriod.selectTracks(HlsMediaPeriod.java:284)
        at com.google.android.exoplayer2.MediaPeriodHolder.applyTrackSelection(MediaPeriodHolder.java:279)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.reselectTracksInternal(ExoPlayerImplInternal.java:1126)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:357)
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
```

### [REQUIRED] Reproduction steps
Change parameters of player's track selector immediately after initializing player.
**(I temporarily delay(500ms) parameter changing codes to avoid this issue and it's working.)**
See below logs.



### [REQUIRED] Link to test content
None

### [REQUIRED] A full bug report captured from the device

```
2019-12-11 11:25:09.960 7818-7818 D/EventLogger: state [0.00, 0.00, window=0, true, IDLE]
2019-12-11 11:25:09.964 7818-7818 D/EventLogger: seekStarted [0.01, 0.00, window=0]
2019-12-11 11:25:09.964 7818-7818 D/EventLogger: positionDiscontinuity [0.01, 3.78, window=0, SEEK]
2019-12-11 11:25:09.965 7818-7818 D/EventLogger: state [0.01, 3.78, window=0, true, BUFFERING]
2019-12-11 11:25:10.016 7818-7818 D/EventLogger: timelineChanged [0.06, 3.78, window=0, periodCount=1, windowCount=1, reason=PREPARED
2019-12-11 11:25:10.016 7818-7818 D/EventLogger:   period [182.45]
2019-12-11 11:25:10.016 7818-7818 D/EventLogger:   window [182.45, true, false]
2019-12-11 11:25:10.016 7818-7818 D/EventLogger: ]
2019-12-11 11:25:10.018 7818-7818 D/EventLogger: seekProcessed [0.06, 3.78, window=0]
2019-12-11 11:25:10.018 7818-7818 D/EventLogger: mediaPeriodCreated [0.06, 3.78, window=0, period=0]
2019-12-11 11:25:10.034 7818-7818 D/EventLogger: loading [0.08, 3.78, window=0, period=0, true]
2019-12-11 11:25:10.039 7818-7818 D/EventLogger: decoderEnabled [0.08, 3.78, window=0, period=0, video]
2019-12-11 11:25:10.039 7818-7818 D/EventLogger: decoderEnabled [0.08, 3.78, window=0, period=0, audio]
2019-12-11 11:25:10.040 7818-7818 D/EventLogger: tracksChanged [0.08, 3.78, window=0, period=0, 
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:   Renderer:0 [
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     Group:0, adaptive_supported=YES [
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:       [ ] Track:0, id=0, mimeType=video/avc, bitrate=10391667, codecs=avc1.4d4028, res=1920x1080, fps=29.97, supported=YES
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:       [X] Track:1, id=1, mimeType=video/avc, bitrate=3418348, codecs=avc1.4d401f, res=1280x720, fps=29.97, supported=YES
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:       [X] Track:2, id=2, mimeType=video/avc, bitrate=1675259, codecs=avc1.4d401f, res=854x480, fps=29.97, supported=YES
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     Metadata [
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:       com.google.android.exoplayer2.source.hls.HlsTrackMetadataEntry@d690f38
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:   ]
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:   Renderer:1 [
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     Group:0, adaptive_supported=N/A [
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:       [X] Track:0, id=0, mimeType=audio/mp4a-latm, codecs=mp4a.40.2, supported=YES
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.040 7818-7818 D/EventLogger:     Metadata [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       com.google.android.exoplayer2.source.hls.HlsTrackMetadataEntry@7bb65b3f
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:   ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:   Renderer:2 [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:0, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [ ] Track:0, id=subs:English, mimeType=text/vtt, language=en, label=English, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:1, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [ ] Track:0, id=subs:Spanish, mimeType=text/vtt, language=es, label=Spanish, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:2, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [X] Track:0, id=subs:Korean, mimeType=text/vtt, language=ko, label=Korean, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:3, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [ ] Track:0, id=subs:Portuguese, mimeType=text/vtt, language=pt, label=Portuguese, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:4, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [ ] Track:0, id=subs:Russian, mimeType=text/vtt, language=ru, label=Russian, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Metadata [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       com.google.android.exoplayer2.source.hls.HlsTrackMetadataEntry@e2f6cd0
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:   ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:   Renderer:3 [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     Group:0, adaptive_supported=N/A [
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:       [X] Track:0, id=ID3, mimeType=application/id3, supported=YES
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:     ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger:   ]
2019-12-11 11:25:10.041 7818-7818 D/EventLogger: ]
2019-12-11 11:25:10.045 7818-7818 D/EventLogger: mediaPeriodReadingStarted [0.09, 3.78, window=0, period=0]
2019-12-11 11:25:10.647 7818-7818 E/EventLogger: playerFailed [0.69, 3.78, window=0, period=0]
    com.google.android.exoplayer2.ExoPlaybackException: java.lang.NullPointerException: Attempt to read from null array
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.NullPointerException: Attempt to read from null array
        at com.google.android.exoplayer2.source.hls.HlsSampleStreamWrapper.selectTracks(HlsSampleStreamWrapper.java:329)
        at com.google.android.exoplayer2.source.hls.HlsMediaPeriod.selectTracks(HlsMediaPeriod.java:284)
        at com.google.android.exoplayer2.MediaPeriodHolder.applyTrackSelection(MediaPeriodHolder.java:279)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.reselectTracksInternal(ExoPlayerImplInternal.java:1126)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:357)
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
2019-12-11 11:25:10.654 7818-7818 D/EventLogger: decoderDisabled [0.70, 3.78, window=0, period=0, video]
2019-12-11 11:25:10.654 7818-7818 D/EventLogger: decoderDisabled [0.70, 3.78, window=0, period=0, audio]
2019-12-11 11:25:10.654 7818-7818 D/EventLogger: mediaPeriodReleased [0.70, 3.78, window=0, period=0]
2019-12-11 11:25:10.655 7818-7818 D/EventLogger: loading [0.70, 3.78, window=0, false]
2019-12-11 11:25:10.655 7818-7818 D/EventLogger: state [0.70, 3.78, window=0, true, IDLE]
```

### [REQUIRED] Version of ExoPlayer being used
Exoplayer 2.10.8

### [REQUIRED] Device(s) and version(s) of Android being used
Pixel / Android SDK 28
Galaxy S8+ (SM-G955N) / Android SDK 28
",https://github.com/google/ExoPlayer/issues/6746#issuecomment-564561858,"I suspect this may be fixed in the dev-branch. Please confirm.

EDIT: I haven't been able to reproduce, but I think I know which code path could cause this. Are you using chunkless preparation?"
google/ExoPlayer,"I've just updated the lastest Exo and extension/flac libs. But I met the problem with Android 5.1. Sometimes, Player can't play the flac file. Sometimes, noise when playing FLAC content. 

Do you any suggestion to fix these issues ? Thank you so much.

",https://github.com/google/ExoPlayer/issues/6739#issuecomment-563291047,"Can you please share your content so that we can test locally? You can send it via email to dev.exoplayer@gmail.com with subject ""Issue #6739"". Also, is this happening on a specific device?"
google/ExoPlayer,"### [REQUIRED] Issue description
We are seeing potential ANR in the application. It is coming when we are calling `openSession()` 

### [REQUIRED] Reproduction steps
When we are calling mediaDrm.openSession() then in `FrameworkMediaDrm` class, following method looks like waiting for the response from jni.

```
@Override
  public byte[] openSession() throws MediaDrmException {
    return mediaDrm.openSession();
  }
```

### [REQUIRED] A full bug report captured from the device
```
""main"" prio=5 tid=1 Native
  | group=""main"" sCount=1 dsCount=0 obj=0x754a5650 self=0xb3004400
  | sysTid=3300 nice=0 cgrp=bg_non_interactive sched=0/0 handle=0xb5c2c534
  | state=S schedstat=( 157239541 61332131 169 ) utm=10 stm=5 core=5 HZ=100
  | stack=0xbe26e000-0xbe270000 stackSize=8MB
  | held mutexes=
  #00  pc 0000000000048598  /system/lib/libc.so (__ioctl+8)
  #01  pc 000000000001ad03  /system/lib/libc.so (ioctl+38)
  #02  pc 000000000003cc55  /system/lib/libbinder.so (_ZN7android14IPCThreadState14talkWithDriverEb+168)
  #03  pc 000000000003d62f  /system/lib/libbinder.so (_ZN7android14IPCThreadState15waitForResponseEPNS_6ParcelEPi+238)
  #04  pc 000000000003655d  /system/lib/libbinder.so (_ZN7android8BpBinder8transactEjRKNS_6ParcelEPS1_j+36)
  #05  pc 0000000000086e83  /system/lib/libmedia.so (???)
  #06  pc 0000000000025731  /system/lib/libmedia_jni.so (_ZN7android4JDrm7MakeDrmEv+76)
  #07  pc 0000000000025435  /system/lib/libmedia_jni.so (_ZN7android4JDrm7MakeDrmEPKh+20)
  #08  pc 000000000002550f  /system/lib/libmedia_jni.so (_ZN7android4JDrmC1EP7_JNIEnvP8_jobjectPKh+134)
  #09  pc 00000000000263d3  /system/lib/libmedia_jni.so (???)
  #10  pc 00000000004766a1  /system/framework/arm/boot-framework.oat (Java_android_media_MediaDrm_native_1setup__Ljava_lang_Object_2_3B+116)
  at android.media.MediaDrm.native_setup (Native method)
  at android.media.MediaDrm.<init> (MediaDrm.java:215)
  at com.google.android.exoplayer2.drm.FrameworkMediaDrm.<init> (FrameworkMediaDrm.java:73)
  at com.google.android.exoplayer2.drm.FrameworkMediaDrm.newInstance (FrameworkMediaDrm.java:61)
  at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.newFrameworkInstance (DefaultDrmSessionManager.java:221)
  at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.newWidevineInstance (DefaultDrmSessionManager.java:143)
```

### [REQUIRED] Version of ExoPlayer being used
ExoPlayer version: 2.10.6

### [REQUIRED] Device(s) and version(s) of Android being used
Affected Android OS : 9, 8.1, 10, 5.1 etc
Device name: Redmi Note 7 Pro(violet), Mi A1(tissot_sprout), Redmi 5A(riva), Realme 2 Pro(RMX1801)
",https://github.com/google/ExoPlayer/issues/6730#issuecomment-562531401,Can you provide the media file and the necessary information to play it as described [here](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/question.md#link-to-test-content)?
google/ExoPlayer,"When I try to play an AAC File under 30 seconds ExoPlayer throws java.io.EOFException if ""FLAG_ENABLE_CONSTANT_BITRATE_SEEKING"" is set.

Currently I use version 2.9.3. I tried also with 2.10.8 and it still reproduces

Device(s) and version(s) of Android being used
Samsung Galaxy s8+ Android 8
Lg Q6 Android 8.1

I sent the report and AAC File on email at dev.exoplayer@gmail.com
",https://github.com/google/ExoPlayer/issues/6700#issuecomment-560496958,"I think this is happening because the file contains an incomplete ADTS frame at the end - so during the scan to setup the seeking, we're expecting to read 326 bytes but only 236 are available. How was this file produced? It seems it might have been sliced from a larger file using e.g. Unix `split`?

We probably shouldn't completely fail playback in this case though (given we successfully play the file when not using constant bitrate seeking) - I'll send a change that makes this slightly more robust."
google/ExoPlayer,"Hello Exoplayer team.

i used Exoplayer in my app.
i have a problem.
when i play video format .mkv or Matroska on mobile device and android box 
video can't support Audio ac3 some device

i used Ffmpeg extension in my project, for decode audio renderer
video can play and audio support, but i have a problem

some device android box, CPU usage allwinner h6. example Android box Tx6, Android box X96H
when play video picture not smooth and freezes

could I ask for your advice about fix it.",https://github.com/google/ExoPlayer/issues/6694#issuecomment-558565693,"Please follow the issue template: 
https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md

Specifically, can you tell us:

1. What version of ExoPlayer are you using?
1. Did you build the FFmpeg extension with ac3 support enabled? https://exoplayer.dev/supported-formats.html#ffmpeg-extension
1. Does the issue reproduce in the ExoPlayer demo app? If so please attach a bug report showing the repro - or send it to dev.exoplayer@gmail.com if you don't want to attach it publicly.
1. Can you provide sample media that demonstrates the problem? Send it to dev.exoplayer@gmail.com if you don't want to attach it publicly.
    * If you can't provide the sample media, and it's a video-related problem, we at least need to know the video codec used inside the MKV container.
1. Can you more precisely describe the problem? You mention that AC3 audio isn't supported, but also say that the video isn't smooth - these don't sound like the same problem.
"
google/ExoPlayer,"I have a stream that has an audio stream with a language tag equal to ""sv-tal"", which we use to identify a certain accessibility feature (this stream is sent to many platforms which do not necessarily have videoplayers that parse accessibility or supplementary label tags, which makes it impractical to change the tag currently). 

However, the new ExoPlayer doesn't just parse the manifest tag and transcribe it directly to the Format.language field, but implements a normalization of this tag in the constructor of the Format class, so the tag is transcribed as a new, different string. 

Not only that, but this Util.normalizeLanguageTag method that is used can take in one string input, like ""sv-tal"", and depending on which OS is on the device, it will output totally different ""normalized"" tags. On Android 7 and up, it parses to ""tal"", on Android 5 and 6 , it parses to ""sv"", and on Android 4 and below, it parses to ""sv-tal"". This surely has to be changed, since outputs, especially of util methods, should be fully dependent on inputs, and not global state unknowns such as device OS. This means that we can't distinguish in the app what the specifications of the stream is.

Is it really the job of the manifest parser to normalize tags? Shouldn't it rather just transcribe tags as is and provide the option to normalize tags to the apps? It is also not clear that we always would want to relate the language tag to the Android locale language, because the code standard is different and we lose specificity along the way, specificity we might want to expose in our apps.

Right now the ExoPlayer is so hardly coupled to this normalization (by including the util method in the constructor of a model class), that it becomes impossible to opt out from it.

Suggestion: 
-Parse tag strings as is without processing/normalizing them along the way
-Offer normalization as an opt-in to the client
",https://github.com/google/ExoPlayer/issues/6681#issuecomment-557086801,"I can see your issue and the reasons to leave the input tag untouched. However, doing that also means that all users of the language tag need to normalize it themselves because they can't rely on a certain format. So this is a trade-off between normalizing at one point at the input side, or at many points on the output side.  

> Surely a parser's responsibility is firstly to transcribe what is in the manifest to a model object, not to clean up the contents

The parser's responsibility is to transcribe the manifest contents into our format model. This means values are renamed, merged, reordered and transcribed to different formats all over the parser. The reasoning behind this is to ensure that the player sees a normalized view of the media and its formats, no matter if it's a DASH, HLS, SmoothStreaming stream or anything else.

>  it seems strange that the parse will then contain different content depending on what Android API is on the device parsing it

This is only true for non-spec compliant tags, so I'm not sure it is a problem in general? 

> to see what the manifest actually contained

It might be possible to add the original tag to the `AdaptationSet` class that is only used as part of the `DashManifest` and not for further processing. It also already contains other properties we don't necessarily need but are part of the manifest."
google/ExoPlayer,"Using the exoplayer demo application for version 2.10.4 in a concrete mobile phone I'm not able to play DASH+widevine video.

The information of the device it's the following:
Device name: Galaxy J7
Model number: SM-J700H
Android version: 6.0.1
Kernel version: 3.10.61-13202935
Build number: MMB29K_J700HXWU3BRC1

This it's the concrete asset used from exoplayer demo:
```
{
        ""name"": ""Exoplayer test asset WV: Secure SD (MP4,H265)"",
        ""uri"": ""https://storage.googleapis.com/wvmedia/cenc/hevc/tears/tears_sd.mpd"",
        ""drm_scheme"": ""widevine"",
        ""drm_license_url"": ""https://proxy.uat.widevine.com/proxy?provider=widevine_test""
 }
```

The error given by exoplayer it's:
```
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: Playback error.
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: com.google.android.exoplayer2.ExoPlaybackException: android.media.MediaCodec$CryptoException: Unknown Error
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:1122)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:654)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at android.os.Handler.dispatchMessage(Handler.java:98)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at android.os.Looper.loop(Looper.java:148)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at android.os.HandlerThread.run(HandlerThread.java:61)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: Caused by: android.media.MediaCodec$CryptoException: Unknown Error
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at android.media.MediaCodec.native_queueSecureInputBuffer(Native Method)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at android.media.MediaCodec.queueSecureInputBuffer(MediaCodec.java:2292)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:1113)
11-14 20:13:49.282 17940 27651 E ExoPlayerImplInternal: 	... 6 more
```

Attached a file with the logs of the device whem the error it's reproduced:
[error_logs.txt](https://github.com/google/ExoPlayer/files/3847178/error_logs.txt)

With this mobile phone using the DASH-IF reference player this video can be played.

",https://github.com/google/ExoPlayer/issues/6654#issuecomment-559983336,"It appears that this is a device specific problem with the DRM implementation or a bug in the platform DRM of the Android version used on this device.

Searching for the given device on the net, tells me that it can be upgraded to Android 7. 

Did you test with this the device with the most recent OS available for that device? If you tested, can you confirm this does fix the problem?

"
google/ExoPlayer,"`timeline.getPeriod(periodIndex, period)` at [ExoPlayerImplInternal.java#L1474](https://github.com/google/ExoPlayer/blob/bef130ad17f11ab3997548653f2466e50bd6eb27/library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java#L1474) always gives an ArrayIndexOutOfBoundsException as `periodIndex == -1` at this point.
I think `timeline.getPeriodByUid(periodUid, period)` should be called instead to get the position of the subsequent period.
Thank you.",https://github.com/google/ExoPlayer/issues/6641#issuecomment-552845435,"Thanks! We will provide a fix soon. 

Out of my personal curiosity: did you hit this with a live stream or a ConcatentatingMediaSource?"
google/ExoPlayer,"### Question
Initially this was opened as a bug [here](https://github.com/google/ExoPlayer/issues/6593), but after much further investigation, it appears to be an error on my client or server side. 
Using ConcatenatingMedia and a MediaSources which are a mix of 16bit and 24bit music tracks, static and noise appear when switching from certain 24bit sources to 16bit sources. This happens when switching from 44.1KHz/24bit source to any 16bit source. 
During the static, following error is repeatedly logged:
`AudioTrack: Discontinuity detected [expected 'some value', got 'some other valuej']`


 I've found out that LibflacAudioRenderer returns FORMAT_UNSUPPORTED_TYPE when supportsFormatInternal method is called. That is because format.sampleMimeType is ""audio/raw"". Therefore FlacDecoder is never created. Any advice?

And for additional info, here's my ExoPlayer construction:
```
SimpleExoPlayer exoPlayer = ExoPlayerFactory.newSimpleInstance(context, 
                createRenderersFactory(context), 
                new DefaultTrackSelector());
DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(context, Util.getUserAgent(context, ""ExoPlayerTest""));
```
Creating RenderersFactory instance. (I've tried various options here, all lead to same results).
```
private RenderersFactory createRenderersFactory(Context context) {
        DefaultRenderersFactory factory = new DefaultRenderersFactory(context);
        factory.setExtensionRendererMode(DefaultRenderersFactory.EXTENSION_RENDERER_MODE_PREFER);
        return factory;
}
```
Creating MediaSources for ConcatenatingMediaSource:
```
private MediaSource createMediaSource(PlayerTrack track) {
        return new ProgressiveMediaSource.Factory(dataSourceFactory)
                .setTag(track)
                .createMediaSource(Uri.parse(track.url));
}
```

**EDIT:**
**Playback is normal when I downgrade to 2.9.x ExoPlayer.** So perhaps this really is a bug. Any way to make this work on Exo 2.10.x ?

**EDIT2:**
I am also unable to build FLAC libs on 2.10.6 version. 

### A full bug report captured from the device
[logcat.txt](https://github.com/google/ExoPlayer/files/3789242/logcat.txt)


### Link to test content
Test content sent to dev.exoplayer@gmail.com.
",https://github.com/google/ExoPlayer/issues/6601#issuecomment-548448438,"> I've found out that LibflacAudioRenderer returns FORMAT_UNSUPPORTED_TYPE when supportsFormatInternal method is called. That is because format.sampleMimeType is ""audio/raw"". Therefore FlacDecoder is never created. Any advice?

I think this part is working as intended assuming you are playing audio in a .flac container file. `FlacExtractor` outputs PCM because of the way the file is structured. (`LibflacAudioRenderer` is needed for decoding FLAC without using a platform decoder where the audio comes from another container like Matroska.)

> I am also unable to build FLAC libs on 2.10.6 version.

Looks like we need to switch to NDK 20, which also requires using c++_static not gnustl_static. I will make the fix.

> Playback is normal when I downgrade to 2.9.x ExoPlayer. So perhaps this really is a bug. Any way to make this work on Exo 2.10.x ?

Still investigating this."
google/ExoPlayer,"### [REQUIRED] Searched documentation and issues
I checked previously closed issues concerning freezing video. 
[#926](https://github.com/google/ExoPlayer/issues/926), [#678](https://github.com/google/ExoPlayer/issues/678)

### [REQUIRED] Question
Play-out of a Widevine drm-protected dash live stream on an Askey AndroidTV box freezes after a few seconds, audio continues. Disabling the OMX.amlogic.avc.decoder.awesome.secure codec with a custom MediaCodecSelector works for this stream, but causes issue on other streams: hick-ups every few seconds.
Using ExoPlayer v2.10.4.

Additional question: what is the difference between the codec with/without the .secure suffix? I know it is drm-related, but drm content seems to be able to stream with both. Is there a difference in performance?

### Link to test content

Adb log using OMX.amlogic.avc.decoder.awesome.secure codec with freezing video:
```
10-30 11:15:23.376  3218 15825 I OmxComponent: STATE_SET:   OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.376  3218 15825 I OmxComponent: OMX.amlogic.avc.decoder.awesome.secure: flush input
10-30 11:15:23.376  3218 15825 V AmlogicVideoDecoderAwesome: flushInput:894 >
10-30 11:15:23.376  3218 15825 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:flushInput:56 --------------------
10-30 11:15:23.376  3218 15825 V AmlogicVideoDecoderAwesome: pause:286 >
10-30 11:15:23.379  3218 15825 V AmlogicVideoDecoderAwesome: reset:332 >
10-30 11:15:23.379  3218 15825 D AmlogicVideoDecoderAwesome: reset_1
10-30 11:15:23.381  3218 15825 D AmlogicVideoDecoderAwesome: reset_2
10-30 11:15:23.381  3218 15825 D AmlogicVideoDecoderAwesome: mDTaskStatus=1
10-30 11:15:23.382  3218 15825 V AmlogicVideoDecoderAwesome: start:294 >
10-30 11:15:23.382  3218 15825 D AmlogicVideoDecoderAwesome: mVideo start
10-30 11:15:23.382  3218 15825 V AmlogicVideoDecoderAwesome: flushInput:919 >
10-30 11:15:23.382  3218 15933 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorkerStatic:152 --------------------
10-30 11:15:23.382  3218 15933 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorker:158 --------------------
10-30 11:15:23.383  3218 15825 I OmxComponent: OMX.amlogic.avc.decoder.awesome.secure: flush output
10-30 11:15:23.383  3218 15825 V AmlogicVideoDecoderAwesome: flushOutput:922 >
10-30 11:15:23.383  3218 15825 D AmlogicVideoDecoderAwesome: flushOutput: fillBufferDone_OMX_BUFFERFLAG_EOS
10-30 11:15:23.383  3218 15825 D AmlogicVideoDecoderAwesome: flushOutput: fillBufferDone_OMX_BUFFERFLAG_EOS
10-30 11:15:23.383  3218 15825 D AmlogicVideoDecoderAwesome: mVideo stop
10-30 11:15:23.385  3218 15825 V AmlogicVideoDecoderAwesome: stop:320 >
10-30 11:15:23.386  3218 15825 I OmxComponent: STATE_TRANS: OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.388  3218 15825 I OmxComponent: STATE_TRANS: OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.388  3218 15825 I OmxComponent: STATE_DONE:  OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.390  3218 15825 I OmxComponent: STATE_SET:   OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.390  3218 15825 V AmlogicVideoDecoderAwesome: releaseResources:374 >
10-30 11:15:23.390  3218 15825 V AmlogicVideoDecoderAwesome: tearDown:793 >
10-30 11:15:23.390  3218 15825 V AmlogicVideoDecoderAwesome: tearDown:1434 >
10-30 11:15:23.390  3218 15825 V AmlogicVideoDecoderAwesome: initializeState_l:1512 >
10-30 11:15:23.432  3218 15825 I AmlogicVideoDecoderAwesome: video layer 1 off, release secure resource
10-30 11:15:23.504  3218 15825 D AmlogicVideoDecoderAwesome: close seclib handle
10-30 11:15:23.504  3218 15825 V AmlogicVideoDecoderAwesome: disable osd video ...-348367440
10-30 11:15:23.505  3218 15825 I OmxComponent: STATE_TRANS: OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.505  3218 15825 I OmxComponent: STATE_DONE:  OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.506  3218  3242 D OmxComponentManagerImpl: DecreaseEntryNumByName pEntry->mNum=1, pEntry->mMaxNum:1,componentName:OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:23.506  3218  3242 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoderAwesome
10-30 11:15:23.506  3218  3242 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoder
10-30 11:15:23.506  3218  3242 D AmlogicVideoDecoderAwesome: set video_inuse 0
10-30 11:15:23.506  3218  3242 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoder, mOmxInstancenum 0
10-30 11:15:23.536 15610 15811 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.248 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:15:25.249 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:15:25.249 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:15:25.249 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:15:25.250 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:15:25.963 15610 15948 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.967  3218  3218 I OMXMaster: makeComponentInstance(OMX.amlogic.avc.decoder.awesome.secure) in omx@1.0-service process
10-30 11:15:25.968  3218  3218 D OmxComponentManagerImpl: getEntryByName_2_num=0, componentName:OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.968  3218  3218 V AmlogicVideoDecoderAwesome: AmlogicVideoDecoder:99 >
10-30 11:15:25.968  3218  3218 V AmlogicVideoDecoderAwesome: initializeState_l:1512 >
10-30 11:15:25.968  3218  3218 V AmlogicVideoDecoderAwesome: media.omx.latency is not set used def=1.000000
10-30 11:15:25.968  3218  3218 D AmlogicVideoDecoderAwesome: AmlogicVideoDecoder, mOmxInstancenum 1, mOmxInstanceID 488
10-30 11:15:25.968  3218  3218 D AmlogicVideoDecoderAwesome: mCheckDvesDone = 1
10-30 11:15:25.969  3218  3218 V AmlogicVideoDecoderAwesome: media.omx.out_buffer1 is not set used def=4
10-30 11:15:25.969  3218  3218 D OmxVideoDecoder: setInputCoding OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.969  3218  3218 D OMX-VENDOR-EXT: OMX.amlogic.avc.decoder.awesome.secure : Vendor extensions supported (6)
10-30 11:15:25.969  3218  3218 D OmxComponentManagerImpl: IncreaseEntryNumByName pEntry->mNum=0, pEntry->mMaxNum:1,componentName:OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.978 15610 15959 I MediaCodec: [OMX.amlogic.avc.decoder.awesome.secure] setting surface generation to 15984642
10-30 11:15:25.979  3218  3218 E OMXNodeInstance: setParameter(0xeb3840b0:amlogic.avc.decoder.awesome.secure, OMX.google.android.index.storeMetaDataInBuffers(0x7f000002): Input:0 en=0 type=1) ERROR: BadPortIndex(0x8000101b)
10-30 11:15:25.981  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:15:25.981  3218  3218 E OMXNodeInstance: setParameter(0xeb3840b0:amlogic.avc.decoder.awesome.secure, OMX.google.android.index.allocateNativeHandle(0x7f00000a): Output:1 en=0) ERROR: UnsupportedSetting(0x80001019)
10-30 11:15:25.981  3218  3218 E OMXNodeInstance: setParameter(0xeb3840b0:amlogic.avc.decoder.awesome.secure, OMX.google.android.index.storeMetaDataInBuffers(0x7f000002): Output:1 en=1 type=1) ERROR: BadPortIndex(0x8000101b)
10-30 11:15:25.981 15610 15960 E ACodec  : [OMX.amlogic.avc.decoder.awesome.secure] setPortMode on output to DynamicANWBuffer failed w/ err -2147483648
10-30 11:15:25.982  3218  3242 E OMXNodeInstance: setParameter(0xeb3840b0:amlogic.avc.decoder.awesome.secure, OMX.google.android.index.allocateNativeHandle(0x7f00000a): Output:1 en=0) ERROR: UnsupportedSetting(0x80001019)
10-30 11:15:25.982  3218  3242 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:15:25.982  3218  3242 E OMXNodeInstance: setParameter(0xeb3840b0:amlogic.avc.decoder.awesome.secure, OMX.google.android.index.storeMetaDataInBuffers(0x7f000002): Output:1 en=0 type=1) ERROR: BadPortIndex(0x8000101b)
10-30 11:15:25.983  3218  3242 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:15:25.983  3218  3242 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:25.984  3218  3241 E OMXNodeInstance: setConfig(0xeb3840b0:amlogic.avc.decoder.awesome.secure, ConfigPriority(0x6f800002)) ERROR: UnsupportedIndex(0x8000101a)
10-30 11:15:25.986  3218  3242 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:25.988  3218  3218 E OMXNodeInstance: getConfig(0xeb3840b0:amlogic.avc.decoder.awesome.secure, ??(0x7f00000c)) ERROR: UnsupportedSetting(0x80001019)
10-30 11:15:25.993  3218 15961 I OmxComponent: STATE_SET:   OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.993  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:25.993  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.001  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.002  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.002  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.003  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.004  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.007  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.007  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.009  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.013  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.013  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.016  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.017  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.020  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.020  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.025  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.025  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.029  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.029  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.033  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.033  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.037  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.037  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.042  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.043  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.043  3218 15961 V AmlogicVideoDecoderAwesome: acquireResources:360 >
10-30 11:15:26.043  3218 15961 D AmlogicVideoDecoderAwesome: setUp mVideoDisplay =1, mDisplayMode=1
10-30 11:15:26.043  3218 15961 D AmlogicVideoDecoderAwesome: mMaxFrameWidth 1024, mMaxFrameHeight 576
10-30 11:15:26.043  3218 15961 I AmlogicVideoDecoderAwesome: video layer mKeepLastFrame 1
10-30 11:15:26.044  3218 15961 D AmlogicVideoDecoderAwesome: video_display_mode=2
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: enable osd or video ...0
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: media.omx.buffermargin is not set used def=0
10-30 11:15:26.044  3218 15961 D AmlogicVideoDecoderAwesome: mDoubleWriteMode 0
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: media.omx.dw is not set used def=0
10-30 11:15:26.044  3218 15961 D AmlogicVideoDecoderAwesome: AmlogicVideoDecoder::setUp mNeedCheckDtv = 1
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: *Input Frame Rate is 3840..
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: videoDefine.xFramerate:190000  
10-30 11:15:26.044  3218 15961 V AmlogicVideoDecoderAwesome: mVideoType:7
10-30 11:15:26.044  3218 15961 D AmlogicVideoDecoderAwesome: decoder_type = 1
10-30 11:15:26.045  3218 15961 V AmlogicVideoDecoderAwesome: set FRAME_BASE_USE_VFM_PATH
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: AmlogicVideoDecoder::setUp, mUseFrameMode 1, video_path 1
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: mh264 profile support double write
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: mAmlCodecParam->config=mh264_double_write_mode:0;
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: mAmlCodecParam->config_len=27
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: AmlogicVideoDecoder::setUp, mOmxInstancenum 1,mCheckDtvDone 0
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: checkDtvDecoder, retry_count 5
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: get video_inuse 0
10-30 11:15:26.045  3218 15961 D AmlogicVideoDecoderAwesome: codecInit
10-30 11:15:26.045  3218 15961 I AmlogicVideoDecoderAwesome: secure component set drmmode 1
10-30 11:15:26.048  3218 15961 D AmlogicVideoDecoderAwesome: codecInit done
10-30 11:15:26.048  3218 15961 D AmlogicVideoDecoderAwesome: media.omx.videopeek 0
10-30 11:15:26.048  3218 15961 I AmlogicVideoDecoderAwesome: video layer sync version is 3
10-30 11:15:26.048  3218 15961 V AmlogicVideoDecoderAwesome: mFlvFlag=0
10-30 11:15:26.048  3218 15961 V AmlogicVideoDecoderAwesome: mOutBufferCount =8
10-30 11:15:26.048  3218 15961 V AmlogicVideoDecoderAwesome: mIsNativeBuffers =1
10-30 11:15:26.048  3218 15961 D AmlogicVideoDecoderAwesome: mAmvideoDev->use_frame_mode=0
10-30 11:15:26.048  3218 15961 D AmlogicVideoDecoderAwesome: mAmvideoDev->use_frame_mode=1, mUseFrameMode=1
10-30 11:15:26.048  3218 15961 D AmlogicVideoDecoderAwesome: output buffer:mWidth:1024, mHeight:576, mVideoDevId:0
10-30 11:15:26.050  3218 15961 I OmxComponent: STATE_DONE:  OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.051  3218 15961 I OmxComponent: STATE_SET:   OMX_StateIdle => OMX_StateExecuting : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.052  3218 15961 V AmlogicVideoDecoderAwesome: prepare:281 >
10-30 11:15:26.052  3218 15961 D AmlogicVideoDecoderAwesome: mVideo mDisplayTread start
10-30 11:15:26.052  3218 15961 D AmlogicVideoDecoderAwesome: mDTaskStatus=0
10-30 11:15:26.052  3218 15961 V AmlogicVideoDecoderAwesome: start:294 >
10-30 11:15:26.052  3218 15961 D AmlogicVideoDecoderAwesome: mVideo start
10-30 11:15:26.052  3218 15961 I OmxComponent: STATE_TRANS: OMX_StateIdle => OMX_StateExecuting : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.052  3218 15961 I OmxComponent: STATE_DONE:  OMX_StateIdle => OMX_StateExecuting : OMX.amlogic.avc.decoder.awesome.secure
10-30 11:15:26.052  3218 15965 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorkerStatic:152 --------------------
10-30 11:15:26.052  3218 15965 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorker:158 --------------------
10-30 11:15:26.196  3218 15965 V AmlogicVideoDecoderAwesome: csdsize=72
10-30 11:15:26.234  3218 15964 D AmlogicVideoDecoderAwesome: mFirstInputTime = 434885415, mFirstOutputTime=434885447, delay= 32ms
10-30 11:15:26.235  3218  3218 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1024,h:576..
10-30 11:15:26.236  3218  3218 E OMXNodeInstance: getConfig(0xeb3840b0:amlogic.avc.decoder.awesome.secure, ??(0x7f00000c)) ERROR: UnsupportedSetting(0x80001019)
```

Adb log using OMX.amlogic.avc.decoder.awesome codec with hickups:
```
10-30 11:08:09.828  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=0, mInPutFrameCount=300, mOutBufferNo=285, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535668667
10-30 11:08:09.931  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=0, mInPutFrameCount=300, mOutBufferNo=290, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535768667
10-30 11:08:09.987  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=0, mInPutFrameCount=300, mOutBufferNo=293, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535828667
10-30 11:08:09.989  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=1, mInPutFrameCount=300, mOutBufferNo=293, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535828667
10-30 11:08:10.031  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=1, mInPutFrameCount=300, mOutBufferNo=295, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535868667
10-30 11:08:10.103  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=1, mInPutFrameCount=300, mOutBufferNo=299, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535948667
10-30 11:08:10.105  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=2, mInPutFrameCount=300, mOutBufferNo=299, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535948667
10-30 11:08:10.137  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=1, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.140  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=2, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.141  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=3, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.142  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=4, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.143  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=5, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.145  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=6, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.146  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=7, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.147  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=8, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.149  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=9, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.150  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=10, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.152  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=11, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.153  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=12, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.154  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=13, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.156  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=14, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.157  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=15, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.158  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=16, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.161  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=17, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.162  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=18, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.163  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=19, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.165  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=20, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.166  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=21, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.167  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=22, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.169  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=23, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.170  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=24, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.172  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=25, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.173  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=26, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.175  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=27, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.176  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=28, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.177  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=29, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.178  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=30, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.180  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=31, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.183  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=32, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.185  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=33, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.187  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=34, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.188  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=35, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.190  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=36, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.191  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=37, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.192  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=38, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.193  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=39, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.195  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=40, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.196  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=41, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.197  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=42, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.198  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=43, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.200  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=44, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.201  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=45, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.203  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=46, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.205  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=47, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.206  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=48, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.208  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=49, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.211  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=50, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.212  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=51, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.213  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=52, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.214  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=53, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.215  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=54, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.217  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=55, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.218  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=56, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.220  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=57, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.221  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=58, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.222  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=59, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.225  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=60, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.226  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=61, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.227  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=62, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.229  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=63, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.230  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=64, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.231  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=65, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.232  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=66, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.234  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=67, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.235  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=68, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.236  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=69, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.237  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=70, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.238  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=71, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.239  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=72, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.241  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=73, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.243  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=74, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.245  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=75, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.246  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=76, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.247  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=77, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.248  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=78, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.249  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=79, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.250  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=80, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.251  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=81, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.253  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=82, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.254  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=83, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.255  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=84, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.256  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=85, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.258  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=86, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.259  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=87, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.260  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=88, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.262  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=89, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.263  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=90, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.264  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=91, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.266  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=92, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.267  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=93, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.268  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=94, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.270  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=95, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.271  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=96, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.272  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=97, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.273  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=98, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.274  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=99, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.276  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=100, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.277  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=101, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.278  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=102, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.279  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=103, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.280  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=104, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.283  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=105, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.285  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=106, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.286  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=107, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.287  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=108, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.288  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=109, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.289  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=110, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.290  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=111, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.292  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=112, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.293  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=113, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.294  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=114, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.295  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=115, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.296  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=116, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.297  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=117, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.298  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=118, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.299  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=119, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.301  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=120, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.303  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=121, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.304  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=122, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.305  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=123, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.306  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=124, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.308  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=125, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.309  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=126, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.310  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=127, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.312  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=128, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.313  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=129, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.315  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=130, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.316  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=131, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.317  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=132, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.318  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=133, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.320  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=134, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.321  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=135, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.323  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=136, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.324  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=137, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.325  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=138, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.326  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=139, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.327  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=140, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.329  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=141, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.330  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=142, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.331  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=143, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.332  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=144, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.333  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=145, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.335  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=146, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.336  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=147, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.337  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=148, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.338  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=149, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.339  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=150, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.340  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=151, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.342  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=152, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.343  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=153, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.344  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=154, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.346  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=155, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.347  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=156, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.348  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=157, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.349  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=158, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.350  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=159, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.352  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=160, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.353  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=161, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.354  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=162, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.355  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=163, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.357  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=164, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.358  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=165, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.359  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=166, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.360  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=167, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.361  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=168, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.363  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=169, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.364  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=170, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.365  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=171, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.366  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=172, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.367  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=173, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.368  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=174, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.370  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=175, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.371  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=176, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.373  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=177, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.374  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=178, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.375  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=179, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.377  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=180, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.378  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=181, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.379  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=182, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.381  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=183, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.382  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=184, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.383  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=185, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.384  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=186, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.385  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=187, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.387  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=188, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.388  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=189, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.389  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=190, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.391  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=191, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.393  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=192, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.394  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=193, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.395  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=194, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.396  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=195, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.398  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=196, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.399  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=197, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.400  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=198, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.401  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=199, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.402  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=200, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.403  3218 14942 D AmlogicVideoDecoderAwesome:   		  mEos = true
10-30 11:08:10.403  3218 14942 D AmlogicVideoDecoderAwesome: mEosCheckCount=201, mInPutFrameCount=300, mOutBufferNo=300, mMaxInputTimeStamp=30540215368876139, mLastTimeStamp=3441535968667
10-30 11:08:10.404  3218 14942 D AmlogicVideoDecoderAwesome: displayThread___eos_fillBufferDone
10-30 11:08:10.404  3218 14942 D AmlogicVideoDecoderAwesome: threadLoop is_running == false
10-30 11:08:10.413  3218 14938 I OmxComponent: STATE_SET:   OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.413  3218 14938 I OmxComponent: OMX.amlogic.avc.decoder.awesome: flush input
10-30 11:08:10.413  3218 14938 V AmlogicVideoDecoderAwesome: flushInput:894 >
10-30 11:08:10.413  3218 14938 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:flushInput:56 --------------------
10-30 11:08:10.413  3218 14938 V AmlogicVideoDecoderAwesome: pause:286 >
10-30 11:08:10.413  3218 14938 V AmlogicVideoDecoderAwesome: reset:332 >
10-30 11:08:10.413  3218 14938 D AmlogicVideoDecoderAwesome: reset_1
10-30 11:08:10.428  3218 14938 D AmlogicVideoDecoderAwesome: reset_2
10-30 11:08:10.428  3218 14938 D AmlogicVideoDecoderAwesome: mVideo mDisplayTread start
10-30 11:08:10.428  3218 14938 D AmlogicVideoDecoderAwesome: mDTaskStatus=0
10-30 11:08:10.428  3218 14938 V AmlogicVideoDecoderAwesome: start:294 >
10-30 11:08:10.428  3218 14938 D AmlogicVideoDecoderAwesome: mVideo start
10-30 11:08:10.428  3218 14938 V AmlogicVideoDecoderAwesome: flushInput:919 >
10-30 11:08:10.428  3218 14938 I OmxComponent: OMX.amlogic.avc.decoder.awesome: flush output
10-30 11:08:10.429  3218 14938 V AmlogicVideoDecoderAwesome: flushOutput:922 >
10-30 11:08:10.429  3218 14938 D AmlogicVideoDecoderAwesome: displayThread__flushOutput__fillBufferDone
10-30 11:08:10.429  3218 14938 D AmlogicVideoDecoderAwesome: displayThread__flushOutput__fillBufferDone
10-30 11:08:10.429  3218 14952 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorkerStatic:152 --------------------
10-30 11:08:10.429  3218 14952 V OMX_WorkerPeer: hardware/amlogic/omx/omx_framework/WorkerPeer.cpp:runWorker:158 --------------------
10-30 11:08:10.430  3218 14938 V AmlogicVideoDecoderAwesome: flushOutput:976 >
10-30 11:08:10.430  3218 14938 D AmlogicVideoDecoderAwesome: mVideo stop
10-30 11:08:10.432  3218 14938 V AmlogicVideoDecoderAwesome: stop:320 >
10-30 11:08:10.432  3218 14938 I OmxComponent: STATE_TRANS: OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.432  3218 14938 I OmxComponent: STATE_TRANS: OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.432  3218 14938 I OmxComponent: STATE_DONE:  OMX_StateExecuting => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.433  3218 14938 I OmxComponent: STATE_SET:   OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.433  3218 14938 V AmlogicVideoDecoderAwesome: releaseResources:374 >
10-30 11:08:10.433  3218 14938 V AmlogicVideoDecoderAwesome: tearDown:793 >
10-30 11:08:10.433  3218 14938 V AmlogicVideoDecoderAwesome: tearDown:1434 >
10-30 11:08:10.433  3218 14938 V AmlogicVideoDecoderAwesome: initializeState_l:1512 >
10-30 11:08:10.438  3218 14938 D AmlogicVideoDecoderAwesome: free ION Video device instance ID:0
10-30 11:08:10.438  3218 14938 V AmlogicVideoDecoderAwesome: disable osd video ...-348367440
10-30 11:08:10.439  3218 14938 I OmxComponent: STATE_TRANS: OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.439  3218 14938 I OmxComponent: STATE_DONE:  OMX_StateIdle => OMX_StateLoaded : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.441  3218 14552 D OmxComponentManagerImpl: DecreaseEntryNumByName pEntry->mNum=1, pEntry->mMaxNum:9,componentName:OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.441  3218 14552 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoderAwesome
10-30 11:08:10.441  3218 14552 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoder
10-30 11:08:10.441  3218 14552 D AmlogicVideoDecoderAwesome: ~AmlogicVideoDecoder, mOmxInstancenum 0
10-30 11:08:10.462 10125 14143 D BlackListCodecSelector: Ignoring blacklisted codecOMX.amlogic.avc.decoder.awesome.secure
10-30 11:08:10.462 10125 14143 D BlackListCodecSelector: Passing codecOMX.amlogic.avc.decoder.awesome
10-30 11:08:10.463 10125 14143 W MediaCodecRenderer: Drm session requires secure decoder for video/avc, but no secure decoder available. Trying to proceed with [OMX.amlogic.avc.decoder.awesome, OMX.google.h264.decoder].
10-30 11:08:10.470  3218 14552 I OMXMaster: makeComponentInstance(OMX.amlogic.avc.decoder.awesome) in omx@1.0-service process
10-30 11:08:10.470  3218 14552 D OmxComponentManagerImpl: getEntryByName_2_num=0, componentName:OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.470  3218 14552 V AmlogicVideoDecoderAwesome: AmlogicVideoDecoder:99 >
10-30 11:08:10.470  3218 14552 V AmlogicVideoDecoderAwesome: initializeState_l:1512 >
10-30 11:08:10.470  3218 14552 V AmlogicVideoDecoderAwesome: media.omx.latency is not set used def=1.000000
10-30 11:08:10.470  3218 14552 D AmlogicVideoDecoderAwesome: AmlogicVideoDecoder, mOmxInstancenum 1, mOmxInstanceID 465
10-30 11:08:10.471  3218 14552 D AmlogicVideoDecoderAwesome: mCheckDvesDone = 1
10-30 11:08:10.472  3218 14552 V AmlogicVideoDecoderAwesome: media.omx.out_buffer1 is not set used def=4
10-30 11:08:10.472  3218 14552 D OmxVideoDecoder: setInputCoding OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.472  3218 14552 D OMX-VENDOR-EXT: OMX.amlogic.avc.decoder.awesome : Vendor extensions supported (6)
10-30 11:08:10.473  3218 14552 D OmxComponentManagerImpl: IncreaseEntryNumByName pEntry->mNum=0, pEntry->mMaxNum:9,componentName:OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.478 10125 14955 I MediaCodec: [OMX.amlogic.avc.decoder.awesome] setting surface generation to 10368178
10-30 11:08:10.480  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:08:10.480  3218 14552 E OMXNodeInstance: setParameter(0xeb383bb0:amlogic.avc.decoder.awesome, OMX.google.android.index.allocateNativeHandle(0x7f00000a): Output:1 en=0) ERROR: UnsupportedSetting(0x80001019)
10-30 11:08:10.480  3218 14552 E OMXNodeInstance: setParameter(0xeb383bb0:amlogic.avc.decoder.awesome, OMX.google.android.index.storeMetaDataInBuffers(0x7f000002): Output:1 en=1 type=1) ERROR: BadPortIndex(0x8000101b)
10-30 11:08:10.480 10125 14956 E ACodec  : [OMX.amlogic.avc.decoder.awesome] setPortMode on output to DynamicANWBuffer failed w/ err -2147483648
10-30 11:08:10.481  3218 14552 E OMXNodeInstance: setParameter(0xeb383bb0:amlogic.avc.decoder.awesome, OMX.google.android.index.allocateNativeHandle(0x7f00000a): Output:1 en=0) ERROR: UnsupportedSetting(0x80001019)
10-30 11:08:10.481  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:08:10.481  3218 14552 E OMXNodeInstance: setParameter(0xeb383bb0:amlogic.avc.decoder.awesome, OMX.google.android.index.storeMetaDataInBuffers(0x7f000002): Output:1 en=0 type=1) ERROR: BadPortIndex(0x8000101b)
10-30 11:08:10.482  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:640,h:480..
10-30 11:08:10.482  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.484  3218 14552 E OMXNodeInstance: setConfig(0xeb383bb0:amlogic.avc.decoder.awesome, ConfigPriority(0x6f800002)) ERROR: UnsupportedIndex(0x8000101a)
10-30 11:08:10.484  3218 14552 E OMXNodeInstance: setConfig(0xeb383bb0:amlogic.avc.decoder.awesome, ConfigOperatingRate(0x6f800003)) ERROR: UnsupportedIndex(0x8000101a)
10-30 11:08:10.486  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.486  3218 14552 E OMXNodeInstance: getConfig(0xeb383bb0:amlogic.avc.decoder.awesome, ??(0x7f00000c)) ERROR: UnsupportedSetting(0x80001019)
10-30 11:08:10.490  3218 14957 I OmxComponent: STATE_SET:   OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.490  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.493  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.494  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.495  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.496  3218  3241 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.496  3218  3241 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.498  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.502  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.502  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.507  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.507  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.512  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.513  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08:10.518  3218 14552 D AmlogicVideoDecoderAwesome: get native buffer info NV:w:1920,h:1080..
10-30 11:08:10.518  3218 14957 I OmxComponent: STATE_TRANS: OMX_StateLoaded => OMX_StateIdle : OMX.amlogic.avc.decoder.awesome
10-30 11:08",https://github.com/google/ExoPlayer/issues/6598#issuecomment-552301641,"> Additional question: what is the difference between the codec with/without the .secure suffix? I know it is drm-related, but drm content seems to be able to stream with both. Is there a difference in performance?

The secure codec likely uses a secure output path. Whether DRM content will play using a codec that does not use a secure output path will depend on the way in which the license policy is configured (specifically, whether a secure output path is indicated as a requirement in the policy).

This sounds like a device specific issue. If you have a relationship with the device manufacturer, please content them directly."
google/ExoPlayer,"hi , we have this error while running local video  on android api 17,but on another android api 17 no problem. how can we fix it ?
thanks!

MediaCodec: Codec reported an error. (omx error 0x80001001, internalError -2147483648)
01-01 02:11:31.868 1494-1632/com.hdl.m3u8demo E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalStateException
        at android.media.MediaCodec.queueInputBuffer(Native Method)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:773)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:583)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)
        at android.os.Handler.dispatchMessage(Handler.java:95)
        at android.os.Looper.loop(Looper.java:138)
        at android.os.HandlerThread.run(HandlerThread.java:60)
[video.txt](https://github.com/google/ExoPlayer/files/3777989/video.txt)
",https://github.com/google/ExoPlayer/issues/6590#issuecomment-548401193,"Please provide the full list of requested information when submitting bug reports.

From what you posted, it looks like a problem with the MediaCodec implementation on this device. Does it happen on a specific device only, or also on other devices running API 17?"
google/ExoPlayer,"### Use case description
When switching from ExoPlayer to CastPlayer, I have an UI inconstancy on the Shuffle state when ExoPlayer was shuffle enabled.
The UI is still reporting that CastPlayer queue is shuffled.

### Proposed solution
in CastPlayer::updateInternalState() add something like
`notificationsBatch.add(new ListenerNotificationTask(listener -> listener.onShuffleModeEnabledChanged(false));`

",https://github.com/google/ExoPlayer/issues/6582#issuecomment-546334875,"I don't really see how this can happen. 

CastPlayer doesn't currently support shuffle mode. Plus player control view seems to update the button state accordingly. The notification is not necessary because it should never change. 

Can you state exactly what's going on? Perhaps provide a set of minimal changes to reproduce in the demo app?"
google/ExoPlayer,"I have implemented exoplayer with exoplayer cast extension in july 2019 and everything worked fine in august 2019 for my clients :
https://github.com/google/ExoPlayer/tree/release-v2
https://github.com/google/ExoPlayer/tree/release-v2/extensions/

    dependencies {
      implementation 'com.google.android.exoplayer:exoplayer-dash:2.9.6'
      implementation 'com.google.android.exoplayer:extension-cast:2.9.6'
    }
But suddenly, I have tested it this month (october 2019) on my chromecast and it doesn't work anymore.
Exoplayer still play video but it doesn't detect any chromecast.
My chromecast still works with Youtube cast or Netflix cast.

My code hasn't changed since august.
Someone has experience the same thing or has a clue of what is going on ?",https://github.com/google/ExoPlayer/issues/6560#issuecomment-543834494,"Strange... Would you kindly try the dev version, just to check?

Can you check which receiver app id you are using?"
google/ExoPlayer,"### [REQUIRED] Issue description
When trying to play the following stream, I hear a description of the radio then it stops, however other players are starting to play the stream content right after the intro (MediaPlayer does, VLC does)
http://streaming.rolandradio.net:8000/rolandradio


### [REQUIRED] Reproduction steps
I'm using the following code to initialize EXOPlayer

```
        DataSource.Factory factory =  new DefaultHttpDataSourceFactory(
                userAgent,
                null,
                DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,
                DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,
                true);
this.mediaSource = new ProgressiveMediaSource.Factory(factory).createMediaSource(uri);
```


### [REQUIRED] Link to test content
Here's the URL to reproduce the issue: http://streaming.rolandradio.net:8000/rolandradio

### [REQUIRED] A full bug report captured from the device

  ```
     this.player.addAnalyticsListener(new AnalyticsListener() {
            @Override
            public void onPlayerStateChanged(EventTime eventTime, boolean playWhenReady, int playbackState) {
                String stateString;
                switch (playbackState) {
                    case Player.STATE_IDLE:
                        stateString = ""ExoPlayer.STATE_IDLE "";
                        break;
                    case Player.STATE_BUFFERING:
                        stateString = ""ExoPlayer.STATE_BUFFERING"";
                        infoListener.onInfo(null, android.media.MediaPlayer.MEDIA_INFO_BUFFERING_START, -1);
                        break;
                    case Player.STATE_READY:
                        stateString = ""ExoPlayer.STATE_READY"";
                        infoListener.onInfo(null, android.media.MediaPlayer.MEDIA_INFO_BUFFERING_END, -1);
                        if (isPreparing) {
                            isPreparing = false;
                            preparedListener.onPrepared(null);
                            // enabled when prepared
                                /*
                                if (downMixAudioProcessor != null && downMix) {
                                    downMixAudioProcessor.setEnabled(downMix);
                                }
                                */
                        }
                        break;
                    case Player.STATE_ENDED:
                        stateString = ""ExoPlayer.STATE_ENDED"";
                        completionListener.onCompletion(null);
                        break;
                    default:
                        stateString = ""UNKNOWN_STATE"";
                        break;
                }

LogHelper.d(TAG, ""New  player state: "" + stateString + "", playWhenReady: "" + playWhenReady);
            }
```

This is returning the following log when the intro ends:
`
New  player state: ExoPlayer.STATE_ENDED, playWhenReady: true`


### [REQUIRED] Version of ExoPlayer being used
2.10.5

### [REQUIRED] Device(s) and version(s) of Android being used
Any device, but used a Pixel 3 XL on Android10 to debug
",https://github.com/google/ExoPlayer/issues/6537#issuecomment-541589852,"Hi,

Can we get some more information? The full player initialisation code, as well as potentially a bug report or a stack trace.

Thanks"
google/ExoPlayer,"I am unable to resolve this bug from 4 days so I need to post it here. I have two devices OPPO F11 Pro and Honor 6X. I am getting black screen problem after playing videos. My app is in beta in app store, just play some video around 8-12 videos then back to previous videos. Once black screen come no single video will start playing.

Beta Version:- https://play.google.com/store/apps/details?id=coders.hub.daily_status

Logcat:-
```java
10-11 13:01:35.047 678-28268/? E/OMXNodeInstance: getConfig(0xf0234ec0:google.aac.decoder, ConfigAndroidVendorExtension(0x6f100004)) ERROR: Undefined(0x80001001)
2019-10-11 13:01:35.105 678-28259/? E/osal_utils: Returns insufficientResource
2019-10-11 13:01:35.105 678-28259/? E/media.codec: Failed to allocate omx component 'OMX.MTK.VIDEO.DECODER.AVC'  err=InsufficientResources(0x80001000)
2019-10-11 13:01:35.106 13075-17958/coders.hub.daily_status E/ACodec: Unable to instantiate codec 'OMX.MTK.VIDEO.DECODER.AVC' with err 0xfffffff4.
2019-10-11 13:01:35.106 13075-17958/coders.hub.daily_status E/ACodec: signalError(omxError 0xfffffff4, internalError -12)
2019-10-11 13:01:35.106 13075-17957/coders.hub.daily_status E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1
2019-10-11 13:01:35.108 666-666/? E/ResourceManagerService: getLowestPriorityBiggestClient_l: lowest priority 0 vs caller priority 0
2019-10-11 13:01:35.119 13075-17952/coders.hub.daily_status E/ExoPlayerImplInternal: Renderer error.
    com.google.android.gms.ads.exoplayer3.b
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.x(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:41)
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:8)
        at com.google.android.gms.ads.exoplayer3.video.f.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:5)
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.a(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:7)
        at com.google.android.gms.ads.exoplayer3.k.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:135)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:226)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: com.google.android.gms.ads.exoplayer3.mediacodec.b: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, video/avc, -1, null, [640, 360, -1.0], [-1, -1])
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.x(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:40)
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:8)¬†
        at com.google.android.gms.ads.exoplayer3.video.f.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:5)¬†
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.a(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:7)¬†
        at com.google.android.gms.ads.exoplayer3.k.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:135)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:226)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4
        at android.media.MediaCodec.native_setup(Native Method)
        at android.media.MediaCodec.<init>(MediaCodec.java:1811)
        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1792)
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.x(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:23)
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:8)¬†
        at com.google.android.gms.ads.exoplayer3.video.f.b(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:5)¬†
        at com.google.android.gms.ads.exoplayer3.mediacodec.c.a(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:7)¬†
        at com.google.android.gms.ads.exoplayer3.k.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@20461004@20461004.264725060.264725060:135)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:226)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
```

**Second one**

```java
2019-10-11 13:01:36.131 678-1789/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, OMX.google.android.index.allocateNativeHandle(0x7f20040e): Output:1 en=0) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.132 678-1789/? E/OMXNodeInstance: getConfig(0xd5de5004:MTK.DECODER.AVC, ConfigAndroidVendorExtension(0x6f100004)) ERROR: UnsupportedIndex(0x8000101a)
2019-10-11 13:01:36.133 678-1789/? E/OMXNodeInstance: getConfig(0xd5de5004:MTK.DECODER.AVC, ConfigCommonOutputCrop(0x700000f)) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.140 678-28259/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, ParamPortDefinition(0x2000001)) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.140 678-1789/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, ParamPortDefinition(0x2000001)) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.157 678-28268/? E/OMXNodeInstance: getConfig(0xf0234ec0:google.aac.decoder, ConfigAndroidVendorExtension(0x6f100004)) ERROR: Undefined(0x80001001)
2019-10-11 13:01:36.160 678-28268/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, ParamPortDefinition(0x2000001)) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.160 678-1789/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, ParamPortDefinition(0x2000001)) ERROR: BadParameter(0x80001005)
2019-10-11 13:01:36.173 522-30601/? E/AudioParamParser-vnd: utilNativeGetParam(), categoryType is NULL
2019-10-11 13:01:36.173 522-30601/? E/AudioParamParser-vnd: utilNativeGetParam(), paramUnit is NULL
2019-10-11 13:01:36.177 678-28268/? E/OMXNodeInstance: setParameter(0xd5de5004:MTK.DECODER.AVC, ??(0x7f00002b)) ERROR: IncorrectStateOperation(0x80001018)
2019-10-11 13:01:36.198 560-2040/? E/AudioFlinger: TrackBase####alloc memory 0xe0cf4d20
2019-10-11 13:01:36.202 13075-17963/coders.hub.daily_status E/AudioTrack: start(): 0x76acdfdc00, mState = 1
2019-10-11 13:01:36.207 522-962/? E/AudioParamParser-vnd: utilNativeGetParam(), categoryType is NULL
2019-10-11 13:01:36.207 522-962/? E/AudioParamParser-vnd: utilNativeGetParam(), paramUnit is NULL
2019-10-11 13:01:36.210 522-12305/? E/se.dirac.effect: first processing
2019-10-11 13:01:36.428 1282-1420/? E/WifiVendorHal: getWifiLinkLayerStats(l.946) failed {.code = ERROR_NOT_SUPPORTED, .description = }
2019-10-11 13:01:37.688 678-1789/? E/osal_utils: Returns insufficientResource
2019-10-11 13:01:37.688 678-1789/? E/media.codec: Failed to allocate omx component 'OMX.MTK.VIDEO.DECODER.AVC'  err=InsufficientResources(0x80001000)
2019-10-11 13:01:37.689 13075-17981/coders.hub.daily_status E/ACodec: Unable to instantiate codec 'OMX.MTK.VIDEO.DECODER.AVC' with err 0xfffffff4.
2019-10-11 13:01:37.689 13075-17981/coders.hub.daily_status E/ACodec: signalError(omxError 0xfffffff4, internalError -12)
2019-10-11 13:01:37.690 13075-17980/coders.hub.daily_status E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1
2019-10-11 13:01:37.692 666-2141/? E/ResourceManagerService: getLowestPriorityBiggestClient_l: lowest priority 0 vs caller priority 0
2019-10-11 13:01:37.696 13075-17978/coders.hub.daily_status E/ExoPlayerImplInternal: Renderer error.
    com.google.android.exoplayer2.ExoPlaybackException
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.throwDecoderInitError(MediaCodecRenderer.java:395)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:382)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:814)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:435)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:513)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:574)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:350)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:226)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, video/avc, -1, null, [480, 640, -1.0], [-1, -1])
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:382)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:814)¬†
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:435)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:513)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:574)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:350)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:226)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4
        at android.media.MediaCodec.native_setup(Native Method)
        at android.media.MediaCodec.<init>(MediaCodec.java:1811)
        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1792)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:368)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:814)¬†
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:435)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:513)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:574)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:350)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:226)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
```

Found some same issue here but no solution. Does it not have any solution yet? I am waiting approx one week to publish my app.",https://github.com/google/ExoPlayer/issues/6530#issuecomment-541030525,"Hi @jmimohsin.

I tested your app on an Android Oreo. I am seeing on the logs multiple Init calls and they don't match with the amount of Release calls logged; In combination with you traces, I assume there are player instances that have not release the codec resources properly.

Can you please take a look at the ExoPlayer's [demo app](https://github.com/google/ExoPlayer/blob/35e030f56b4e3312e863e44a1e8fe27aef4310b7/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java) how to properly release the player, covering all possible Android versions?"
google/ExoPlayer,"**Content description**

On many old devices that use OMX.MTK.VIDEO.DECODER.AVC decoder when try to play a MPEG-DASH stream on Akamai CDN with DRM  we receive this error:
I think this issue is linked to others that are marked in your code inside the `MediaCodecVideoRenderer.class` class (e.g # 3835, # 3236, # 3355, # 3439 etc ..).
Inside the switch of method `protected boolean codecNeedsSetOutputSurfaceWorkaround(String name)` of class `MediaCodecVideoRenderer.class` adding, for example, the code of the wiko fever the media is playing correctly.
We encounter the same error on many devices of our users
(see attachment [reportErrorDrmWithDevice.pdf](https://github.com/google/ExoPlayer/files/3686369/reportErrorDrmWithDevice.pdf)), which clearly we have no chance to test. 
We wanted to know if you can test them and / or add them to the switch in the code

```
com.google.android.exoplayer2.ExoPlaybackException: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1_0, null, null, video/avc, avc1.640028, 511750, null, [512, 288, -1.0], [-1, -1])
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:479)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.reinitializeCodec(MediaCodecRenderer.java:1261)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1111)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:552)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:647)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:529)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:300)
        at android.os.Handler.dispatchMessage(Handler.java:107)
        at android.os.Looper.loop(Looper.java:207)
```

**Version of ExoPlayer being used**

2.9.2

**Device(s) and version(s) of Android being used**

Wiko Fever - l5460 - Android 6 and many others
",https://github.com/google/ExoPlayer/issues/6503#issuecomment-537889996,"Can you please provide a bug report as described [here](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md)?

About the other devices, do you have a stack trace? Do you have access to the device names (see 3rd column of https://support.google.com/googleplay/answer/1727131?hl=en-GB)? "
google/ExoPlayer,"### [REQUIRED] Issue description
We are using AWS MediaPackager with Elemental for LIVE streaming, (etc, https://skysport3.akamaized.net/out/v1/686ec493b68042c7b943b4f55c95b867/index.mpd), by default the timeShiftBufferDepth=""PT57.000S"", we configured a 1800s availability window on the AWS MediaPackager, so that we could get MPD via somehing like https://skysport3.akamaized.net/out/v1/686ec493b68042c7b943b4f55c95b867/index.mpd?start=1569876612, which has timeShiftBufferDepth=""PT1800.000S"" with the start parameter.
Somehow the AWS MediaPackager is not 100% stable, so when the ExoPlayer request the MPD with the start parameter, suppose it will return all the MPDs with timeShiftBufferDepth=""PT1800.000S"",  but randomly rarely timeShiftBufferDepth=""PT57.000S"" instead.

Above is the background the reason lead to the wrong segmentNumShift problem.

**The root cause:**
In DefaultDashChunkSource.copyWithNewRepresentation, it will handle the logic that new MPD manifest file is updated and calculate a newSegmentNumShift for furthermore segNum index calculation in getSegmentUrl, when a 57s MPD updated and then back to 1800s MPD,  copyWithNewRepresentation will go into the overlap case.
For example:
When 57s MPD was updated:
```
10-02 11:19:54.451 24089 24089 D EventLogger: timelineChanged [30.75, 24.83, window=0, period=0, periodCount=1, windowCount=1, reason=DYNAMIC
10-02 11:19:54.451 24089 24089 D EventLogger:   period [?]
10-02 11:19:54.451 24089 24089 D EventLogger:   window [59.98, true, true]
10-02 11:19:54.451 24089 24089 D EventLogger: ]
10-02 11:19:55.652 24089 25278 D EventLogger: getNextChunk: previous: 193603
10-02 11:19:55.652 24089 25278 D EventLogger: getNextChunk: firstAvailableSegmentNum: 193595 lastAvailableSegmentNum: 193604 segmentNum: 193604
10-02 11:19:55.654 24089 25278 D EventLogger: getNextChunk: maxSegmentCount: 1 segmentNum: 193604
10-02 11:20:10.032 24089 25278 D EventLogger: copyWithNewRepresentation: oldIndexSegmentCount: 10
10-02 11:20:10.032 24089 25278 D EventLogger: copyWithNewRepresentation: oldIndex.getFirstSegmentNum(): 193595 newIndexFirstSegmentNum: 193306 // Here is the case that new_first < old_first, but go into overlap case
10-02 11:20:10.032 24089 25278 D EventLogger: copyWithNewRepresentation: segmentNumShift: 0 newSegmentNumShift: 289 // Here is the wrong SegmentNumShift
```
When 1800s MPD was updated:
```
10-02 11:20:10.035 24089 24089 D EventLogger: timelineChanged [46.33, 1774.44, window=0, period=0, periodCount=1, windowCount=1, reason=DYNAMIC
10-02 11:20:10.035 24089 24089 D EventLogger:   period [?]
10-02 11:20:10.036 24089 24089 D EventLogger:   window [1811.99, true, true]
10-02 11:20:10.036 24089 24089 D EventLogger: ]
10-02 11:20:11.127 24089 25278 D EventLogger: getNextChunk: previous: 193605
10-02 11:20:11.127 24089 25278 D EventLogger: getNextChunk: firstAvailableSegmentNum: 193595 lastAvailableSegmentNum: 193896 segmentNum: 193606
10-02 11:20:11.128 24089 25278 D EventLogger: getNextChunk: maxSegmentCount: 1 segmentNum: 193606
10-02 11:20:11.128 24089 25278 D EventLogger: getSegmentUrl: segNum: 193606 segmentNumShift: 289 // The original segNum was correct, but with wrong segmentNumShift
10-02 11:20:11.128 24089 25278 D EventLogger: getSegmentUrl: urlIndex: 193317 url: RangedUri(referenceUri=index_video_9_0_193317.mp4?m=1569796293, start=0, length=-1) // Wrong segmentUrl was returned to download
```
**Solution**
A solution could consider this case that new_first < old_first && new_last > old_last, so the new index includes the whole old index, newSegmentNumShift could be kept as is instead of calculating as overlaps. PR will be followed soon.

### [REQUIRED] Reproduction [steps]
Play the test content in the ExoPlayer demo for a while, after the MPD randomly drop to 57S, the video playback will be stuck and OOM in the end.

### [REQUIRED] Link to test content
Add the following in the ExoPlayer demo's media.exolist.json
`{
        ""name"": ""Test LIVE DASH + WV"",
        ""uri"": ""https://skysport3.akamaized.net/out/v1/686ec493b68042c7b943b4f55c95b867/index.mpd?start=1569957852"",
        ""drm_scheme"": ""widevine"",
        ""drm_license_url"": ""https://widevine.entitlement.theplatform.com/wv/web/ModularDrm/getRawWidevineLicense?schema=1.0&token=Qh-JLBe8igAg_phMrQYQUcBowPBUwEBS&account=http://access.auth.theplatform.com/data/Account/2682481919&releasePid=6n3vPYRNy5VV""
      }`

### [REQUIRED] A full bug report captured from the device
Not really needed in this case
EventLogger can be download via https://send.firefox.com/download/fa4e73269846a34b/#106lwvZyqBhxGG4hUGkkIA

### [REQUIRED] Version of ExoPlayer being used
2.10.4 and 2.10.5

### [REQUIRED] Device(s) and version(s) of Android being used
One Plus 7
Android 10
",https://github.com/google/ExoPlayer/issues/6501#issuecomment-537563078,"> Somehow the AWS MediaPackager is not 100% stable

It seems pretty sub-optimal to be relying on technology that's not behaving in a stable way :). Have you reported the issue to AWS, and are they planning on fixing it?

> PR will be followed soon.

Let's discuss directly on the PR. Thanks!"
google/ExoPlayer,"### [REQUIRED] Issue description
I use ExoPlayer in Android app to record and play video files. Since I don't want to pause playback when app goes to background, when I play video and move app to the background sound is still heard. When I am going back to my app, and bind player to new playerView sound is heard, but image in video is stopped at this moment, which I move app to the background. After usage of seekBar image in video works well again. 

### [REQUIRED] Reproduction steps
-record video file
-play video
-while video is playing go to background
-go back to app
-sound is heard but image in video stops

### [REQUIRED] Link to test content
--

### [REQUIRED] A full bug report captured from the device
--

### [REQUIRED] Version of ExoPlayer being used
I use ExoPlayer v2.10.0.

### [REQUIRED] Device(s) and version(s) of Android being used
It happens on multiple devices with Android 10 version only. On other devices with lower OS version everything works fine. 

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6473#issuecomment-535072126,"Can you provide more details on how your background playback is working?

In particular:
- Are you using a foreground service?
- Are you making any changes to the `DefaultTrackSelector` (e.g. disable the video track)?
- Are you unbinding the player from the previous `PlayerView`? 
- What kind of view are you using? (SurfaceView, TextureView, ..)
- Also, what kind of `MediaSource` are you using? And can you provide an example stream in case it's media related?"
google/ExoPlayer,"```
java.lang.OutOfMemoryError: Failed to allocate a 65548 byte allocation with 11488 free bytes and 11KB until OOM
        at com.google.android.exoplayer2.upstream.DefaultAllocator.allocate(DefaultAllocator.java:102)
        at com.google.android.exoplayer2.source.SampleQueue.preAppend(SampleQueue.java:633)
        at com.google.android.exoplayer2.source.SampleQueue.sampleData(SampleQueue.java:553)
        at com.google.android.exoplayer2.extractor.mp4.Mp4Extractor.readSample(Mp4Extractor.java:533)
        at com.google.android.exoplayer2.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:187)
        at com.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractingLoadable.load(ExtractorMediaPeriod.java:898)
        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
```

lately i am developing an app like tiotok,but when i switch the video fast,about 150 times later,throw this error",https://github.com/google/ExoPlayer/issues/6424#issuecomment-530876377,Are you forgetting to release previous player instances (by calling `Player.release`)? Please provide all of the information requested in the [issue template](https://github.com/google/ExoPlayer/issues/new?assignees=&labels=bug%2C+needs+triage&template=bug.md&title=).
google/ExoPlayer,"### Issue description
On some phones no video streams are being shown when the phone is in ""night mode"" and Widevine protected DASH content is being played. The audio plays normally, but no video is showing. Disabling ""night mode"" causes the player to behave correctly with video being displayed. Playing content that is not protected by Widevine works as expected with ""night mode"" activated.

### Reproduction steps
The issue has been reproduced by a remote team member using a OnePlus 7 Pro running OxygenOS 9.5.11.GM21BA, using the ExoPlayer 2.10.4 demo app and the default demo app content. We only have a few other phones available to us with ""night mode"" capabilities, but none of them could reproduce the issue.

The issue could be reproduced with the ""WV: Secure HD (cenc,MP4,H264)"" stream in the ""Widevine DASH: MP4, Hs64"" category, and possibly other Widevine encrypted streams but those were not tested.

### Link to test content
As mentioned above, it could be reproduced with the content provided in the 2.10.4 demo app so we have no content to link here.

### A full bug report captured from the device
Since the team member who can reproduce the issue is working remotely and is not an Android developer we have had some issues getting a full bug report. Since it can be reproduced with the demo app we hope that a full report might not be needed at this point, but otherwise we will try to get a full bug report available as soon as possible.

### Version of ExoPlayer being used
2.10.4

### Device(s) and version(s) of Android being used
Device tested with ""night mode"" experiencing the issue:
OnePlus 7 Pro, using OxygenOS 9.5.11.GM21BA (Android 9)

Devices tested with ""night mode"" without issues:
OnePlus 5T, using OxygenOS 9.0.8 (Android 9)
Samsung SM-A5200F, using Android 8.0.0
Huawei CLT-L29, using Android 8.1.0

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6402#issuecomment-529372490,"Have you contacted the OxygenOS developers about this? It sounds like a limitation in how they've implemented night mode.

There probably isn't much we can do here, and this doesn't sound like an ExoPlayer issue."
google/ExoPlayer,"**[REQUIRED] Issue description**
The recent update in MI TV 4a pro 32 inch with android Pie, having issues with the aspectrationframelayout.resize_mode_fit, resize_mode_zoom.  Until previous version, it was working fine. The latest update given and now its not functioning at all.

**[REQUIRED] Reproduction steps**
On MI tv 4a pro use the exoplayer demo app with simple exoplayerview and aspectratio fame layout.
make a button to resize the screen to zoom or fit  using playerView.setResizeMode(AspectRatioFrameLayout.RESIZE_MODE_ZOOM); or
playerView.setResizeMode(AspectRatioFrameLayout.RESIZE_MODE_FIT);

The screen is on same size on PIE.

**[REQUIRED] Link to test content**
[
  {
    ""name"": ""Widevine DASH Policy Tests (GTS)"",
    ""samples"": [
      {
     ""name"": ""Apple 4x3 basic stream"",
        ""uri"": ""https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_4x3/bipbop_4x3_variant.m3u8""
      }
    ]
  }
]

**[REQUIRED] Version of ExoPlayer being used**
v2.9.3

**[REQUIRED] Device(s) and version(s) of Android being used**

MI TV 4A PRO

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6401#issuecomment-529371332,Can you reproduce this on any other devices? Is only DRM playback affected?
google/ExoPlayer,"### [REQUIRED] Content description
FLAC in mp4 using DASH does not seem to work. 
The same track in regular flac container works as it should.
I'm of course using the Mp4Extractor, and playing AAC in the same setup works flawlessly. I have tested with various configuration in regards to renderer, explained in the bug report section below.

### [REQUIRED] Link to test content
I can probably provide if needed. Do you have any test content that should work? I tried our .mpd file in VLC on my computer, and that played as it should.

### [REQUIRED] Version of ExoPlayer being used
2.10.4 forked with [this](https://github.com/google/ExoPlayer/issues/6396) change included.

### [REQUIRED] Device(s) and version(s) of Android being used
Pixel 3 Android 9 and 10.

### [REQUIRED] A full bug report captured from the device
Full bug report can be provided if needed.
Here are some logs from my different tries:

Using LibflacAudioRenderer: It is not fetching the dash segments, but plays without sound(time is passing, can pause, play etc) and gives me no error message.

Using default MediaCodecAudioRenderer(afaik understood from https://github.com/google/ExoPlayer/issues/6392 this should work because of platform decoder on Android 8.1 and above) it is fetching dash segments, but does not play like above, and I'm getting the following error:

```
D/CCodec: allocate(c2.android.flac.decoder)
I/Codec2Client: Available Codec2 services: ""default"" ""software""
I/Codec2Client: Creating a Codec2 client to service ""default""
I/Codec2Client: Client to Codec2 service ""default"" created
I/CCodec: setting up 'default' as default (vendor) store
I/Codec2Client: Creating a Codec2 client to service ""default""
I/Codec2Client: Client to Codec2 service ""default"" created
E/Codec2Client: createComponent(c2.android.flac.decoder) -- call failed: NOT_FOUND.
I/Codec2Client: Creating a Codec2 client to service ""software""
I/Codec2Client: Client to Codec2 service ""software"" created
I/CCodec: Created component [c2.android.flac.decoder]
D/CCodecConfig: read media type: audio/flac
D/ReflectedParamUpdater: extent() != 1 for single value type: algo.buffers.max-count.values
D/ReflectedParamUpdater: extent() != 1 for single value type: output.subscribed-indices.values
D/ReflectedParamUpdater: extent() != 1 for single value type: input.buffers.allocator-ids.values
D/ReflectedParamUpdater: extent() != 1 for single value type: output.buffers.allocator-ids.values
D/ReflectedParamUpdater: extent() != 1 for single value type: algo.buffers.allocator-ids.values
D/ReflectedParamUpdater: extent() != 1 for single value type: output.buffers.pool-ids.values
D/ReflectedParamUpdater: extent() != 1 for single value type: algo.buffers.pool-ids.values
I/CCodecConfig: query failed after returning 8 values (BAD_INDEX)
D/CCodecConfig: c2 config is Dict {
      c2::u32 coded.bitrate.value = 768000
      c2::u32 input.buffers.max-size.value = 32768
      c2::u32 input.delay.value = 0
      string input.media-type.value = ""audio/flac""
      string output.media-type.value = ""audio/raw""
      c2::u32 raw.channel-count.value = 1
      c2::u32 raw.pcm-encoding.value = 0
      c2::u32 raw.sample-rate.value = 44100
    }
D/CCodecConfig: c2 config is Dict {
      c2::u32 coded.bitrate.value = 768000
      c2::u32 input.buffers.max-size.value = 32768
      c2::u32 input.delay.value = 0
      string input.media-type.value = ""audio/flac""
      string output.media-type.value = ""audio/raw""
      c2::u32 raw.channel-count.value = 2
      c2::u32 raw.pcm-encoding.value = 0
      c2::u32 raw.sample-rate.value = 44100
    }
W/Codec2Client: query -- param skipped: index = 1107298332.
D/CCodec: setup formats input: AMessage(what = 0x00000000) = {
      int32_t channel-count = 2
      int32_t max-input-size = 32768
      string mime = ""audio/flac""
      int32_t pcm-encoding = 2
      int32_t sample-rate = 44100
    } and output: AMessage(what = 0x00000000) = {
      int32_t channel-count = 2
      string mime = ""audio/raw""
      int32_t pcm-encoding = 2
      int32_t sample-rate = 44100
    }
W/Codec2Client: query -- param skipped: index = 1342179345.
W/Codec2Client: query -- param skipped: index = 2415921170.
D/CCodecBufferChannel: [c2.android.flac.decoder#18] Created input block pool with allocatorID 16 => poolID 17 - OK (0)
I/CCodecBufferChannel: [c2.android.flac.decoder#18] Created output block pool with allocatorID 16 => poolID 116 - OK
D/CCodecBufferChannel: [c2.android.flac.decoder#18] Configured output block pool ids 116 => OK
E/ion: ioctl c0044901 failed with code -1: Invalid argument
D/CCodecBufferChannel: [c2.android.flac.decoder#18] work failed to complete: 14
E/MediaCodec: Codec reported err 0xe, actionCode 0, while in state 6
D/CCodecBufferChannel: [c2.android.flac.decoder#18] work failed to complete: 22
E/MediaCodec: Codec reported err 0x16, actionCode 0, while in state 0
E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)
        at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:2789)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1437)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:653)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
        at android.os.Handler.dispatchMessage(Handler.java:103)
        at android.os.Looper.loop(Looper.java:214)
        at android.os.HandlerThread.run(HandlerThread.java:67)
W/System.err: com.google.android.exoplayer2.ExoPlaybackException: java.lang.IllegalStateException
W/System.err:     at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:103)
W/System.err:     at android.os.Looper.loop(Looper.java:214)
W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:67)
W/System.err: Caused by: java.lang.IllegalStateException
E/ExoPlayerImplInternal: Disable failed.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_flush(Native Method)
        at android.media.MediaCodec.flush(MediaCodec.java:2194)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.flushOrReleaseCodec(MediaCodecRenderer.java:702)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onDisabled(MediaCodecRenderer.java:580)
        at com.google.android.exoplayer2.audio.MediaCodecAudioRenderer.onDisabled(MediaCodecAudioRenderer.java:625)
        at com.google.android.exoplayer2.BaseRenderer.disable(BaseRenderer.java:158)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.disableRenderer(ExoPlayerImplInternal.java:1088)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.resetInternal(ExoPlayerImplInternal.java:851)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.stopInternal(ExoPlayerImplInternal.java:813)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:399)
        at android.os.Handler.dispatchMessage(Handler.java:103)
        at android.os.Looper.loop(Looper.java:214)
        at android.os.HandlerThread.run(HandlerThread.java:67)
W/System.err:     at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)
W/System.err:     at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:2789)
W/System.err:     at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1437)
W/System.err:     at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:653)
W/System.err:     at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
W/System.err:     at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
W/System.err: 	... 3 more
E/ExoPlayerImplInternal: Reset failed.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_stop(Native Method)
        at android.media.MediaCodec.stop(MediaCodec.java:2147)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.releaseCodec(MediaCodecRenderer.java:609)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onReset(MediaCodecRenderer.java:587)
        at com.google.android.exoplayer2.audio.MediaCodecAudioRenderer.onReset(MediaCodecAudioRenderer.java:635)
        at com.google.android.exoplayer2.BaseRenderer.reset(BaseRenderer.java:164)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.resetInternal(ExoPlayerImplInternal.java:860)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.stopInternal(ExoPlayerImplInternal.java:813)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:399)
        at android.os.Handler.dispatchMessage(Handler.java:103)
        at android.os.Looper.loop(Looper.java:214)
        at android.os.HandlerThread.run(HandlerThread.java:67)
I/ExoPlayerImpl: Release 5e5c6b5 [ExoPlayerLib/2.10.4] [blueline, Pixel 3, Google, 29] [goog.exo.core, goog.exo.dash, goog.exo.okhttp]
```

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/content_not_playing.md
-->
",https://github.com/google/ExoPlayer/issues/6397#issuecomment-528368818,"@ronak2121 - Do you have any DASH/FLAC test streams that are still available?
@kgrevehagen - We probably need test content. It seems at least possible that your segmentation of FLAC into samples to put inside of the MP4 container is non-spec compliant.

As a general point, you're making life really hard for yourself by using FLAC. Do you really *need* to use it? Doing what nearly everyone else does (i.e. AAC) is definitely the path of least resistance, unless that's a non-started from a product perspective."
google/ExoPlayer,"Searches:
-----------------------

1. [q=MediaCodec.CodecException](https://github.com/google/ExoPlayer/issues?utf8=%E2%9C%93&q=MediaCodec.CodecException) - No result

2. [q=0xffffffe0](https://github.com/google/ExoPlayer/issues?utf8=‚úì&q=0xffffffe0)

Issue #5649 - Not related
Issue #3896 - Stale
Issue #1036 & Issue #978 - Outdated


### [REQUIRED] Issue description

Facing MediaCodec.CodecException.ERROR_RECLAIMED after 2-3 minutes of video playback on DRM protected content

**Exception Log:**
```
E ExoPlayerImplInternal: Internal runtime error.
E ExoPlayerImplInternal: android.media.MediaCodec$CodecException: Error 0xffffffe0
E ExoPlayerImplInternal: 	at android.media.MediaCodec.native_queueSecureInputBuffer(Native Method)
E ExoPlayerImplInternal: 	at android.media.MediaCodec.queueSecureInputBuffer(MediaCodec.java:2608)
E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:1113)
E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:654)
E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
E ExoPlayerImplInternal: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
E ExoPlayerImplInternal: 	at android.os.Handler.dispatchMessage(Handler.java:102)
E ExoPlayerImplInternal: 	at android.os.Looper.loop(Looper.java:224)
E ExoPlayerImplInternal: 	at android.os.HandlerThread.run(HandlerThread.java:65)
I MediaCodec: kWhatStop or kWhatRelease
E EventLogger: playerFailed [209.88, 176.18, window=0, period=0]
E EventLogger: com.google.android.exoplayer2.ExoPlaybackException: android.media.MediaCodec$CodecException: Error 0xffffffe0
E EventLogger: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
E EventLogger: 	at android.os.Handler.dispatchMessage(Handler.java:102)
E EventLogger: 	at android.os.Looper.loop(Looper.java:224)
E EventLogger: 	at android.os.HandlerThread.run(HandlerThread.java:65)
E EventLogger: Caused by: android.media.MediaCodec$CodecException: Error 0xffffffe0
E EventLogger: 	at android.media.MediaCodec.native_queueSecureInputBuffer(Native Method)
E EventLogger: 	at android.media.MediaCodec.queueSecureInputBuffer(MediaCodec.java:2608)
E EventLogger: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:1113)
E EventLogger: 	at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:654)
E EventLogger: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
E EventLogger: 	at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
E EventLogger: 	... 3 more
```
### [REQUIRED] Reproduction steps
1. Build sample demo app from v2.10.4 Exo or [download this apk](https://github.com/sharish/BugReferences/blob/master/ExoplayerIssue_6381/Exo_2.10.4.demo-noExtensions-debug.apk?raw=true)
2. Expand `Widevine DASH Policy Test (GTS)`
3. Open `WV: HDCP not specified`
4. Play the video for a while approx 3 minutes

### [REQUIRED] Link to test content
```json
[
  {
    ""name"": ""Widevine DASH Policy Tests (GTS)"",
    ""samples"": [
      {
        ""name"": ""WV: HDCP not specified"",
        ""uri"": ""https://storage.googleapis.com/wvmedia/cenc/h264/tears/tears.mpd"",
        ""drm_scheme"": ""widevine"",
        ""drm_license_url"": ""https://proxy.uat.widevine.com/proxy?video_id=d286538032258a1c&provider=widevine_test""
      }
    ]
  }
]
```

### [REQUIRED] A full bug report captured from the device
1. [Bug report](https://github.com/sharish/BugReferences/blob/master/ExoplayerIssue_6381/Vivo-bugreport-1951-PKQ1.181030.001-2019-09-04-13-38-07.zip?raw=true)
2. [Logcat logs](https://raw.githubusercontent.com/sharish/BugReferences/master/ExoplayerIssue_6381/vivo_logcat.txt)

### [REQUIRED] Version of ExoPlayer being used
v2.10.4

### [REQUIRED] Device(s) and version(s) of Android being used
Personally reproduced: 
Vivo Z1 Pro - Android 9 - **100% reproducible**
User reports  :
Samsung Galaxy Tab A 8.0 - Android 7.1.1
Samsung SM-J415F - Android 8.1.0
Vivo 1806 - Android 9



<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6381#issuecomment-530306356,"I would expect `ERROR_RECLAIMED` to occur something else requires the same resource and is deemed higher priority by the underlying platform.

* Is it possible that there's an app that's behaving very badly on your Vivo Z1 Pro test device. Does factory resetting the device and installing only your app make the problem go away? Do other apps such as Netflix and Play Movies, both of which also play DRM protected content, work correctly on this device?
* Is it possible that your application is doing something that could be causing this issue?

Note that we've not received any significant volume of this issue from other uses, so it seems most likely to be specific to your device (possibly sporadic across other devices but with a low occurrence rate), or specific to your application."
google/ExoPlayer,"### Issue description
Black flash happens on switching from lower bitrate on 30fps to higher bitrate on 60fps.

### Reproduction steps
1. Start playback with good bandwidth and a playlist with 30fps as lowest bitrate and 60fps highest streams. 
2. Wait for few seconds to switch to highest bitrate.
Result: Black screen during the transition during bitrate switch

Link to test content - **Widevine-DRM-DASH-Live**
mpd file -> https://gist.github.com/juechemparathy/c891e565e89e6f12c4a98ac6e17188a4
Stream url -> emailed to dev.exoplayer@gmail.com
Let me know if you guys need more info.Thanks.

### A full bug report captured from the device

From EventLogger

2019-08-29 17:54:45.535 8958-8958/com.yahoo.mobile.client.android.example.yvideosdkdemo D/EventLogger: decoderInputFormatChanged [11.10, 4.10, window=0, video, id=C, mimeType=video/avc, **bitrate=1069178,** codecs=avc1.4d001e, res=640x360, **fps=30.0]**

2019-08-29 17:54:53.910 8958-8958/com.yahoo.mobile.client.android.example.yvideosdkdemo D/EventLogger: decoderInputFormatChanged [19.47, 11.71, window=0, video, id=G, mimeType=video/avc, **bitrate=5949747,** codecs=avc1.640020, res=1280x720, **fps=60.0]`**

 -------   Black screen appears after above log -------

### Version of ExoPlayer being used
2.9.5

### Device(s) and version(s) of Android being used
S8 

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6362#issuecomment-526697377,@juechemparathy can you provide some test stream? also the stream you are trying is Widevine DRM protected DASH right? Do you observe similar behavior on HLS ? can you confirm on that?
google/ExoPlayer,"### Issue description
Getting a playback error randomly and in very rare occasions. It happens right after our app finishes encoding a new video, and a new ExoPlayer instance is created to play it. There are no problem with the videos themselves, as trying a playback again will not produce any error.

In our flow we encode a video using the MediaCodec API. Then ensure the video is fully saved to file. Release the MediaCodec and MediaMuxer resources. And finally open a new ExoPlayer instance to play it.

The only thing I can think of, and I‚Äôm only guessing, is that maybe there is some type of OS lock when the system is in the process of releasing the MediaCodec used for encoding, making ExoPlayer to fail. Although, besides the fact that I don‚Äôt know how long does the OS take to release the codec resources, I don‚Äôt see why ExoPlayer would need a video codec which was used only for encoding, and not decoding.

### Reproduction steps
To play a video right after has been created/encoded. The problem happens in very rare occasions.

### A full bug report captured from the device

```
019-08-27 15:31:01.807 789-3756/? E/VDEC: [set_parameter] : [5399] Allocate native buffer failed, invalid port index 1
2019-08-27 15:31:01.807 789-3756/? E/OMXNodeInstance: setParameter(0xead79de0:hisi.decoder.avc, OMX.google.android.index.allocateNativeHandle(0x7f000008): Output:1 en=0) ERROR: BadPortIndex(0x8000101b)
2019-08-27 15:31:01.807 789-3756/? E/OMXNodeInstance: getExtensionIndex(0xead79de0:hisi.decoder.avc, OMX.google.android.index.storeMetaDataInBuffers) ERROR: NotImplemented(0x80001006)
2019-08-27 15:31:01.807 25784-27450/com.production.test E/ACodec: [OMX.hisi.video.decoder.avc] setPortMode on output to DynamicANWBuffer failed w/ err -2147483648
2019-08-27 15:31:01.807 789-3756/? E/VDEC: [set_parameter] : [5399] Allocate native buffer failed, invalid port index 1
2019-08-27 15:31:01.807 789-3756/? E/OMXNodeInstance: setParameter(0xead79de0:hisi.decoder.avc, OMX.google.android.index.allocateNativeHandle(0x7f000008): Output:1 en=0) ERROR: BadPortIndex(0x8000101b)
2019-08-27 15:31:01.807 789-3756/? E/OMXNodeInstance: getExtensionIndex(0xead79de0:hisi.decoder.avc, OMX.google.android.index.storeMetaDataInBuffers) ERROR: NotImplemented(0x80001006)
2019-08-27 15:31:01.809 25784-27450/com.production.test E/HwExtendedCodec: mime: video/avc matching compontent failed!
2019-08-27 15:31:01.813 789-3756/? E/OMXNodeInstance: setConfig(0xead79de0:hisi.decoder.avc, ConfigPriority(0x6f800002)) ERROR: BadParameter(0x80001005)
2019-08-27 15:31:01.828 3406-27458/? E/NfcNci:HwCustNfcService: applyRouting -1.1
2019-08-27 15:31:01.904 636-1184/? E/BufferQueueProducer: [SurfaceView - com.production.test/app.application.activities.PlayerVideoActivity$Internal#0] setMaxDequeuedBufferCount: requested buffer count 1 is less than minimum 2
2019-08-27 15:31:01.904 25784-27450/com.production.test E/Surface: IGraphicBufferProducer::setBufferCount(1) returned Invalid argument
2019-08-27 15:31:01.904 25784-27450/com.production.test E/ACodec: native_window_set_buffer_count failed: Invalid argument (22)
2019-08-27 15:31:01.906 25784-27446/com.production.test E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalArgumentException
        at android.media.MediaCodec.native_setSurface(Native Method)
        at android.media.MediaCodec.setOutputSurface(MediaCodec.java:1986)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setOutputSurfaceV23(MediaCodecVideoRenderer.java:1103)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setSurface(MediaCodecVideoRenderer.java:509)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.handleMessage(MediaCodecVideoRenderer.java:475)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.deliverMessage(ExoPlayerImplInternal.java:973)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageToTarget(ExoPlayerImplInternal.java:944)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageInternal(ExoPlayerImplInternal.java:926)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:363)
        at android.os.Handler.dispatchMessage(Handler.java:108)
        at android.os.Looper.loop(Looper.java:216)
        at android.os.HandlerThread.run(HandlerThread.java:65)
2019-08-27 15:31:01.910 789-789/? E/VDEC: [check_port_param] : [5001] set_parameter: invalid buffer count 15, should not be bigger than max count 14
2019-08-27 15:31:01.910 789-789/? E/OMXNodeInstance: setParameter(0xead79de0:hisi.decoder.avc, ParamPortDefinition(0x2000001)) ERROR: Undefined(0x80001001)
2019-08-27 15:31:01.932 787-1260/? E/IppAlgoSmartAE: [b378326_64E] onUnloadLibrary() mSmartAESoState is unloaded ,so we not Uninit it!
2019-08-27 15:31:01.943 25784-25784/com.production.test E/main#1.VideoPlayerModule.onPlayerError: Unexpected video player error.content://media/external/video/media/37281
    com.google.android.exoplayer2.ExoPlaybackException: java.lang.IllegalArgumentException
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
        at android.os.Handler.dispatchMessage(Handler.java:108)
        at android.os.Looper.loop(Looper.java:216)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.IllegalArgumentException
        at android.media.MediaCodec.native_setSurface(Native Method)
        at android.media.MediaCodec.setOutputSurface(MediaCodec.java:1986)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setOutputSurfaceV23(MediaCodecVideoRenderer.java:1103)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setSurface(MediaCodecVideoRenderer.java:509)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.handleMessage(MediaCodecVideoRenderer.java:475)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.deliverMessage(ExoPlayerImplInternal.java:973)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageToTarget(ExoPlayerImplInternal.java:944)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageInternal(ExoPlayerImplInternal.java:926)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:363)
        at android.os.Handler.dispatchMessage(Handler.java:108)¬†
        at android.os.Looper.loop(Looper.java:216)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
```


### Version of ExoPlayer being used
 2.10.4

### Device(s) and version(s) of Android being used
Android PIE. 
Huawei P20Lite

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6346#issuecomment-525633475,"I think you are probably right that this is a problem of using a codec simultaneously. Does this happen on any device or did you observer this only on the device you stated above?

Can you please create a full bug report so we can look into this?"
google/ExoPlayer,"I attach a patch that allows to reproduce the problem using the official demo of exoplayer 2.9.5.

I added a sample HDR content. When playing on Huawei P30 pro, wait 10 seconds so that the surfaceView is added. Only one frame will be displayed then the video playback freezes while audio goes on.

If you try to go back in the previous screen the app may become unresponsive and occasionally crash.

May be related to #6331 ?

[hdrhuawei.patch.zip](https://github.com/google/ExoPlayer/files/3545174/hdrhuawei.patch.zip)
",https://github.com/google/ExoPlayer/issues/6345#issuecomment-525838440,Can you please provide us with a full bug report taken right after the video freezes? With this we can check some more closely.
google/ExoPlayer,"<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/content_not_playing.md
-->

Our application uses two instances of SimpleExoPlayer to support crossfading effect. While one player is playing a track, the other prepares the next so crossfade is available when the first track is finishing. However, we noticed some brief audio interruptions when player one starts to play and player two prepares. This is not a consistent behaviour among all devices, it only happens in certain Huawei and Xiaomi devices; it only happens when playing dash content (MP3 content plays without errors using the same 2-player architecture); and it only happens when the first player is prepared and starts to play while a second instance of ExoPlayer is created and prepared at the same time.

EDIT: The audio interruption also happens during a license download using OfflineLicenseHelper, so I guess this issue is related to DRM session.

EDIT 2: After debugging the application, I noticed that one of the audio interruptions is caused when native MediaDrm.provideKeyResponse is called. I'd like to know if there's an explanation for this and how to avoid it.

We're using ExoPlayer 2.9.1.

This is how we setup each player: 

```
public MediaSource getMediaSource(@NonNull Uri uri) throws MalformedURLException {
	
		DataSource.Factory dataSourceFactory = DataSourceUtil.buildCacheDataSourceFactory(mContext);

		DashMediaSource.Factory dashFactory = new DashMediaSource.Factory(dataSourceFactory);
		if (serializedDownloadAction != null) {
			InputStream inputStream = new ByteArrayInputStream(serializedDownloadAction);
			try {
				DownloadAction downloadAction = DownloadAction.deserializeFromStream(DownloadAction.getDefaultDeserializers(), inputStream);
				dashFactory.setManifestParser(new FilteringManifestParser<>(new DashManifestParser(), downloadAction.getKeys()));
			} catch (IOException e) {
				GeneralLog.e(e);
			}
		}
		return dashFactory.createMediaSource(uri);
	}
```

```
private void getPlayer(String url, Boolean playWhenReady) {
		release();
		Utils.trustEveryone();
		TrackSelection.Factory trackSelection = new AdaptiveTrackSelection.Factory();
		DefaultTrackSelector trackSelector = new DefaultTrackSelector(trackSelection);
		try {
			exoPlayer = ExoPlayerFactory.newSimpleInstance(mContext, getRender(url), trackSelector, buildDrmSessionManager(url));
			exoPlayer.addListener(listener);
			exoPlayer.setVolume(volume);
			exoPlayer.setPlayWhenReady(playWhenReady);
			exoPlayer.prepare(getMediaSource(url));
		} catch (Exception e) {
			GeneralLog.e(e);
			onError(e);
		}
	}
```

And this is a recording where the audio interruptions are noticeable: 

[Evidence](https://i0001.clarodrive.com/s/X9QXsKf5Cydy267)
",https://github.com/google/ExoPlayer/issues/6344#issuecomment-525642932,"Can you please do a bug report right after the interruptions? This is kind of hard to reproduce on our side so any information we can get is useful. The bugreport may help us.

I think your thoughts around DRM license make sense. Can you confirm that this does not happen with MP3 because there is no DRM involved? Also, do you have the chance to get the dash stream without DRM so you can test whether this does happen with DASH without DRM?"
google/ExoPlayer,"### [REQUIRED] Issue description
Video is getting worse (not smooth) after about 15 minutes of playback on Nvidia Shield.

### [REQUIRED] Reproduction steps
1. Open the provided stream in the demo app on Nvidia Shield
2. Wait about 15 minutes
3. Video becomes not smooth, with dropped frames

### [REQUIRED] Link to test content
Provided by email

### [REQUIRED] A full bug report captured from the device
-

### [REQUIRED] Version of ExoPlayer being used
2.10.4

### [REQUIRED] Device(s) and version(s) of Android being used
Nvidia Shield, Android 9

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6343#issuecomment-535034857,"I tested this out with two different nvidia boxes. The movie run through two hours.

@alexey-rabets I know it's a while. Your stream your sent gives me a 404 probably because it's expired.

@kaazvaag What app are you referring to re: football matches? Is this an app I can install and test with?"
google/ExoPlayer,"### Issue description
In our app we do not use a player controller and disable it this way: 
```
view.setUseController(false)
```
However, the touch event is consumed by the view.

### Reproduction steps
I'm not allowed to share the app code.
Please see the code snippet `com.google.android.exoplayer2.ui.PlayerView` (ExoPlayer ver. 2.10.2) below that demonstrate the touches are consumed by the view in any cases:
```
  @Override
  public boolean onTouchEvent(MotionEvent event) {
    switch (event.getAction()) {
      case MotionEvent.ACTION_DOWN:
        isTouching = true;
        return true;
      case MotionEvent.ACTION_UP:
        if (isTouching) {
          isTouching = false;
          performClick();
          return true;
        }
        return false;
      default:
        return false;
    }
  }
``` 

### Link to test content
The issue is reproduced with any test assets.

### A full bug report captured from the device
A bug report has been sent by email.

### Version of ExoPlayer being used
The current ver is 2.10.2.
The issue is not seen with ExoPlayer 2.9.3.

### Device(s) and version(s) of Android being used
- Pixel 2 XL + Android 9 (test device)

The issue is reproduced on any Android devices.

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6340#issuecomment-525203077,"Can you please trying to reproduce with the most recent version of the release-v2 branch? It appears to me that this has been fixed already in [PlayerView](https://github.com/google/ExoPlayer/blob/release-v2/library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java#L1056):

```
public boolean onTouchEvent(MotionEvent event) {
    if (!useController || player == null) {
      return false;
    }
    switch (event.getAction()) {
       // ...
```

Please let us know whether this solves your problem or we need to take a look."
google/ExoPlayer,"We have 2 dash DRM streams with audio tracks.
As far as we know the default language that should be picked in dash is the first audio adaptation set.
In the following streams 1,2 we can see that the dash has Hindi as the first language in manifest
But in the first we can see in Charles that the Language that is playing in the demo app  is Hindi and in the second the language that is playing is Telugu by default.
Could you please explain when the first audio is selected and when other one is selected in dash please?

We have sent an email on dev.exoplayer@gmail.com by Subject Name:  ""Dash Audio track selection inconsistent"".

We can see the same in 'release-v2' version.

-Thanks

",https://github.com/google/ExoPlayer/issues/6335#issuecomment-524240165,"Thanks for filing the issue. As already indicated in the answer to your email, this may be related to your phone's system language setting. If it's set to Telugu, then this will be preferred independent of the order in the manifest. Can you verify if that's the case here?"
google/ExoPlayer,"### Use case description
When playing videos files with SSA/ASS subtitle tracks, styled subtitles are mashed together with conversation. For example, many animated Japanese television shows have subtitles that float on screen to translate things that aren't part of speech. In ExoPlayer, this results in the subtitles flipping back and forth between conversation and the translated symbols. This leads to neither being on screen long enough to be read.

### Proposed solution
Integrate [libass](https://github.com/libass/libass) as a supported subtitle renderer

### Alternatives considered
The only alternative would be rolling a new renderer from scratch for ExoPlayer. All major media players are currently using this library. I did look through other issues on this project about SSA/ASS subtitles, but none of them lead to a request for integrating this library as a solution.

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/feature_request.md
-->
",https://github.com/google/ExoPlayer/issues/6320#issuecomment-523088433,"I had a quick look at the library and from what I see it produces overlay images including the subtitles. Is that correct? I'm afraid that's not that easy to support in ExoPlayer, because you'd need some form of special renderer that draws the overlay. See #5860 for details around writing such a renderer. It would also require an extra surface and at least some extra layer in the UI module to actually draw the overlay. 

Depending on how it looks like, we could probably accept pull requests for an extension that integrates this library and provides the necessary integration layers. But we should definitely keep the basic text-only subtitle extraction for SSA/ASS we currently have. The problem you are describing sounds more like a bug in our implementation and it would be great if you can provide example media and some guidance on the expected result, so that we can fix our support for the text-only version."
google/ExoPlayer,"I've managed to use SimpleExoPlayer to play HLS streams successfully and implemented a working way of selecting different playback speeds (1.25x, 1.5x, etc) by setting PlaybackParameters on the player. But in sometime, the sound scratch like a noise.
It's work fine with version r-2.8.3",https://github.com/google/ExoPlayer/issues/6307#issuecomment-522486698,"Thanks for reporting. Could you please provide all the information requested in the [issue template](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md)? Specifically, it would be very helpful to have an example stream and the device you tested on so that it's more likely that we can reproduce the issue."
google/ExoPlayer,"### [REQUIRED] Issue description
For SMPTE-TT subtitles subtitles are getting displayed but from the two lines which are displayed the second line at the bottom is half visible.

### [REQUIRED] Reproduction steps
It can be easily reproducible with 2.10.3  version of Exoplayer in demo app.

### [REQUIRED] Link to test content

### [REQUIRED] A full bug report captured from the device

### [REQUIRED] Version of ExoPlayer being used
2.10.3 

### [REQUIRED] Device(s) and version(s) of Android being used
**Tested on SAMSUNG LED TV, Model No: LT24E310AR/XL / 2018, Screen size: 60 cm. Attached the image which contains the device details on which this is tested and issue is happened and android version of the setup box is 7.1.1.** 

**This issue is not seen in other model of SAMSUNG TV - 'SAMSUNG Screensize:80cm Model No:UA32M5570AULXL / 2018**

**This issue is not seen in Android 1ft device - Samsung galaxy S8.**


<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6243#issuecomment-516805217,"When I add the subtitle file you attached to a video nothing is displayed. When I copy the base64 pdf in the file and convert to PNG I get a 1080x1920 bitmap which is blank (all pixel transparent). That's also what I see what is retrieved and rendered by the `SubtitleView`.

May I ask you to look into the file you attached here and check whether that's what you expect?

Another thought is that the positioning of the text within the bitmap can't really be adjusted by the SubtitleView. The bitmap is 1080x1920. The subtitle view may need to scale accordingly but the position of the text within that bitmap is probably fixed. The screenshot you attached shows that the text is centered properly so it does not appear to be a scaling issue. I wonder how the overscan of that TV is an issue and the positioning needs to be adjusted in the bitmap for TVs?

Can you please check the subtitle file to see if it contains what you expect?"
google/ExoPlayer,"Hi,

I keep getting this error when trying to prepare the SilcenceMediaSource in the player, it simply fails to play.

```
2019-07-26 12:03:45.884 4663-5805/com.yiqqi.android.yiqqi.development E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IndexOutOfBoundsException: off=0, len=-741232 out of bounds (size=4096)
        at java.nio.Buffer.checkBounds(Buffer.java:587)
        at java.nio.DirectByteBuffer.put(DirectByteBuffer.java:285)
        at com.google.android.exoplayer2.source.SilenceMediaSource$SilenceSampleStream.readData(SilenceMediaSource.java:219)
        at com.google.android.exoplayer2.BaseRenderer.readSource(BaseRenderer.java:308)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:1024)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:654)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:575)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:326)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:214)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```

This class was created under our request and we deeply appreciate it, but it seems to have this error which makes it unusable, could you please look into it? Thank you.",https://github.com/google/ExoPlayer/issues/6229#issuecomment-515404019,Could you provide some more information on how to reproduce this error? Does it occur after seeking? I just tried playing a concatenation of some media with a `SilenceMediaSource` in the demo app and it worked as expected.
google/ExoPlayer,"
### [REQUIRED] Issue description
When we try to play video in loop, sometimes we face this issue where video playback fails and throws **com.google.android.exoplayer2.upstream.Loader$UnexpectedLoaderException: Unexpected IllegalArgumentException**

### [REQUIRED] Reproduction steps
Just add one video and play it in loop for few hours say 3-4 hours. This issue can occur randomly any time.

### [REQUIRED] Link to test content
Please find the link below:
https://drive.google.com/file/d/1-3LcpETTELeo6oqU-7LPB54tHJ_eRqHk/view?usp=sharing

### [REQUIRED] A full bug report captured from the device
    VideoPlayerFragment - [2019-07-21 11:17:36.129] updateVideo --->VideoPlayerFragment{25d2898 #0 id=0x32 com.panasonic.android_app.fragments.VideoPlayerFragment}
	Line 2305: 2019.07.21 11:11:45.181 DEBUG [main] com.panasonic.android_app.fragments.VideoPlayerFragment - [2019-07-21 11:17:36.140] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 1 VideoPlayerFragment{25d2898 #0 id=0x32 com.panasonic.android_app.fragments.VideoPlayerFragment}
	Line 2305: 2019.07.21 11:11:45.181 DEBUG [main] com.panasonic.android_app.fragments.VideoPlayerFragment - [2019-07-21 11:17:36.140] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 1 VideoPlayerFragment{25d2898 #0 id=0x32 com.panasonic.android_app.fragments.VideoPlayerFragment}
	Line 2305: 2019.07.21 11:11:45.181 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.140] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 1 VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2308: 2019.07.21 11:11:45.192 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.151] startPlayer uri from filePath : /storage/emulated/0/Android/data/video/files/Download/63.mp4
	Line 2313: 2019.07.21 11:11:45.205 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.164] logContentPlayBackModel
	Line 2323: 2019.07.21 11:11:45.234 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.194] startPlayer displayMode : STRETCH-TO-FIT
	Line 2326: 2019.07.21 11:11:45.296 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.255] initializeExoPlayer Video
	Line 2329: 2019.07.21 11:11:45.325 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.284] initializeExoPlayer Video same video player is being used mPlayer :com.google.android.exoplayer2.SimpleExoPlayer@7a3e09f
	Line 2331: 2019.07.21 11:11:45.337 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.293] playVideoByExoplayer uri : storage/emulated/0/files/Download/63.mp4
	Line 2333: 2019.07.21 11:11:45.352 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.311] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2333: 2019.07.21 11:11:45.352 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.311] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2333: 2019.07.21 11:11:45.352 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.311] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2335: 2019.07.21 11:11:45.356 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.315] buildMediaSource uri : storage/emulated/0/files/Download/63.mp4
	Line 2337: 2019.07.21 11:11:45.360 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.320] buildMediaSource TYPE_OTHER
	Line 2339: 2019.07.21 11:11:45.364 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.324] buildDataSourceFactory build DataSourceFactory
	Line 2340: 2019.07.21 11:11:45.366 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.326] buildDataSourceFactory encryption type: null
	Line 2341: 2019.07.21 11:11:45.368 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.327] buildDataSourceFactory returned already created data source factory
	Line 2342: 2019.07.21 11:11:45.370 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.329] stopPlayer isReset : false mExoPlayer : com.google.android.exoplayer2.SimpleExoPlayer@7a3e09f
	Line 2343: 2019.07.21 11:11:45.372 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.332] startPlayer uri from filePath : /storage/emulated/0/Android/data/panasonic.digital.signage.pionpremises2/files/Download/63.mp4
	Line 2344: 2019.07.21 11:11:45.374 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.334] logContentPlayBackModel
	Line 2349: 2019.07.21 11:11:45.384 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.343] startPlayer displayMode : STRETCH-TO-FIT
	Line 2351: 2019.07.21 11:11:45.388 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.348] initializeExoPlayer Video
	Line 2353: 2019.07.21 11:11:45.393 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.352] initializeExoPlayer Video same video player is being used mPlayer :com.google.android.exoplayer2.SimpleExoPlayer@7a3e09f
	Line 2355: 2019.07.21 11:11:45.397 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.357] playVideoByExoplayer uri : storage/emulated/0/files/Download/63.mp4
	Line 2357: 2019.07.21 11:11:45.401 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.360] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2357: 2019.07.21 11:11:45.401 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.360] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2357: 2019.07.21 11:11:45.401 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.360] muteUnMuteExoplayer VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment} isMute :true
	Line 2358: 2019.07.21 11:11:45.403 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.363] buildMediaSource uri : storage/emulated/0/files/Download/63.mp4
	Line 2360: 2019.07.21 11:11:45.407 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.367] buildMediaSource TYPE_OTHER
	Line 2361: 2019.07.21 11:11:45.409 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.369] buildDataSourceFactory build DataSourceFactory
	Line 2362: 2019.07.21 11:11:45.411 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.371] buildDataSourceFactory encryption type: null
	Line 2363: 2019.07.21 11:11:45.414 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.373] buildDataSourceFactory returned already created data source factory
	Line 2365: 2019.07.21 11:11:45.419 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.378] PlayerEventListener onTracksChanged VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2365: 2019.07.21 11:11:45.419 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.378] PlayerEventListener onTracksChanged VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2365: 2019.07.21 11:11:45.419 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.378] PlayerEventListener onTracksChanged VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2367: 2019.07.21 11:11:45.464 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.423] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 2 VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2367: 2019.07.21 11:11:45.464 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.423] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 2 VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2367: 2019.07.21 11:11:45.464 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.423] PlayerEventListener onPlayerStateChanged playWhenReady : true playbackState : 2 VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2368: 2019.07.21 11:11:45.468 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.427] playVideoByExoplayer player is prepared
	Line 2369: 2019.07.21 11:11:45.478 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.437] playVideoByExoplayer player is prepared
	Line 2370: 2019.07.21 11:11:45.492 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.450] PlayerMediaSourceEventListener onMediaPeriodCreated VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2370: 2019.07.21 11:11:45.492 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.450] PlayerMediaSourceEventListener onMediaPeriodCreated VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2370: 2019.07.21 11:11:45.492 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.450] PlayerMediaSourceEventListener onMediaPeriodCreated VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2371: 2019.07.21 11:11:45.563 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.522] PlayerMediaSourceEventListener onLoadStarted VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2371: 2019.07.21 11:11:45.563 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.522] PlayerMediaSourceEventListener onLoadStarted VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2371: 2019.07.21 11:11:45.563 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.522] PlayerMediaSourceEventListener onLoadStarted VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2372: 2019.07.21 11:11:45.624 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.583] logContentPlayBackModel
	Line 2377: 2019.07.21 11:11:45.643 ERROR [main] VideoFragment - [2019-07-21 11:17:36.602] PlayerMediaSourceEventListener onLoadError e : com.google.android.exoplayer2.upstream.Loader$UnexpectedLoaderException: Unexpected IllegalArgumentException: null
	Line 2393:  VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2393:  VideoPlayerFragment{25d2898 #0 id=0x32 VideoFragment}
	Line 2400: 2019.07.21 11:11:45.836 DEBUG [main] VideoFragment - [2019-07-21 11:17:36.796] releasePlayer mExoPlayer : com.google.android.exoplayer2.SimpleExoPlayer@7a3e09f

### [REQUIRED] Version of ExoPlayer being used
2.9.4

### [REQUIRED] Device(s) and version(s) of Android being used
OS: Android marshmellow 6.0
Device: Rockchip Quad 162

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6228#issuecomment-515406201,"This is not sufficient logging for us to tell you (or us!) what's going wrong:

```
Line 2377: 2019.07.21 11:11:45.643 ERROR [main] VideoFragment - [2019-07-21 11:17:36.602] PlayerMediaSourceEventListener onLoadError e : com.google.android.exoplayer2.upstream.Loader$UnexpectedLoaderException: Unexpected IllegalArgumentException: null
```

You're going to need to add some more logging, for example to output the full stack trace that shows where the error actually occurs. If you were to use the `EventLogger` provided by the library, then I'd expect the stack trace to be logged, similar to this logging for an error that I caused artificially in code:

```
07-26 11:44:59.731 24431 24431 E EventLogger: internalError [0.67, 0.00, window=0, period=0, loadError]
07-26 11:44:59.731 24431 24431 E EventLogger: com.google.android.exoplayer2.upstream.Loader$UnexpectedLoaderException: Unexpected IllegalArgumentException: Oops
07-26 11:44:59.731 24431 24431 E EventLogger: 	at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:403)
07-26 11:44:59.731 24431 24431 E EventLogger: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
07-26 11:44:59.731 24431 24431 E EventLogger: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
07-26 11:44:59.731 24431 24431 E EventLogger: 	at java.lang.Thread.run(Thread.java:764)
07-26 11:44:59.731 24431 24431 E EventLogger: Caused by: java.lang.IllegalArgumentException: Oops
07-26 11:44:59.731 24431 24431 E EventLogger: 	at com.google.android.exoplayer2.extractor.mp4.FragmentedMp4Extractor.read(FragmentedMp4Extractor.java:330)
07-26 11:44:59.731 24431 24431 E EventLogger: 	at com.google.android.exoplayer2.source.chunk.InitializationChunk.load(InitializationChunk.java:89)
07-26 11:44:59.731 24431 24431 E EventLogger: 	at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)
07-26 11:44:59.731 24431 24431 E EventLogger: 	... 3 more
```

Please update this issue when you have further logging that more accurately pinpoints the problem."
google/ExoPlayer,"### Issue description
I'm trying to get AudioFocus behavior: duck (lower volume) on notifications and pause on incoming call (and play after call end). When i look at the code https://github.com/google/ExoPlayer/blob/release-v2/library/core/src/main/java/com/google/android/exoplayer2/audio/AudioFocusManager.java#L419 default ExoPlayer implementation should be working like this (or maybe i don't understand it well). But unfortunetely - on incoming call volume is down to 0, but playback doesn't stop.

Interestingly enough. `CONTENT_TYPE_SPEECH` is not working either. Playback isn't stopped on both - notifications and incoming call.

### Reproduction steps
I set audio attributes like this
```kotlin
setAudioAttributes(AudioAttributes.Builder()
    .setContentType(C.CONTENT_TYPE_MUSIC)
    .setUsage(C.USAGE_MEDIA)
    .build(), true)
```

In logs i can see that `AUDIOFOCUS_LOSS_TRANSIENT` was dispatched. It seems like `PLAYER_COMMAND_WAIT_FOR_CALLBACK` wasn't handled properly.
```
D/AudioManager: dispatching onAudioFocusChange(-2) to android.media.AudioManager@1420c8com.google.android.exoplayer2.audio.AudioFocusManager$AudioFocusListener@d3f1561
D/AudioManager: dispatching onAudioFocusChange(1) to android.media.AudioManager@1420c8com.google.android.exoplayer2.audio.AudioFocusManager$AudioFocusListener@d3f1561
```

EDIT: when i digged deeper i found that on `SimpleExoPlayer` `ComponentListener` to `PlayerCommand` is ignoring `PLAYER_COMMAND_WAIT_FOR_CALLBACK` completely
```java
private void updatePlayWhenReady(
      boolean playWhenReady, @AudioFocusManager.PlayerCommand int playerCommand) {
    player.setPlayWhenReady(
        playWhenReady && playerCommand != AudioFocusManager.PLAYER_COMMAND_DO_NOT_PLAY,
        playerCommand != AudioFocusManager.PLAYER_COMMAND_PLAY_WHEN_READY);
  }
```

### Version of ExoPlayer being used
2.10.3

### Device(s) and version(s) of Android being used
Samsung Galaxy S7 Edge, Android 8.0; Huawei Mate 20 lite, Android 8.1; Samsung Galaxy A7 (2018), Android 9

Also emulators of Pixel 2 devices using Android 8, 9 and Q (9+)

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6203#issuecomment-515143722,I think the `updatePlayWhenReady` code does identify `PLAYER_COMMAND_WAIT_FOR_CALLBACK` (it's different to the other two possible constants). Could you add some logging in that method to check what parameters are passed to `setPlayWhenReady` when audio focus is lost transiently and gained again?
google/ExoPlayer,"i am trying  to add Downloading media inside recycle view, can you please send me guide for that.

",https://github.com/google/ExoPlayer/issues/6198#issuecomment-512751503,Have you referred to the developer documentation and sample usage in demo application?  [https://exoplayer.dev/downloading-media.html](https://exoplayer.dev/downloading-media.html)
google/ExoPlayer,"hello  
### [REQUIRED] Issue description
Then RK3288 chip board play 3300*1856 resolution video video play normal, but after the end
Palybackstate is still ready„ÄÇ The same program and video to vivo mobile phone running everything is normal
### [REQUIRED] Reproduction steps
The official demo used, video cannot be uploaded temporarily due to company reasons

### [REQUIRED] Device(s) and version(s) of Android being used
Android  rk3288  SDK 7.1 
exoplayer:2.9.6",https://github.com/google/ExoPlayer/issues/6184#issuecomment-511359322,"The problem can probably be solved by having `MediaCodecRenderer.codecNeedsEosPropagationWorkaround` return true for the video decoder on the affected device. We already have this workaround return true for `OMX.rk.video_decoder.avc`. I'm guessing the version of Rockchip device you're using has a similar issue, but that the decoder has a different name.

Please could you find out what the name of the video decoder is. You should see it in the logs shortly after starting a playback. And please could you also confirm that enabling `codecNeedsEosPropagationWorkaround` for that decoder fixes the issue? Thanks!"
google/ExoPlayer,"I am using the latest version 2.10.2. But we encountered a new bug that only occurred in Android 8.0 and 8.1. 
I never found this stackoverflow using exoplayer 2.9.6.

![1562825302126](https://user-images.githubusercontent.com/16443498/61026218-5dea8680-a3e5-11e9-8e9b-d061dc5a1b51.jpg)
![1562825401994](https://user-images.githubusercontent.com/16443498/61026337-9f7b3180-a3e5-11e9-825e-c3a4a2b8e5e6.jpg)

",https://github.com/google/ExoPlayer/issues/6165#issuecomment-510588322,"Can you please provide something more complete than a heavily clipped screenshot? That doesn't look like a stack overflow to me. It looks like some number of recursive calls to `read`, which exit fine into `RandomAccessFile`."
google/ExoPlayer,"### [REQUIRED] Issue description
Calling `seekTo` when playing from an HLS playlist does not always seek to the exact location. After calling `seekTo`, playback appears to begin at the beginning of the playlist chunk containing the requested location. From the docs, it appears that exact seeking should be supported.

### [REQUIRED] Reproduction steps
1. Load the playlist into the sample player
1. Seek from the beginning to (e.g.) `270757ms` (I accomplished this by hardcoding the seek location into `PlayerControlView.seekToTimeBarPosition`)
1. Playback resumes at approximately `240047ms`
1. Once the playhead is within the current chunk, seeking to that location behaves as expected.

### [REQUIRED] Link to test content
Sample playlist has been sent to the dev.exoplayer email.

### [REQUIRED] A full bug report captured from the device
Bug report has been sent with the sample playlist.

### [REQUIRED] Version of ExoPlayer being used
I have reproduced this on 2.9.4 and 2.10

### [REQUIRED] Device(s) and version(s) of Android being used
I am currently using a Pixel 3 running Android 9. We've had a couple instances of it happening on a Pixel 1 running 9 as well, but less frequently. I've been thus far unable to reproduce it on an emulator.

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6155#issuecomment-510193216,I cannot reproduce this. What are you looking at to determine (3)?
google/ExoPlayer,"### [REQUIRED] Issue description
When I try to run ExoPlayer library core test cases keep failing

### [REQUIRED] Reproduction steps
When try to Run `DownloadHelperTest.java` is keep failing 

### [REQUIRED] Link to test content
N/A

### [REQUIRED] A full bug report captured from the device
```
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterReplaceTrackSelections_returnsNewSelections: sdk=28; resources=BINARY
Exception in thread ""DownloadHelper"" java.lang.NullPointerException
	at com.google.android.exoplayer2.offline.DownloadHelper$MediaPreparer.onSourceInfoRefreshed(DownloadHelper.java:918)
	at com.google.android.exoplayer2.source.BaseMediaSource.refreshSourceInfo(BaseMediaSource.java:74)
	at com.google.android.exoplayer2.testutil.FakeMediaSource.finishSourcePreparation(FakeMediaSource.java:215)
	at com.google.android.exoplayer2.testutil.FakeMediaSource.prepareSourceInternal(FakeMediaSource.java:105)
	at com.google.android.exoplayer2.source.BaseMediaSource.prepareSource(BaseMediaSource.java:140)
	at com.google.android.exoplayer2.offline.DownloadHelper$MediaPreparer.handleMessage(DownloadHelper.java:858)
	at android.os.Handler.dispatchMessage(Handler.java:102)
	at com.google.android.exoplayer2.testutil.RobolectricUtil$CustomLooper.doLoop(RobolectricUtil.java:129)
	at com.google.android.exoplayer2.testutil.RobolectricUtil$CustomLooper.loop(RobolectricUtil.java:67)
	at android.os.Looper.loop(Looper.java)
	at android.os.HandlerThread.run(HandlerThread.java:65)
```

### [REQUIRED] Version of ExoPlayer being used
### 2.10.2 ###

### [REQUIRED] Device(s) and version(s) of Android being used
N/A

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6146#issuecomment-509538647,"It passes for me. We also run these tests on every commit and as part of our release process. Could you share a bit more detail about how you're able to reproduce this?

Also, it looks impossible to me that [this line would throw a NPE](https://github.com/google/ExoPlayer/blob/r2.10.2/library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java#L918). I think that would mean `mediaPeriods` is null, but it's assigned right above. Can you see any way that a NPE can happen?

```
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterAddAudioLanguagesToSelection_returnsCombinedSelections: sdk=28; resources=BINARY
Called loadFromPath(/system/framework/framework-res.apk, true); mode=binary sdk=28
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterReplaceTrackSelections_returnsNewSelections: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackGroups_returnsTrackGroups: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getMappedTrackInfo_returnsMappedTrackInfo: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getDownloadRequest_createsDownloadRequest_withAllSelectedTracks: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterAddTrackSelections_returnsCombinedSelections: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterClearTrackSelections_isEmpty: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getPeriodCount_returnsPeriodCount: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getManifest_returnsManifest: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_returnsInitialSelection: sdk=28; resources=BINARY
[Robolectric] com.google.android.exoplayer2.offline.DownloadHelperTest.getTrackSelections_afterAddTextLanguagesToSelection_returnsCombinedSelections: sdk=28; resources=BINARY

Process finished with exit code 0
```"
google/ExoPlayer,"### [REQUIRED] Issue description
ExoPlayer demo app displays ""Unknown"" audio track when using chunkless preparation.

### [REQUIRED] Reproduction steps
1. Open the provided test stream in ExoPlayer demo app
2. Select tracks -> Audio -> Audio track is displayed with correct language and type (""stereo"")
3. Add `setAllowChunklessPreparation(true)` to `buildMediaSource` method for `HlsMediaSource`
4. Open the stream
5. Select tracks -> Audio -> Audio track is displayed as ""Unknown""

### [REQUIRED] Link to test content
Provided by email.

### [REQUIRED] A full bug report captured from the device
N/A

### [REQUIRED] Version of ExoPlayer being used
2.10.2

### [REQUIRED] Device(s) and version(s) of Android being used
Google Pixel 2 XL, Android 9

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6116#issuecomment-561112884,"Hi, sorry for the delay on this. Could you check the stream? It's timing out for me."
google/ExoPlayer,"### [REQUIRED] Searched documentation and issues
There was no mention of why click handling is being overridden by the `PlayerView` via `onTouchEvent`

### [REQUIRED] Question
We recently upgraded from exoplayer **2.8** to **2.10.2** and noticed not all of our Views hosting an exoplayer were clickable. Looking at the source shows that in **2.10.2** PlayerView consumes all touch events upon it's surface:
```
  @Override
  public boolean onTouchEvent(MotionEvent event) {
    switch (event.getAction()) {
      case MotionEvent.ACTION_DOWN:
        isTouching = true;
        return true;
      case MotionEvent.ACTION_UP:
        if (isTouching) {
          isTouching = false;
          performClick();
          return true;
        }
        return false;
      default:
        return false;
    }
  }
```
Whereas in **2.8** it would still allow touch/click events to be propagated to it's parent container unless the controller was present:
```
  @Override
  public boolean onTouchEvent(MotionEvent ev) {
    if (!useController || player == null || ev.getActionMasked() != MotionEvent.ACTION_DOWN) {
      return false;
    }
    if (!controller.isVisible()) {
      maybeShowController(true);
    } else if (controllerHideOnTouch) {
      controller.hide();
    }
    return true;
  }
```
Is this intended behavior? It seems like a bug since it prevents any parent view from performing a click event if the tapped surface is within a PlayerView's bounds.
### A full bug report captured from the device
n/a

### Link to test content
n/a
<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/question.md
-->
",https://github.com/google/ExoPlayer/issues/6109#issuecomment-507034612,"Looking at the change which introduced this, makes me think that we changed to the standard Android behaviour. The touch event is delegated to performClick which triggers OnClickListeners of the given view.

Can you check whether we also consume the click to which `performClick()` delegate the touch event? "
google/ExoPlayer,"We are receiving a bug, where Exoplayer does not load our MP4 files in the ViewPager after 5th attempt(it is predictable and occurs always). Here is crash log from ExoPlayer:

```
2019-06-28 14:11:03.758 30021-31428/com.idenfy.app.new E/ExoPlayerImplInternal: Playback error.
    com.google.android.exoplayer2.ExoPlaybackException
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.throwDecoderInitError(MediaCodecRenderer.java:450)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:437)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:929)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:506)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:566)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.qcom.video.decoder.avc, Format(1, null, video/avc, -1, null, [500, 500, -1.0], [-1, -1])
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:437)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:929)¬†
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:506)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:566)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)¬†
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)¬†
```",https://github.com/google/ExoPlayer/issues/6107#issuecomment-507032302,"How many ExoPlayer instances are hold by the view pager code after the 5th attempt? 

Background of that queston is that, the app code needs to make sure that you don't have more ExoPlayer instances than instances of media codecs a device provides. 

Can you please take a [bug report](https://developer.android.com/studio/debug/bug-report) right after the crash and upload it? You can also send it to dev.exoplayer@gmail.com if you don't want to upload here in public.

You can also look into the logs yoursefl and watch out for [the log statements indicating initialization and release of instances](https://exoplayer.dev/listening-to-player-events.html#player-information).  There are statements similar to these:

```
ExoPlayerImpl: Init 2e5194c [ExoPlayerLib/2.9.6] [marlin, Pixel XL, Google, 26]
...
ExoPlayerImpl: Release 2cd6e65 [ExoPlayerLib/2.9.6] [marlin, Pixel XL, Google, 26] [goog.exo.core, goog.exo.ui, goog.exo.dash]
```

If you find 5 init statements not resolved by a release statement, I'd interpret that that your device is running out of mp4 decoders which produces the exception you are reporting. It happens when no more codecs can be instantiated because all codecs in use."
google/ExoPlayer,"### [REQUIRED] Issue description
Using the mediasession extension, the play doesnt works if the player is in READY state.

### [REQUIRED] Reproduction steps
Prepare the player, and call TransportControls.play()
nothing is happening because the MediaSessionCompat.Callback.play() does nothing when the player is in READY state.
Same goes if you pause() a playing player. Pausing the player works, but it's impossible to resume it.

### [REQUIRED] Link to test content
any content will do

### [REQUIRED] A full bug report captured from the device
no crash

### [REQUIRED] Version of ExoPlayer being used
2.10.2

### [REQUIRED] Device(s) and version(s) of Android being used
any device / emulator

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/6093#issuecomment-507755092,"@marcbaechinger , is it possible to just match the logic in [PlayerControlView#1232](https://github.com/google/ExoPlayer/blob/release-v2/library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java#L1232)? Or maybe, just call `controlDispatcher.dispatchSetPlayWhenReady(player, true)` if the current player's state is `Player.STATE_READY`?"
google/ExoPlayer,"**Issue:** Playback fails when we try to select all the tracks available in an audio group.

**Media:** https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8 

**Crash Log:**

```
2019-05-30 14:15:49.249 12743-12743/com.google.android.exoplayer2.demo E/EventLogger: playerFailed [14.12, 16.62, window=0, period=0]
    com.google.android.exoplayer2.ExoPlaybackException: java.lang.ArrayIndexOutOfBoundsException: length=4; index=4
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:397)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=4; index=4
        at com.google.android.exoplayer2.trackselection.AdaptiveTrackSelection.setCheckpointValues(AdaptiveTrackSelection.java:810)
        at com.google.android.exoplayer2.trackselection.AdaptiveTrackSelection.getAllocationCheckpoints(AdaptiveTrackSelection.java:745)
        at com.google.android.exoplayer2.trackselection.AdaptiveTrackSelection.access$000(AdaptiveTrackSelection.java:37)
        at com.google.android.exoplayer2.trackselection.AdaptiveTrackSelection$Factory.createTrackSelections(AdaptiveTrackSelection.java:275)
        at com.google.android.exoplayer2.trackselection.DefaultTrackSelector.selectTracks(DefaultTrackSelector.java:1451)
        at com.google.android.exoplayer2.trackselection.MappingTrackSelector.selectTracks(MappingTrackSelector.java:400)
        at com.google.android.exoplayer2.MediaPeriodHolder.selectTracks(MediaPeriodHolder.java:209)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.reselectTracksInternal(ExoPlayerImplInternal.java:1100)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:357)
        at android.os.Handler.dispatchMessage(Handler.java:102)¬†
        at android.os.Looper.loop(Looper.java:193)¬†
        at android.os.HandlerThread.run(HandlerThread.java:65)
```

**My Assumption:** I am assuming that when I select all the tracks available from an audio group it will behave like adaptive (track Index = -1).

**Question:**
If I check the stream it has the following audio track group,

```
#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=""stereo"",LANGUAGE=""en"",NAME=""English"",DEFAULT=YES,AUTOSELECT=YES,URI=""audio/stereo/en/128kbit.m3u8""
#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=""stereo"",LANGUAGE=""dubbing"",NAME=""Dubbing"",DEFAULT=NO,AUTOSELECT=YES,URI=""audio/stereo/none/128kbit.m3u8""

#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=""surround"",LANGUAGE=""en"",NAME=""English"",DEFAULT=YES,AUTOSELECT=YES,URI=""audio/surround/en/320kbit.m3u8""
#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=""surround"",LANGUAGE=""dubbing"",NAME=""Dubbing"",DEFAULT=NO,AUTOSELECT=YES,URI=""audio/stereo/none/128kbit.m3u8""
```
If I check the tracks in code then audio groups will be

1. English(stereo)/English(surround)   Unique Id:  1,0,0 /  1,0,1
2. dubbing(stereo)/dubbing(surround)    Unique Id:  1,1,0 /  1,1,1

How can we select auto for Audio ? 

There could be following an option to select auto from English group (1,0,-1) or dubbing group (1,1,-1). Can we do this ? I tried but the app crashed.

How ExoPlayer is selecting the audio in case if I select auto ?




",https://github.com/google/ExoPlayer/issues/5971#issuecomment-497308371,"The reasons for this bug is that all the audio formats have no bitrate specified. We can and should make our algorithm more robust to gracefully handle this case, but I'm unsure what you are actually trying to achieve? There is no sensible way in which we can switch dynamically between two formats if they don't have bitrate information to guide the decision."
google/ExoPlayer,"### [REQUIRED] Content description
The m4a file loads in ExoPlayer without any error. The time bar even progresses normally when it plays but no sound comes out.

### [REQUIRED] Link to test content
http://feeds.soundcloud.com/stream/624159534-the-stemma-report-ep05.m4a

### [REQUIRED] Version of ExoPlayer being used
2.10.1

### [REQUIRED] Device(s) and version(s) of Android being used
Pixel 3 Android P

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/content_not_playing.md
-->
",https://github.com/google/ExoPlayer/issues/5938#issuecomment-497078574,I did not manage to play the file on a Pixel 3 with P. Can you give me some details how you did this?
google/ExoPlayer,"**[REQUIRED] Searched documentation and issues**
I am using ExoPlayer version 2.9.6 to stream video content in one of my project. Recently I added download video feature to my app using ExoPlayer's in built download manager. The problem with download is that it consumes more data while downloading. For a 18 MB video (the size is determined by checking the size of ExoPlayer's download folder after download) , it takes about 140 MB (this is variable in each try) of network data. I am using DASH to stream videos.  I checked the same with Demo App provided and the results are almost same.

**[REQUIRED] Question**
Any one know why this is happening.? Is there any improvements needed in my code ?

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/question.md
-->
",https://github.com/google/ExoPlayer/issues/5927#issuecomment-494742363,"How do you measure the used network data?
Could you share the measurement you did using the ExoPlayer demo app?"
google/ExoPlayer,"Issue description
Player stops playing media at offset - 1:57 for file - (https://d1l07mcd18xic4.cloudfront.net/audio/ef3edb4a-9f65-4ddf-80b8-d33773f0f7a3.m3u8)

Exoplayer version - 2.7.3 (using exoplayer-hls:2.7.3 for hls)
 Below is the stacktrace for the same.
```
E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalStateException
        at android.media.MediaCodec.releaseOutputBuffer(Native Method)
        at android.media.MediaCodec.releaseOutputBuffer(MediaCodec.java:2743)
        at com.google.android.exoplayer2.audio.MediaCodecAudioRenderer.processOutputBuffer(MediaCodecAudioRenderer.java:462)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1068)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:567)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:522)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:305)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:198)
        at android.os.HandlerThread.run(HandlerThread.java:65)
2019-05-21 16:50:03.604 9515-9766/com.vlv.aravali.preprod E/ExoPlayerImplInternal: Stop failed.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_stop(Native Method)
        at android.media.MediaCodec.stop(MediaCodec.java:2084)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.releaseCodec(MediaCodecRenderer.java:512)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onDisabled(MediaCodecRenderer.java:468)
        at com.google.android.exoplayer2.audio.MediaCodecAudioRenderer.onDisabled(MediaCodecAudioRenderer.java:394)
        at com.google.android.exoplayer2.BaseRenderer.disable(BaseRenderer.java:150)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.disableRenderer(ExoPlayerImplInternal.java:972)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.resetInternal(ExoPlayerImplInternal.java:772)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.stopInternal(ExoPlayerImplInternal.java:735)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:357)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:198)
        at android.os.HandlerThread.run(HandlerThread.java:65)```


Content url - https://kukufm.com/api/v1.0/episodes/109447/
device - Asus Zenfone 
Adding file after `adb bugreport` for bug report.
[bugreport-WW_Z01RD-PPR1.180610.009-2019-05-21-16-55-12.zip](https://github.com/google/ExoPlayer/files/3202308/bugreport-WW_Z01RD-PPR1.180610.009-2019-05-21-16-55-12.zip)



",https://github.com/google/ExoPlayer/issues/5923#issuecomment-494483368,I can't reproduce this on Nexus 6. Have you tried another device or a newer version of ExoPlayer?
google/ExoPlayer,"### [REQUIRED] Searched documentation and issues
Recent [Improved decoder reuse in ExoPlayer](https://medium.com/google-exoplayer/improved-decoder-reuse-in-exoplayer-ef4c6d99591d) blog post explains how to make sure your app benefits from decoder reuse:

> When re-preparing the player with a different video, call prepare() with the new MediaSource without calling stop() first. This is because by default, ExoPlayer will still release decoders when stop() is called.

I noticed MediaSessionConnector.java calls [stopPlayerForPrepare(boolean playWhenReady) ](https://github.com/google/ExoPlayer/blob/44293e8f45fc62ff918001b4425c44d0ded5ffc9/extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java#L837)before preparing new source.

### [REQUIRED] Question
Is there a reason why MediaSessionConnector calls player.stop() before preparing new source? Is this not against best practices for decoder reuse?

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/question.md
-->
",https://github.com/google/ExoPlayer/issues/5891#issuecomment-492739979,"Good question ;). I doubt there's a good reason... @marcbaechinger - Think we can safely remove the `stop()` call, and rename `stopPlayerForPrepare` to `setPlayWhenReady`? Or is there a reason those calls are there?"
google/ExoPlayer,"Hello,

I have been waiting for 2.10.0 release for a long time. Finally it has been released. Thanks for your effort.

I tried to fetch ICY metadata from radio streams, but it seems ExoPlayer fails on some streams. Here is some examples:

[http://voyagesc.radyotvonline.com/](http://voyagesc.radyotvonline.com/)
ExoPlayer fails in fetching ICY metadata on this radio stream while 'Current Song' section is not empty when you open link on browser (Chrome in my case). Also, ExoPlayer logs this issue as 

> W/IcyDecoder: Unrecognized ICY tag: null

I would like to also give a working example:
[http://stream.radyoalaturka.com.tr:9100/](http://stream.radyoalaturka.com.tr:9100/)
ExoPlayer successfuly fetches ICY metadata from this stream and invokes `MetadataOutput` listener.

The only difference between two streams is SHOUTcast Server version; failing stream version is 1.9.8 while working stream version is 2.5.5.733

I used an API level 28 Android 9 Emulator
I fetch ICY Metadata as follows:

```
player.addMetadataOutput(metadata -> {
            if ((metadata != null)) {
                final int length = metadata.length();
                if (length > 0) {
                    for (int i = 0; i < length; i++) {
                        final Metadata.Entry entry = metadata.get(i);
                        if (entry instanceof IcyInfo) {
                            final IcyInfo icyInfo = ((IcyInfo) entry);
                            Log.d(""IcyInfo"", icyInfo.title);
                        } else if (entry instanceof IcyHeaders) {
                            final IcyHeaders icyHeaders = ((IcyHeaders) entry);
                            Log.d(""IcyHeaders"", icyHeaders.name);
                            Log.d(""IcyHeaders"", icyHeaders.genre);
                        }
                    }
                }
            }
        });
```

I hope these examples help for finding the issue. If you think I miss something to fetch the metadata, please inform me.

Thank you.

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5876#issuecomment-492022389,"> http://46.20.3.228/ this radio stream has an empty 'Current Song' section but ExoPlayer invokes MetadataOutput with IcyInfo containing title field: ';StreamUrl='. It seems like ExoPlayer wrongly parses metadata because there is also a 'Stream Url' section when you open the link in browser.

This is because our `Pattern` doesn't expect empty values, and is also easy to fix.

> Fetching ICY metadata does not work at all in my Sony E5553 Android 6.0, API 23 device, MetadataOutput listener is never being invoked, while API 26 & API 28 devices work fine on the same stream. You can test the issue via http://17773.live.streamtheworld.com/JOY_TURK2AAC_SC

I'm less sure about this one. Does playback of the stream work at all? Does using the OkHttp extension rather than the default network stack resolve the problem? You should probably be using the OkHttp extension anyway if you're playing ICY streams, since on some devices the default network stack will not handle not-strictly-http status responses, and will fail playback with ""Unexpected status line: ICY 200 OK"" for some ICY streams. We should add an entry to our troubleshooting page about this!"
google/ExoPlayer,"exo version:2.9.6
MediaPlayer:
![MediaPlayer](https://user-images.githubusercontent.com/16698336/57502603-01081c80-731f-11e9-81bc-4bdf43e29d34.png)
ExoPlayer:
![ExoPlayer](https://user-images.githubusercontent.com/16698336/57502618-0b2a1b00-731f-11e9-82a6-ac58b109e99c.png)
",https://github.com/google/ExoPlayer/issues/5865#issuecomment-491431117,Can you please provide us with some steps on how to reproduce this? 
google/ExoPlayer,"**Details:**
This error occur when the security level of the device is L1 with exoplayer ver 2.8.4
Content: HEVC +DASH
Android 7
If full adb logcat is needed:
https://drive.google.com/open?id=1QG4d6VOr_UPCoYLojjJJkTmmqRWlc2Dp

I am using our tv app that using the exoplayer 2.8.4 implemented so I can't use the
special log request, I attached above the full log in a link.

Happens when zapping to others channels, I can get handreds of this error that also effect the video that doesn't work from time to time.
***********************************************************************************************************

Log:
```
E MediaDrm-JNI: Illegal state exception: Failed to handle key response: DRM vendor-defined error: -2965 (-2965)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: Renderer error.
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: com.google.android.exoplayer2.ExoPlaybackException
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.shouldWaitForKeys(MediaCodecRenderer.java:775)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:716)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:551)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:578)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:350)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at android.os.Handler.dispatchMessage(Handler.java:98)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at android.os.Looper.loop(Looper.java:154)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at android.os.HandlerThread.run(HandlerThread.java:61)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: Caused by: com.google.android.exoplayer2.drm.DrmSession$DrmSessionException: android.media.MediaDrm$MediaDrmStateException: Failed to handle key response: DRM vendor-defined error: -2965
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.onError(DefaultDrmSessionManager.java:610)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.onKeysError(DefaultDrmSessionManager.java:605)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.onKeyResponse(DefaultDrmSessionManager.java:597)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.access$900(DefaultDrmSessionManager.java:51)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager$PostResponseHandler.handleMessage(DefaultDrmSessionManager.java:685)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at android.os.Handler.dispatchMessage(Handler.java:102)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: ... 2 more
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: Caused by: android.media.MediaDrm$MediaDrmStateException: Failed to handle key response: DRM vendor-defined error: -2965
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at android.media.MediaDrm.provideKeyResponse(Native Method)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.FrameworkMediaDrm.provideKeyResponse(FrameworkMediaDrm.java:106)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: at com.google.android.exoplayer2.drm.DefaultDrmSessionManager.onKeyResponse(DefaultDrmSessionManager.java:581)
05-06 15:09:32.675 20625 10275 E ExoPlayerImplInternal: ... 5 more
05-06 15:09:32.677 208 5936 D BerlinOmxComponentImpl: setState() line 903: OMX.Marvell.video_decoder.hevc.secure, state change, OMX_StateExecuting(3) -> OMX_StateIdle(2)
05-06 15:09:32.677 208 5936 D BerlinOmxAmpVideoDecoder: Function stop(), Line 1742, Function Enter
05-06 15:09:32.678 20625 20625 D MetricManager: Destroying player state manager
05-06 15:09:32.679 20625 20625 D MetricManager: Player is stopped
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ÔøΩ[0;34m[ÔøΩ[0;34m(main)IFSExoPlayer2Pipe.java:2129->onPlayerError]ÔøΩ[0;32m[android]ÔøΩ[0;0m ÔøΩ[1;31mIFS_ERROR: onPlayerError rendererIndex:0 type: 1 log:com.google.android.exoplayer2.ExoPlaybackException
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: IFSExoPlayer2Pipe.java:2129->onPlayerError
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ExoPlayerImpl.java:504->handleEvent
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ExoPlayerImpl.java:103->handleMessage
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: Handler.java:102->dispatchMessage
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: Looper.java:154->loop
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ActivityThread.java:6077->main
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: Method.java:-2->invoke
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ZygoteInit.java:865->run
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ZygoteInit.java:755->main
05-06 15:09:32.679 20625 20625 E IFSExoPlayer2Pipe: ÔøΩ[0;0m
05-06 15:09:32.680 20625 20625 W IFSExoPlayer2Pipe: ÔøΩ[0;34m[ÔøΩ[0;34m(main)IFSExoPlayer2Pipe.java:2162->onPlayerError]ÔøΩ[0;32m[android]ÔøΩ[0;0m ÔøΩ[1;33munknown error exceptionÔøΩ[0;0m
```",https://github.com/google/ExoPlayer/issues/5845#issuecomment-494491187,Did you manage to make this work on any devices or is this happening on a specific device only?
google/ExoPlayer,"### [REQUIRED] Issue description
Our app just recently released and we found in the Firebase Crashalytics an increasing number of crashes which I included below 
we are using an HlsMediaSource for the content then adding the AdsMediaSourceand for the ads and 
here is the code of how we are initializing the player:

   ```
 ImaAdsLoader.Builder builder = new ImaAdsLoader.Builder(this);
    
  imaAdsLoader=builder.setImaSdkSettings(ImaSdkFactory.getInstance().createImaSdkSettings()).buildForAdTag(Uri.parse(adVMAP));

 DefaultDataSourceFactory defaultDataSourceFactory = new DefaultDataSourceFactory(this, Util.getUserAgent(this, getResources().getString(R.string.app_name)));

    MediaSource mediaSource = new 
    HlsMediaSource.Factory(defaultDataSourceFactory).createMediaSource(Uri.parse(episodeLink));

        AdsMediaSource adsMediaSource = new AdsMediaSource(mediaSource, defaultDataSourceFactory, imaAdsLoader, playerView.getOverlayFrameLayout());

        player.addListener(this);

        boolean haveStartPosition = startPosition != C.INDEX_UNSET;
        if (haveStartPosition) {
            player.seekTo(startPosition);
        }

        player.prepare(adsMediaSource,!haveStartPosition,false);
        player.setPlayWhenReady(true);

```
### [REQUIRED] Reproduction steps
we couldn't reproduce the issue , we only see the crashes on the crashlytics console.

### [REQUIRED] Link to test content

### [REQUIRED] A full bug report captured from the device
```
Fatal Exception: java.lang.IllegalArgumentException
       at com.google.android.exoplayer2.util.Assertions.checkArgument(Assertions.java:39)
       at com.google.android.exoplayer2.ext.ima.ImaAdsLoader.onTimelineChanged(ImaAdsLoader.java:912)
       at com.google.android.exoplayer2.ExoPlayerImpl$PlaybackInfoUpdate.notifyListeners(ExoPlayerImpl.java:780)
       at com.google.android.exoplayer2.ExoPlayerImpl.updatePlaybackInfo(ExoPlayerImpl.java:717)
       at com.google.android.exoplayer2.ExoPlayerImpl.handlePlaybackInfo(ExoPlayerImpl.java:648)
       at com.google.android.exoplayer2.ExoPlayerImpl.handleEvent(ExoPlayerImpl.java:593)
       at com.google.android.exoplayer2.ExoPlayerImpl$1.handleMessage(ExoPlayerImpl.java:125)
       at android.os.Handler.dispatchMessage(Handler.java:105)
       at android.os.Looper.loop(Looper.java:156)
       at android.app.ActivityThread.main(ActivityThread.java:6577)
       at java.lang.reflect.Method.invoke(Method.java)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:986)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:876)
```
### [REQUIRED] Version of ExoPlayer being used
2.9.4

### [REQUIRED] Device(s) and version(s) of Android being used
Samsung galaxy S6 
HTC Desire 820s 
HUAWEI MediaPad T3 7

android 6, 7 and 8 
<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5831#issuecomment-489422166,"The failing assertion is `Assertions.checkArgument(timeline.getPeriodCount() == 1);`.

It looks like `HlsMediaSource` should always produce a single-period timeline so I wouldn't expect to see this error. However, I wonder if there's a case where the timeline can empty and this throws (there is a check for the timeline becoming empty due to resetting the player before this assertion, but maybe there is another case).

Could you confirm that you are always just playing an `HlsMediaSource` (and never a concatenation)?"
google/ExoPlayer,"### [REQUIRED] Issue description
Removing the player's PlayerView from its parent, and then adding it again - for example as part of onConfigurationChanged() - will cause the video to be slightly vertically squashed. The bottom line of the video is then repeated to fill the remainder of the SurfaceView.

![Screenshot_20190502-171410 1](https://user-images.githubusercontent.com/7551963/57133327-55991e00-6d9a-11e9-84e3-e5890e2748ab.png)

### [REQUIRED] Reproduction steps
Add the following to PlayerActivity in the demo app:

```java
@Override
public void onConfigurationChanged(Configuration newConfiguration) {
  super.onConfigurationChanged(newConfiguration);
  if (playerView.getParent() != null) {
    ViewGroup parent = (ViewGroup) playerView.getParent();
    parent.removeView(playerView);
  }
  FrameLayout rootView = findViewById(R.id.root);
  rootView.addView(playerView);
}
```

1. Play either of the streams below
1. Rotate the device
1. Observe the issue
    - Note: Of course, the lower the res, the more visible the issue

### [REQUIRED] Link to test content
* Widevine DASH: MP4,H264 -> WV: Clear SD (MP4,H264)
    - Restrict res to 320 x 142
    - 6:15-6:20 show it fairly clearly
* HLS -> Apple 16x9 basic stream

### [REQUIRED] A full bug report captured from the device
Emailed to dev.exoplayer@gmail.com

### [REQUIRED] Version of ExoPlayer being used
2.9.3

### [REQUIRED] Device(s) and version(s) of Android being used
- Samsung Galaxy S6 (SM-G920F)
- Android 6.0.1


<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5825#issuecomment-489151523,"I'm able to reproduce the problem on a Galaxy S6 and also on all other devices which run Android Marshmallow. It seems to be related to using a internal DummySurface which is used while the actual surface is not available during the short period in which the view has no parent. When I disable the DummySurface usage, the problem disappears but playback needs to wait until the next keyframe after re-adding, because a new decoder is created internally.

Given that it seems to affect all Marshmallow devices, but is so far only known to happen in this slightly unusual pattern, I see the following options: 
1. Ignore the problem because the pattern causing the problem seems to be unusual and this is the first complaint about this although we've been using the DummySurface for quite a while now.
2. Disable DummySurface usage on API 23. This will make surface transitions on these devices slower and worse, but prevents all platform problems related to setting a DummySurface (like this one).

Just for clarification: Do you use this exact pattern in your app? And if so, what are you trying to achieve with it? It would be good to know whether this is a common problem occurring in practice."
google/ExoPlayer,"### [REQUIRED] Content description

I found that there is a specific device that cannot play 48000Hz sampling rate contents.

`AXON7 mini ZTE B2017G` always throws an error ""DecoderInitializationException"" every time it tries to play 48000Hz sampling-rate contents.

This device uses decoder ""OMX.google.aac.decoder"" for audio, and its `CodecCapabilities#getAudioCapabilities#.getSupportedSampleRateRanges()` contains `48000`.

Also, it only plays fine when the audio decoder is disabled. (Only video plays.)

My questions are

 - Why does this device fail with ""DecoderInitializationException"", even though the decoder is ""OMX.google.aac.decoder"", which is used on other devices.

As far as I understand, ""OMX.google.aac.decoder"" is a software decoder and all the devices with ""OMX.google.aac.decoder"" decoder should fail to decode 48000Hz contents (like Nexus5, which also uses ""OMX.google.aac.decoder"" for audio) because there are no differences on the decoder aspect. 

 - Could you think of any other possible reasons why only this device fails to decode 48000Hz contents or what can I do to find other devices that cause the same issue?

### [REQUIRED] Link to test content

Sample URL

44100Hz sample (works on AXON7 mini ZTE B2017G): https://mock-stream-2.firebaseapp.com/44100hz/playlist.m3u8

48000Hz sample (not works on AXON7 mini ZTE B2017G): https://mock-stream-2.firebaseapp.com/48000hz/playlist.m3u8



### [REQUIRED] Version of ExoPlayer being used
ExoPlayer Version: v2.9.6

### [REQUIRED] Device(s) and version(s) of Android being used
Device: AXON7 mini ZTE B2017G
Android OS: 6.0.1
",https://github.com/google/ExoPlayer/issues/5821#issuecomment-489078169,"I'm able to reproduce the problem with another Axon7 mini and it fails for any 48KHz stream. The reason seems to be that this device's aac decoder fails when trying to set the codec operating rate. We can fix this by adding a workaround for this device where we don't attempt to set this property as it's optional anyway.

Can you tell us the Build.DEVICE and Build.MODEL values for your device? It might help us to see if there is any variation in these for better workaround targeting. When using ExoPlayer, you'll see a log line containing ""ExoPlayerLib/2."" which includes these values."
google/ExoPlayer,"### [REQUIRED] Issue description

**While playing video content, we are getting below given exception randomly:**
```
_PlayerEventListener onPlayerError e : com.google.android.exoplayer2.ExoPlaybackException: java.lang.IllegalStateException
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:359)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:148)
        at android.os.HandlerThread.run(HandlerThread.java:61)
     Caused by: java.lang.IllegalStateException
        at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)
        at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:2379)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1273)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:649)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:530)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:303)
        at android.os.Handler.dispatchMessage(Handler.java:98)¬†
        at android.os.Looper.loop(Looper.java:148)¬†
        at android.os.HandlerThread.run(HandlerThread.java:61)¬†
     VideoPlayerFragment{84a84a1 #0 id=0x13d3 com.panasonic.android_app.fragments.VideoPlayerFragment}__
```
### [REQUIRED] Reproduction steps
We are playing videos one by one i.e right after end of one video, another video starts. These videos keep playing in loop.

### [REQUIRED] Link to test content
I have tried playing 3 videos one after another. Please find them at below given google drive link:
**https://drive.google.com/drive/folders/108kjPUW0RQreyixFh_xAHg1LU5ZKxTD_?usp=sharing**

### [REQUIRED] A full bug report captured from the device
```
_**PlayerEventListener onPlayerError e : com.google.android.exoplayer2.ExoPlaybackException: java.lang.IllegalStateException
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:359)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:148)
        at android.os.HandlerThread.run(HandlerThread.java:61)
     Caused by: java.lang.IllegalStateException
        at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)
        at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:2379)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1273)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:649)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:530)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:303)
        at android.os.Handler.dispatchMessage(Handler.java:98)¬†
        at android.os.Looper.loop(Looper.java:148)¬†
        at android.os.HandlerThread.run(HandlerThread.java:61)¬†
     VideoPlayerFragment{84a84a1 #0 id=0x13d3 com.panasonic.android_app.fragments.VideoPlayerFragment}__**
```
### [REQUIRED] Version of ExoPlayer being used
Exoplayer 2.9.6

### [REQUIRED] Device(s) and version(s) of Android being used
Brand name : Realtek
Model name: X5
OS: Marshmallow 6.0.1

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5806#issuecomment-487417053,"Does this occur only on the specified device? Also, please provide a proper bug report (the issue template clearly says ""a log snippet is NOT sufficient""). Thanks."
google/ExoPlayer,"See previous [issue](https://github.com/google/ExoPlayer/issues/2873), I found Oppo R9(Android 5.1) is MTK device, so please add it to MediaCodecUtil#isCodecUsableDecoder(). Thanks.",https://github.com/google/ExoPlayer/issues/5782#issuecomment-485555928,"I don't understand the request, since the fix for the issue you refer to is not targeted at specific devices. The fix was to always prefer the Google decoder over the MTK decoder on all devices running pre-O Android versions.

Please can you provide complete information by properly filling out the [issue template](https://github.com/google/ExoPlayer/issues/new?assignees=&labels=bug%2C+needs+triage&template=bug.md&title=), to help us investigate this further? Please copy the issue template into this issue (do not file a new one) and fill out all of the sections. Thanks!"
google/ExoPlayer,"
### [REQUIRED] Issue description
Describe the issue in detail, including observed and expected behavior.

On multiple systems I am using, I am finding it impossible to view exoplayer documentation from exoplayer.dev due to an security certificate issue.

I had previously been able to view the classes reference doc, which I believe must have been hosted on exoplayer.dev previously since I get to it via the README.md file of the exoplayer github source and that has not changed in several months.

### [REQUIRED] Reproduction steps
Describe how the issue can be reproduced, ideally using the ExoPlayer demo app
or a small sample app that you‚Äôre able to share as source code on GitHub.

Attempt to view:

https://exoplayer.dev/doc/reference

On any of these configurations:

- Firefox on Linux
- Google Chrome on Linux
- Safari on Mac OS X

Observe a security error rather than seeing the documentation.

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5758#issuecomment-482471595,Just for you information: We did change our domain on Wednesday (10 April) from google.github.io/ExoPlayer to exoplayer.dev. So this is indeed a new change. It may be that the certificates haven't been updated yet everywhere and that's the reason for the issue you were seeing?
google/ExoPlayer,"### Issue description
I implemented the music controller using the `PlayerNotificationManager` (https://medium.com/google-exoplayer/playback-notifications-with-exoplayer-a2f1a18cf93b). However, when I click on the Notification button, the exception occurs intermittently and does not work.

### Reproduction steps
When i click the button on the notification (intermittently)

### Link to test content
N/A

### A full bug report captured from the device
```
E/RemoteViews: Cannot send pending intent: 
    android.content.IntentSender$SendIntentException
        at android.app.ContextImpl.startIntentSender(ContextImpl.java:946)
        at android.content.ContextWrapper.startIntentSender(ContextWrapper.java:436)
        at android.content.ContextWrapper.startIntentSender(ContextWrapper.java:436)
        at android.widget.RemoteViews$OnClickHandler.onClickHandler(RemoteViews.java:299)
        at com.android.systemui.statusbar.phone.StatusBar$28.superOnClickHandler(StatusBar.java:9072)
        at com.android.systemui.statusbar.phone.StatusBar$28.onClickHandler(StatusBar.java:9035)
        at android.widget.RemoteViews$SetOnClickPendingIntent$1.onClick(RemoteViews.java:919)
        at android.view.View.performClick(View.java:6891)
        at android.view.View$PerformClick.run(View.java:26083)
        at android.os.Handler.handleCallback(Handler.java:789)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:164)
        at android.app.ActivityThread.main(ActivityThread.java:6938)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)
```
### Version of ExoPlayer being used
2.8.0

### Device(s) and version(s) of Android being used
Samsung GalaxyS8 (SM-G950N) 
android 8.0

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/bug.md
-->
",https://github.com/google/ExoPlayer/issues/5734#issuecomment-480488059,"Please could you supply a full bug report captured with `adb bugreport` here, or via email to `dev.exoplayer@gmail.com` with subject 'Issue #5734'?"
google/ExoPlayer,"Using the latest v2.9.6. Trying to play this video (https://wdrmedien-a.akamaihd.net/medp/podcast/weltweit/fsk0/188/1884161/quarks_2019-03-26_sommeroderwinterzeitwarumunszeitumstellungensostressen_wdr.mp4) gives this error:
```
E/LoadTask: Unexpected exception handling load completed
    java.lang.NullPointerException
        at com.google.android.exoplayer2.util.Assertions.checkNotNull(Assertions.java:111)
        at com.google.android.exoplayer2.source.ExtractorMediaPeriod.onLoadCompleted(ExtractorMediaPeriod.java:504)
        at com.google.android.exoplayer2.source.ExtractorMediaPeriod.onLoadCompleted(ExtractorMediaPeriod.java:57)
        at com.google.android.exoplayer2.upstream.Loader$LoadTask.handleMessage(Loader.java:450)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```
The same video plays well in VLC player.",https://github.com/google/ExoPlayer/issues/5694#issuecomment-477537685,"Thanks for reporting.

As far as I see, there are 4 extra zero bytes right after the meta atom header. These 4 bytes are then interpreted as the length of the following hdlr atom. A size of zero would indicate that the atom has a length until the end of the file.

6d 65 6c 72   // ''meta'
00 00 00 00   // <--- unexpected zeros interpreted as size of the next atom
00 00 00 21  // size=33
68 64 6c 72  // 'hdlr'

Do you have several of these files or is this a single case? If you are having multiple of these files do you know how these have been created?"
google/ExoPlayer,"This the logÔºö
```
2019-03-25 16:59:56.709 1559-1693/? I/ActivityManager: Displayed com.zhangmen.kids.apad/.guidein.ui.activity.GuidanceActivity: +777ms
2019-03-25 16:59:56.712 681-681/? I/OMX-VDEC-1080P: component_init: OMX.qcom.video.decoder.avc : fd=19
2019-03-25 16:59:56.718 681-681/? I/OMX-VDEC-1080P: omx_vdec::component_init() success : fd=19
2019-03-25 16:59:56.718 14054-14169/com.zhangmen.kids.apad I/ACodec: In onAllocateComponent create compenent, codec name: OMX.qcom.video.decoder.avc
2019-03-25 16:59:56.721 14054-14168/com.zhangmen.kids.apad I/MediaCodec: [OMX.qcom.video.decoder.avc] setting surface generation to 14391297
2019-03-25 16:59:56.722 681-2275/? E/OMX-VDEC-1080P: Extension: OMX.google.android.index.storeANWBufferInMetadata not implemented
2019-03-25 16:59:56.722 14054-14169/com.zhangmen.kids.apad I/HwExtendedCodec: mime is [video/avc] at setVideoFormat
2019-03-25 16:59:56.726 681-2275/? E/OMX-VDEC-1080P: Extension: OMX.google.android.index.storeANWBufferInMetadata not implemented
2019-03-25 16:59:56.726 681-2275/? E/OMX-VDEC-1080P: Extension: OMX.google.android.index.configureVideoTunnelMode not implemented
2019-03-25 16:59:56.726 681-2275/? E/OMX-VDEC-1080P: Extension: OMX.google.android.index.useAndroidNativeBuffer is supported
2019-03-25 16:59:56.727 681-2277/? E/OMX-VDEC-1080P: Extension: OMX.google.android.index.describeHDRStaticInfo not implemented
2019-03-25 16:59:56.729 681-2277/? E/OMX-VDEC-1080P: Does not handle dataspace request
2019-03-25 16:59:56.729 681-2277/? E/OMXNodeInstance: getConfig(2a902f4:qcom.decoder.avc, ??(0x7f000062)) ERROR: UnsupportedSetting(0x80001019)
2019-03-25 16:59:56.730 1559-19538/? W/System.err: java.lang.SecurityException: uid 10190 does not have android.permission.UPDATE_DEVICE_STATS.
2019-03-25 16:59:56.730 1559-19538/? W/System.err:     at android.app.ContextImpl.enforce(ContextImpl.java:1760)
2019-03-25 16:59:56.730 1559-19538/? W/System.err:     at android.app.ContextImpl.enforcePermission(ContextImpl.java:1773)
2019-03-25 16:59:56.730 1559-19538/? W/System.err:     at com.android.server.am.BatteryStatsService.enforceCallingPermission(BatteryStatsService.java:1204)
2019-03-25 16:59:56.730 1559-19538/? W/System.err:     at com.android.server.am.BatteryStatsService.noteStartVideo(BatteryStatsService.java:760)
2019-03-25 16:59:56.730 1559-19538/? W/System.err:     at com.android.internal.app.IBatteryStats$Stub.onTransact(IBatteryStats.java:72)
2019-03-25 16:59:56.731 1559-19538/? W/System.err:     at android.os.Binder.execTransact(Binder.java:565)
2019-03-25 16:59:56.740 681-2275/? E/OMX-VDEC-1080P: Extension: OMX.img.index.scalingdown not implemented
2019-03-25 16:59:56.752 681-31517/? I/MediaPlayerService: MediaPlayerService::getOMX
2019-03-25 16:59:56.752 681-14184/? E/OMX-VDEC-1080P: OMX_COMPONENT_GENERATE_HARDWARE_ERROR
2019-03-25 16:59:56.752 681-14184/? E/OMX-VDEC-1080P: ERROR: Sending OMX_ErrorHardware to Client
2019-03-25 16:59:56.753 14054-14186/com.zhangmen.kids.apad I/OMXClient: MuxOMX ctor
2019-03-25 16:59:56.754 14054-14169/com.zhangmen.kids.apad E/ACodec: [OMX.qcom.video.decoder.avc] ERROR(0x80001009)
2019-03-25 16:59:56.754 14054-14169/com.zhangmen.kids.apad E/ACodec: signalError(omxError 0x80001009, internalError -2147483648)
2019-03-25 16:59:56.755 14054-14168/com.zhangmen.kids.apad E/MediaCodec: Codec reported err 0x80001009, actionCode 0, while in state 6
2019-03-25 16:59:56.756 681-14183/? E/OMX-VDEC-1080P: Dropping message 11 since client expected to be in error state
2019-03-25 16:59:56.756 1559-9365/? W/System.err: java.lang.SecurityException: uid 10190 does not have android.permission.UPDATE_DEVICE_STATS.
2019-03-25 16:59:56.756 1559-9365/? W/System.err:     at android.app.ContextImpl.enforce(ContextImpl.java:1760)
2019-03-25 16:59:56.756 1559-9365/? W/System.err:     at android.app.ContextImpl.enforcePermission(ContextImpl.java:1773)
2019-03-25 16:59:56.757 1559-9365/? W/System.err:     at com.android.server.am.BatteryStatsService.enforceCallingPermission(BatteryStatsService.java:1204)
2019-03-25 16:59:56.757 1559-9365/? W/System.err:     at com.android.server.am.BatteryStatsService.noteStopVideo(BatteryStatsService.java:771)
2019-03-25 16:59:56.757 1559-9365/? W/System.err:     at com.android.internal.app.IBatteryStats$Stub.onTransact(IBatteryStats.java:81)
2019-03-25 16:59:56.757 1559-9365/? W/System.err:     at android.os.Binder.execTransact(Binder.java:565)
2019-03-25 16:59:56.758 14054-14186/com.zhangmen.kids.apad I/OMXMaster: makeComponentInstance(OMX.google.aac.decoder) in ngmen.kids.apad process
2019-03-25 16:59:56.767 14054-14186/com.zhangmen.kids.apad I/ACodec: In onAllocateComponent create compenent, codec name: OMX.google.aac.decoder
2019-03-25 16:59:56.768 14054-14186/com.zhangmen.kids.apad E/OMXNodeInstance: setConfig(36e60001:google.aac.decoder, ConfigPriority(0x6f800002)) ERROR: Undefined(0x80001001)
2019-03-25 16:59:56.768 14054-14186/com.zhangmen.kids.apad I/ACodec: codec does not support config priority (err -2147483648)
2019-03-25 16:59:56.768 14054-14186/com.zhangmen.kids.apad E/OMXNodeInstance: setConfig(36e60001:google.aac.decoder, ConfigOperatingRate(0x6f800003)) ERROR: Undefined(0x80001001)
2019-03-25 16:59:56.768 14054-14186/com.zhangmen.kids.apad I/ACodec: codec does not support config operating rate (err -2147483648)
2019-03-25 16:59:56.768 14054-14187/com.zhangmen.kids.apad W/SimpleSoftOMXComponent: checkTransitions port is not populate
2019-03-25 16:59:56.768 14054-14186/com.zhangmen.kids.apad W/SimpleSoftOMXComponent: checkTransitions port is not populate
2019-03-25 16:59:56.770 14054-14187/com.zhangmen.kids.apad I/SoftAAC2: Reconfiguring decoder: 0->48000 Hz, 0->1 channels
2019-03-25 16:59:56.772 14054-14165/com.zhangmen.kids.apad E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_dequeueOutputBuffer(Native Method)
        at android.media.MediaCodec.dequeueOutputBuffer(MediaCodec.java:2595)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1287)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:663)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:529)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:300)
        at android.os.Handler.dispatchMessage(Handler.java:101)
        at android.os.Looper.loop(Looper.java:156)
        at android.os.HandlerThread.run(HandlerThread.java:61)
2019-03-25 16:59:56.776 14054-14169/com.zhangmen.kids.apad E/Surface: getSlotFromBufferLocked: unknown buffer: 0xc50a10c0
2019-03-25 16:59:56.776 14054-14169/com.zhangmen.kids.apad W/ACodec: [OMX.qcom.video.decoder.avc] can not return buffer 14 to native window
2019-03-25 16:59:56.777 14054-14169/com.zhangmen.kids.apad E/Surface: getSlotFromBufferLocked: unknown buffer: 0xc50a1180
2019-03-25 16:59:56.777 14054-14169/com.zhangmen.kids.apad W/ACodec: [OMX.qcom.video.decoder.avc] can not return buffer 13 to native window
2019-03-25 16:59:56.777 14054-14169/com.zhangmen.kids.apad E/Surface: getSlotFromBufferLocked: unknown buffer: 0xc50a11e0
2019-03-25 16:59:56.777 14054-14169/com.zhangmen.kids.apad W/ACodec: [OMX.qcom.video.decoder.avc] can not return buffer 12 to native window
2019-03-25 16:59:56.777 14054-14108/com.zhangmen.kids.apad I/CrashReport: rom:HuaWei/EMOTION/EmotionUI_5.1.3
2019-03-25 16:59:56.778 14054-14169/com.zhangmen.kids.apad E/Surface: getSlotFromBufferLocked: unknown buffer: 0xc50a12a0
2019-03-25 16:59:56.778 14054-14169/com.zhangmen.kids.apad W/ACodec: [OMX.qcom.video.decoder.avc] can not return buffer 11 to native window
2019-03-25 16:59:56.781 681-2275/? I/OMX-VDEC-1080P: omx_vdec::component_deinit() complete
2019-03-25 16:59:56.784 681-2275/? I/OMX-VDEC-1080P: Exit OMX vdec Destructor: fd=19
2019-03-25 16:59:56.784 681-2275/? I/OMX-VDEC-1080P: Video slvp perflock released
2019-03-25 16:59:56.787 14054-14165/com.zhangmen.kids.apad E/ExoPlayerImplInternal: Stop failed.
    java.lang.IllegalStateException
        at android.media.MediaCodec.native_stop(Native Method)
        at android.media.MediaCodec.stop(MediaCodec.java:2032)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.releaseCodec(MediaCodecRenderer.java:608)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.releaseCodec(MediaCodecVideoRenderer.java:508)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onDisabled(MediaCodecRenderer.java:562)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onDisabled(MediaCodecVideoRenderer.java:377)
        at com.google.android.exoplayer2.BaseRenderer.disable(BaseRenderer.java:153)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.disableRenderer(ExoPlayerImplInternal.java:976)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.resetInternal(ExoPlayerImplInternal.java:764)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.stopInternal(ExoPlayerImplInternal.java:735)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:355)
        at android.os.Handler.dispatchMessage(Handler.java:101)
        at android.os.Looper.loop(Looper.java:156)
        at android.os.HandlerThread.run(HandlerThread.java:61)
```
Help me plase.",https://github.com/google/ExoPlayer/issues/5676#issuecomment-476161366,"Can you please provide the information request by the issue template? We can't help you without the information asked for in the issue template.

You can find the issue template here: https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/content_not_playing.md"
google/ExoPlayer,"hello,

I am building application for IPTV and I was able to add subtitles to my tracks, and it is working with no problem on tv box, the problem only happen when I run the application on mag box, it start to show the name of subtitle as Und

can anyone please advice on this problem ?",https://github.com/google/ExoPlayer/issues/5671#issuecomment-476238701,"Can you please provide us with a bit more of information of what you actually did? 

The issue template which has been removed does outline what information we need to be able to help you. The issue template can be found here: https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md

Please describe what you did and how it can be reproduced with the content links you provide. Specifically if this happens on a given device only we need a bug report from that device which has been taken right after the problem occured."
google/ExoPlayer,"Hi , 
this stream is working fine .
 **Radio Company Italyamo**
https://ice03.fluidstream.net/companyitalia.mp3
when you start it ,it plays the audio ads from the station and then stops
when you tap again it starts playing fine.
why the stream won't play after the ads.
Regards",https://github.com/google/ExoPlayer/issues/5658#issuecomment-474957062,"There seem to be two issues here:

First issue is a bug in our implementation. It seems our recently added support for ICY metadata ignores that streams do not always start at position zero. The difference between the first and second iteration is that the first time we start at position zero and everything sounds fine. The second time, we do a seek back to position 0 which gets resolved to a non-zero stream position based on the XING seek map we already know. That's why we play distorted audio as we try to read the ICY metadata from the wrong places and play back the actual metadata as audio data. We'll provide a fix for that.

Second issue is that the mp3 contains a XING seek map which indicates that the stream ends after the initial ad. We introduced a special check as a result of #4954 which ensures we don't read beyond the end of the XING seek map. That's why we stop playing in this case instead of continuing with the rest of the stream. It seems unusual to define a seek map for the first part only and then stop supporting seeking. Do you control the content? If so, it may be worth removing it, as I don't think this stream is intended to be seekable at all."
google/ExoPlayer,"All channels work fine on all android versions even if tunneling mode is enabled or disabled. France24 channel works fine on all modes, devices and android versions except ""android P && tunneling && france24"" if the tunnelling mode disabled, it works fine.
What exactly happens ?
After approximately 2 mins the stream freezes but no errors callbacks are called, no paused or stopped methods called, the app doesn't freeze or crashed. If set the show_buffering=""always"" it will be shown for infinity. 

I don't know what causes this stranger behaviour as everything ""the same code"" work fine with all other dash streams on all devices and different android versions.

When the player state is buffering. I can call the method seekTo(0). It makes the player resumes but its insufficient solution specially sometimes the screen turns black for a second before continuing playing  
If there is any recommendation to do, I will really appreciate it

### [REQUIRED] Content description
It is a live dash stream for france 24 channel.

### [REQUIRED] Link to test content
Can't provide a test content for now due to company's privacy. However, I just asking if someone faced this issue before or there is 

### [REQUIRED] Version of ExoPlayer being used
2.9.4

### [REQUIRED] Device(s) and version(s) of Android being used
only android P has the problem
on all stb devices run P
sagemcom
Technicolor

<!-- DO NOT DELETE
validate_template=true
template_path=.github/ISSUE_TEMPLATE/content_not_playing.md
-->
",https://github.com/google/ExoPlayer/issues/5618#issuecomment-471764840,"Just to confirm, are you saying that video tunneling is working fine, except for when playing one specific stream on an Android P build?

I don't think we've seen such an issue, and without the stream or a bug report (`adb bugreport`) there's not much hope of figuring out what's going. If you don't want to post it here you can alternatively email a link to dev.exoplayer@gmail.com with subject 'Issue #5618'."
google/ExoPlayer,"exoplaer version  2.9.3

android 5.1.1

````
02-25 14:46:57.266 3101-5096/? E/art: Throwing OutOfMemoryError ""Failed to allocate a 28 byte allocation with 0 free bytes and 3GB until OOM"" (recursive case)
02-25 14:46:57.266 3101-5143/? I/art: WaitForGcToComplete blocked for 106.160ms for cause Alloc
02-25 14:46:57.267 3101-5096/? E/art: ""ExoPlayerImplInternal:Handler"" prio=5 tid=48 Runnable
02-25 14:46:57.267 3101-5096/? E/art:   | group=""main"" sCount=0 dsCount=0 obj=0x13084f90 self=0xb9338240
02-25 14:46:57.267 3101-5096/? E/art:   | sysTid=5096 nice=-16 cgrp=default sched=0/0 handle=0xb94d8c68
02-25 14:46:57.267 3101-5096/? E/art:   | state=R schedstat=( 223438971 588924 108 ) utm=21 stm=1 core=3 HZ=100
02-25 14:46:57.267 3101-5096/? E/art:   | stack=0x9b430000-0x9b432000 stackSize=1036KB
02-25 14:46:57.267 3101-5096/? E/art:   | held mutexes= ""mutator lock""(shared held)
02-25 14:46:57.267 3101-5096/? E/art:     at android.util.Pair.create(Pair.java:75)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.source.AbstractConcatenatedTimeline.getConcatenatedUid(AbstractConcatenatedTimeline.java:60)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.source.AbstractConcatenatedTimeline.getPeriod(AbstractConcatenatedTimeline.java:223)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.MediaPeriodQueue.getFollowingMediaPeriodInfo(MediaPeriodQueue.java:552)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.MediaPeriodQueue.getNextMediaPeriodInfo(MediaPeriodQueue.java:126)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.ExoPlayerImplInternal.maybeUpdateLoadingPeriod(ExoPlayerImplInternal.java:1525)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.ExoPlayerImplInternal.updatePeriods(ExoPlayerImplInternal.java:1399)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:513)
02-25 14:46:57.267 3101-5096/? E/art:     at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:303)
02-25 14:46:57.267 3101-5096/? E/art:     at android.os.Handler.dispatchMessage(Handler.java:98)
02-25 14:46:57.267 3101-5096/? E/art:     at android.os.Looper.loop(Looper.java:135)
02-25 14:46:57.267 3101-5096/? E/art:     at android.os.HandlerThread.run(HandlerThread.java:61)
`````
My native language is Chinese, please forgive me if my English is not good
I suspect it's a matter of switching mediasource frequently. I wonder if I can switch frequently
````
   /**
     * ÂàáÊç¢mediaSource
     */
    public void next(int nextWindowIndex) {
        if (mInternalPlayer == null) {
            return;
        }
        Timeline timeline = mInternalPlayer.getCurrentTimeline();
        if (timeline.isEmpty()) {
            return;
        }
        int windowIndex = mInternalPlayer.getCurrentWindowIndex();
        if (nextWindowIndex != C.INDEX_UNSET) {
            mInternalPlayer.seekTo(nextWindowIndex, C.TIME_UNSET);
        } else if (timeline.getWindow(windowIndex, window, false).isDynamic) {
            mInternalPlayer.seekTo(windowIndex, C.TIME_UNSET);
        }
    }
````
",https://github.com/google/ExoPlayer/issues/5564#issuecomment-468005472,"Please provide complete information as requested in the issue template. The issue template can be found [here](https://github.com/google/ExoPlayer/blob/release-v2/.github/ISSUE_TEMPLATE/bug.md).

I'll need to reproduce the issue somehow to help with this. I am not sure I understand what switching media source means. If you mean either seeking to a different window or repreparing the player, then those actions shouldn't be an issue.

Can you provide steps to reproduce the issue in the demo app? If it requires some minor changes in the code you may point me to a github fork for me to look at."
google/ExoPlayer,"
### Issue description
In our particular device which has media tunneling support, ExoPlayer is unable to list and select the tunneling decoder properly. For example, the device advertises these two components supporting avc, one without and one with tunneling support:

omx.oem.avc.decoder
and
omx.oem.avc.decoder.tunneled

ExoPlayer isn't able to select the tunneled version of the decoder but can only detect the non-tunneled version.

We believe there are two issues with the current selection logic in ExoPlayer:

1) ExoPlayer lists by default the codecs using the 'REGULAR_CODECS' filter and tunneled decoders have to be queried with 'ALL_CODECS' filter. See this in ""frameworks/base/media/java/android/media/MediaCodecList.java""

/**
     * Use in {@link #MediaCodecList} to enumerate all codecs, even ones that are
     * not suitable for regular (buffer-to-buffer) decoding or encoding.  These
     * include codecs, for example, that only work with special input or output
     * surfaces, such as secure-only or tunneled-only codecs.
     * /
    public static final int ALL_CODECS = 1;

2) When more than one decoder supporting the given mime-type is returned in the media codec list, ExoPlayer needs to iterate through the list and pick the one with the tunneling feature enabled. In our devices, the non-tunneled version decoder will be listed first so additional logic needs to be added to pick the tunneled version.

I guess another problem with the existing implementation is that there doesn't seem to be a way to tell ExoPlayer that the app prefers a tunneling decoder if the platform supports it. Having this ability would make it easier for ExoPlayer to adjust the codec selection logic as suggested above.

### Reproduction steps
Play any stream with demo app on ExoPlayer v2.9.x 

### Link to test content
Any content, including the sample streams in the demo app

## Version of ExoPlayer being used
ExoPlayer v2.9.x

### Device(s) and version(s) of Android being used
Android-P on broadcom reference designs

### A full bug report captured from the device
N/A  ?
",https://github.com/google/ExoPlayer/issues/5547#issuecomment-465934955,"(2) looks like a duplicate of #3100. I'm planning to push a limited fix over the new few weeks, which will advertise and select tunneling support if a non-primary tunneled decoder supports the same or greater capabilities of a primary non-tunneled decoder.

Thanks for reporting (1), for which I'll make a fix at the same time.

I don't understand ""there doesn't seem to be a way to tell ExoPlayer that the app prefers a tunneling decoder if the platform supports it"" -- if you set a tunneling audio session id on the track selector we should prefer using a tunneling decoder. Could you elaborate a bit on what is needed? Thanks."
google/ExoPlayer,"### Issue description
When trying to switch an ExoPlayer instance between a Dash and an MP4 stream (or MP4 to Dash) while trying to resume at the same playback position an IndexOutOfBoundsException occurs.

Specifically, calling prepare with resetPosition set to false while changing MediaSource types will cause the exception.
`player.prepare(mediaSource, false, true);`

### Reproduction steps
1. Load and begin playing an MP4 stream.
2. Try and load a Dash stream, keeping playback position (`player.prepare(mediaSource, false, true);`).
3. Application crash.

### Link to test content
[SampleExoPlayerVideoSwitchCrash.zip](https://github.com/google/ExoPlayer/files/2868976/SampleExoPlayerVideoSwitchCrash.zip)

To reproduce the steps in the sample app:
1. Build and launch the app.
2. Tap on either the ""Play MP4"" or ""Play Dash"" buttons.
3. Once the video starts playing, tap on the other button,
4. The application will crash.

Replacing the currently playing MP4 with a new MP4 stream (pressing the ""Play MP4"" button a second time) switches playback as expected, likewise loading a new Dash stream while a current Dash stream is playing also switches correctly. 

### Version of ExoPlayer being used
2.9.5

### Device(s) and version(s) of Android being used
Google Pixel 3 XL",https://github.com/google/ExoPlayer/issues/5520#issuecomment-464352584,"I wouldn't consider this a bug really. I think the option to keep the previous position was always intended to be for two cases:
1. Set a start position before preparing the media.
2. Re-prepare the same media after an error or after stop.

Can you describe your use case in more detail to understand why you want to keep a position of an apparently unrelated piece of media? 

I guess we could support such a case by converting the current position to an initial seek if needed, but that depends on whether we think that we should support the `player.prepare(mediaSource, false, true)` option at all."
google/ExoPlayer,"from the error stack:

```
.videoplayer.player.PlayErrorException:play https://qiniu.yunjilink.com/7sVsQSyLqgl8tJY8qgJBa_DKh44=/lpKV7HFasjjp4ZMUhWkiT1LO7f9X error,
......
--
Caused by:
java.lang.IllegalStateException:
android.media.MediaCodec.releaseOutputBuffer(Native Method)
android.media.MediaCodec.releaseOutputBuffer(MediaCodec.java:2752)
com.google.android.exoplayer2.audio.MediaCodecAudioRenderer.processOutputBuffer(MediaCodecAudioRenderer.java:641)
com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.drainOutputBuffer(MediaCodecRenderer.java:1355)
```
The audio https://qiniu.yunjilink.com/7sVsQSyLqgl8tJY8qgJBa_DKh44=/lpKV7HFasjjp4ZMUhWkiT1LO7f9X can be played at any position but not at 22 secs. 

Btw, **the issue can only reproduced in one device** in my hand,
![image](https://user-images.githubusercontent.com/2981114/52692776-d3216f00-2f9f-11e9-9b98-17b80cbf5bc1.png)

",https://github.com/google/ExoPlayer/issues/5502#issuecomment-466187422,"Can you take a bug report right after the error occurred? 

You can do in the console with a

```
adb bugreport
```

Here is some detailed information on how you can capture a bug report: https://developer.android.com/studio/debug/bug-report
"
google/ExoPlayer,"Do I need to release a player after an error? This link  https://github.com/sneltyn/ExoPreload is a demo that demonstrates the problem (if it is a problem). The demo shows how the player gets stuck on state `STATE_BUFFERING`

During the launch of the demo, turn off the Internet;)

The demo does the preloading of the HLS or mp4 using the `ConcatenatingMediaSource`

Maybe I'm doing something wrong.

**ExoPlayer**: 2.9.4",https://github.com/google/ExoPlayer/issues/5464#issuecomment-460060850,"@tonihei - Could you take a look at this? Could be wrong, but it looks like the player has a `ConcatenatingMediaSource` containing a single `ClippingMediaSource`, which wraps an `ExtractorMediaSource`. Before the second `prepare` call the `ConcatenatingMediaSource` is cleared and a new `ClippingMediaSource -> ExtractorMediaSource` is added. The player then ends up  stuck in the buffering state.

It looks like replacing the `ConcatenatingMediaSource` with a new instance rather than clearing it solves the problem, but this shouldn't be necessary?"
google/ExoPlayer,"Hello,

### Issue description
Weird simultaneous play/pause state In tunnelled mode after preparing the player. 
Using the same code in non tunnelled mode works correctly.

### Reproduction steps
As always, when I want to play a media I use these classic exoplayer methods:
```
playWhenReady(true)
prepare(mediaSource)
```
(works correctly in tunnelling)

And when I want to just prepare and not start playing, Instead of the previous code I usually just do :
```
prepare(mediaSource)
```
(ExoPlayerImpl's playWhenReady default value is ""false"" I don't need to set it)

* In non tunnelled mode: the behaviour is correct: my media is loaded and is in a paused state.
* In tunnelled mode: my media is loaded, but is in a weird state: the player looks like it is in between paused and playing: it plays a few frames then pauses and keeps going on repeating this weird play/pause (approximately 1second cycles).
Also happens if I seekTo(mPosition) before or just after prepare(mediaSource)

According to logs, all values are the same in tunnelled and non-tunnelled, however I don't have the same behaviours. (The debugger shows the same information: playWhenReady:false, playbackState:ready)

Even if I try to use any of the methods of the EventListener I can't do anything because the onPlayerStateChanged gives me the same result then when I am paused in non-tunelled mode.

Also, I noticed after the bug if I press play, it plays correctly, then I wait a few seconds and manually pause, my player will be correctly paused. it only happens when I prepare the media and not setPlayWhenReady(true)

Do you have any idea what is causing this?
Thanks.

### Version of ExoPlayer being used
2.9.3

### Device(s) and version(s) of Android being used
Custom Sagemcom STB
Android 7.1.1",https://github.com/google/ExoPlayer/issues/5397#issuecomment-454845238,"It sounds like the video tunneling implementation is presenting video frames on the assumption that the audio track is in the playing state. I think it should ignore the hardware A/V sync timestamps in audio buffers until the corresponding audio played out (while the AudioTrack is in the playing state).

Can you reproduce this on any other devices that support video tunneling? If not, it's likely to be a device-specific bug and should be reported to the manufacturer of the ""Custom Sagemcom STB"" you're using."
google/ExoPlayer,"Before filing an issue:


[Video_0001_1546670127944.zip](https://github.com/google/ExoPlayer/files/2729316/Video_0001_1546670127944.zip)

When reporting a bug:
-----------------------
### Issue description
-This video play in VLC and Mx player .
-But not play in Exo player 


-->**Below details of uploaded video:** 
Lengh of video: 00:00:09
Frame width: 1920
frame Height: 1920
total Bitrate: 714kbps
frame Rate: 32 frames/sec
size of video: 787 kb
format of video:mp4

### Reproduction steps
When i will generated video with ffmpeg with above details and play video in exo player not play video and generated bug.but when this video i will play in other application like VLC and Mx player that's play perfactly.

### Version of ExoPlayer being used
com.google.android.exoplayer:exoplayer:2.8.1'
'com.devbrackets.android:exomedia:4.2.3'

### Device(s) and version(s) of Android being used
Device name: Samsung SM-G550FY,Samsung J7-prime,
Android Version:7.1.1,8.0.1


### A full bug report captured from the device
```
E/ExoPlayerImplInternal: Playback error.
    com.google.android.exoplayer2.ExoPlaybackException
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.throwDecoderInitError(MediaCodecRenderer.java:441)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:428)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:920)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:503)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:557)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:154)
        at android.os.HandlerThread.run(HandlerThread.java:61)
     Caused by: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.Exynos.avc.dec, Format(1, null, video/avc, -1, null, [1920, 1920, -1.0], [-1, -1])
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:428)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:920)¬†
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:503)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:557)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)¬†
        at android.os.Handler.dispatchMessage(Handler.java:98)¬†
        at android.os.Looper.loop(Looper.java:154)¬†
        at android.os.HandlerThread.run(HandlerThread.java:61)¬†
     Caused by: android.media.MediaCodec$CodecException: Error 0xffffec77
        at android.media.MediaCodec.native_configure(Native Method)
        at android.media.MediaCodec.configure(MediaCodec.java:1884)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.configureCodec(MediaCodecVideoRenderer.java:450)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodec(MediaCodecRenderer.java:418)
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:920)¬†
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:503)¬†
        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:557)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)¬†
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)¬†
        at android.os.Handler.dispatchMessage(Handler.java:98)¬†
        at android.os.Looper.loop(Looper.java:154)¬†
        at android.os.HandlerThread.run(HandlerThread.java:61)¬†
```

",https://github.com/google/ExoPlayer/issues/5340#issuecomment-451881006,"Please could you try to play the video in the demo app, then attach a full bug report captured via `adb bugreport`?

Other players may be bundling their own codecs rather than using the ones in the platform, so may be subject to different limitations. Just because a video plays in another app it doesn't (necessarily) mean it should work in ExoPlayer."
google/ExoPlayer,"Hello I am using exoplayer 2.7.2 and currently facing some issues in android box AlfawiseA8   oreo 8.1
Screen coming blue layer on playing but its gone while the control view is open. I cant figure out the issue can anyone help? I am using default exoplayer demoapp code. 
https://tinypng.com/web/output/mtacqwc0j33p5abzjtjxgekyvg6jh6h6/bluescreen.jpg",https://github.com/google/ExoPlayer/issues/5290#issuecomment-449381675,"Do you mean video appears normal when the control view is visible? 
Does the problem occurs on all streams? If not please specify the stream name.
Also please provide a bug report:
### A full bug report captured from the device
Capture a full bug report using ""adb bugreport"". Output from ""adb logcat"" or a
log snippet is NOT sufficient. Please attach the captured bug report as a file.
If you don't wish to post it publicly, please submit the issue, then email the
bug report to dev.exoplayer@gmail.com using a subject in the format
""Issue #1234""."
google/ExoPlayer,"### Issue description

As of a few hours ago, my builds are failing to find exoplayer 2.8+ (I also tried 2.9+, no difference) in Google repository. Never seen that before, always worked fine.

### Reproduction steps

It's an Android gradle project.

Relevant lines:

```
allprojects {
    repositories {
        google()
        jcenter()
    }
}

ext {
    exoplayer_version = '2.8+'
}

implementation 'com.google.android.exoplayer:exoplayer-core:' + exoplayer_version,
implementation 'com.google.android.exoplayer:exoplayer-dash:' + exoplayer_version,

```
Output:

```
> Could not find any matches for com.google.android.exoplayer:exoplayer-core:2.8+ as no versions of com.google.android.exoplayer:exoplayer-core are available.
  Required by:
      project :
> Could not find any matches for com.google.android.exoplayer:exoplayer-dash:2.8+ as no versions of com.google.android.exoplayer:exoplayer-dash are available.
  Required by:
      project :

```
### Link to test content

I am able to reproduce with demos/main if I edit its build.gradle like this:

```
ext {
    exoplayer_version = '2.9+'
}

dependencies {
    implementation 'com.android.support:support-annotations:' + supportLibraryVersion
    //implementation project(modulePrefix + 'library-core')
    //implementation project(modulePrefix + 'library-dash')

    // Do not reference projects, try to pull in from (Google) repository
    implementation ('com.google.android.exoplayer:exoplayer-core:' + exoplayer_version)
    implementation ('com.google.android.exoplayer:exoplayer-dash:' + exoplayer_version)

    implementation project(modulePrefix + 'library-hls')
    implementation project(modulePrefix + 'library-smoothstreaming')
    implementation project(modulePrefix + 'library-ui')
    withExtensionsImplementation project(path: modulePrefix + 'extension-ffmpeg')
    withExtensionsImplementation project(path: modulePrefix + 'extension-flac')
    withExtensionsImplementation project(path: modulePrefix + 'extension-ima')
    withExtensionsImplementation project(path: modulePrefix + 'extension-opus')
    withExtensionsImplementation project(path: modulePrefix + 'extension-vp9')
    withExtensionsImplementation project(path: modulePrefix + 'extension-rtmp')
}

```

Output:

```
> Could not find any matches for com.google.android.exoplayer:exoplayer-core:2.9+ as no versions of com.google.android.exoplayer:exoplayer-core are available.
  Searched in the following locations:
...
    - https://dl.google.com/dl/android/maven2/com/google/android/exoplayer/exoplayer-core/maven-metadata.xml
    - https://dl.google.com/dl/android/maven2/com/google/android/exoplayer/exoplayer-core/
    - https://jcenter.bintray.com/com/google/android/exoplayer/exoplayer-core/maven-metadata.xml
    - https://jcenter.bintray.com/com/google/android/exoplayer/exoplayer-core/
  Required by:
      project :demo

```

Editing build.gradle was necessary because normally demos/main brings in exoplayer libraries from the same (local file system) repository / build hierarchy.

Full file with edits available here:

https://gist.github.com/kmansoft/e90624a702574fa9d7ab414dc05170c7

### Version of ExoPlayer being used
2.8+
Same with 2.9+

### Device(s) and version(s) of Android being used
N/A - build problem, not runtime problem

### Maybe this is the reason?

https://dl.google.com/dl/android/maven2/com/google/android/exoplayer/exoplayer-core/maven-metadata.xml

Gives me a ""404"" - same with exoplayer-dash instead of exoplayer-core.
",https://github.com/google/ExoPlayer/issues/5225#issuecomment-445572105,"I'm having the same problem.
Any workaround meanwhile?"
google/ExoPlayer,"**Issue Description**

On Xiaomi devices getting IllegalStateException for XiaomiTv devices. Here is the stacktrace

```
E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalArgumentException
        at android.media.MediaCodec.native_setSurface(Native Method)
        at android.media.MediaCodec.setOutputSurface(MediaCodec.java:1962)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setOutputSurfaceV23(MediaCodecVideoRenderer.java:1023)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.setSurface(MediaCodecVideoRenderer.java:435)
        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.handleMessage(MediaCodecVideoRenderer.java:401)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.deliverMessage(ExoPlayerImplInternal.java:958)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageToTarget(ExoPlayerImplInternal.java:929)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageInternal(ExoPlayerImplInternal.java:911)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:366)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:164)
        at android.os.HandlerThread.run(HandlerThread.java:65)
```


**Steps to reproduce**
1. Play any video(in Exoplayer demo as well) and do backpress, you will get the exception.

**Device Info**

**Decoder Name                                     Manufacturer     Model             Api Level**
OMX.amlogic.avc.decoder.awesome    Xiaomi                MiTV-AXSO0      27

Exoplayer Version

2.8.2 and above.

Worked when set the following in codecNeedsSetOutputSurfaceWorkaround

```
protected boolean codecNeedsSetOutputSurfaceWorkaround(String name) {
      //Xiaomi devices needs workaround
    if(name.equalsIgnoreCase(""OMX.amlogic.avc.decoder.awesome"")){
      return  true;
    }
}
```

As I can see for API 27 false is returned but this is happening on API 27.",https://github.com/google/ExoPlayer/issues/5169#issuecomment-443169496,Please could you provide a full bug report (`adb bugreport`) taken just after seeing the exception? I think this issue shouldn't happen from API 27 because device compatibility test suites have cover the functionality we're using. @ojw28 can confirm and recommend how to proceed.
google/ExoPlayer,"### Issue description
Hi, 
I'm implementing the audio track selection on my app using 'TrackSelectionView' as done in the demo app.
Everything works correctly except on some devices where the control to make the audio track selectable or not ""trackInfo.getTrackSupport (rendererIndex, groupIndex, trackIndex)"" returns me 2 (that is FORMAT_EXCEEDS_CAPABILITIES).

I specify that the default audio track is played correctly on these devices too.

I tried to customize the 'TrackSelectionView' class by removing this control and leaving all the audio tracks selectable; the result was that even on devices that previously did not allow to select audio tracks, these are now played correctly without apparent errors.

I wanted to ask you:
1 - Because leaving the standard implementation I can not select these audio tracks that are reproducible by the device?

2- Using my workaround, what problems could I encounter?


### Version of ExoPlayer being used
2.9.1

### Device(s) and version(s) of Android being used
Samsung A3 with Android 6.0
Samsung S3 Neo Android 4.4.2
",https://github.com/google/ExoPlayer/issues/5145#issuecomment-444511245,"Hi,

We experience the same issue since we migrated from ExoPlayer v2.8.4 to v2.9.1.

The problem occurs on several devices: Samsung Galaxy J5, Honor 5X, Xiaomi Redmi 4A, Amazon Fire Stick.

In the case of the Amazon Fire Stick, the problem is that ""decoder.isCodecSupported(format.codecs)"" returns false

decoder.name = ""OMX.google.aac.decoder""
decoder.mimeType = ""audio/mp4a-latm""
format.codecs = ""mp4a.40.2""

If I override the method to return true, it works perfectly... 

@ojw28 , are the audio capabilities more strict in the new ExoPlayer version?"
google/ExoPlayer,"Long story short, I think this commit has made the IntDef wrong ...

[check this](https://github.com/google/ExoPlayer/commit/32bd69d4b273869056f384fa81e0c685d38a80ce)

Screenshot below: 
- SHOW_BUFFERING_ALWAYS is changed from 1 to 2.
- SHOW_BUFFERING_WHEN_PLAYING is changed from 2 to 1.

<img width=""1430"" alt=""screen shot 2018-11-23 at 17 02 23"" src=""https://user-images.githubusercontent.com/1776230/48932939-9e25f300-ef41-11e8-803a-d6f330c724ec.png"">

",https://github.com/google/ExoPlayer/issues/5139#issuecomment-441181054,Not sure this makes it wrong. The idea of IntDefs is to use constants instead of number literals when working with these states. So changing the numbers shouldn't make a difference. Can you explain why this is a problem for your code?
google/ExoPlayer,"//Version
2.8.0

//Source code
Not provided - general question

//Description
I use SimpleCache to download HLS donwload streams as desribed in 
https://medium.com/google-exoplayer/downloading-streams-6d259eec7f95

And removal of these downloaded cache takes really long time. (Several hours for 1GB of data)
I suppose this is because of SimpleCache saving every chunk to a separate file and so it then takes a lot of time to remove all one by one.

My question is - can I somehow make SimpleCache save the whole thing into one big file?
I have tried creating my own version of CacheDataSink and sending everything to one file, but it seems to break the content index and download throws exception.

Is there some way to do it with SimpleCache or does saving to single file require a new Cache implementation?   
",https://github.com/google/ExoPlayer/issues/5136#issuecomment-443310741,@levz I see the same issue and was hoping not to do what your talking about in your solution. Did you have to copy/refactor most of the SimpleCache and task logic or just pieces?
google/ExoPlayer,"Hi,
Would it be possible to choose the Sensor type between TYPE_GAME_ROTATION_VECTOR and TYPE_ROTATION_VECTOR or change the way it is selected in the SphericalSurfaceView class by checking if the TYPE_GAME_ROTATION_VECTOR is present in the device.

Because my device, a Samsung SM-T700 API 23 does not possess the  TYPE_GAME_ROTATION_VECTOR but your check ""Util.SDK_INT >= 18 ? Sensor.TYPE_GAME_ROTATION_VECTOR : Sensor.TYPE_ROTATION_VECTOR"" return the TYPE_GAME_ROTATION_VECTOR so there is only the touch mode that is enabled but with the TYPE_ROTATION_VECTOR it works. So could it be possible to set to TYPE_ROTATION_VECTOR ? 

Thank you for your concern.

",https://github.com/google/ExoPlayer/issues/5119#issuecomment-441289424,"If `TYPE_GAME_ROTATION_VECTOR` is optional and we're not implementing a fallback, I'd consider this a bug?"
google/ExoPlayer,"### Issue description
Videos that are HDR but have been cropped to non-full resolution (e.g. 2.35 aspect) are not triggering the HDR mode on the TV when played.  Items that are not cropped do turn on HDR properly.

### Reproduction steps
Play the following video on an HDR capable set.

### Link to test content
https://drive.google.com/file/d/1uQGkgw8fkkrMFyKQ4fl9aOvi6RuhLQHX/view

### Version of ExoPlayer being used
2.9.1

### Device(s) and version(s) of Android being used
Tested on NVidia Shield running Android 8.0

### A full bug report captured from the device
Unable to capture report at this time.

",https://github.com/google/ExoPlayer/issues/5096#issuecomment-441322036,@andrewlewis - I think we'll need to follow up with the platform team about this. I'm not sure how it's supposed to work?
google/ExoPlayer,"The relevant code is in `MediaSessionConnector.java`:

```
  private int mapPlaybackState(int exoPlayerPlaybackState, boolean playWhenReady) {
    switch (exoPlayerPlaybackState) {
      case Player.STATE_BUFFERING:
        return PlaybackStateCompat.STATE_BUFFERING;
      case Player.STATE_READY:
        return playWhenReady ? PlaybackStateCompat.STATE_PLAYING : PlaybackStateCompat.STATE_PAUSED;
      case Player.STATE_ENDED:
        return PlaybackStateCompat.STATE_PAUSED;
      default:
        return PlaybackStateCompat.STATE_NONE;
    }
  }
```

It's unclear to me why `Player.STATE_ENDED` is mapped to `PlaybackStateCompat.STATE_PAUSED` instead of `PlaybackStateCompat.STATE_STOPPED`. I'd like to alter that mapping behavior in my own app, but unfortunately, this is a private method and the class itself is `final`, so I'm doubly prevented from making my own customizations.",https://github.com/google/ExoPlayer/issues/5072#issuecomment-436784988,"The reasoning behind this mapping is that with the MediaSession API, MediaControllerCompat.TransportControls.stop() in contrast to MediaControllerCompat.TransportControls.pause() implies that resources like codecs or the player itself can/should be freed. This is not the case for Player.STATE_ENDED.  If ExoPlayer is in the Player.STATE_ENDED seeking to a position somewhere before the end of the media makes the player transition to STATE_READY again. So no resources are freed.

Documentation of STATE_PAUSED and STATE_STOPPED is unclear around this though:
https://developer.android.com/reference/android/support/v4/media/session/PlaybackStateCompat.html#STATE_STOPPED

It might be implied here: https://developer.android.com/reference/android/support/v4/media/session/MediaControllerCompat.TransportControls.html#stop()

While the actual mapping of STATE_ENDED is compatible with that, I acknowledge that this hides the Player.STATE_ENDED which is not visible through the media session state with that mapping. So you can't detect when all media is played to the end. 

I think we should reconsider this and map Player.STATE_ENDED to PlaybackStateCompat.STOP which then would reflect that the media has been played to the end.

Am I correct you need to detect the STATE_END for your use case?"
google/ExoPlayer,"OsVersion==4.4.4 PhoneVersion==SM-G7200
ExoPlayer version: v2.9.0
The sample code is :
 ``DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter(); ``
 ``TrackSelection.Factory selectionFactory = new AdaptiveTrackSelection.Factory(bandwidthMeter);`` ``TrackSelector trackSelector = new DefaultTrackSelector(selectionFactory); ``
``mCurrentPlayer = ExoPlayerFactory.newSimpleInstance(TestActivity.this, trackSelector);`` ``PlaybackParameters playbackParameters = new PlaybackParameters(1.0f, 1.0F);`` ``mCurrentPlayer.setPlaybackParameters(playbackParameters);``
`` try {``
       String url = ""http://ep.dzb.ciwong.com/rep/38F79B83_E117_4727_A541_7642C18801CD.mp3""; 
       mCurrentPlayer.prepare(getMediaSource(url)); mCurrentPlayer.addListener(mEventListener); 
       mCurrentPlayer.setPlayWhenReady(true);
   } catch (Exception e)``
 ``{e.printStackTrace(); }

``private BaseMediaSource getMediaSource(String url) ``
``{ BaseMediaSource mediaSource = null;
 try { DefaultDataSourceFactory defaultDataSourceFactory = new DefaultDataSourceFactory(DemoApplication.getInstance(), Util.getUserAgent(DemoApplication.getInstance(), DemoApplication.getInstance().getString(R.string.application_name))); mediaSource = new ExtractorMediaSource(Uri.parse(url), defaultDataSourceFactory, new DefaultExtractorsFactory(), null, null); } catch (Exception e) { e.printStackTrace(); } return mediaSource; }``

``protected void playListener() {``
``if (mCurrentPlayer != null && mCurrentPlayer.getPlaybackState() == Player.STATE_READY``
``&& mCurrentPlayer.getPlayWhenReady()) {``
``Log.e(TAG, ""getDuration =="" + (long) mCurrentPlayer.getDuration()``
``+ "" getCurrentPosition =="" + (long) mCurrentPlayer.getCurrentPosition()``
``+"" getCurrentWindowIndex =="" + (long)``
``mCurrentPlayer.getCurrentWindowIndex());``
 ``  mHandler.postDelayed(new Runnable() {``
			``public void run() {``
				``playListener();``
			``}``
		``}, 200L);``
	``}``

``
[38F79B83_E117_4727_A541_7642C18801CD.zip](https://github.com/google/ExoPlayer/files/2541459/38F79B83_E117_4727_A541_7642C18801CD.zip)

}``
the log when play the mp3
getDuration ==1645 getCurrentPosition ==71
getDuration ==1645 getCurrentPosition ==71
getDuration ==1645 getCurrentPosition ==526
getDuration ==1645 getCurrentPosition ==728
getDuration ==1645 getCurrentPosition ==930
getDuration ==1645 getCurrentPosition ==1124
getDuration ==1645 getCurrentPosition ==-307
getDuration ==1645 getCurrentPosition ==-102
getDuration ==1645 getCurrentPosition ==100
getDuration ==1645 getCurrentPosition ==301
getDuration ==1645 getCurrentPosition ==493
getDuration ==1645 getCurrentPosition ==696
getDuration ==1645 getCurrentPosition ==900
getDuration ==1645 getCurrentPosition ==1103
getDuration ==1645 getCurrentPosition ==1295
getDuration ==1645 getCurrentPosition ==1498",https://github.com/google/ExoPlayer/issues/5045#issuecomment-435338666,"I don't see any negative timestamps in the content, so I think this must be related to `DefaultAudioSink` timing somehow?"
google/ExoPlayer,"### Issue description
Hello
We are using Exoplayer on our application. We have noticed that there is a difference on video quality between Exolplayer and Mediaplayer.
The picture quality is better on Mediaplayer and the video plays smoothly (the colors seem to be different). On the other hand, picture on Exoplayer is not so clear and video freezes time after time.
We are testing the same streams in both players

### Version of ExoPlayer being used
The version of exoplayer is 2.7.1

### Device(s) and version(s) of Android being used
We have tested on different devices, mainly in Android 4.4.2 STB

### A full bug report captured from the device


",https://github.com/google/ExoPlayer/issues/5003#issuecomment-432279272,"Could be related to #4559 which was fixed in version 2.9.0. Can you try updating to see if it still occurs? 
Besides that we would need example media to actually debug the problem. If you don't want to post it publicly, please send it to dev.exoplayer@gmail.com with ""Issue #5003"" in the subject."
google/ExoPlayer,"### Issue description
I am playing a custom created MPEG-DASH manifest that includes multiple periods.  Each period contains a single FMP4 segment that was created from ffmpeg using the following command line:
`ffmpeg -i - -f segment -segment_attclocktime 1 -strftime 1 -c:a libfdk_aac -b:a 32k -segment_format mp4 -segment_format_options movflags=empty_moov+default_base_moof+frag_keyframe ~/test/%FT%H-%M-%S%z.mp4
`
Each period contains a single segment, and uses the period duration along with the presentationTimeOffset to trim the first and last sample off of the period.   The segments, and thus the period durations vary, which is why each segment is in its own period.

When playing back, there is an audible gap between each period.  Because the period start-times are configured without a gap, I would expect the audio playback to be gapless.

### Reproduction steps
A reproduction app is available at:
https://github.com/ghexoplayerquestion/Repro

with the relevant code in the Android activity at:
https://github.com/ghexoplayerquestion/Repro/blob/master/app/src/main/java/com/example/ghexoplayerquestion/repro/MainActivity.java

During playback, the following is output on the debug console:

```
I/ExoPlayerImpl: Init 42b7916 [ExoPlayerLib/2.9.0] [generic_x86, Android SDK built for x86, Google, 28]
I/Choreographer: Skipped 48 frames!  The application may be doing too much work on its main thread.
I/OpenGLRenderer: Davey! duration=827ms; Flags=0, IntendedVsync=69241345581930, Vsync=69242145581898, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=69242153074100, AnimationStart=69242153958800, PerformTraversalsStart=69242156035700, DrawStart=69242157118400, SyncQueued=69242158809400, SyncStart=69242159321100, IssueDrawCommandsStart=69242159614500, SwapBuffers=69242164402600, FrameCompleted=69242173244900, DequeueBufferDuration=1560000, QueueBufferDuration=3441000, 
W/VideoCapabilities: Unrecognized profile 4 for video/hevc
I/VideoCapabilities: Unsupported profile 4 for video/mp4v-es
D/NetworkSecurityConfig: No Network Security Config specified, using platform default
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
I/OMXClient: IOmx service obtained
I/ACodec: codec does not support config priority (err -2147483648)
W/AudioTrack: getTimestamp() location moved from kernel to server
D/AudioTrack: stop() called with 587776 frames delivered
```

### Link to test content
The DASH manifest that reproduces this issue is:

```
<MPD xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" profiles=""urn:mpeg:dash:profile:isoff-main:2011"" mediaPresentationDuration=""PT0M11.508982S"" minBufferTime=""PT6S"" xmlns=""urn:mpeg:dash:schema:mpd:2011"">
  <Period start=""PT0S"" duration=""PT2.017435S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/1b4966c2-26f2-403a-8808-67b4d5488c8c.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
  <Period start=""PT2.017435S"" duration=""PT1.809909S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/f0d7b23b-878c-4be4-9832-6cf8539c6331.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
  <Period start=""PT3.827344S"" duration=""PT1.842343S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/a17539ae-8064-42a0-bd10-7d04cd2b2886.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
  <Period start=""PT5.669687S"" duration=""PT2.102876S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/dbb6292a-b0fd-4036-86fc-eb8f2f2bff6c.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
  <Period start=""PT7.772563S"" duration=""PT1.952418S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/21190726-7468-4c5d-893c-fe30f642788d.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
  <Period start=""PT9.724981S"" duration=""PT1.784001S"">
    <AdaptationSet mimeType=""audio/mp4"" codecs=""mp4a.40.2"" contentType=""audio"">
      <Representation audioSamplingRate=""44100"" id=""1"" bandwidth=""32000"">
        <BaseURL>https://rhhhloggermediastore.blob.core.windows.net/rh-logger-share/c662bb42-97ac-4eb4-b699-52a97932fd38.mp4</BaseURL>
        <SegmentBase timescale=""1000000"" presentationTimeOffset=""21333"" />
      </Representation>
    </AdaptationSet>
  </Period>
</MPD>
```

### Version of ExoPlayer being used
ExoPlayer version 2.9.0

### Device(s) and version(s) of Android being used
Reproduces on Android emulator:
Nexus 5X, 5.2 1080x1920 xxhdpi
Android API 28 x86

### A full bug report captured from the device
The bug report is attached.
[bugreport.zip](https://github.com/google/ExoPlayer/files/2439816/bugreport.zip)
",https://github.com/google/ExoPlayer/issues/4899#issuecomment-426556608,"Thanks for the interesting manifest. Things we found:

1. There's a bug in the buffered position reported by the player (during playback you may observe the buffering position show that all 5 periods are buffered, then incorrectly snap back to the period boundaries during playback). This is unrelated to what you're actually asking about, but we'll fix it :).
1. We're not clipping the samples that end up with negative timestamps in this case, or the ones that end up extending beyond the period duration. We'll fix this too and it makes playback a bit better, but I can still here some slight discontinuities.

A few observations about the manifest itself:

1. It doesn't really matter (and we'll still handle this case), but the DASH specification discourages what you're doing: ""Media Segments should not contain any presentation time that is smaller than the value of the @presentationTimeOffset"". I believe the outcome of recent DASH-IF discussions was that this should be allowed, but specifically in the case where each representation is a segment consisting of multiple sub-segments (and a segment index that's accessible from the manifest).
1. Trying to clip with sample accuracy via the manifest seems very error prone. As an example of why, your sample uses different timescales in the manifest (`1000000`) and media (`1000`). In the media the second sample has timestamp `21000`, but the clipping specified by the manifest clips at `21333`. We end up clipping two samples as a result, rather than one.
1. The durations of the periods in the manifest don't appear to correspond to clipping one sample from the end of each period.
1. Even when I manually edit the manifest to clip exactly one sample from the start and end of each period, there is still a slight audible discontinuity. It's unclear whether the content has been prepared in a way that allows for true gapless playback.

At a higher level, it's unclear what you're trying to achieve. There's no need to start a new period to accommodate different segment durations. Periods are typically for use when the content actually changes (e.g. transition from one song to another, or from content to an ad). I also don't understand why you're having to clip from the start and end of each segment. Why are they there in the first place? It's pretty common to have variable segment length AAC in DASH and I've never seen this being necessary before, so there's likely a shortcoming with how you're preparing the media.

So TLDR - We'll fix the issues identified at the top. It'll make things a bit better, but there will still be an audible discontinuity. I think the real fix is to prepare the content in a better way."
google/ExoPlayer,"hi 

### Issue description
i reported subtitle issue
https://github.com/google/ExoPlayer/issues/4824

above link is my old issue link.
i checked commit contents today and i checked if this issue was solved.
my opinion about my old issue is ""YES"" .
Trackselector gets subtitle information properly.

but  subtitle list is disable  because getTrackSupport function returns subtitleRendererCapabilities.FORMAT_UNSUPPORTED_DRM

so i couldn't change subtitle language.

my test contents is just non-drm smooth streaming with subtitles.


### Link to test content
i will send you my test link.

### Version of ExoPlayer being used
2.8.3

### Device(s) and version(s) of Android being used
version : 8.0
device : xiomi mibox3


",https://github.com/google/ExoPlayer/issues/4838#issuecomment-422896360,"> my test contents is just non-drm smooth streaming with subtitles.

It looks like at least the audio and video are DRM'd. Are you referring only to the text streams? If so then I see your point, but it's unclear to me how the player should determine that the text streams are not DRM protected as well. The manifest structure looks a bit like:
```
SmoothStreamingMedia
    Protection
    StreamIndex(video)
    StreamIndex(audio)
    StreamIndex(text)
```
Which we interpret as the `Protection` element applying to all of the `StreamIndex` elements, including the text one. The player then decides the text stream is not supported, because we don't support DRM protected text.

Are you aware of anything in SmoothStreaming specification that defines which `StreamIndex` elements a `Protection` element should apply to? We could ""fix"" the problem by not applying it to elements with `Type=""text""`, but I can't see it defined anywhere that this is correct client behavior, so it's somewhat unclear whether that's the right thing to do. Any ideas?"
google/ExoPlayer,"### Issue description
Currently in my project I use ExoPlayer r2.4.4. Half year ago I tried to upgrade to 2.6.2 and got many complains from users, app crashes on some devices, mostly TV boxes were affected, but some mobile devices too. My app has 100K users daily and is running on very different devices. Because I did not know a reason and I decided to return back to 2.4.4. In this case Firebase Crashlytics do not report about exceptions from ExoPlayer. One of my user has H96 Pro+ device, this device has a this problem. I decided to repeat a problem with version 2.8.4. I sent to a user apk for testing. He said app crashed. And again I couldn't find exception in the Crashlytics. Because Proguard gave me some problems with RenderScript and Google Cast(TM) I decided to add ExoPlayer class to proguard-rules.pro file. And sent new apk to user. With such setting app doesn't crash.

`-keep class com.google.android.exoplayer.** {*;}`

### Reproduction steps
Run app with ExoPlayer 2.8.4 on H96 Pro+ with Proguard enabled

### Link to test content
App crashes when playing HLS

### Version of ExoPlayer being used
2.8.4

### Device(s) and version(s) of Android being used
H96 Pro+ and some other

### A full bug report captured from the device
Couldn't catch an exceptions on my test devices

",https://github.com/google/ExoPlayer/issues/4827#issuecomment-422086766,"In v2 the package name changed to `com.google.android.exoplayer2` (with a 2 on the end), so, given the proguard configuration made a difference, I wonder whether the problem is not in your direct usage of ExoPlayer but in another of your app's dependencies which bundles ExoPlayer v1.

To make progress on this, could you ask the user with the H96 Pro+ device to take a bug report after reproducing the error so we can see what the crash is?"
google/ExoPlayer,"So, I just updated from version
implementation 'com.google.android.exoplayer:exoplayer-core:2.8.1'
implementation 'com.google.android.exoplayer:exoplayer-hls:2.8.1'
to version
implementation 'com.google.android.exoplayer:exoplayer-core:2.8.4'
implementation 'com.google.android.exoplayer:exoplayer-hls:2.8.4'
And on most devices and emulators application started crashing, even tho it's still works fine on my main OnePlus 3 Android 8.0.

Exception occurs once I add an additional data source(-s) to ConcatenatingMediaSource in order to start preloading process of the next clips.
Here is first exception:
```
09-14 10:46:49.718 E/ExoPlayerImplInternal: Internal runtime error.
    java.lang.IllegalStateException
        at com.google.android.exoplayer2.util.Assertions.checkState(Assertions.java:81)
        at com.google.android.exoplayer2.source.hls.playlist.DefaultHlsPlaylistTracker.start(DefaultHlsPlaylistTracker.java:99)
        at com.google.android.exoplayer2.source.hls.HlsMediaSource.prepareSourceInternal(HlsMediaSource.java:373)
        at com.google.android.exoplayer2.source.BaseMediaSource.prepareSource(BaseMediaSource.java:137)
        at com.google.android.exoplayer2.source.CompositeMediaSource.prepareChildSource(CompositeMediaSource.java:109)
        at com.google.android.exoplayer2.source.ConcatenatingMediaSource.addMediaSourceInternal(ConcatenatingMediaSource.java:554)
        at com.google.android.exoplayer2.source.ConcatenatingMediaSource.handleMessage(ConcatenatingMediaSource.java:468)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.deliverMessage(ExoPlayerImplInternal.java:861)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageToTarget(ExoPlayerImplInternal.java:829)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.sendMessageInternal(ExoPlayerImplInternal.java:811)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:328)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:154)
        at android.os.HandlerThread.run(HandlerThread.java:61)`

And here is the second one, that happens right after the first ""internal"" one:
`09-14 10:46:49.860 E/AndroidRuntime: FATAL EXCEPTION: ExoPlayerImplInternal:Handler
    Process: media.soundstream.soundstream, PID: 8193
    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.exoplayer2.upstream.Loader.release()' on a null object reference
        at com.google.android.exoplayer2.source.hls.playlist.DefaultHlsPlaylistTracker.stop(DefaultHlsPlaylistTracker.java:113)
        at com.google.android.exoplayer2.source.hls.HlsMediaSource.releaseSourceInternal(HlsMediaSource.java:404)
        at com.google.android.exoplayer2.source.BaseMediaSource.releaseSource(BaseMediaSource.java:150)
        at com.google.android.exoplayer2.source.CompositeMediaSource.releaseSourceInternal(CompositeMediaSource.java:65)
        at com.google.android.exoplayer2.source.ConcatenatingMediaSource.releaseSourceInternal(ConcatenatingMediaSource.java:423)
        at com.google.android.exoplayer2.source.BaseMediaSource.releaseSource(BaseMediaSource.java:150)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.resetInternal(ExoPlayerImplInternal.java:802)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.stopInternal(ExoPlayerImplInternal.java:731)
        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:353)
        at android.os.Handler.dispatchMessage(Handler.java:98)
        at android.os.Looper.loop(Looper.java:154)
        at android.os.HandlerThread.run(HandlerThread.java:61)
```

I checked out the source code of DefaultHlsPlaylistTracker and I am kinda confused. The only place where initialPlaylistLoader sets to non null value is.. right after it gets checked on being non-null and Exception gets thrown.

Thank you in advance.",https://github.com/google/ExoPlayer/issues/4814#issuecomment-421326208,Are you by any chance calling `releaseSource` on `HlsMediaSource` instances directly from application code? You shouldn't do that if so (see the `releaseSource` Javadoc).
google/ExoPlayer,"When you have a `SubtitleView` with custom layout measurement (Parent view has match_parent for both dims and `SubtitleView` has smaller size and positioned in center) `SubtitlePainter` will draw cues somewhere outside of `SubtitleView`'s viewport and you'll see nothing.

Bug is probably located in `SubtitlePainter ` in method `setupTextLayout()` on the line 346
`textTop = parentBottom - textHeight - (int) (parentHeight * bottomPaddingFraction);`
it's necessary to decrement `parentTop` as well.
Should be: `textTop = parentBottom - parentTop - textHeight - (int) (parentHeight * bottomPaddingFraction);`

Version 2.8.4
Thanks
",https://github.com/google/ExoPlayer/issues/4788#issuecomment-419431245,"Not sure this is correct. The text is positioned relative to the bottom edge of the parent. Thus we subtract the height of the text and the padding from the bottom edge to get the top of the text. This is independent of the top of the parent and it may mean that the position ""overflows"" the top. 

Could it be that your SubtitleView is just too small to fit the text? Try changing the bottom padding fraction (`subtitleView.setBottomPaddingFraction`) and/or the text size (`subtitleView.setFractionalTextSize` or `subtitleView.setFixedTextSize`)."
google/ExoPlayer,"### Issue description
We're having some issues playing Widevine-encrypted content on Amlogic STB with Android 6.0.1. When playing Widevine-encrypted DASH containing video with resolution higher than 720p, it shows the following error when processing the first license request response.

```
09-06 10:37:15.519 3760-4613/? I/WVCdm: CdmEngine::AddKey
09-06 10:37:15.694 3760-4613/? E/WVCdm: PolicyEngine::SetLicense Key ''
PolicyEngine::SetLicense Key '30303030303030303030303030303033'
PolicyEngine::SetLicense Key '30303030303030303030303030303032'
PolicyEngine::SetLicense Key '30303030303030303030303030303030'
PolicyEngine::SetLicense Key '30303030303030303030303030303037'
PolicyEngine::SetLicense Key '30303030303030303030303030303031'
PolicyEngine::SetLicense Key '30303030303030303030303030303034'
PolicyEngine::SetLicense Key '30303030303030303030303030303035'
PolicyEngine::SetLicense Key '30303030303030303030303030303036'
```

When trying to switch to video higher than 720p, eg. 1080p, the player crashes with following error.

```
09-06 10:37:25.673 7529-7529/com.google.android.exoplayer2.demo D/EventLogger: decoderInputFormatChanged [11.97, 9.56, window=0, period=0, video, id=4, mimeType=video/avc, bitrate=18320008, res=1920x856, fps=24.0]
09-06 10:37:25.674 7529-7529/com.google.android.exoplayer2.demo D/EventLogger: downstreamFormatChanged [11.97, 9.56, window=0, period=0, id=4, mimeType=video/avc, bitrate=18320008, res=1920x856, fps=24.0]
09-06 10:37:27.910 3760-7611/? D/AmlogicVideoDecoderAwesome: omx output size changed from 320*142 to 1920*856
09-06 10:37:27.912 3760-3760/? D/AmlogicVideoDecoderAwesome: get native buffer info NV:w:320,h:142..
09-06 10:37:27.912 3760-4614/? D/OmxVideoDecoder: getConfig 1001 0x700000f
getConfig 1004 nIndex 0x700000f
getConfig OMX_IndexConfigCommonOutputCrop pRect->nWidth=1920, pRect->nHeight=856
09-06 10:37:27.917 3760-4153/? E/WVCdm: height_ 856, security_level_ 3, 21-1b-a-bc
09-06 10:37:27.939 3760-4154/? E/WVCdm: height_ 856, security_level_ 3, 21-1b-f-ff
09-06 10:37:27.956 3760-3760/? E/WVCdm: height_ 856, security_level_ 3, 0-0-0-1
video return unknown_error
Decrypt error result in session sid2 during unencrypted block: 1
09-06 10:37:27.962 7529-7586/com.google.android.exoplayer2.demo E/ExoPlayerImplInternal: Playback error.
com.google.android.exoplayer2.ExoPlaybackException
at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:771)
at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:574)
at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518)
at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301)
at android.os.Handler.dispatchMessage(Handler.java:98)
at android.os.Looper.loop(Looper.java:148)
at android.os.HandlerThread.run(HandlerThread.java:61)
Caused by: android.media.MediaCodec$CryptoException: Unknown Error
at android.media.MediaCodec.native_queueSecureInputBuffer(Native Method)
at android.media.MediaCodec.queueSecureInputBuffer(MediaCodec.java:2292)
at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.feedInputBuffer(MediaCodecRenderer.java:762)
at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:574) 
at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:518) 
at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:301) 
at android.os.Handler.dispatchMessage(Handler.java:98) 
at android.os.Looper.loop(Looper.java:148) 
at android.os.HandlerThread.run(HandlerThread.java:61)
```

This is happening with both our content and Widevine test content present in ExoPlayer demo application.

We're not having this issue anywhere else except the Amlogic with Android 6.0.1. We have exactly the same implementation in mobile android application and it's playing on devices with Android 6.0.1. 

I realize this might be a device specific issue, we've already reported it to the STB vendor. But I would like to make sure that this error is not related to ExoPlayer.

### Reproduction steps
- Checkout r2.8.2 (There is more information in the log than r2.8.4)
- Play one of the Widevine encrypted videos, eg. Widevine DASH: MP4,H264 -> WV: Secure SD & HD (cenc,MP4,H264) using the ExoPlayer demo application
- Switch to a video track higher than 720p or wait for player to adapt to that bitrate.

### Link to test content
Content included in the ExoPlayer demo application will do.

### Version of ExoPlayer being used
2.8.2 (also happening on 2.7.3, 2.8.4)

### Device(s) and version(s) of Android being used
Amlogic STB with Android 6.0.1

### A full bug report captured from the device
Sent by email

",https://github.com/google/ExoPlayer/issues/4786#issuecomment-419828478,"That sounds very much like a device-specific problem. 

Unfortunately, we don't have this device for available for testing. But it sounds as if we could add a workaround for the device which blacklists all formats higher than 720p. Maybe the device codec claims support for these formats where in fact it shouldn't. Can you provide us with the values of `Build.DEVICE` and `Build.MODEL` to add such a workaround?"
google/ExoPlayer,Any pointers to Exoplayer support for detecting when a DASH Live stream has finished.Thanks.,https://github.com/google/ExoPlayer/issues/4780#issuecomment-419005389,"If the stream is actually finished, I'd assume that you receive an `onPlayerStateChanged` event with the playback state `Player.STATE_ENDED`. That depends on the manifest however. Do you have an example for a manifest with an ended live stream? "
google/ExoPlayer,"
### Issue description
Seeing error: ""ImaAdsLoader: AdEvent: {type=adLoadError, errorCode=1009, errorMessage=The response does not contain any valid ads.}"" when the post roll should be played. 
I am loading a vmap file with pre roll and post roll video. The pre roll ad is displayed but the post roll video is not played after the content ends. Testing on version 2.8.4 using my own app and com.google.android.exoplayer2.imademo PlayerManager using both ImaAdsLoader passing in the vmap URL or ImaAdsLoader.Builder.buildForAdsResponse and passing the vmap string. I have tested the vmap file on Google's Video Suite Inspector at https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector and the post roll played as expected so not sure why it's not playing on the Exoplayer's IMA SDK? 
[bug report.docx](https://github.com/google/ExoPlayer/files/2354277/bug.report.docx)



### Reproduction steps
  ImaAdsLoader.Builder builder = new  ImaAdsLoader.Builder(mContext);
    ImaAdsLoader imaAdsLoader = builder.buildForAdsResponse(vmap_XML);
    AdsMediaSource adsMediaSource = new AdsMediaSource(mediaSource, mediaDataSourceFactory, imaAdsLoader, playerView);

Same result using ImaAdsLoader imaAdsLoader = new ImaAdsLoader(context, ad_URI)  using the URI to the vmap rather than the actual vmap xml string. 

### Link to test content
Sending link and vmap xml to dev.exoplayer@gmail.com

### Version of ExoPlayer being used
2.8.4

### Device(s) and version(s) of Android being used
Nexus 5 running 6.0.1

### A full bug report captured from the device
Bug report attached

",https://github.com/google/ExoPlayer/issues/4779#issuecomment-419856184,Could you try to reproduce this on the `dev-v2` branch and let us know if it's still reproducible?
google/ExoPlayer,"We recently upgraded from 2.8.2 to 2.8.4 and now have some content where audio plays out of sync with the video.  Move back to 2.8.2 and the sync issue is gone.

I can try to provide a sample if needed but wanted to check if there is some known change that we can adjust to.

Thanks.",https://github.com/google/ExoPlayer/issues/4774#issuecomment-418679644,"We are not aware of any change which causes synchronization problems. Also depends on the type of media you are using to answer that question. Can you provide us with an example? If you don't want to post it publicly, please send it to dev.exoplayer@gmail.com with ""Issue #4474"" in the subject."
google/ExoPlayer,"We are trying to validate our existing production app on Android 9 device(Pixel 2) but the playback getting failed with the following stack trace:

```
Failed to handle provision response: General DRM error(com.quickplay.plugin.player.exoplayer:10403) - see exception  for the detail.\
    Exception:android.media.MediaDrm$MediaDrmStateException: Failed to handle provision response: General DRM error\
        at android.media.MediaDrm.provideProvisionResponseNative(Native Method)\
        at android.media.MediaDrm.provideProvisionResponse(MediaDrm.java:973)\
        at com.quickplay.google.android.exoplayer.drm.FrameworkMediaDrm.provideProvisionResponse(:138)
```
Version of ExoPlayer
2.6.1

Device:
Pixel 2

Android Version:
9.0

Content: WIDEWINE + DASH

Full bug report: emailed to dev.exoplayer@gmail.com

issue observed only on Android 9, lower versions playback is fine.

",https://github.com/google/ExoPlayer/issues/4772#issuecomment-418685737,Could you please provide us with an example file and Widevine license to reproduce the problem? Thanks!
google/ExoPlayer,"### Issue description
We have tested two H265 streams on a some set top boxes and mobile devices. Both streams are sent to dev.exoplayer@gmail.com along with the logs.

Stream 1 seems to be playing well on Sony mobile phone, but on our set top box visual playback seems to be jerking but the sound runs with no issues. At first we suspected that it might be a device issue, but when tested with a H265 stream from the Exoplayer sample app there doesnt seem to be any issue.
Are you guys able to shed some light on where the issues is? 

The second stream is failing to play at all. There's a ""Top bit not zero"" error, what could this issue be?

### Reproduction steps
Use sample app, insert provided links. Device used Vodafone UIW4030VHA box.

### Version of ExoPlayer being used
2.8.3

",https://github.com/google/ExoPlayer/issues/4765#issuecomment-418728438,"I can reproduce both issues.

For the second stream: The fragmented MP4 extractor can read all headers correctly (the values look plausible). But then starts reading the samples by getting the length of the NAL unit. This value doesn't seem to make sense at all (is either too large or negative). Could it be that the stream is faulty? Is it just this one stream or do you see the error in other cases too?

For the first stream: I can reproduce on a Nexus 6P and it looks like an encryption issue. @paf-wv Can you take a look at the first stream? "
google/ExoPlayer,"We are  testing multiple pre, mid & post roll Ads using Exoplayer 2.8.4 & IMA SDK v 3.9.4

Reproduction Steps:
1. Load the Exoplayer with VMAP configuration with multiple ore, post & mid roll Ads using an Ad Tag URI 
2. Exoplayer plays pre & mid roll Ads without any issues.
3. Exoplayer UI is stuck after first post-roll Ad is played & doesn't switch to the next post roll Ad. 

This issue is always reproducible. 
VMAP & Video of the logs are sent to Exoplayer team via mail.
",https://github.com/google/ExoPlayer/issues/4710#issuecomment-415832205,@psiddaraj This should be fixed on the dev-v2 branch. Please could you try it out and let us know if you see any issues? Thanks.
google/ExoPlayer,"### Issue description
On Android 8.0 and above after the none skippable midroll ads completed playing the player will just buffer

### Reproduction steps
1. Scrub to the nearest midroll cue
2. If the ads is skippable it will work so try and try to get none skippable ads

### Version of ExoPlayer being used
ExoPlayer 2.8.4 and 2.8.1
First observed at 2.8.1
And tried to update at 

### Device(s) and version(s) of Android being used
Pixel 2 Android 9.0
Samsung Phone Android 8.0
Pixel 2 Android 8.0

This issue is reproducible in the sample app by using the following parameters:
I emailed it to: dev.exoplayer@gmail.com 
Thanks",https://github.com/google/ExoPlayer/issues/4681#issuecomment-414219870,"I think there may be a combination of two different issues here.

The first is that the this ad tag has two empty midroll ad breaks. Handling of those should be fixed on `dev-v2` (see #4030), so please could you try this out on that branch and see if that issue is fixed?

The second is that if I seek past the third midroll we don't seem to get any notification from IMA that the ad break is empty (I see `[ima.adslist.AdBreak] Destroying the ad break, 992` in IMA's debug logging but this doesn't seem to be surfaced via the public API). This may be an IMA bug or a problem with the ad tag.

It would help with both issues if you could depend on the development branch, set `ImaAdsLoader.DEBUG` to true and reproduce both issues so I can check we're seeing the same thing. Thanks!"
google/ExoPlayer,"I use **ConcatenatingMediaSource** to play the video. After the first media **mp4** is added, the second carrier **m3u8** is added, and the Internet is disabled. I get the exception :

```HttpDataSourceException: It is impossible to connect to ...``` 

And the player stops the current playback of **mp4**. 

How to ignore **m3u8** in case it fails to load it?",https://github.com/google/ExoPlayer/issues/4661#issuecomment-414259282,"Can you please provide example media files to reproduce the issue? Also, please try to capture a bugreport (or copy the logcat) after the issue occurred. Thanks!"
google/ExoPlayer,"### Issue description
TL;DR Activity with a ViewPager, with ten-ish Fragments, most, but not all of them, each having an ExoPlayer, the later fragments will not have their notification play buttons work, while the first/earlier ones will.  Notification buttons always break after there's a gap in the ViewPager display hierarchy, of a fragment without an ExoPlayer in it.

Long Version:  I have an activity, which uses a ViewPager, which instantiates (via the ViewPager adapter) fragments, ten-ish.  Many fragment has an SimpleExoPlayer in it, but a few fragments do not (they just have an ImageView).  Each player gets set to a PlayerNotificationManager.  Each PlayerNotificationManager has a class implementer of MediaDescriptionAdapter set to it.

Depending on the layout/orientation, a fragment may get instantiated early, and held in memory, or instantiated real time, as the user swipes back/forth.

For the first fragment, showing a SimpleExoPlayer, and having a notification, the notification Play/Back buttons work fine (com.google.android.exoplayer.play).  The NotificationBroadcastReceiver, inside of the PlayerNotificationManager, has its onReceive(Context, Intent) called, when the buttons on the notification are pressed.

If swiping to the right once, you would have a non-SimpleExoPlayer fragment.  Swiping once more to the right, you would have a fragment with another SimpleExoPlayer, and a notification shows for it.  However, when pressing the buttons on the notification, nothing happens.  The broadcast receiver's onReceive method is not called.

If I restart the app, and go to a later page/fragment, the notification buttons may or may not work.  If I manually slide back and forth some, eventually, I can get some page's/fragment's notification buttons to work, even if they were not working previously in the same app run.

If I change the adapter to only instantiate one of the later fragments, in the view pager, it'll work fine.

The common thing that tends to break the notification buttons is as soon as you go past one/two view pages of a page/fragment that does not have a video player in it.  Some kind of internal tracking mechanism that assumes all pages in a ViewPager would have a player, maybe?

### Reproduction steps
Use a Nexus 10, API 26 (or any tablet)(though you can also see this via a phone/portrait, Nexus 6).  The code/app you will find in my github repo, link below.

Be sure to set a breakpoint in PlayerNotificationManager.NotificationBroadcastReceiver.onReceive(Context, Intent) beforehand.

Run the app.  Select ""Brownies"".  On the left side there is an ingredient, then a list of steps.  Select the first step, which is the second entry from the top, ""Step: Recipe Introduction"".  A player will display, and a notification icon shows at the top.  Pull down the notification drawer, and hit the play button.  The video will play.

Then, swipe from right to left.  You'll see a new fragment/page with only an image in it, no video player.  Note that there is no notification at the top.  Swipe right to left again.

You'll be at another fragment/page, and another notification icon will display.  Pull down the notification drawer.  The video may or may not play.  If it plays, swipe right to left, passing by any image pages, until you get to a page that has a video player that the notification play button does not work on.  It'll happen by the time you get 1/2 the way through the pages/fragments (there' usually 9-10ish), usually more no than one/two more swipes.

If you play around with the app, by swiping away several pages, then coming back, you can sometimes get a page/fragment's notification to work, that did not work, even during the same run.

Finally, the recycler view on the left, you can direct click on any of the entries, to take you straight to that page/fragment.  If you click on the first step, second entry in recycler view, it always works.  If you start the app, and click right away, without first swiping, one of the later pages/fragments, it won't work.  Note that the ViewPager adapter will instantiate pages/fragments to the left/right of the target page/fragement.

### Link to test content
https://github.com/aromanelli/BakingApp/blob/exoplayerviewpagernotify/app/src/main/java/info/romanelli/udacity/bakingapp/RecipeInfoStepFragment.java

### Version of ExoPlayer being used
'com.google.android.exoplayer:exoplayer:2.8.2'

### Device(s) and version(s) of Android being used
Emulator only, Nexus 6 and 10, API 26.


Final note.  I spent some time trying to debug PlayerNotificationManager/NotificationBroadcastReceiver, but could not find the problem.  I'm fairly new to Android programming, though a long-time JavaFX/Java Swing rich-client coder, so I'm properly dangerous.  I can't imagine, if its just operator error, what I did wrong, even though its complicated code.  I was dealing with issues of the notification manager putting notification icons in the notification drawer for fragments/players that were not visible yet, or not showing notifications for pages/fragments that were visible, but had been already instantiated by the ViewPager's adapter, etc., so I may be doing something not according to spec, but it seems very straightforward that some pages get notifications with buttons that work, and some don't, and if I change how many fragments I load, pages/fragments that would not work before, work now.
",https://github.com/google/ExoPlayer/issues/4643#issuecomment-413689788,"@marcbaechinger - I think all those suggestions are good, and have other important benefits. But as a separate point, I'm not sure I understand why this doesn't work correctly, and I wonder whether we could fix it regardless?

Intuitively I think I'd expect all registered receivers to get a broadcast triggered from any notification. Which would not result in correct behavior, but could possibly be fixed by putting an extra identifier into the intents, or something along those lines. That said, what I think I'd expect doesn't sound consistent with the described behavior. So... What does actually happen? And do you think it's fixable as a task that's independent from whether designing an app in this way is a good idea or not :)?"
google/ExoPlayer,"### Issue description
Production users of my app are getting following crash sometimes.
Following is the crash logs -:

> Fatal Exception: java.lang.IndexOutOfBoundsException
       at com.google.android.exoplayer2.h.a.a(Assertions.java:68)
       at com.google.android.exoplayer2.source.y.a(SinglePeriodTimeline.java:186)
       at com.google.android.exoplayer2.source.h$b.a(ConcatenatingMediaSource.java:841)
       at com.google.android.exoplayer2.source.a.a(AbstractConcatenatedTimeline.java:176)
       at com.google.android.exoplayer2.a.a$b.a(AnalyticsCollector.java:778)
       at com.google.android.exoplayer2.a.a$b.a(AnalyticsCollector.java:724)
       at com.google.android.exoplayer2.a.a.a(AnalyticsCollector.java:424)
       at com.google.android.exoplayer2.i$a.a(ExoPlayerImpl.java:746)
       at com.google.android.exoplayer2.i.a(ExoPlayerImpl.java:681)
       at com.google.android.exoplayer2.i.a(ExoPlayerImpl.java:622)
       at com.google.android.exoplayer2.i.a(ExoPlayerImpl.java:567)
       at com.google.android.exoplayer2.i$1.handleMessage(ExoPlayerImpl.java:109)
       at android.os.Handler.dispatchMessage(Handler.java:102)
       at android.os.Looper.loop(Looper.java:163)
       at android.app.ActivityThread.main(ActivityThread.java:6396)
       at java.lang.reflect.Method.invoke(Method.java)
       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)
       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:794)


### Reproduction steps
I am using Exoplayer DynamicConcatenatingMediaSource for prefetching next song in song queue.
I am keeping only two sources at a time in DynamicConcatenatingMediaSource.As soon as I get the third source for adding in DynamicConcatenatingMediaSource, I remove the previous index source from DynamicConcatenatingMediaSource.
[stacktrace.txt](https://github.com/google/ExoPlayer/files/2274286/stacktrace.txt)

Following is the code snippet I'm using -:

`public void onPositionDiscontinuity(int reason) {
        int newIndex = exoPlayer.getCurrentWindowIndex();
        if (newIndex != currentIndex) {
            // The index has changed; update the UI to show info for source at
            // newIndex
            currentIndex = newIndex;
            removeMediaSource(exoPlayer.getPreviousWindowIndex());
            currentIndex = exoPlayer.getCurrentWindowIndex();
        }
    }`


`
private void removeMediaSource(int index) {
        if (index >= 0 && index < dynamicConcatenatingMediaSource.getSize()) {
            dynamicConcatenatingMediaSource.removeMediaSource(index, new Runnable() {

                @Override
                public void run() {
                    if (exoPlayer == null) {
                        return;
                    }
                    currentIndex = exoPlayer.getCurrentWindowIndex();
                }
            });
        }
    }`


### Version of ExoPlayer being used
Exoplayer version - 2.8.2

### Device(s) and version(s) of Android being used
Device-Redmi Note 5    Android-7.1.2
Device-Moto G(4) Plus    Android-6.0",https://github.com/google/ExoPlayer/issues/4634#issuecomment-414272009,"I am also facing the exactly same crash in my app in production on exoplayer version 2.8.2. This crash happens while adding or removing media in ConcatenatingMediaSource using addMediaSource or removeMediaSource. This crash is affecting a large portion of our users, is there a fix or workaround for this ?"
google/ExoPlayer,"Hi,

I got issues with SimpleExoPlayer.getCurrentPosition() function when trying play high quality audio (FLAC type), it returns the value **increased by 2 seconds** when I tried to update the progress timer every second.

This caused the current time higher than song duration.

I tested on Android device:
Huawei Mate 10
OS: Android 8.0
Network: 4G

This does not happen on my other devices and MP4 audio.

Any ideas on why this happens and how we can eliminate it? Is this problem from FlacExtractor or FlacDecoder?
I'm using ExoPlayer version 2.8.2.

Thanks!",https://github.com/google/ExoPlayer/issues/4588#issuecomment-408389809,"Hi @dylantran09:
Could you provide us with some test media that you found this issue on? You can post a link here, or send it to dev.exoplayer@gmail.com using the subject ""Issue #4588"". Thank you very much."
google/ExoPlayer,in DownloadManager DEFAULT_MAX_SIMULTANEOUS_DOWNLOADS = 1; but when i start downloads multiple media like 6 or 7 it downloads 2 media same time not 1;,https://github.com/google/ExoPlayer/issues/4544#issuecomment-407077886,"How do you create DownloadManager? If you're using the DemoDownloadService code, it sets maxSimultaneousDownloads parameter to 2."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

The mount path of the persistent storage in our postgresql manifests, generated by our kubernetes sub-generator, is misconfigured. Postgres does its own ephemeral mount on `/var/lib/postgresql/data`, so the database only persists until the pod is deleted 


##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
Given you have a JHipster application using PostgreSQL:

1. generate k8s manifests using `jhipster kubernetes` (and choose dynamic storage provisioning)
2. deploy your application and generate some data
3. delete the PostgreSQL pod and wait until it is back up
4. examine the application for the data. All data should be lost

Reason:

PostgreSQL uses its own mount which overrides the existing, so if you `kubectl exec -it` into the running pod you can list the mounts to see the configuration:

``` bash
root@psql: mount
/dev/rbd2 on /var/lib/postgresql type ext4 (rw,relatime,stripe=1024,data=ordered)
/dev/sda1 on /var/lib/postgresql/data type ext4 (rw,relatime,errors=remount-ro,data=ordered)
```

(in my case I am using ceph-rbd as external storage)

##### **Suggest a Fix**

We should add a subMount path to the configuration, like this:
```
apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-postgresql
spec:
  replicas: 1
  selector:
    matchLabels:
      app: app-postgresql
  template:
    metadata:
      labels:
        app: app-postgresql
    spec:
      volumes:
        - name: data
          persistentVolumeClaim:
            claimName: app-postgresql-pvc
      containers:
        - name: postgres
          image: postgres:11.6
          env:
            - name: POSTGRES_USER
              value: App
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: app-postgresql
                  key: postgresql-password
          ports:
            - containerPort: 5432
          volumeMounts:
            - name: data
              mountPath: /var/lib/postgresql/data
              subPath: postgres
          resources:
            requests:
              memory: '512Mi'
              cpu: '500m'
            limits:
              memory: '1Gi'
              cpu: '1'
```

Then, the mount table is showing only one mount, and the data persists after pod restarts...

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**
6.6.0


-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/11184#issuecomment-584860296,"btw, the #11185 generates ""subPath"" attribute, I think it should be `subPath`?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

As explained in #10909, Actuator health endpoint API has breaking changes in Spring Boot 2.2

So at least in Angular health page is empty with current master.

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

Health page should work.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

Generate app with current master, run it, and navigate to Administration --> Health

Error in browser console and page is empty.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

Switching to Actuator API v2 as described in #10909 fixes this problem.

But there is also a new health indicator `ping` which has no translation ATM. This translation must be added.

But better fix is to migrate health page to Actuator API v3.

##### **JHipster Version(s)**

```
jhipster@0.0.1-SNAPSHOT C:\projects\teest\jhipster-spring-boot-2-2
`-- generator-jhipster@6.6.0  -> C:\projects\kaido-github\generator-jhipster

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""et""
    },
    ""jhipsterVersion"": ""6.6.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""creationTimestamp"": 1577774332310,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""et"",
    ""languages"": [""et"", ""en"", ""ru""],
    ""blueprints"": []
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_231""
Java(TM) SE Runtime Environment (build 1.8.0_231-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)

git version 2.24.0.windows.2

node: v12.14.0

npm: 6.11.3

yeoman: 2.0.6

yarn: 1.17.3

Docker version 19.03.5, build 633a0ea

docker-compose version 1.24.1, build 4667896b

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

Windows 10, Chrome

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/11060#issuecomment-569881974,"@kaidohallik : if I understand well, there are some impact on our JHipster Registry right ?
- JHipster Registry uses SB2.1
- our applications will use SB2.2
- will our Registry be compatible with old and new applications ? I'm not sure, so it could be a breaking change here "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
JDL exported from a new generated all default application is invalid.
```
SyntaxError: Error: MismatchedTokenException: Expecting --> '}' <-- but found --> 'packageFolder' <--
	at line: 13, column: 5
    at callApiMethod (.../generator-jhipster/node_modules/jhipster-core/lib/readers/jdl_reader.js:99:11)
```

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

`jhipster` with all default.
`jhipster export-jdl`
`jhipster import-jdl folderName.jdl`
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

JDL is been exported with invalid fields and values.
`packageFolder` field seems invalid.
`jhipsterVersion 6.5.1` 6.5.1 value seems invalid.
<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

master
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
-->
  <details>
  <summary>JDL definitions</summary>
  <pre>
     application {
  config {
    databaseType sql
    devDatabaseType h2Disk
    enableHibernateCache true
    enableSwaggerCodegen false
    enableTranslation true
    jhiPrefix jhi
    languages [en]
    messageBroker false
    nativeLanguage en
    packageName com.mycompany.myapp
    packageFolder com/mycompany/myapp
    prodDatabaseType mysql
    searchEngine false
    serviceDiscoveryType false
    skipClient false
    skipServer false
    testFrameworks []
    websocket false
    jhipsterVersion 6.5.1
    applicationType monolith
    baseName jdl
    serverPort 8080
    authenticationType jwt
    cacheProvider ehcache
    buildTool maven
    jwtSecretKey ODE3ZjQ2MDZhYmVkYmU5MjA2MTUxY2M0OGIzZjk0YWI0YmViNmI4YWVhODk0MmQxNWY1Zjg2MTU3ZDcwZjQ0YjY1YmYyMjY2YTY2Yjk1YzQ4M2JkMmU2YzQwMGI0M2Y2NzczYmM0NDYwYmQ2N2QwYmFkNjg2NmEyZjViOTE5NTE=
    embeddableLaunchScript false
    useSass true
    clientPackageManager npm
    clientFramework angularX
    clientTheme none
    clientThemeVariant
    creationTimestamp 1576855458053
    entitySuffix
    dtoSuffix DTO
    otherModules []
    blueprints
    skipUserManagement false
  }
}
  </pre>
  </details>

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.5.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jdl"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""creationTimestamp"": 1576855458053,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en""],
    ""blueprints"": []
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_152""
Java(TM) SE Runtime Environment (build 1.8.0_152-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)

git version 2.21.0 (Apple Git-122.2)

node: v10.16.2

npm: 6.9.0

yeoman: 3.1.0

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/11012#issuecomment-568162641,Does it mean we need a new release of jhipster-core ?
jhipster/generator-jhipster,"##### **Overview of the feature request**
Because I have opened some PRs to improve the openapi-client subgenerator, and I want to open some new ones, I think it's better to centralize this work in a specific issue. There is the list below...

##### **Motivation for or Use Case**
Make the openapi-client great again !

##### **Related issues or PR**
-   [ ] When using openapi-client with date field the java.time.LocalDate is not imported https://github.com/jhipster/generator-jhipster/pull/10989
-   [ ] use lower case package instead of snake case one https://github.com/jhipster/generator-jhipster/pull/10987
- [ ] openapitools is imported but the dependance is not present
- [ ] Clean unused import in the model files

####

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/11001#issuecomment-567856932,why do you open a new ticket for that ? There is an already one: https://github.com/jhipster/generator-jhipster/issues/10510
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

The `otherEntityRelationshipNamePlural` field is not correctly filled

##### **Motivation for or Use Case**

It makes the generation of ManyToOne relationships incorrect when the relationship name is different than the other entity name

##### **Reproduce the error**

* Generate the app with the config below.
* In `Employee.java` the relationship to Company should be annotated with `@JsonIgnoreProperties(""awesomeEmployees"")`. Instead we get `@JsonIgnoreProperties(""employees"")` 

##### **Related issues**

#6793
#8991

Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
test@0.0.0 /home/cbornet/workspace/jhipsterapps/test
‚îî‚îÄ‚îÄ generator-jhipster@6.5.1 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.5.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""test"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""skipClient"": true,
    ""creationTimestamp"": 1576676291495,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""blueprints"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Company
entity Employee
relationship OneToMany {
  Company{awesomeEmployee} to Employee{company}
}

service Company, Employee with serviceImpl

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3)
OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed mode, sharing)

git version 2.17.1

node: v10.14.1

npm: 6.9.0

yeoman: 3.1.1

yarn: 1.9.4

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.17.1, build unknown

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10984#issuecomment-567546914,"@cbornet : I gave this a try with your exact `.yo-rc.json` and the JDL file and for me it worked correctly. The generated `Employee.java` file is as follows; 

```java
package com.mycompany.myapp.domain;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;

import javax.persistence.*;

import java.io.Serializable;

/**
 * A Employee.
 */
@Entity
@Table(name = ""employee"")
@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)
public class Employee implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @ManyToOne
    @JsonIgnoreProperties(""awesomeEmployees"")
    private Company company;

    // jhipster-needle-entity-add-field - JHipster will add fields here, do not remove
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public Company getCompany() {
        return company;
    }

    public Employee company(Company company) {
        this.company = company;
        return this;
    }

    public void setCompany(Company company) {
        this.company = company;
    }
    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here, do not remove

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Employee)) {
            return false;
        }
        return id != null && id.equals(((Employee) o).id);
    }

    @Override
    public int hashCode() {
        return 31;
    }

    @Override
    public String toString() {
        return ""Employee{"" +
            ""id="" + getId() +
            ""}"";
    }
}
```
Is there some other step I am missing in order to reproduce this error? :thinking: "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
I apologize if this is already tracked.
Very quickly, the default ngb-pagination component jhipster generates is builded with the following configuration:

~~~html
<ngb-pagination (pageChange)=""loadPage(page)"" [(page)]=""page"" [boundaryLinks]=""true""
                            [collectionSize]=""totalItems"" [maxSize]=""5"" [pageSize]=""itemsPerPage""
                            [rotate]=""true""></ngb-pagination>
~~~

Now what happen is that the `pageChange` event sends to `loadPage` the current page **before** the change. This means that if I am on page 1 and I try to navigate to page 2 I will still see page 1. Then if I try to navigate to page 4 I will see page 2, etc...
<!-- Explain the bug, if an error is being thrown a stack trace helps -->
##### **Motivation for or Use Case**
This way it is just unusable.
<!-- Explain why this is a bug for you -->

##### **Reproduce the error**
Create a new entity with pagination enabled.
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Suggest a Fix**
I was able to fix this putting `$event` as input instead of `page`:

~~~html
<ngb-pagination #pagination (pageChange)=""loadPage($event)"" [(page)]=""page [boundaryLinks]=""true"" [collectionSize]=""totalItems"" [maxSize]=""5"" [pageSize]=""itemsPerPage [rotate]=""true""></ngb-pagination>
~~~

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster configuration**

##### **JHipster Version(s)**

```
jhiptest@0.0.1-SNAPSHOT C:\Users\user\jhiptest
+-- generator-jhipster@6.5.1
`-- generator-jhipster-elasticsearch-reindexer-2@1.2.2
  `-- generator-jhipster@6.5.1  deduped

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""applicationType"": ""monolith"",
    ""gitCompany"": """",
    ""baseName"": ""jhiptest"",
    ""packageName"": ""com.jhiptest.admin"",
    ""packageFolder"": ""com/jhiptest/admin"",
    ""serverPort"": 8080,
    ""serviceDiscoveryType"": ""eureka"",
    ""authenticationType"": ""jwt"",
    ""uaaBaseName"": ""../uaa"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": ""elasticsearch"",
    ""enableSwaggerCodegen"": false,
    ""messageBroker"": false,
    ""buildTool"": ""gradle"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""it"",
    ""languages"": [
      ""en"",
      ""it""
    ],
    ""clientFramework"": ""angularX"",
    ""jhiPrefix"": ""jhi"",
    ""jhipsterVersion"": ""6.5.1"",
    ""jwtSecretKey"": ""-"",
    ""embeddableLaunchScript"": false,
    ""clientTheme"": ""none"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""blueprints"": []
  },
  ""git-provider"": ""-"",
  ""git-company"": ""-"",
  ""repository-name"": ""-""
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Tag {
  description String required minlength(1) maxlength(255)
}
dto Tag with mapstruct
paginate Tag with pagination
service Tag with serviceImpl
search Tag with elasticsearch

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.4+11, mixed mode)

git version 2.23.0.windows.1

node: v10.16.3

npm: 6.9.0

yeoman: 3.1.0

Docker version 19.03.2, build 6a30dfc

docker-compose version 1.24.1, build 4667896b

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
  <details>
  <summary>JDL definitions</summary>
  <pre>
     JDL content here
  </pre>
  </details>
-->

##### **Browsers and Operating System**
Tested on Windows 10 Home and Pro with Chrome and Firefox (latest versions)
<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10931#issuecomment-565737530,"@ChainlessWEB : Hi, thanks for the report. :smile: 

I tried to recreate this issue generating the project with the exact same entities but I couldn't see any problem with the pagination. Here's a screen-cast. Are you seeing something different? 

![Peek 2019-12-14 09-36](https://user-images.githubusercontent.com/12435965/70852439-3eed9600-1e56-11ea-9a20-c1eeac9be7c8.gif)
"
jhipster/generator-jhipster,"##### **Overview of the issue**

If I try to do `jhipster ci-cd` for Azure Pipelines it fails

```
> jhipster ci-cd
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:ci-cd
INFO! Options: from-cli: true
üöÄ Welcome to the JHipster CI/CD Sub-Generator üöÄ
? What CI/CD pipeline do you want to generate? Azure Pipelines
SyntaxError: Map keys must be unique; ""displayName"" is repeated (29:5)
  27 |   # Tests
  28 |   #----------------------------------------------------------------------
> 29 |   - script: npm install
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 30 |     displayName: 'INSTALL: launch npm install'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 31 |     displayName: 'TESTS: backend'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 32 |     displayName: 'TESTS: frontend'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 33 |     displayName: 'TESTS: packaging'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 34 |
```

##### **Motivation for or Use Case**

Well, I can not generate Azure CI-CD pipelines.

##### **Reproduce the error**

1. Generate simple frontend only project `jhipster --skip-server`
1. Execute `jhipster ci-cd`
1. Choose Azure Pipelines


##### **JHipster Version(s)**

```
act-tool@0.0.1-SNAPSHOT D:\ACTTool\Repos\App-ACTTool-FrontEnd-SysAdmin
`-- generator-jhipster@6.5.1

```

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**

<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.5.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""ACTTool"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""cosmo"",
    ""clientThemeVariant"": ""light"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fr"",
      ""de""
    ],
    ""blueprints"": [],
    ""skipServer"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_231""
Java(TM) SE Runtime Environment (build 1.8.0_231-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)

git version 2.22.0.windows.1

node: v13.2.0

npm: 6.13.1

Docker version 19.03.5, build 633a0ea

docker-compose version 1.24.1, build 4667896b

##### **Browsers and Operating System**

Browser: Chrome
OS: Windows 10
Shell: Powershell

-   [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/10927#issuecomment-565485515,"Problem is that if skipping server then `buildTool` is not defined.

So https://github.com/jhipster/generator-jhipster/blob/master/generators/ci-cd/templates/azure-pipelines.yml.ejs#L69-L73 doesn't generate script part - maybe use `npm`/`yarn` directly here instead of doing that via `gradle`/`maven`?

And https://github.com/jhipster/generator-jhipster/blob/master/generators/ci-cd/templates/azure-pipelines.yml.ejs#L76-L80 - if server side is not generated then this probably needs to be excluded with condition `if (!skipServer)`
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

If generator and generated app Prettier version differ, which is the case ATM:

* generator-jhipster: 1.16.4
* Angular: 1.18.2
* React: 1.18.2

then on regeneration can occur differences if not skipping Git commit hooks, because:

* on initial generation is app committed to Git which runs Prettier in generated app
* on regeneration Git commit is not done and sources are formatted only with generator Prettier

This is the case ATM, in Angular part `.yo-rc.json` and `page-ribbon.component.ts` are formatted differently in Prettier 1.16.4 and 1.18.2

##### **Motivation for or Use Case**

If files are not changed then no differences should be shown.

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

1. Generate app with the configuration pasted to this issue: `jhipster`
2. Regenerate app: `jhipster --force`

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

Didn't fine.

##### **Suggest a Fix**

2 solutions:

* Solution 1. Keep generator and generated app Prettier in sync.
* Solution 2. Add the following command to `end()` function in client generator (and maybe make this optional, for example run only if new switch `--prettier` is specified?):
```
this.spawnCommandSync(this.clientPackageManager, ['run', 'prettier:format']);
```

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

```
jhipster@0.0.1-SNAPSHOT C:\projects\teest\strict-shared
`-- generator-jhipster@6.5.1  -> c:\projects\kaido-github\generator-jhipster

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""et""
    },
    ""jhipsterVersion"": ""6.5.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""creationTimestamp"": 1575892239104,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""et"",
    ""languages"": [""et"", ""en"", ""ru""],
    ""blueprints"": []
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity BankAccount {
  name String required,
  bankNumber Integer,
  agencyNumber Long,
  lastOperationDuration Float,
  meanOperationDuration Double,
  balance BigDecimal required,
  openingDay LocalDate,
  lastOperationDate Instant,
  active Boolean,
  accountType BankAccountType,
  attachment AnyBlob,
  description TextBlob
}
entity TheLabel {
  labelName String required minlength(3)
}
entity Operation {
  date Instant required,
  description String,
  amount BigDecimal required
}
entity Department {
  name String required,
  description TextBlob,
  advertisement AnyBlob,
  logo ImageBlob
}
/**
 * JobHistory comment.
 */
entity JobHistory {
  startDate ZonedDateTime,
  endDate ZonedDateTime,
  language Language
}
entity Job {
  title String minlength(5) maxlength(25),
  type JobType,
  minSalary Long,
  maxSalary Long
}
/**
 * The Employee entity.\nSecond line in javadoc.
 */
entity Employee {
  /**
   * The firstname attribute.
   */
  firstName String,
  lastName String,
  email String,
  phoneNumber String,
  hireDate ZonedDateTime,
  salary Long,
  commissionPct Long
}
entity Location {
  streetAddress String,
  postalCode String,
  city String,
  stateProvince String
}
entity Task {
  title String,
  description String
}
entity GoldenBadge {
  name String
}
entity SilverBadge {
  name String
}
entity Identifier {
  name String required unique
}
entity Country {
  name String
}
entity Region {
  name String
}
enum BankAccountType {
  CHECKING,
  SAVINGS,
  LOAN
}
enum Language {
  FRENCH,
  ENGLISH,
  SPANISH
}
enum JobType {
  BOSS,
  SLAVE
}

relationship OneToOne {
  Department{location} to Location,
  Employee{user(login)} to User with jpaDerivedIdentifier
}
relationship OneToMany {
  BankAccount{operation} to Operation{bankAccount(name)},
  Employee{job} to Job{emp(lastName)},
  /**
   * A relationship
   */
  Department{employee} to
  /**
   * Another side of the same relationship,
   */
  Employee{department},
  Location{country} to Country{location},
  Country{area} to Region{country}
}
relationship ManyToOne {
  BankAccount{user(login)} to User,
  Employee{manager(lastName)} to Employee,
  Employee{sibag(name) required} to SilverBadge,
  Employee{gobag(name) required} to GoldenBadge,
  GoldenBadge{iden(name) required} to Identifier,
  SilverBadge{iden(name) required} to Identifier
}
relationship ManyToMany {
  Operation{theLabel(labelName)} to TheLabel{operation},
  JobHistory{department} to Department{history},
  JobHistory{job} to Job{history},
  JobHistory{emp(firstName)} to Employee{history},
  Job{chore(title)} to Task{linkedJob(title)}
}

dto BankAccount, Department, Employee, Location, GoldenBadge, SilverBadge, Identifier, Country, Region with mapstruct
service BankAccount, Location, Country with serviceImpl
service TheLabel, Department, Employee, GoldenBadge, SilverBadge, Identifier, Region with serviceClass
angularSuffix BankAccount with mySuffix
filter BankAccount, Employee
clientRootFolder BankAccount, TheLabel, Operation with test-root
paginate TheLabel, Job with pagination
paginate Operation, JobHistory, Employee with infinite-scroll

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_231""
Java(TM) SE Runtime Environment (build 1.8.0_231-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)

git version 2.24.0.windows.2

node: v12.13.0

npm: 6.11.3

yeoman: 2.0.6

yarn: 1.17.3

Docker version 19.03.5, build 633a0ea

docker-compose version 1.24.1, build 4667896b

##### **Browsers and Operating System**

Windows 10

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10902#issuecomment-563379094,"I have reproduced this by generating a default app without `--skip-install`, then `.yo-rc.json` and `page-ribbon.component.ts` show staged changes.  

Was not sure where this was coming from until now.  I usually generate my apps with `--skip-install`, which prevents this issue from happening.

Solution 1 is simple but could regress in the future if we don't upgrade `prettier` at the same time.  Would solution 2 work with apps that don't call `npm install` during generation?"
jhipster/generator-jhipster,"We're teaching a JHipster Workshop at The Progressive Web Experience today and told students they didn't need to have Git installed. Creating the app w/o Git installed works, but running the app with `gradlew` (on Windows) fails if Git isn't installed.

##### **Overview of the issue**

Gradle requires Git to run.

##### **Motivation for or Use Case**

Git shouldn't be a requirement to run JHipster.

##### **Reproduce the error**

Create a new app with Gradle and run `gradlew` to start it.

##### **JHipster Version(s)**

6.5.1

##### **JHipster configuration**

```json
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""org.jhipster.blog"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.5.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""blog"",
    ""packageName"": ""org.jhipster.blog"",
    ""packageFolder"": ""org/jhipster/blog"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""ZTg0OTUxYmE2YjNiMTc5NmNhZjFmZDg2YzExN2M1YzZjODVmN2Y3NWI3MzFmMmVlNjUyNWVjZWRlNjAzMDg0MTRhYTEyZjVhNGVhYzVlY2RkYjE4MzMyMGJhZjllNzEyODgwMjM3MDM0NGUzNThjMzk0MzMwOTg2NGFlMmJhOTA="",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""es""
    ],
    ""blueprints"": []
  }
}
```

##### **Browsers and Operating System**

* Windows 7 Professional
* Java 11

-   [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/10867#issuecomment-561284430,"Will have a look. At least I was aware of that and thought we had agreed on having it like this. The maven plugin fails ""smart"" right? It looks like the Gradle git plugin should handle the case not being in a git directory too. Maybe we have some configuration which prevents it. "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

The `import-jdl` is currently broken with relationships to User

Here the stacktrace:

```
‚ûú jhipster import-jdl bug-tracker.jh
INFO! Using JHipster version installed globally
INFO! Executing import-jdl bug-tracker.jh
INFO! Options: from-cli: true, inline: 
INFO! Found .yo-rc.json on path. This is an existing app
INFO! The JDL is being parsed.
Error: Can't add invalid relationship. Error: In the Many-to-One relationship from Ticket to User, only unidirectionality is supported for a Many-to-One relationship, you should create a bidirectional One-to-Many relationship instead.
Error while parsing applications and entities from the JDL Error: Can't add invalid relationship. Error: In the Many-to-One relationship from Ticket to User, only unidirectionality is supported for a Many-to-One relationship, you should create a bidirectional One-to-Many relationship instead.
Error: Can't add invalid relationship. Error: In the Many-to-One relationship from Ticket to User, only unidirectionality is supported for a Many-to-One relationship, you should create a bidirectional One-to-Many relationship instead.
```

##### **Reproduce the error**

Generate a default JHipster project, and use this JDL: 
https://github.com/jhipster/jdl-samples/blob/master/bug-tracker.jh

```
entity Project {
	name String
}

entity Label {
	label String required minlength(3)
}

entity Ticket {
	title String required,
	description String,
	dueDate LocalDate,
	done Boolean
}

relationship ManyToMany {
	Ticket{label(label)} to Label{ticket}
}

relationship ManyToOne {
	Ticket{project(name)} to Project,
	Ticket{assignedTo(login)} to User{ticket}
}

paginate Ticket with pagination
```

##### **Related issues**

It's probably related to JHipster Core 6.

##### **Suggest a Fix**


##### **JHipster Version(s)**

6.5.0 and master

",https://github.com/jhipster/generator-jhipster/issues/10771#issuecomment-553013295,"First issue is the one you mentioned @pmverma, can you guess the other one? "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->
jhipster info                          
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
xg-edfu-admin-website@0.0.1-SNAPSHOT /Users/calvinswinnen/Documents/projects/Qarad/xg-edfu-admin-website
‚îî‚îÄ‚îÄ generator-jhipster@6.5.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.qarad"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.5.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""xg_edfu_admin_website"",
    ""packageName"": ""com.qarad"",
    ""packageFolder"": ""com/qarad"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""blueprints"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Testt

</pre>
</details>


##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
jhipster export-jdl results in 
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:export-jdl application.jdl
INFO! Options: from-cli: true
ERROR! TypeError: Cannot read property 'error' of undefined
##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**


<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
1. create new application with jhipster 

2. 
jhipster export-jdl application.jdl
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:export-jdl application.jdl
INFO! Options: from-cli: true
ERROR! TypeError: Cannot read property 'error' of undefined

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
6.5

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
  <details>
  <summary>JDL definitions</summary>
  <pre>
     JDL content here
  </pre>
  </details>
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10768#issuecomment-552884267,cc @MathieuAA : can you help on this plz ?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

I create a clean project in Jhipster and Google Cloud Platform. Then, I run jhipster gae and I get errors that I think I should not get. May be it is my fault, but I do not see how. It may be a problem with permissions, but it does not find the project on GCP either. If I have to do something before I start, i have no clue. If it is my fault, please let me know where is the documentation that explains how-to do it. Thanks

##### **Motivation for or Use Case**

I'm using a clean project

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

**I sucessfully create a new project at GCP with no problems:**
```
C:\Users\USUARIO\AppData\Local\Google\Cloud SDK>gcloud projects create jhipstergae-321 --set-as-default
Create in progress for [https://cloudresourcemanager.googleapis.com/v1/projects/jhipstergae-321].
Waiting for [operations/cp.5152513577397205577] to finish...done.
Enabling service [cloudapis.googleapis.com] on project [jhipstergae-321]...
Operation ""operations/acf.f223305a-f054-42af-8a58-def023b715e5"" finished successfully.
Updated property [core/project] to [jhipstergae-321].
```
```
C:\Users\USUARIO\AppData\Local\Google\Cloud SDK>gcloud projects describe jhipstergae-321
createTime: '2019-11-08T09:35:11.085Z'
lifecycleState: ACTIVE
name: jhipstergae-321
projectId: jhipstergae-321
projectNumber: '61641827385'
```
**Then, I tried to run jhipster gae within a new created project (testgae):**

```
D:\JHipster\testgae>jhipster gae
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:gae
INFO! Options: from-cli: true
Welcome to Google App Engine Generator
? Google Cloud Project ID jhipstergae-321ERROR: (gcloud.projects.describe) User [XXXXX@gmail.com] does not have permission to access project [jhipstergae-321] (or it may not exist): The caller does not have permission
? Google Cloud Project ID jhipstergae-321
? In which Google App Engine location do you want to deploy ? europe-west3 - Frankfurt
ERROR: (gcloud.app.services.describe) NOT_FOUND: Could not find Application ""jhipstergae-321"".
? Google App Engine Service Name default
? Google App Engine Instance Class F4 - 2.4GHz, 1GB, Automatic Scaling
Instance Class ""F4"" can only be automatically scaled. Setting scaling type to automatic.
? How many instances minimum ? 1
? How many instances max (0 for unlimited) ? 1
? Initialize a new Cloud SQL instance (Y/N) ? Y
√ó Error: Command failed: gcloud sql instances list  --format='value[separator="":""](project,region,name)' --project=""jhipstergae-321""
ERROR: (gcloud.sql.instances.list) Name expected [:(settings.userLabels:alias=labels:label=LABELS) table(name,databaseVersion,firstof(gceZone,region):label=LOCATION,settings.tier,ip_addresses.filter(""type:PRIMARY"").map(1).extract(ip_address).flatten().yesno(no=""-""):label=PRIMARY_ADDRESS,ip_addresses.filter(""type:PRIVATE"").map(1).extract(ip_address).flatten().yesno(no=""-""):label=PRIVATE_ADDRESS,state:label=STATUS) *HERE* 'value[separator=:](project,region,name)'].

    at ChildProcess.exithandler (child_process.js:295:12)
    at ChildProcess.emit (events.js:210:5)
    at maybeClose (internal/child_process.js:1021:16)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:283:5) {
  killed: false,
  code: 1,
  signal: null,
  cmd: `gcloud sql instances list  --format='value[separator="":""](project,region,name)' --project=""jhipstergae-321""`
}
? Google Cloud SQL Instance Name New Cloud SQL Instance
? Google Cloud SQL Instance Name testgae
? Google Cloud SQL User Name root
? Google Cloud SQL Password [hidden]
? Google Cloud SQL Database Name testgae
Configuring Google App Engine Location ""europe-west3""

Creating New Cloud SQL Instance

... Running: gcloud sql instances create ""testgae"" --region='europe-west3' --project=jhipstergae-321 --database-version=""POSTGRES_9_6"" --tier=""db-g1-small""
√ó Error: Command failed: gcloud sql instances create ""testgae"" --region='europe-west3' --project=jhipstergae-321 --database-version=""POSTGRES_9_6"" --tier=""db-g1-small""
ERROR: (gcloud.sql.instances.create) HTTPError 400: Invalid request: Invalid value for region: 'europe-west3'.

    at ChildProcess.exithandler (child_process.js:295:12)
    at ChildProcess.emit (events.js:210:5)
    at maybeClose (internal/child_process.js:1021:16)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:283:5) {
  killed: false,
  code: 1,
  signal: null,
  cmd: `gcloud sql instances create ""testgae"" --region='europe-west3' --project=jhipstergae-321 --database-version=""POSTGRES_9_6"" --tier=""db-g1-small""`
}
ERROR: (gcloud.sql.instances.describe) HTTPError 404: The Cloud SQL instance does not exist.
child_process.js:660
    throw err;
    ^

Error: Command failed: gcloud sql instances describe testgae --format=""value(connectionName)"" --project=""jhipstergae-321""
ERROR: (gcloud.sql.instances.describe) HTTPError 404: The Cloud SQL instance does not exist.

    at checkExecSyncError (child_process.js:621:11)
    at execSync (child_process.js:657:15)
    at D:\JHipster\testgae\node_modules\generator-jhipster\generators\gae\index.js:609:52
    at ChildProcess.exithandler (child_process.js:302:5)
    at ChildProcess.emit (events.js:210:5)
    at maybeClose (internal/child_process.js:1021:16)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:283:5) {
  status: 1,
  signal: null,
  output: [
    null,
    '',
    'ERROR: (gcloud.sql.instances.describe) HTTPError 404: The Cloud SQL instance does not exist.\r\n'
  ],
  pid: 8264,
  stdout: '',
  stderr: 'ERROR: (gcloud.sql.instances.describe) HTTPError 404: The Cloud SQL instance does not exist.\r\n'
}

D:\JHipster\testgae>
```

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

None

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

Nope

<!--
Which version of JHipster are you using, is it a regression?
-->

V6.4.1

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---

D:\JHipster\testgae>jhipster info
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
testgae@0.0.1-SNAPSHOT D:\JHipster\testgae
`-- generator-jhipster@6.4.1

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.testgae.web"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.4.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""testgae"",
    ""packageName"": ""com.testgae.web"",
    ""packageFolder"": ""com/testgae/web"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""session"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""rememberMeKey"": ""YourJWTSecretKeyWasReplacedByThisMeaninglessTextByTheJHipsterInfoCommandForObviousSecurityReasons"",
    ""embeddableLaunchScript"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en"", ""es""],
    ""blueprints"": []
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""11.0.5"" 2019-10-15 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.5+10-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.5+10-LTS, mixed mode)

git version 2.23.0.windows.1

node: v12.13.0

npm: 6.12.0

Docker version 19.03.4, build 9013bf5

docker-compose version 1.24.1, build 4667896b

INFO! Congratulations, JHipster execution is complete!

D:\JHipster\testgae>
-->


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

No entities

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10749#issuecomment-552348035,"@Tonterias : Looking at your stack traces more closely, I believe the reason for the failure is the first error you are getting; 

`Google Cloud Project ID jhipstergae-321ERROR: (gcloud.projects.describe) User [XXXXX@gmail.com] does not have permission to access project [jhipstergae-321] (or it may not exist): The caller does not have permission`

Notice that you have provided the Project ID as `jhipstergae-321`. Are you sure this is the project ID? Normally project ID has a longer number than 321. You can get the project ID in your [GCP Dashboard under the Project Info section](https://ekababisong.org/assets/seminar_IEEE/GCP-dashboard.png). 

There are some other bugs and corner cases which I am aware of which you might run into even after correcting this Project ID. I am working on https://github.com/jhipster/generator-jhipster/pull/10420 and once that is merged (hopefully very soon; probably this week I'll be done with that) I think we should have a much better app engine generator :smile: 
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Initial schema creation fails when the Oracle DB (at least for 18c XE) is used.

```
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [com/mycompany/myapp/config/LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster:
     Reason: java.lang.NullPointerException
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:303)
	... 98 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster:
     Reason: java.lang.NullPointerException
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:637)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:53)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:83)
	at liquibase.Liquibase.update(Liquibase.java:202)
	at liquibase.Liquibase.update(Liquibase.java:179)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:305)
	at org.springframework.boot.autoconfigure.liquibase.DataSourceClosingSpringLiquibase.afterPropertiesSet(DataSourceClosingSpringLiquibase.java:46)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:118)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.afterPropertiesSet(AsyncSpringLiquibase.java:103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)
	... 107 common frames omitted
Caused by: java.lang.NullPointerException: null
	at liquibase.change.core.LoadDataChange.retrieveMissingColumnLoadTypes(LoadDataChange.java:628)
	at liquibase.change.core.LoadDataChange.generateStatements(LoadDataChange.java:283)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1209)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:600)
	... 118 common frames omitted
```

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
A fresh app must starts normally.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
- Generate a fresh new app selecting Oracle
- Start the app and it will fail

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
Add column definition inside `loadData` tag.
Fix from sample app https://github.com/pmverma/jhipster-hypersistence-oracle/commit/2b2dafe5bc5451f7503e7757ed17c9f9940edf6d
This will fix for Oracle, however, I have not tested for other DBs by adding column definition.

##### **JHipster Version(s)**

```
jhipster@0.0.0 /Users/sierra/github/temp/jh-ho-oracle
‚îî‚îÄ‚îÄ generator-jhipster@6.4.1 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""enableHibernateCache"": true,
    ""enableSwaggerCodegen"": false,
    ""enableTranslation"": false,
    ""jhiPrefix"": ""jhi"",
    ""languages"": [
      ""en"",
      ""fr""
    ],
    ""messageBroker"": false,
    ""nativeLanguage"": ""en"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""prodDatabaseType"": ""oracle"",
    ""searchEngine"": false,
    ""serviceDiscoveryType"": false,
    ""skipClient"": true,
    ""skipServer"": false,
    ""testFrameworks"": [],
    ""websocket"": false,
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""buildTool"": ""maven"",
    ""useSass"": true,
    ""jhipsterVersion"": ""6.4.1"",
    ""skipUserManagement"": false,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""embeddableLaunchScript"": false,
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""blueprints"": []
  },
  ""entities"": [
    ""EFive"",
    ""EFour"",
    ""EOne"",
    ""ESix"",
    ""EThree"",
    ""ETwo""
  ]
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity EFive {
  five String required
}
entity EFour {
  four AnyBlob required
}
entity EOne {
  one String required unique
}
entity ESix {
  six String required
}
entity EThree {
  three Instant required
}
entity ETwo {
  two Integer required
}
relationship OneToOne {
  ESix{user} to User with useJPADerivedIdentifier,
  EThree{user} to User
}
relationship OneToMany {
  EOne{eTwoO required} to ETwo{eOne required}
}
relationship ManyToOne {
  ETwo{eTwoT} to EOne
}
relationship ManyToMany {
  EFour{eFive} to EFive{eFour}
}

paginate EFive with pagination
paginate EOne with infinite-scroll
paginate ETwo with pager
service EFive, EFour, EOne, ESix, EThree, ETwo with serviceImpl
dto EThree with mapstruct

</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_222-b10)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.222-b10, mixed mode)

git version 2.20.1 (Apple Git-117)

node: v10.14.2

npm: 6.11.2

yeoman: 3.1.0

Docker version 19.03.2, build 6a30dfc

docker-compose version 1.24.1, build 4667896b

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10726#issuecomment-552765376,"@pmverma : as there is few user using Oracle, I think you're the only one can fix it.
Maybe apply your fix only for Oracle, so it won't impact the other DB ?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Currently we don't take into account regex patterns when it comes to our auto generation of e2e tests. This causes auto generated e2e tests to fail if a user has a JDL with regex patterns. For example this is one of the causes for the failure in our [daily keycloak builds](https://dev.azure.com/hipster-labs/jhipster-daily-builds/_build?definitionId=34&_a=summary). 

Is this something we should cover in our e2e tests? :thinking: 

##### **Motivation for or Use Case**

Getting the default E2E tests pass. 

##### **Reproduce the error**

Create a simple project with a JDL field including a regex pattern (example JDL given below)

##### **Related issues**

#10604

##### **Suggest a Fix**

We can probably create automated e2e test generation for regex with the help of http://fent.github.io/randexp.js/#r=sun%7Cmon

##### **JHipster Version(s)**

6.4.1

##### **JHipster configuration**
  <details>
  <summary>JDL definitions</summary>
  <pre>
entity Customer {
    firstName String required
    lastName String required
    email String required pattern(/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/)
    phone String required
    addressLine1 String required
    addressLine2 String
    city String required
    country String required
}
  </pre>
  </details>

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10704#issuecomment-547481533,"mhhh the regex works well for other configs, but it failed only for Keycloak. Do you know why ?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Elasticsearch error when re-running jhipster project: Error creating bean with name 'userService' defined in file ...
First time it runs without error. But when I re-run the project I get an error.
When I delete nodes in target/elasticsearch/data/nodes folder it runs succesfully but when I try to re-run again it fails with same error.

```
2019-10-29 09:49:36.950  INFO 5616 --- [  restartedMain] com.nokat.gazna.GaznaApp                 : Starting GaznaApp on HP with PID 5616 (D:\Projects\JHipster\Gazna\backend\target\classes started by Nury in D:\Projects\JHipster\Gazna\backend)
2019-10-29 09:49:36.954 DEBUG 5616 --- [  restartedMain] com.nokat.gazna.GaznaApp                 : Running with Spring Boot v2.1.9.RELEASE, Spring v5.1.10.RELEASE
2019-10-29 09:49:36.954  INFO 5616 --- [  restartedMain] com.nokat.gazna.GaznaApp                 : The following profiles are active: swagger,dev
2019-10-29 09:49:44.415 DEBUG 5616 --- [  restartedMain] c.ehcache.core.Ehcache-usersByLogin      : Initialize successful.
2019-10-29 09:49:44.431 DEBUG 5616 --- [  restartedMain] c.ehcache.core.Ehcache-usersByEmail      : Initialize successful.
2019-10-29 09:49:44.431 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.User          : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Authority     : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.gazna.domain.User.authorities  : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Region        : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Country       : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Location      : Initialize successful.
2019-10-29 09:49:44.446 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Department    : Initialize successful.
2019-10-29 09:49:44.462 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.g.domain.Department.employees  : Initialize successful.
2019-10-29 09:49:44.464 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Task          : Initialize successful.
2019-10-29 09:49:44.466 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Task.jobs     : Initialize successful.
2019-10-29 09:49:44.469 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Employee      : Initialize successful.
2019-10-29 09:49:44.471 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.gazna.domain.Employee.jobs     : Initialize successful.
2019-10-29 09:49:44.473 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Job           : Initialize successful.
2019-10-29 09:49:44.476 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Job.tasks     : Initialize successful.
2019-10-29 09:49:44.478 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.JobHistory    : Initialize successful.
2019-10-29 09:49:44.482 DEBUG 5616 --- [  restartedMain] c.nokat.gazna.config.AsyncConfiguration  : Creating Async Task Executor
2019-10-29 09:49:44.581 DEBUG 5616 --- [  restartedMain] c.n.gazna.config.LiquibaseConfiguration  : Configuring Liquibase
2019-10-29 09:49:44.781  WARN 5616 --- [   gazna-task-1] i.g.j.c.liquibase.AsyncSpringLiquibase   : Starting Liquibase asynchronously, your database might not be ready at startup!
2019-10-29 09:49:48.677 DEBUG 5616 --- [   gazna-task-1] i.g.j.c.liquibase.AsyncSpringLiquibase   : Liquibase has updated your database in 3896 ms
2019-10-29 09:49:48.807 DEBUG 5616 --- [  restartedMain] com.nokat.gazna.config.WebConfigurer     : Registering CORS filter
2019-10-29 09:49:48.874  INFO 5616 --- [  restartedMain] com.nokat.gazna.config.WebConfigurer     : Web application configuration, using profiles: swagger
2019-10-29 09:49:48.875  INFO 5616 --- [  restartedMain] com.nokat.gazna.config.WebConfigurer     : Web application fully configured
2019-10-29 09:49:49.112 DEBUG 5616 --- [  restartedMain] c.n.gazna.security.jwt.TokenProvider     : Using a Base64-encoded JWT secret key
2019-10-29 09:49:49.519  INFO 5616 --- [  restartedMain] a.d.j.ElasticsearchJestAutoConfiguration : Create test ES node
2019-10-29 09:49:50.196  WARN 5616 --- [  restartedMain] o.e.deprecation.script.ScriptModule      : Script: returning default values for missing document values is deprecated. Set system property '-Des.scripting.exception_for_missing_value=true' to make behaviour compatible with future major versions.
2019-10-29 09:49:52.238 DEBUG 5616 --- [  restartedMain] i.n.channel.MultithreadEventLoopGroup    : -Dio.netty.eventLoopThreads: 16
2019-10-29 09:49:52.252 DEBUG 5616 --- [  restartedMain] io.netty.channel.nio.NioEventLoop        : -Dio.netty.noKeySetOptimization: false
2019-10-29 09:49:52.253 DEBUG 5616 --- [  restartedMain] io.netty.channel.nio.NioEventLoop        : -Dio.netty.selectorAutoRebuildThreshold: 512
2019-10-29 09:49:52.397 DEBUG 5616 --- [  restartedMain] io.netty.channel.DefaultChannelId        : -Dio.netty.processId: 5616 (auto-detected)
2019-10-29 09:49:52.546 DEBUG 5616 --- [  restartedMain] io.netty.channel.DefaultChannelId        : -Dio.netty.machineId: 14:cc:20:ff:fe:17:c1:25 (auto-detected)
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.numHeapArenas: 16
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.numDirectArenas: 16
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.pageSize: 8192
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.maxOrder: 11
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.chunkSize: 16777216
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.tinyCacheSize: 512
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.smallCacheSize: 256
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.normalCacheSize: 64
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.maxCachedBufferCapacity: 32768
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.cacheTrimInterval: 8192
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.cacheTrimIntervalMillis: 0
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.useCacheForAllThreads: true
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.PooledByteBufAllocator   : -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.ByteBufUtil              : -Dio.netty.allocator.type: pooled
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.ByteBufUtil              : -Dio.netty.threadLocalDirectBufferSize: 0
2019-10-29 09:49:52.562 DEBUG 5616 --- [  restartedMain] io.netty.buffer.ByteBufUtil              : -Dio.netty.maxThreadLocalCharBufferSize: 16384
2019-10-29 09:49:59.341 DEBUG 5616 --- [er_worker][T#3]] io.netty.buffer.AbstractByteBuf          : -Dio.netty.buffer.checkAccessible: true
2019-10-29 09:49:59.341 DEBUG 5616 --- [er_worker][T#3]] io.netty.buffer.AbstractByteBuf          : -Dio.netty.buffer.checkBounds: true
2019-10-29 09:50:04.493  WARN 5616 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [D:\Projects\JHipster\Gazna\backend\target\classes\com\nokat\gazna\service\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userSearchRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Failed to build mapping for user:user
2019-10-29 09:50:04.493  INFO 5616 --- [  restartedMain] a.d.j.ElasticsearchJestAutoConfiguration : Closing Elasticsearch client
2019-10-29 09:50:04.493 DEBUG 5616 --- [er_worker][T#3]] io.netty.buffer.PoolThreadCache          : Freed 1 thread-local buffer(s) from thread: elasticsearch[wejQHpG][http_server_worker][T#3]
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.gazna.domain.User.authorities  : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Country       : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Location      : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Department    : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.g.domain.Department.employees  : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Region        : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Task          : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Authority     : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Task.jobs     : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.JobHistory    : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Job.tasks     : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.User          : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Job           : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.n.gazna.domain.Employee.jobs     : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.e.c.E.nokat.gazna.domain.Employee      : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.ehcache.core.Ehcache-usersByEmail      : Close successful.
2019-10-29 09:50:05.163 DEBUG 5616 --- [  restartedMain] c.ehcache.core.Ehcache-usersByLogin      : Close successful.
2019-10-29 09:50:05.233 ERROR 5616 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [D:\Projects\JHipster\Gazna\backend\target\classes\com\nokat\gazna\service\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userSearchRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Failed to build mapping for user:user
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at com.nokat.gazna.GaznaApp.main(GaznaApp.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userSearchRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Failed to build mapping for user:user
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 22 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository]: Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Failed to build mapping for user:user
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$getTargetRepositoryViaReflection$3(RepositoryFactorySupport.java:513)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:513)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:498)
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:74)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:305)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:211)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:67)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)
	... 33 common frames omitted
Caused by: org.springframework.data.elasticsearch.ElasticsearchException: Failed to build mapping for user:user
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.putMapping(JestElasticsearchTemplate.java:265)
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.putMapping(JestElasticsearchTemplate.java:277)
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.putMapping(JestElasticsearchTemplate.java:237)
	at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.putMapping(AbstractElasticsearchRepository.java:100)
	at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.<init>(AbstractElasticsearchRepository.java:88)
	at org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository.<init>(NumberKeyedRepository.java:36)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)
	... 46 common frames omitted
Caused by: org.springframework.data.elasticsearch.ElasticsearchException: failed to execute action
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.execute(JestElasticsearchTemplate.java:1131)
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.executeWithAcknowledge(JestElasticsearchTemplate.java:1136)
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.putMapping(JestElasticsearchTemplate.java:262)
	... 56 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
	at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
	at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)
	at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)
	at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
	at io.searchbox.client.http.JestHttpClient.executeRequest(JestHttpClient.java:136)
	at io.searchbox.client.http.JestHttpClient.execute(JestHttpClient.java:70)
	at io.searchbox.client.http.JestHttpClient.execute(JestHttpClient.java:63)
	at com.github.vanroy.springdata.jest.JestElasticsearchTemplate.execute(JestElasticsearchTemplate.java:1123)
	... 58 common frames omitted


Process finished with exit code 1

```

##### **Motivation for or Use Case**

After generating jhipster with elasticsearch I imported jdl file and I didn't do any code changes.

##### **Reproduce the error**

1. Generate jhipster with elasticsearch
2. Import jdl file
3. Run (No problem at first run)
4. Stop and Run again
5. Process finished with exit code 1

Note: I am using IntelliJ IDEA

Please find the GitHub repository to reproduce the error.
https://github.com/nury-garryyev/jhipster

##### **Related issues**

#10199
#3958

##### **Suggest a Fix**

I think that the problem with elasticserach. It wants to reproduce the same nodes/indices. When I delete nodes in target/elasticsearch/data/nodes folder it runs succesfully but when I try to re-run again it fails with the same error.

##### **JHipster Version(s)**

```
gazna@0.0.0 D:\Projects\JHipster\Gazna\backend
`-- generator-jhipster@6.4.1

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.nokat.gazna"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.4.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""gazna"",
    ""packageName"": ""com.nokat.gazna"",
    ""packageFolder"": ""com/nokat/gazna"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""postgresql"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": """",
    ""embeddableLaunchScript"": false,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""ru"",
      ""tr""
    ],
    ""blueprints"": [],
    ""skipClient"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Region {
  regionName String
}
entity Country {
  countryName String
}
/**
 * not an ignored comment
 */
entity Location {
  streetAddress String,
  postalCode String,
  city String,
  stateProvince String
}
entity Department {
  departmentName String required
}
/**
 * Task entity.\n@author The JHipster team.
 */
entity Task {
  title String,
  description String
}
/**
 * The Employee entity.
 */
entity Employee {
  /**
   * The firstname attribute.
   */
  firstName String,
  lastName String,
  email String,
  phoneNumber String,
  hireDate Instant,
  salary Long,
  commissionPct Long
}
entity Job {
  jobTitle String,
  minSalary Long,
  maxSalary Long
}
entity JobHistory {
  startDate Instant,
  endDate Instant,
  language Language
}
enum Language {
  FRENCH,
  ENGLISH,
  SPANISH
}

relationship OneToOne {
  Country{region} to Region,
  Location{country} to Country,
  Department{location} to Location,
  JobHistory{job} to Job,
  JobHistory{department} to Department,
  JobHistory{employee} to Employee
}
relationship OneToMany {
  /**
   * A relationship
   */
  Department{employee} to Employee{department},
  Employee{job} to Job{employee}
}
relationship ManyToOne {
  Employee{manager} to Employee
}
relationship ManyToMany {
  Job{task(title)} to Task{job}
}

service Region, Country, Location, Department, Task, JobHistory with serviceImpl
paginate Employee, JobHistory with infinite-scroll
paginate Job with pagination

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_65""
Java(TM) SE Runtime Environment (build 1.8.0_65-b17)
Java HotSpot(TM) 64-Bit Server VM (build 25.65-b01, mixed mode)

git version 2.10.2.windows.1

node: v10.16.3

npm: 6.9.0

yeoman: 3.1.0

##### **Browsers and Operating System**
Windows 8, Chrome

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10702#issuecomment-547343153,"@nury-garryyev : maybe the problem comes from Windows environment. Can you try our [DevBox](https://github.com/jhipster/jhipster-devbox), which uses Ubuntu, to be sure about the real origin ?"
jhipster/generator-jhipster,"
##### **Overview of the issue**

Ionic for JHipster tests against the master branch for CI. It stopped passing recently because of an error in the entity generator.

https://travis-ci.org/oktadeveloper/generator-jhipster-ionic/jobs/604144898#L2440

```
[ERROR] /home/travis/backend/src/test/java/io/github/jhipster/travis/domain/BlogTest.java:[14,47] incompatible types: java.lang.String cannot be converted to java.lang.Long
[ERROR] /home/travis/backend/src/test/java/io/github/jhipster/travis/domain/BlogTest.java:[18,47] incompatible types: java.lang.String cannot be converted to java.lang.Long
```

##### **Motivation for or Use Case**

This was working fine a couple days ago. I'm guessing it's related to [this commit](https://github.com/jhipster/generator-jhipster/commit/03abdc12ec7ce340d788454f1d18ebaff1bf06a1) since failures started happening [today](https://travis-ci.org/oktadeveloper/generator-jhipster-ionic/builds).

##### **Reproduce the error**

Create a new JHipster app with the following `.yo-rc.json`:

```json
{
    ""generator-jhipster"": {
        ""promptValues"": {
            ""packageName"": ""com.okta.developer"",
            ""nativeLanguage"": ""en""
        },
        ""jhipsterVersion"": ""6.3.1"",
        ""baseName"": ""backend"",
        ""reactive"": false,
        ""packageName"": ""com.okta.developer"",
        ""packageFolder"": ""com/okta/developer"",
        ""serverPort"": ""8080"",
        ""authenticationType"": ""oauth2"",
        ""cacheProvider"": ""ehcache"",
        ""enableHibernateCache"": true,
        ""websocket"": false,
        ""databaseType"": ""sql"",
        ""devDatabaseType"": ""h2Disk"",
        ""prodDatabaseType"": ""mysql"",
        ""searchEngine"": false,
        ""messageBroker"": false,
        ""serviceDiscoveryType"": false,
        ""buildTool"": ""maven"",
        ""enableSwaggerCodegen"": false,
        ""clientFramework"": ""angular"",
        ""useSass"": false,
        ""clientPackageManager"": ""yarn"",
        ""applicationType"": ""monolith"",
        ""testFrameworks"": [
            ""protractor""
        ],
        ""jhiPrefix"": ""jhi"",
        ""enableTranslation"": true,
        ""nativeLanguage"": ""en"",
        ""languages"": [
            ""en""
        ]
    }
}
```

Then create entities using the following JDL:

```
entity Blog {
  name String required minlength(3),
  handle String required minlength(2)
}

entity Post {
  title String required,
  content TextBlob required,
  date Instant required
}

entity Tag {
  name String required minlength(2)
}

relationship ManyToOne {
  Blog{user(login)} to User,
  Post{blog(name)} to Blog
}

relationship ManyToMany {
  Post{tag(name)} to Tag{entry}
}

paginate Post, Tag with infinite-scroll
```

##### **JHipster Version(s)**

master branch

",https://github.com/jhipster/generator-jhipster/issues/10700#issuecomment-547787089,"@pascalgrimaud Sorry I just saw your message.

It strange indeed that the pipeline did not detect it but fails afterwards... Are the pipelines on master and on branches the same ?"
jhipster/generator-jhipster,"##### **Overview of the feature request**

We should add the spring no-http plugin to make sure we (and our users) do not use http repositories by accident in maven or gradle builds. If it works well we can extend the use to e.g. production code.

I will take care of it. It worked pretty well for gradle but there were some problems with the maven checkstyle integration.

##### **Motivation for or Use Case**

https://github.com/jhipster/generator-jhipster/security/advisories/GHSA-mc84-xr9p-938r

##### **Related issues or PR**

none.

-   [x] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/10464#issuecomment-538425666,@atomfrede in which step will the _nohttp plugin_ be run? From what I see one needs to execute explicitly the checkstyle plugin manually  .e.g.  mvn checkstyle::check. Do we want to put this step as a prestep before compile in the ci-cd files? 
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

When you try to run `gradlew bootRun` right after `gradlew test`, Spring is using the `src/test/resources/config/application.yml` configuration instead of the `src/main/resources/config/application.yml`. The later is used when you run `gradlew bootRun` after `gradlew clean` (because the test configuration then simply does not yet exist).

##### **Reproduce the error**

- Have configuration in `src/test/resources/config/application.yml` that does not allow a Spring Boot startup. In our case the default `spring.security.oauth2.client.provider.oidc.issuer-uri: http://DO_NOT_CALL:9080/auth/realms/jhipster` was enough
- run `gradlew test`
- run `gradlew bootRun` right afterwards

Startup fails with `java.net.URISyntaxException: Illegal character in hostname at index 9: http://DO_NOT_CALL:9080/auth/realms/jhipster/.well-known/openid-configuration`

##### **Related issues**

The fix for #9713 introduced the line in question into the `build.gradle`.

##### **Suggest a Fix**

Replace `sourceSets.test.runtimeClasspath` with `sourceSets.main.runtimeClasspath` in `classpathJar` in `build.gradle`

##### **JHipster Version(s)**

Checked version 6.1.x up to 6.3.0

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""eu.eurogate.project.backend"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""projectBackend"",
    ""packageName"": ""eu.eurogate.project.backend"",
    ""packageFolder"": ""eu/eurogate/project/backend"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Memory"",
    ""prodDatabaseType"": ""oracle"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": ""..."",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""de""
    ],
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.3"" 2019-04-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.3+7)
OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.3+7, mixed mode)

git version 2.23.0.windows.1

node: v10.16.0

npm: 6.9.0

yarn: 1.16.0

Docker version 19.03.2, build 6a30dfc

docker-compose version 1.24.1, build 4667896b",https://github.com/jhipster/generator-jhipster/issues/10457#issuecomment-533548583,"Thanks @abenneke for reporting this. I noticed it too, but as I have no windows machine at hand its hard for me to test that ugly workaround. Could you do a PR and maybe check if continuous compilation and restart via bootDevTools work fine for you?"
jhipster/generator-jhipster,"##### **Overview of the issue**

Since a blueprint extends code/class of jhipster subgen(s), it has a dependency on a specific version of JHipster. E.g. let's the blueprint lightly overrides the server subgen (overriding Dockerfile) and depends on jhpster 6.0.0
However if the user has version 6.3.0 installed and launch the generator with the former blueprint, it will end with e.g. client code in v6.3.0 but server code in v6.0.0.

##### **Motivation for or Use Case**

The generated code could be inconsistent since some new feature or fix involve multiple subgen.
Also only one version of jhipster is saved/stored in .yo-rc.json for later use by e.g. the upgrade command. Since this version is wrong the upgrade will only be partial.

##### **Reproduce the error**

See above.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

When we check that blueprint exists, we should probably check the jhipster version compatibility and stop if it doesn't match (if user still want to generates the app, it should launch the generation with the skipCheck option)

##### **JHipster Version(s)**

6.3.0

##### **JHipster configuration**

N/A


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

N/A

##### **Browsers and Operating System**
N/A

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10415#issuecomment-531860802,@murdos : I merged your other PR in generator-jhipster-blueprint. Is there still something to do in the main generator-jhipster ? Or can it be closed ? 
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
Hi,
I am trying to create the entity generated from UAA server to gateway. But I am getting the following error.
`Error: Microservice name for the entity is not found. Entity cannot be generated!`

##### **Reproduce the error**
1. Create a UAA server.
2. Create an entity in UAA server.
3. Create Gateway server.
4. Create an entity in gateway and import from UAA server path.
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **JHipster Version(s)**
Jhipster version is 6.2.0
##### **JHipster configuration**
Gateway server config is:- 

details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.star.gateway"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""StarGateway"",
    ""packageName"": ""com.star.gateway"",
    ""packageFolder"": ""com/star/gateway"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""uaa"",
    ""uaaBaseName"": ""StarAuthentication"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": true,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""flatly"",
    ""clientThemeVariant"": ""primary"",
    ""testFrameworks"": [""gatling"", ""cucumber"", ""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en"", ""hi"", ""ta"", ""te""],
    ""blueprints"": []
  }
}

</pre>
</details>

UAA server config is:-   
<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.star.auth"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""uaa"",
    ""baseName"": ""StarAuthentication"",
    ""packageName"": ""com.star.auth"",
    ""packageFolder"": ""com/star/auth"",
    ""serverPort"": ""9999"",
    ""authenticationType"": ""uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""testFrameworks"": [
      ""gatling"",
      ""cucumber""
    ],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""hi"",
      ""ta"",
      ""te""
    ],
    ""blueprints"": [],
    ""skipClient"": true
  }
}
</pre>
</details>

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
<summary>JDL entity definitions</summary>

<pre>
entity Institute {
  name String required,
  code String required unique,
  addressLine1 String required,
  addressLine2 String,
  city String required,
  state String required,
  country String required,
  pincode String required,
  latitute Double required min(-90) max(90),
  longitude Double required min(-180) max(180),
  status Status required
}
enum Status {
  ACTIVE,
  INACTIVE
}

dto Institute with mapstruct
paginate Institute with pagination
service Institute with serviceImpl
search Institute with elasticsearch
filter Institute

</pre>
</details>

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->",https://github.com/jhipster/generator-jhipster/issues/10387#issuecomment-530886967,"@dronavallisaikrishna :
- can you show me your `.jhipster/Institute.json` file plz ?
- I think the property `microserviceName` is missing ; if you put something like `""microserviceName"": ""StarAuthentication""`, I think it should work

I got the fix, I will do a PR soon"
jhipster/generator-jhipster,"

##### **Overview of the issue**
If you select right-to-left in the desired language settings form, the home screen and menus do not change right to left correctly.

##### **JHipster Version(s)**

```
sport-app-server@0.0.0 /Users/developer/Desktop/sportAppServer
‚îî‚îÄ‚îÄ generator-jhipster@6.2.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""sport.mobile.app"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""sportAppServer"",
    ""packageName"": ""sport.mobile.app"",
    ""packageFolder"": ""sport/mobile/app"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mssql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [
      ""gatling""
    ],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fa""
    ],
    ""blueprints"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Foo {
  name String
}
dto Foo with mapstruct
paginate Foo with pagination
service Foo with serviceClass
filter Foo

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_60""
Java(TM) SE Runtime Environment (build 1.8.0_60-b27)
Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)

git version 2.20.1

node: v10.16.0

npm: 6.9.0

yeoman: 3.1.0

yarn: 1.16.0

Docker version 18.06.0-ce, build 0ffa825

docker-compose version 1.25.0-rc2, build 661ac20e
",https://github.com/jhipster/generator-jhipster/issues/10369#issuecomment-529925178,"@manisi, it seems you have understanding about changes to be done. Can you contribute?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
  <details>
  <summary>JDL definitions</summary>
  <pre>
     JDL content here
  </pre>
  </details>
-->


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10368#issuecomment-529320941,cc @qmonmert : maybe you can help ? 
jhipster/generator-jhipster,"##### **Overview of the feature request**

from @ludoch https://github.com/jhipster/generator-jhipster/issues/10331#issuecomment-528563349

> What I really would like to do as well is the take benefit of a exploded fatjar deployment for App Engine.
> The Jib plugin does it automatically to help optimizing Docker layers.
> GAE Java deployment also does it (since 2009), ie it will only deploy updated files from a previous deployment... When there is a single fatjar, all those upload optimizations are gone, even it the app changed 1 character!
> 
> Basically, if we could unjar the fatjar in the target/appengine-staging directory (and remove the orginal fatjar), the entrypoint would have to be like:
> 
> entrypoint: java -agentpath:/opt/cdbg/cdbg_java_agent.so=--log_dir=/var/log -noverify -XX:+AlwaysPreTouch -XX:TieredStopAtLevel=1 -Djava.security.egd=file:/dev/./urandom -cp BOOT-INF/resources/:BOOT-INF/classes/:BOOT-INF/lib/* com.mycompany.myapp.YOUAPPCLASSNAME
> 
> If this can be done, one extra goodies would be to configure App Engine to use a CDN to access the static resources instead of the JVM itself (from a fatjar which is also not optimal at all)...
> 
> To configure static resources in the app.yaml with an exploded jHipster fatjar, you would have to add this section in app.yaml:
> 
> handlers:
> 
> url: (/.*)
> static_files: BOOT-INF/classes/static\1
> upload: NOT_USED
> require_matching_file: True
> login: optional
> secure: optional
> url: /.*
> script: unsused
> url: /.*/
> script: unused
> login: optional
> secure: optional
> url: .*
> script: unused
> login: optional
> secure: optional
> With these 2 changes, we are back to the orginal Java GAE design from 2009 with appengine-werb.xml configuration: exploded war for optimal deployement and automatic static file servinf from a CDN. You would see the difference when loading an app where all the static html and images and js scripts are served immediately...
> 

##### **Motivation for or Use Case**

To allow JHipster on App Engine Java 11 to take advantage of static file serving.

##### **Related issues or PR**

https://github.com/jhipster/generator-jhipster/issues/10331

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10362#issuecomment-530604088,"@ludoch @saturnism : I was trying this out by constructing the thin jar using [spring-boot-thin-launcher](https://github.com/spring-projects-experimental/spring-boot-thin-launcher) which I believe is the standard approach of doing this (let me know if you have an alternative suggestion). Although the thin jar construction seems to work in my local after deploying it to Google App Engine I get; 

`Exception in thread ""main"" java.lang.IllegalStateException: Cannot create directory for library at /var/www/.m2/repository/org/springframework/boot/experimental/spring-boot-thin-launcher/1.0.22.RELEASE/spring-boot-thin-launcher-1.0.22.RELEASE-exec.jar at org.springframework.boot.loader.wrapper.ThinJarWrapper.download(ThinJarWrapper.java:170) at org.springframework.boot.loader.wrapper.ThinJarWrapper.launch(ThinJarWrapper.java:130) at org.springframework.boot.loader.wrapper.ThinJarWrapper.main(ThinJarWrapper.java:107)
`

I think this is due to the thin-launcher tries to grab some dependencies at runtime and app engine file-system is read-only. I am thinking of a way to overcome this. 

Let me know if you guys have any examples or deployments of using thin jars in app engine with Java 11 or is there other library that is being used to create the thin jars for app engine? I couldn't find much documentation on this except for few lines mentioned at https://cloud.google.com/appengine/docs/standard/java11/runtime#application_startup. 

On the plus side it does seems to significantly improve the deployment time (size of jar seems significantly reduced). üòÑ 
"
jhipster/generator-jhipster,"##### **Overview of the issue**

In a fresh mvn, jwt, api-first development app, the swagger /admin/docs interface is not sending the authorization header resulting in 401 for all new endpoints.

##### **Motivation for or Use Case**

Confusing for new users who want to use the interface to test out endpoints.

##### **Reproduce the error**

1) Generate an app selecting all defaults (mvn, jwt) and select API-First development
2) Add a path to `api.yml`
3) run the app, log in and visit /admin/docs
4) test your endpoint

Expected:
501 (not implemented)

Actual:
401 unauthorized

Broken/Working `api.yml`: https://stackoverflow.com/questions/57748298/jhipster-swagger-api-doc-not-sending-jwt-authorization-header-resulting-in-401

##### **Related issues**

Possibly: https://github.com/jhipster/generator-jhipster/issues/5501

##### **Suggest a Fix**

[api.yml](https://github.com/jhipster/generator-jhipster/blob/master/generators/server/templates/src/main/resources/swagger/api.yml.ejs) is generated with a security key of `jwt` while [swagger-ui/index.hml](https://github.com/jhipster/generator-jhipster/blob/master/generators/client/templates/angular/src/main/webapp/swagger-ui/index.html.ejs) is using `bearer`

I think `api.yml` should use the `bearer` key (can submit a PR if you agree).  
At a minimum some documentation (also happy to help if that's the path forward).

##### **JHipster Version(s)**

6.2.0, never tried a previous version

##### **JHipster configuration**

```
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
##### **JHipster Version(s)**

```
temp-2@0.0.0 /Users/amir/bug-jhipster-api-doc
‚îî‚îÄ‚îÄ generator-jhipster@6.2.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""temp2"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": ""xx"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false,
    ""blueprints"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.4+11, mixed mode)

git version 2.20.1

node: v10.16.3

npm: 6.9.0

yeoman: 3.1.0

yarn: 1.13.0

Docker version 19.03.1, build 74b1e89

docker-compose version 1.24.1, build 4667896b

INFO! Congratulations, JHipster execution is complete!
```

##### **Browsers and Operating System**

MacOS, Chrome

-   [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/10330#issuecomment-526950034,What is the path of the endpoint you added to your api.yml ? I think the header is only added for /api/** endpoints.
jhipster/generator-jhipster,"##### **Overview of the issue**

The generated method `UserService.getUserFromAuthentication()` produce this code : 

```java
        User user = getUser(attributes);
        user.setAuthorities(authToken.getAuthorities().stream()
            .map(GrantedAuthority::getAuthority)
            .map(authority -> {
                Authority auth = new Authority();
                auth.setName(authority);
                return auth;
            })
            .collect(Collectors.toSet()));
```

Unfortunately `User.setAutorities()`expect a `Set<String>`and is given a `Set<Authority>`. Hence compilation fails.

##### **Reproduce the error**

Generate a gateway with jhispter generator with OAuth2, it won't compile.
##### **Suggest a Fix**

The fix is pretty simple, remove the map to Authority domain object : 

```java
        User user = getUser(attributes);
        user.setAuthorities(authToken.getAuthorities().stream()
            .map(GrantedAuthority::getAuthority)
            .collect(Collectors.toSet()));
```

##### **JHipster Version(s)**

Version 6.2.0, I don't know if it is a regression but I assume it is.

##### **JHipster configuration**

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""couchbase"",
    ""devDatabaseType"": ""couchbase"",
    ""prodDatabaseType"": ""couchbase"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""flatly"",
    ""clientThemeVariant"": ""primary"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en"", ""fr""],
    ""blueprints"": []
  }
}

##### **Environment and Tools**

openjdk version ""11.0.2"" 2019-01-15
OpenJDK Runtime Environment 18.9 (build 11.0.2+9)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)
git version 2.20.1
node: v12.9.1
npm: 6.10.2
yeoman: 3.1.0
Docker version 18.09.3, build 774a1f4
docker-compose version 1.23.2, build unknown
```
",https://github.com/jhipster/generator-jhipster/issues/10320#issuecomment-526831415,"I've recreated this issue on my end and it seems that this was introduced in https://github.com/jhipster/generator-jhipster/commit/f26c0cf83fa07286d94c263bb1db801779642d9f. 

@cbornet : Seems like the following part is redundant since we take the authority through ```.map(GrantedAuthority::getAuthority)```. Do you agree removing it? 

```        
<%_ if (databaseType !== 'no') { _%>
.map(authority -> {
    Authority auth = new Authority();
    auth.setName(authority);
    return auth;
})
 <%_ } _%>
```"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

#10254 upgraded `lint-staged` version from 8.2.0 to 9.2.3.  

After that initial generated application is not committed to Git in Windows, the following error occurs:
  <details>
  <summary>Git commit error in Windows</summary>
  <pre>
husky > pre-commit (node v10.15.3)
‚Äº  lint-staged generated an argument string of 21937 characters, and commands might not run correctly on your platform.
It is recommended to use functions as linters and split your command based on the number of staged files. For more info, please visit:
https://github.com/okonet/lint-staged#using-js-functions-to-customize-linter-commands
Stashing changes... [started]
Stashing changes... [skipped]
‚Üí No partially staged files found...
Running tasks... [started]
Running tasks for {,src/**/}*.{md,json,ts,css,scss,yml} [started]
prettier --write [started]
prettier --write [failed]
‚Üí 
Running tasks for {,src/**/}*.{md,json,ts,css,scss,yml} [failed]
‚Üí 
Running tasks... [failed]



√ó prettier --write found some errors. Please fix them and try committing again.

The command line is too long.
husky > pre-commit hook failed (add --no-verify to bypass)


git did not exit cleanly (exit code 1) (1422 ms @ 30.08.2019 03:38:55)
  </pre>
  </details>

`lint-staged` has some breaking changes from version 9.0.0 (see https://github.com/okonet/lint-staged/releases), one of them is: ""Very long arguments strings are no longer chunked on Windows. Function linters should be used instead to customise this behaviour."".

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

Want to commit application to Git also in Windows.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

Generate app in Windows with command `jhipster` and try to commit this to Git.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

Try to implement JS function as described in https://github.com/okonet/lint-staged#using-js-functions-to-customize-linter-commands

##### **JHipster Version(s)**

```
jhipster@0.0.1-SNAPSHOT C:\projects\teest\jhipster-git-commit2
`-- generator-jhipster@6.2.0  -> C:\projects\kaido-github\generator-jhipster

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""et""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""et"",
    ""languages"": [""et"", ""en"", ""ru""],
    ""blueprints"": []
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_211""
Java(TM) SE Runtime Environment (build 1.8.0_211-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)

git version 2.21.0.windows.1

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.15.2

Docker version 19.03.1, build 74b1e89

docker-compose version 1.24.1, build 4667896b

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10312#issuecomment-553337942,"Why is this closed? The issue still exists. 
    ""lint-staged"": ""^9.4.1"",
    ""husky"": ""^3.0.8"","
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

There are still some inconsistencies in URLs between Angular and React. 
For instance, for accessing the entity page:

-  in Angular with: http://localhost:8080/meal 
- in React    with: http://localhost:8080/entity/meal

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

Keep consistency between the different generators

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

PR: #10188 
<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

Either put the `entity` prefix in Angular, or remove it in React (and Vue.js). I can make a PR once a decision is taken.

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**
6.2.0 (on master)

<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

To reproduce, you can use the following JDLs: 

For react
```
application {
  config {
    databaseType sql
    devDatabaseType h2Disk
    enableHibernateCache true
    enableSwaggerCodegen false
    enableTranslation true
    jhiPrefix jhi
    languages [en]
    messageBroker false
    nativeLanguage en
    packageName com.mycompany.myapp
    packageFolder com/mycompany/myapp
    prodDatabaseType mysql
    searchEngine false
    serviceDiscoveryType false
    skipClient false
    skipServer false
    testFrameworks []
    websocket false
    promptValues [object Object]
    jhipsterVersion 6.2.0
    applicationType monolith
    baseName jhipster
    serverPort 8080
    authenticationType jwt
    cacheProvider ehcache
    buildTool maven
    jwtSecretKey NGQxYTAzMmZhZjM0ZjBkYmM4ZGQwOGJjNzZiYzYzZDRjMWY4NjVlOGYwMDdmYTExOTA0ZGQ1NDU4MWViYjE3Y2FiYmU5OGJkNTYwMGFiYjY5YzA5MjI4NDdiZTU2ZDE1M2NkZTIzYjY4YjhiNDcyNGY4MDc0MmIzOTNiZTA0NGY=
    useSass true
    clientPackageManager npm
    clientFramework react
    clientTheme none
    clientThemeVariant 
    entitySuffix 
    dtoSuffix DTO
    otherModules 
    blueprints 
    skipUserManagement false
  }

  entities Meal
}

entity Meal {
  name String
}
```

For Angular
```
application {
  config {
    databaseType sql
    devDatabaseType h2Disk
    enableHibernateCache true
    enableSwaggerCodegen false
    enableTranslation true
    jhiPrefix jhi
    languages [en]
    messageBroker false
    nativeLanguage en
    packageName com.mycompany.myapp
    packageFolder com/mycompany/myapp
    prodDatabaseType mysql
    searchEngine false
    serviceDiscoveryType false
    skipClient false
    skipServer false
    testFrameworks []
    websocket false
    promptValues [object Object]
    jhipsterVersion 6.2.0
    applicationType monolith
    baseName jhipster
    serverPort 8080
    authenticationType jwt
    cacheProvider ehcache
    buildTool maven
    jwtSecretKey Y2QxMmUzMjYyYTdjNzY5Yjk3MGYyN2ZhN2RmNWY1MWU1NDVlZDFhYzg0MzE5ZTNhZWQyZjI1OTliOGUxZDM1MThiODhmNDZmZGNiZTBiYzJiYTY1NzJlMTk2YmVjMGFkMDZlMDhjMTMwZDBmOGYyM2E5ZjBkODFjZDI3MWE2NWI=
    useSass true
    clientPackageManager npm
    clientFramework angularX
    clientTheme none
    clientThemeVariant 
    entitySuffix 
    dtoSuffix DTO
    otherModules 
    blueprints 
    skipUserManagement false
  }

  entities Meal
}

entity Meal {
  name String
}
```

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10301#issuecomment-526834206,Maybe @deepu105 or @sendilkumarn know the reason why the `entity/` prefix was added for React ?
jhipster/generator-jhipster,"##### **Overview of the issue**

Generating an entity with a blob fields of type image results in a frontend which can't compile, because of wrong imports.

##### **Motivation for or Use Case**

Although blob support is still in beta it should not fail like that. 

##### **Reproduce the error**

Create a fresh application, create an entity with a blob field (of type image).

##### **Related issues**

--

##### **Suggest a Fix**

Somehow the imports are wrong:

* `import { createRequestOption } from 'app/shared';`
* `import { UserRouteAccessService } from 'app/core';`
* `import { JhiLanguageHelper } from 'app/core';`
* `import { CspfiledownloadSharedModule } from 'app/shared';`
* `import { AccountService } from 'app/core';`

##### **JHipster Version(s)**

Current master at least

##### **JHipster configuration**

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""cspfiledownload"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""blueprints"": []
  }
}
```


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

```
entity Downloadable {
  myimage ImageBlob
}
```

##### **Browsers and Operating System**

Not relevant for this issue.

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10229#issuecomment-521878884,"@atomfrede, I think you are not using latest check-ins on master as imports should be absolute. Can you please check again on latest master code?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

I have a entity with a blob field generated by JHipster. In the entity form I can upload a file and the form is submited normally.

The problem occurs when I try to open the file in the view page or main page of the entity.

The Browser opens this tab 

https://imgur.com/a/tXjqweT

and prints the following message on the console

> Refused to frame '' because it violates the following Content Security Policy directive: ""default-src 'self'"". Note that 'frame-src' was not explicitly set, so 'default-src' is used as a fallback.

##### **Motivation for or Use Case**

Because it doens't show the file uploaded

##### **Reproduce the error**

After registered a entity object I can't open the file field uploaded in view page or main entity page

##### **Related issues**

No

##### **Suggest a Fix**

I commented this part in SecurityConfiguration.java and now it works

`.contentSecurityPolicy(""default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://storage.googleapis.com; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; img-src 'self' data:; font-src 'self' https://fonts.gstatic.com data:"")
    .and()
        .referrerPolicy(ReferrerPolicyHeaderWriter.ReferrerPolicy.STRICT_ORIGIN_WHEN_CROSS_ORIGIN)
    .and()
        .featurePolicy(""geolocation 'none'; midi 'none'; sync-xhr 'none'; microphone 'none'; camera 'none'; magnetometer 'none'; gyroscope 'none'; speaker 'none'; fullscreen 'self'; payment 'none'"")
    .and()`

> https://stackoverflow.com/a/57505766/5360385

##### **JHipster Version(s)**

6.1.2

##### **JHipster configuration**

`-- generator-jhipster@6.1.2

```
##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**

<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""br.com.renan"",
      ""nativeLanguage"": ""pt-br""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""RenanTest"",
    ""packageName"": ""br.com.renan"",
    ""packageFolder"": ""br/com/renan"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Memory"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW7nZS1pai1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""yeti"",
    ""clientThemeVariant"": ""primary"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""pt-br"",
    ""languages"": [""pt-br""]
  }
}

</pre>
</details>

##### **Environment and Tools**

java version ""1.8.0_201""
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)

git version 2.10.1.windows.1

node: v10.16.0

npm: 6.9

##### **Browsers and Operating System**

Windows Server 2012 R2

-   [X] Checking this box is mandatory (this is just to show you read everything)",https://github.com/jhipster/generator-jhipster/issues/10227#issuecomment-521831228,"@gmarziou : Ah, I misunderstood. Sorry about that. I can work on this if you guys like? I don't have a solution off the top of my head but could look into it. üòÑ "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Since #10004 it's not possible to use blueprints in `Windows`.  
Error occurs in all tested shells: `Command Prompt`, `Git Bash` and `PowerShell`.
Not tested in Mac and Linux but as no problems have reported then I guess blueprints are working in these operating systems.

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
Want to use blueprints also in Windows.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
Install blueprint: `npm install -g generator-jhipster-vuejs`  
Run JHipster with blueprint: `jhipster --blueprint vuejs`  
This causes the following behavior:
* command line window is deactivated, some other window is activated
* if coming back to command line window then the following error is displayed:
```
events.js:174
      throw er; // Unhandled 'error' event
      ^

Error: The generator-jhipster-vuejs blueprint provided is not installed. Please install it using command npm i -g generator-jhipster-vuejs.
    at Environment.error (C:\projects\kaido-github\generator-jhipster\node_modules\yeoman-environment\lib\environment.js:176:40)
    at module.exports.error (C:\projects\kaido-github\generator-jhipster\generators\generator-base.js:1448:18)
    at shelljs.exec (C:\projects\kaido-github\generator-jhipster\generators\generator-base-private.js:845:22)
    at C:\projects\kaido-github\generator-jhipster\node_modules\shelljs\src\exec.js:121:9
    at ChildProcess.exithandler (child_process.js:285:7)
    at ChildProcess.emit (events.js:189:13)
    at maybeClose (internal/child_process.js:970:16)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
Emitted 'error' event at:
    at Environment.error (C:\projects\kaido-github\generator-jhipster\node_modules\yeoman-environment\lib\environment.js:178:15)
    at module.exports.error (C:\projects\kaido-github\generator-jhipster\generators\generator-base.js:1448:18)
    [... lines matching original stack trace ...]
    at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
```

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
#10004

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
In Windows I could fix this by changing line https://github.com/jhipster/generator-jhipster/blob/master/generators/generator-base-private.js#L837 (added `node` at the beginning of the command) from
```
shelljs.exec(`${yoInternalCliPath} --generators`, { silent: true }, (err, stdout, stderr) => {
```
to
```
shelljs.exec(`node ${yoInternalCliPath} --generators`, { silent: true }, (err, stdout, stderr) => {
```
If this works also in Mac and Linux then this is universal fix. If not then probably need to check which operating system is used and if Windows then add `node` at the beginning of the command.

FYI: globally installed `yo` command files in my Windows are with these contents:

<details>
<summary>yo</summary>
<pre>
#!/bin/sh
basedir=$(dirname ""$(echo ""$0"" | sed -e 's,\\,/,g')"")

case `uname` in
    *CYGWIN*) basedir=`cygpath -w ""$basedir""`;;
esac

if [ -x ""$basedir/node"" ]; then
  ""$basedir/node""  ""$basedir/node_modules/yo/lib/cli.js"" ""$@""
  ret=$?
else 
  node  ""$basedir/node_modules/yo/lib/cli.js"" ""$@""
  ret=$?
fi
exit $ret
</pre>
</details>

<details>
<summary>yo.cmd</summary>
<pre>
@IF EXIST ""%~dp0\node.exe"" (
  ""%~dp0\node.exe""  ""%~dp0\node_modules\yo\lib\cli.js"" %*
) ELSE (
  @SETLOCAL
  @SET PATHEXT=%PATHEXT:;.JS;=;%
  node  ""%~dp0\node_modules\yo\lib\cli.js"" %*
)
</pre>
</details>

Additional note about #10004 - in line https://github.com/jhipster/generator-jhipster/blob/master/generators/generator-base-private.js#L835 it's cleaner to use `path.join` as used in other places in JHipster source code, change from
```
const yoInternalCliPath = `${__dirname}/../node_modules/yo/lib/cli.js`;
```
to
```
const yoInternalCliPath = path.join(__dirname, '../node_modules/yo/lib/cli.js');
```

##### **JHipster Version(s)**

```
C:\projects\teest\jhipster-vuejs
`-- generator-jhipster@6.2.0  -> C:\projects\kaido-github\generator-jhipster

```

cat: no such file or directory: .yo-rc.json

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_211""
Java(TM) SE Runtime Environment (build 1.8.0_211-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)

git version 2.21.0.windows.1

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.15.2

Docker version 19.03.1, build 74b1e89

docker-compose version 1.24.1, build 4667896b
##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10223#issuecomment-521528288,@kaidohallik : it is an important issue. Can you propose a PR plz ? I'm using Linux so I can test it
jhipster/generator-jhipster,"##### **Overview of the feature request**

Currently the GAE generator can generate deployment files for java 8 (https://cloud.google.com/appengine/docs/standard/java/runtime). However starting recently GAE supports java 11 (https://cloud.google.com/appengine/docs/standard/java/runtime). I suggest we develop a branch of our GAE generator to support java 11. My idea is to initially give the user a choice of choosing between java  8 and 11 and generate the files based on the choice. 

On another note it is possible to run our jhipster project on java 11 on GAE standard as I've done on [>>this<<](https://github.com/python-sinhala-education-society/OpenLearnr) project. The only things we need is to remove the ```appengine-web.xml``` and add a ```app.yml```. Complete migration summary is given here; https://cloud.google.com/appengine/docs/standard/java11/java-differences

If this is something useful, I can help with doing the PR for this. Do we need to fix the current GAE generator before attempting this? 

##### **Motivation for or Use Case**

jhipster supports java 11 and recently we migrated the Travis build process to java 11 as well (https://github.com/jhipster/generator-jhipster/pull/10175), it seems obvious that we need to add support for java 11 GAE generators at some point. 

##### **Related issues or PR**

#10175, #9605 

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10196#issuecomment-519790601,"> Do we need to fix the current GAE generator before attempting this?

I think we should.

About maintaining Java8, I wonder if we should. I'd prefer to focus on Java11 but it's just my opinion"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

with open-api option selected,
in the generated pom.xml,
at openapi-generator-maven-plugin section,
execution.configuration
there is an element named ""validateSpec"",
which is not defined.
(promoted by intellij then manually check by me)

##### **Motivation for or Use Case**

programming error.

##### **Reproduce the error**

just generate a project.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

I think it should be
```xml
<skipValidateSpec>false</skipValidateSpec>
```
##### **JHipster Version(s)**
6.2.0

##### **JHipster configuration**
```json
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""ai.techfin"",
      ""nativeLanguage"": ""zh-cn""
    },
    ""jhipsterVersion"": ""6.2.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""tradeSystem"",
    ""packageName"": ""ai.techfin"",
    ""packageFolder"": ""ai/techfin"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""session"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": ""kafka"",
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": true,
    ""rememberMeKey"": ""6784f92a8fac4fa29d9b9b32e41d9c8afd4c7f2267cb03b28eaf7c111b30c677537df84a06b10df98c4362ee546c2c5b8d3f"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""zh-cn"",
    ""languages"": [
      ""zh-cn"",
      ""en""
    ],
    ""blueprints"": [],
    ""skipClient"": true
  }
}
```",https://github.com/jhipster/generator-jhipster/issues/10180#issuecomment-518017628,"Thanks for reporting that @GitAntinus. You proposal seems correct, would you mind submitting a pull request?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **JHipster Version(s)**

```
jal-bo@0.0.0 ****
`-- generator-jhipster@6.1.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""****"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""****"",
    ""packageName"": ""****"",
    ""packageFolder"": ""***"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en"", ""fr""]
  }
}

</pre>
</details>

##### **Environment and Tools**

openjdk version ""1.8.0_212""
OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_212-b04)
OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.212-b04, mixed mode)

git version 2.20.1.windows.1

node: v10.15.0

npm: 6.8.0

yeoman: 2.0.5

yarn: 1.13.0

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
When you are on the user-component list, as the eventManager subscription is not destroyed when the component is, the user-service request (loadAll -> this.userService.query) is made N time (N is the number of the user-management.component is created.

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
It's important to unsubscribe subcriptions, other than http and routing that Angular handles, because it leads to memory leak and lower performances

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

1. Go to the user-management page (user-management.component)
2. Create a user
3. Click on ""Edit"" for this user and cancel to go back to the list
4. Open your developer tools -> got to network tab
5. Remove the created user
6. See the number of requests made by the subscription
##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->


##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
What is done in the component
```javascript
registerChangeInUsers() {
    this.eventManager.subscribe('userListModification', response => this.loadAll());
  }
```
It could be destroyed in the ngOnDestroy method of the component:

```javascript
private _destroyed$ = new Subject();
....
registerChangeInUsers() {
    this.eventManager
         .pipe(
              takeUntil(this._destroyed$)
         )
         .subscribe('userListModification', response => this.loadAll());
  }
....
public ngOnDestroy (): void {
    this._destroyed$.next();
    this._destroyed$.complete();
}
```
##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
6.1.2, don't know.

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10, all browsers
-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10153#issuecomment-516969654,"@QuentinLeGoff, good catch. Would you be able to raise PR with suggested changes?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Creating a war using bootWar gives an almost-empty war skeleton.

I'm probably doing something wrong, but I've been following the instructions by the letter and I can't find what I did wrong

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
Due to another issue 
https://stackoverflow.com/questions/57115303/setting-up-feign-in-jhipster-behind-a-ssl-socket
I cannot put my gateway in https, so as a workaround I'm trying to create a war and put it behind a tomcat. When I deploy I get the message saying I need to run npm install and npm start, however I have done so and am still getting this message

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
I created a new project (either by start.jhipster.tech, or simply by typing jhipster). Following the readme, I run:
<pre>
npm install
npm start
gradlew -Pprod -Pwar bootWar
</pre>

Unzipping the generated war file, I only find 3 directories (META-INF/, org/, WEB-INF/) and no other files.  When I deploy this, I get the message that I should run npm install and npm start.


##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
unsure

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
I'm sorry, this is out of my field of competences.

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
Jhipster 6.1.2.  From memory, I had no trouble doing this in jhipster 4.


##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
  <details>
  <summary>JDL definitions</summary>
  <pre>
     JDL content here
  </pre>
  </details>
-->

results from running jhipster info:

INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
jhipster-sample-application@0.0.0 D:\jhipster\jhipsterSampleApplication
`-- generator-jhipster@6.1.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""applicationType"": ""gateway"",
    ""gitCompany"": """",
    ""baseName"": ""jhipsterSampleApplication"",
    ""packageName"": ""io.github.jhipster.application"",
    ""packageFolder"": ""io/github/jhipster/application"",
    ""serverPort"": 8080,
    ""serviceDiscoveryType"": ""eureka"",
    ""authenticationType"": ""jwt"",
    ""uaaBaseName"": ""../uaa"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""searchEngine"": false,
    ""enableSwaggerCodegen"": false,
    ""messageBroker"": false,
    ""buildTool"": ""gradle"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""enableTranslation"": false,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""clientFramework"": ""angularX"",
    ""jhiPrefix"": ""jhi"",
    ""jhipsterVersion"": ""6.1.2"",
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientTheme"": ""none"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_221""
Java(TM) SE Runtime Environment (build 1.8.0_221-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)

git version 2.22.0.windows.1

node: v10.16.0

npm: 6.9.0

yarn: 1.17.3

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!
##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->
none.

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10141#issuecomment-514515587,"Will have a look. It worked for monolithic applications for sure. Will check for gateways too.

EDIT: Can you try without calling `npm start`? It us to start the hot reloading frontend in development mode which is not required to build a production artifact."
jhipster/generator-jhipster,"##### **Overview of the issue**

Prometheus is the default metrics backend but the endpoint is not enabled by default

##### **Motivation for or Use Case**

Metrics are not available in Prometheus

##### **Reproduce the error**

Create a new jhipster application with latest version, start application and validate that endpoint /management/prometheus is available

##### **Suggest a Fix**

Update application.yml with the configuration:
````txt
management:
  endpoint:
    prometheus:
      enabled: true
````

##### **JHipster Version(s)**

6.1.2 and master

##### **JHipster configuration**
>
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
myci-service-myapplication@0.0.0 /home/dev/workspace/jhipster/blog_full/myciServiceMyapplication
‚îî‚îÄ‚îÄ generator-jhipster@6.1.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Memory"",
    ""enableHibernateCache"": true,
    ""enableSwaggerCodegen"": false,
    ""enableTranslation"": true,
    ""jhiPrefix"": ""jhi"",
    ""languages"": [
      ""en"",
      ""fr"",
      ""es"",
      ""it"",
      ""pt-pt"",
      ""ru""
    ],
    ""messageBroker"": false,
    ""nativeLanguage"": ""en"",
    ""packageName"": ""io.mycompany.myci.service.myapplication"",
    ""packageFolder"": ""io/mycompany/myci/service/myapplication"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""skipClient"": true,
    ""testFrameworks"": [],
    ""websocket"": false,
    ""applicationType"": ""microservice"",
    ""baseName"": ""myciServiceMyapplication"",
    ""buildTool"": ""maven"",
    ""clientPackageManager"": ""npm"",
    ""serverPort"": ""8010"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""skipUserManagement"": true,
    ""jhipsterVersion"": ""6.1.2"",
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": []
  },
  ""entities"": [
    ""Category"",
    ""Product"",
    ""Customer"",
    ""Address""
  ]
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
/**
 * Category entity
 */
entity Category {
  /**
   * Description
   */
  description String required,
  /**
   * Sort order
   */
  sortOrder Integer,
  /**
   * Creation date
   */
  dateAdded Instant,
  /**
   * Update date
   */
  dateModified Instant,
  /**
   * Status
   */
  currentStatus CategoryStatus
}
/**
 * Product entity
 */
entity Product {
  /**
   * Title
   */
  title String required,
  /**
   * Keywords
   */
  keywords String,
  /**
   * Description
   */
  description String,
  /**
   * Rating
   */
  rating Integer,
  /**
   * Creation date
   */
  dateAdded Instant,
  /**
   * Update date
   */
  dateModified Instant
}
/**
 * Customer entity
 */
entity Customer {
  /**
   * First name
   */
  firstName String,
  /**
   * Last name
   */
  lastName String,
  /**
   * Email
   */
  email String,
  /**
   * Telephone
   */
  telephone String
}
/**
 * Address entity
 */
entity Address {
  /**
   * Address line 1
   */
  address1 String,
  /**
   * Address line 2
   */
  address2 String,
  /**
   * City
   */
  city String,
  /**
   * Zip code
   */
  postcode String required maxlength(10),
  /**
   * Country
   */
  country String required maxlength(2)
}
enum CategoryStatus {
  AVAILABLE,
  RESTRICTED,
  DISABLED
}

relationship OneToMany {
  /**
   * Addresses
   */
  Customer{address} to
  /**
   * Customer
   */
  Address{customer}
}
relationship ManyToOne {
  /**
   * Parent category
   */
  Category{parent} to Category
}
relationship ManyToMany {
  /**
   * Titles
   */
  Category{product(title)} to
  /**
   * Categories
   */
  Product{category}
}

dto Category, Product, Customer, Address with mapstruct
paginate Category, Product, Customer, Address with pagination
service Category, Product, Customer, Address with serviceClass
microservice Category, Product, Customer, Address with myciServiceMyapplication
filter Category, Product, Customer, Address

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_152""
Java(TM) SE Runtime Environment (build 1.8.0_152-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)

git version 1.8.3.1

node: v8.11.1

npm: 5.6.0

yeoman: 2.0.1

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10112#issuecomment-512738859,"Isn't it already enabled by default with Spring boot Actuator ? 
(In https://github.com/jhipster/generator-jhipster/blob/b5cba3bcfe712c0545ad150dbc1a542704d3ed39/generators/server/templates/src/main/resources/config/application.yml.ejs#L115)

When I do a `curl 'http://localhost:8010/management/prometheus'`, I got the correct response"
jhipster/generator-jhipster,"##### **Overview of the issue**
Content Security Policy violation is reported in browser when running application with Bootswatch theme. Firefox reports it as below.
<!-- Explain the bug, if an error is being thrown a stack trace helps -->
```
Content Security Policy: The page‚Äôs settings blocked the loading of a resource at https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700 (‚Äústyle-src‚Äù).
```

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**
1. Create Monolithic App and select a bootswatch theme, e.g. yetti while generating application.
2. build and run the application.
3. Load the application in browser and see browser console for error. 
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**
This is occurring because bootswatch themes are using google fonts as below.
`@import url(""https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700"");`

Instead of changing Content Security Policy in SecurityConfiguration.java, there should be a way to host the google fonts along with application. May be we can use [google-fonts-webpack-plugin](https://www.npmjs.com/package/google-fonts-webpack-plugin) but I am not sure yet.

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**
6.1.2

##### **JHipster configuration**
Output of `jhipster info` command:

INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**


app@0.0.0 D:\projects\playground\app
-- generator-jhipster@6.1.2
 


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""demo.app"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""app"",
    ""packageName"": ""demo.app"",
    ""packageFolder"": ""demo/app"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": """",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""yeti"",
    ""clientThemeVariant"": ""primary"",
    ""testFrameworks"": [""cucumber"", ""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""12.0.1"" 2019-04-16
OpenJDK Runtime Environment (build 12.0.1+12)
OpenJDK 64-Bit Server VM (build 12.0.1+12, mixed mode, sharing)

git version 2.19.0.windows.1

node: v10.15.0

npm: 6.6.0

yeoman: 3.0.0

yarn: 1.13.0

Docker version 18.09.3, build 774a1f4eee

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!


<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
---
If you have a JDL please wrap it in below structure
  <details>
  <summary>JDL definitions</summary>
  <pre>
     JDL content here
  </pre>
  </details>
-->


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**
Experienced on Microsoft Windows 10 with Firefix, Chrome, Brave. But this seems to be a generic issue. 
<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10091#issuecomment-512092551,"But in that case bootswatch/Google fonts won't work regardless of the csp, right? So  I see two issues here. The csp is to strict when using bootswatch themes and Google fonts are loaded from external sources. We can fix the csp such that bootswatch works as before adding the csp and have look at delivering fonts not via cdn."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
LogstashTcpSocketAppender seems broken.

logs:
````txt
09:40:38,682 |-WARN in net.logstash.logback.appender.LogstashTcpSocketAppender[LOGSTASH] - Log destination localhost/127.0.0.1:5000: connection failed. java.net.ConnectException: Connection refused (Connection refused)
	at java.net.ConnectException: Connection refused (Connection refused)
	at 	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at 	at java.net.Socket.connect(Socket.java:589)
	at 	at net.logstash.logback.appender.AbstractLogstashTcpSocketAppender$TcpSendingEventHandler.openSocket(AbstractLogstashTcpSocketAppender.java:586)
	at 	at net.logstash.logback.appender.AbstractLogstashTcpSocketAppender$TcpSendingEventHandler.onStart(AbstractLogstashTcpSocketAppender.java:508)
	at 	at net.logstash.logback.appender.AsyncDisruptorAppender$EventClearingEventHandler.onStart(AsyncDisruptorAppender.java:351)
	at 	at net.logstash.logback.encoder.com.lmax.disruptor.BatchEventProcessor.notifyStart(BatchEventProcessor.java:224)
	at 	at net.logstash.logback.encoder.com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:120)
	at 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at 	at java.lang.Thread.run(Thread.java:748)
09:40:38,696 |-WARN in net.logstash.logback.appender.LogstashTcpSocketAppender[LOGSTASH] - Log destination localhost/127.0.0.1:5000: Waiting 29983ms before attempting reconnection.
09:40:38,694 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - 'FileNamePattern' option has the same value ""/tmp/spring.log.%d{yyyy-MM-dd}.%i.gz"" as that given for appender [FILE] defined earlier.
09:40:38,697 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - Collisions detected with FileAppender/RollingAppender instances defined earlier. Aborting.
09:40:38,697 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - For more information, please visit http://logback.qos.ch/codes.html#earlier_fa_collision
````

##### **JHipster Version(s)**

See current master

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10065#issuecomment-510796119,"> it seems that we don't need to wrap the LogstashTcpSocketAppender with an AsyncAppender, since the LogstashTcpSocketAppender itself is asynchronous 

Interesting.
Also, the  AsyncAppender  by default drops all events with level higher then WARN (DEBUG and INFO) when queue is 80% full. This behavior is something I wanted for applications logs but not for metrics which are logged as INFO. I had to set a threshold of 0 and a larger event queue to avoid droppping metrics under havey load.

Do we have similar behavior with LogstashTcpSocketAppender ?"
jhipster/generator-jhipster,"##### **Overview of the feature request**

When re-importing a JDL file, jhipster updates the xml files with the updated entities, but after the project has been already deployed those files should not be updated but new changelogs should be generated with `liquibase:diff`.

##### **Motivation for or Use Case**

It would be really helpful for projects that have been already deployed to production to avoid liquibase, specially if using the `--interactive` flag.

##### **Related issues or PR**

No similar feature available

-   [x] Checking this box is mandatory (this is just to show you read everything)

https://opencollective.com/generator-jhipster/donate
",https://github.com/jhipster/generator-jhipster/issues/10059#issuecomment-509573877,"Probably related with https://github.com/jhipster/jhipster-core/issues/341 and https://github.com/jhipster/generator-jhipster/issues/9996

Should be fixed with https://github.com/jhipster/jhipster-core/pull/340.

Can you confirm?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Some common HTTP errors (404, 500, ...) are not translated into the UI while the error translations are in the i18n/error.json file.

![image](https://user-images.githubusercontent.com/13720513/60658867-60346a00-9e54-11e9-8154-4ee4b6c9d69a.png)

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
When an error occurs into the code, the correct HTTP code is returned by the REST API but the UI (Angular in my case) does not show an human interpretable message.
By error, I mean an unhandled error that generate a 500 return code or an AccessDeniedException that generate a 403 return code.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
Generate a simple entity and add the following decorator to the ""findAll"" method :
`@PreAuthorize(""hasRole('ADMIN')"")`

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
I tested with the 6.1.2 version.

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
test-403@0.0.0 /home/vmuser/jhipster/test403
‚îî‚îÄ‚îÄ generator-jhipster@6.1.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""test403"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Blog {
  name String required minlength(3),
  handle String required minlength(2)
}
entity BlogEntry {
  title String required,
  content TextBlob required,
  date Instant required
}
entity Tag {
  name String required minlength(2)
}
relationship ManyToOne {
  Blog{user(login)} to User,
  BlogEntry{blog(name)} to Blog
}
relationship ManyToMany {
  BlogEntry{tag(name)} to Tag{entry}
}

dto Blog, BlogEntry, Tag with mapstruct
service Blog, BlogEntry, Tag with serviceImpl
paginate BlogEntry, Tag with infinite-scroll

</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_212""
OpenJDK Runtime Environment (build 1.8.0_212-b04)
OpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)

git version 2.16.5

node: v11.15.0

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.13.0

Docker version 18.09.6, build 481bc77156

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!

.yo-rc.json file : 
[yo-rc.json.txt](https://github.com/jhipster/generator-jhipster/files/3358811/yo-rc.json.txt)


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->
JDL for entities : 
[blog-dto.jdl.txt](https://github.com/jhipster/generator-jhipster/files/3358816/blog-dto.jdl.txt)


##### **Browsers and Operating System**

My OS is Linux Centos.I-Pulses 3.10.0-957.21.2.el7.x86_64 #1 SMP Wed Jun 5 14:26:44 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
Browser : Chrome (last version)

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10035#issuecomment-534651890,"Hi,

In an Angular application, to get a proper message from a json file, the key should be passed as a parameter of the `JhiAlertService.addAlert` function. This key is located in `response.error.message` and is correctly passed in the `ErrorHandlerInterceptor`.

However, what is actually displayed is the key `response.message` (which is the error message) and resulting in a translation-not-found. 

Solutions :

1/ We can use the `JhiAlertErrorComponent` to display the errors, because it gets the event sent by the `ErrorHandlerInterceptor`. Therefore, we will have to remove the error handler in the component to avoid redundancy.

Meaning, for example, in `blog.component.html` adding
  ```html
 <jhi-alert-error></jhi-alert-error>
 <jhi-alert></jhi-alert>
  ```
and in the `loadAll` function, removing the error handler part, because the error processing is already centralized in the interceptor.

2/ We duplicate the extraction of the key from the response in the error handling function and we don't need to use the component `JhiAlertErrorComponent`. We also don't add the jhi-alert-error to avoid duplicate.

 
```javascript
let message = res.error && res.error.message ? res.error.message: res.message;
```

I prefer the first solution because it takes advantage of the application error management system. What do you think @wmarques, @PierreBesson  ?

Sonia"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

JHipster 6.1.0 added code for custom jwt token converter which generated GrantedAuthorities based on roles/groups claim value.  This implementation generated granted authorities purely based on that and dis-regards scp claim.

##### **Motivation for or Use Case**

Our controller uses authorization based on scope e.g. @org.springframework.security.access.prepost.PreAuthorize(""hasAnyAuthority('SCOPE_jun10test:vendor','SCOPE_jun10test:thirdparty')"")

##### **Reproduce the error**

Generate microservice with JHipster 6.1.0 or higher, select OAuth2 as authenticationType and add PreAuthorize annotation to one of the resources.
@org.springframework.security.access.prepost.PreAuthorize(""hasAnyAuthority('SCOPE_jun10test:vendor','SCOPE_jun10test:thirdparty')"")

##### **Related issues**

#9735 added this code for Jwt Token converter

##### **Suggest a Fix**

Here's the converter that should fix the problem.
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.oauth2.jwt.Jwt;
import org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationConverter;

import java.util.Collection;
import java.util.List;
import java.util.stream.Collectors;

public class CustomJwtAuthConverter extends JwtAuthenticationConverter {

    private static final String GROUP_CLAIM = ""groups"";
    private static final String GROUP_AUTHORITY_PREFIX = ""ROLE_"";

    @Override
    public Collection<GrantedAuthority> extractAuthorities(Jwt jwt) {
        Collection<GrantedAuthority> grantedAuthorities = super.extractAuthorities(jwt);
        List<String> groups = jwt.getClaimAsStringList(GROUP_CLAIM);
        if (groups != null) {
            List<GrantedAuthority> groupAuthorities = groups.stream()
                .map(group -> GROUP_AUTHORITY_PREFIX + group)
                .map(SimpleGrantedAuthority::new)
                .collect(Collectors.toList());
            grantedAuthorities.addAll(groupAuthorities);
        }
        return grantedAuthorities;
    }
}

The above converter extracts authorities from JwtAuthenticationConverter and adds additional authorities by reading groups claim (Can/should be updated to read the roles claim as well).
This will also require update to HttpSecurity in SecurityConfiguration.java as follows;
http
.....
.and()
            .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new CustomJwtAuthConverter());

##### **JHipster Version(s)**

JHipster 6.1.2.  Could've been a regression from 6.1.0, but given the state it was in before that was even worse I wouldn't really call it regression.  

##### **JHipster configuration**

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""july01test"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [
      {
        ""name"": ""@devex/generator-jhipster-nova-microservice"",
        ""version"": ""0.2.12""
      }
    ],
    ""enableTranslation"": false,
    ""clientPackageManager"": ""npm"",
    ""blueprint"": ""@devex/generator-jhipster-nova-microservice"",
    ""blueprintVersion"": ""0.2.12"",
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Policy {
  name String required,
  age Integer min(5)
}
microservice Policy with july01test
clientRootFolder Policy with july01test

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_202""
Java(TM) SE Runtime Environment (build 1.8.0_202-b08)
Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)

git version 2.21.0

node: v12.2.0

npm: 6.9.0

yeoman: 2.0.5

yarn: 1.13.0

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!```
Message Input

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

N/A

-   [ x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/10018#issuecomment-507498725,"@anujgpatel, your change looks good. would you be able to raise PR? Please do note that #9874 also refactor this code."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
When creating an entity with the JPA static metamodel, the entry point for the queryParams is mandatory but is should not be.

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

With JHipster 6.1.2, create a monoloth and a simple entity with JPA static metamodel.
The queryParams is then mandatory.
![image](https://user-images.githubusercontent.com/7959058/60391482-95a52480-9aef-11e9-9293-91f4daaaf7aa.png)


<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**
In the web resource, the RequestParam should have (required = false) like this:
```
public ResponseEntity<List<BookDTO>> getAllBooks(BookCriteria criteria, Pageable pageable, @RequestParam(required = false) MultiValueMap<String, String> queryParams, UriComponentsBuilder uriBuilder) {
```

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

6.1.2

##### **JHipster configuration**

```
##### **JHipster Version(s)**

```
paging@0.0.0 /home/djay/Work/01_PROJECTS/10_JHIPSTER/paging
‚îî‚îÄ‚îÄ generator-jhipster@6.1.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""io.goovy.sampleapp""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""paging"",
    ""packageName"": ""io.goovy.sampleapp"",
    ""packageFolder"": ""io/goovy/sampleapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""darkly"",
    ""clientThemeVariant"": ""dark"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Book {
  name String,
  author String,
  release LocalDate
}
dto Book with mapstruct
paginate Book with pagination
service Book with serviceImpl
filter Book

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_211""
Java(TM) SE Runtime Environment (build 1.8.0_211-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)

git version 2.22.0

node: v12.2.0

npm: 6.9.0

yarn: 1.16.0

Docker version 18.09.6-ce, build 481bc77156

docker-compose version 1.24.0, build unknown


```
##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/10008#issuecomment-507021580,"I confirm the issue, I encountered it recently too. 

It's related to pagination, not jpaFiltering and exists since https://github.com/jhipster/generator-jhipster/commit/7aa4120f098ba6f70c0fa493f80b968f5cf3ee4e and https://github.com/jhipster/jhipster/commit/b73fe65338c59f7027f142463eab70d105f52df5#diff-8ccd0377d0ab17e7d2b1a14d1414d458

@cbornet : since `queryParams` is not an actual parameter, it should not even appear in Swagger. Maybe it would be better to use `HttpServletRequest request` again in the method controller. WDYT?"
jhipster/generator-jhipster,"C:\dev\java\bikebuddy\oem-hex-gateway>jhipster --help
INFO! Using JHipster version installed globally

  Spring Boot + Angular/React in one handy generator



C:\dev\java\bikebuddy\oem-hex-gateway>jhipster -help
INFO! Using JHipster version installed globally
Usage: jhipster [command] [options]

Options:
  -d, --debug                    enable debugger
  -V, --version                  output the version number
  -h, --help                     output usage information

Commands:
  app                            Create a new JHipster application based on the selected options
  aws                            Deploy the current application to Amazon Web Services
  aws-containers                 Deploy the current application to Amazon Web Services using ECS
  ci-cd                          Create pipeline scripts for popular Continuous Integration/Continuous Deployment tools
  cloudfoundry                   Generate a `deploy/cloudfoundry` folder with a specific manifest.yml to deploy to Cloud Foundry
  docker-compose                 Create all required Docker deployment configuration for the selected applications
  entity [name]                  Create a new JHipster entity: JPA entity, Spring server-side components and Angular client-side components
  export-jdl [jdlFile]           Create a JDL file from the existing entities
  gae                            Deploy the current application to Google App Engine
  heroku                         Deploy the current application to Heroku
  import-jdl [jdlFiles...]       Create entities from the JDL file passed in argument.
    By default everything is run in parallel. If you like to interact with the console use '--interactive' flag.
  info                           Display information about your current project and system
  kubernetes                     Deploy the current application to Kubernetes
  kubernetes-helm|k8s-helm       Deploy the current application to Kubernetes using Helm package manager
  languages [languages...]       Select languages from a list of available languages. The i18n files will be copied to the /webapp/i18n folder
  openshift                      Deploy the current application to OpenShift
  spring-service|service [name]  Create a new Spring service bean
  spring-controller [name]       Create a new Spring controller
  upgrade                        Upgrade the JHipster version, and upgrade the generated application
  completion                     Print command completion script
INFO!   For more info visit https://www.jhipster.tech
INFO!",https://github.com/jhipster/generator-jhipster/issues/10006#issuecomment-507043196,"The problem comes from this PR https://github.com/jhipster/generator-jhipster/pull/9913
@dziemich : can you have a look plz ?
Otherwise, a quick solution would be to revert the commit."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

I am not able to see the log admin interface on apps created with jhipster 6.1.0 and 6.1.2. The Logs page displays with table headers but no rows/data. Reproduced on two different Macs.

##### **Motivation for or Use Case**

The built-in log administration tool is very valuable for troubleshooting issues, and it should work if it is an option in the Administration menu.

##### **Reproduce the error**

Tested on two different Macbooks:

$ mkdir testapp
$ cd testapp
$ jhipster
-accept defaults for all questions except answer no for i18n
-run ./mvnw (build succeeds, app starts with no errors)
-Open http://localhost:8080/ in browser (Firefox, Chrome, and Safari)
-Sign in with admin/admin
-Navigate to Administration > Logs
-Page displays with:
----title ""Logs""
----subtitle ""There are 1384 loggers.""
----text input ""Filter""
----table headers ""Name"" and ""Level""
----no table displays with logs
----footer ""This is your footer"".
-No javascript errors in browser console
-Browser network log shows call to loggers endpoint succeeds with 200, and loggers are visible in the response
-When I inspect the html, I see the following in the place I would expect to see html table <td> elements:
```
<!--bindings={
  ""ng-reflect-ng-for-of"": """"
}-->
```

##### **Related issues**

""No admin metrics and log shown #9932"" reports that the metrics and logs don't display, but there were javascript errors in that case, and in my case, I am able to see the metrics page.

##### **Suggest a Fix**

The data is coming back from the service, so it seems like a javascript/html/css issue, but I'm a back-end dev and my front-end debugging skills are limited.

##### **JHipster Version(s)**

6.1.0 and 6.1.2.
I can run an app from 5.8.2 where logs display correctly on the same machine/configuration

##### **JHipster configuration**

##### **JHipster Version(s)**

```
myapp@0.0.0 /Users/ujoh429/git/jhipster/myapp
‚îî‚îÄ‚îÄ generator-jhipster@6.1.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""6.1.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""testapp"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""xxxxx"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""11.0.3"" 2019-04-16 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.3+12-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.3+12-LTS, mixed mode)

git version 2.21.0

node: v12.4.0

npm: 6.9.0

##### **Browsers and Operating System**

Machine 1: macOS Mojave 10.14.5; Safari, Firefox 67.0.1 and Chrome 74.0.3729.131
Machine 2: macOS Mojave 10.14.0; Safari, Firefox 67.0.0 and Chrome 71.0.3578.98

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9982#issuecomment-506870369,"I confirm too, I had this bug during a meetup talk :D 

@markvr4 would you like to test If the fix suggest @clement26695 fix that? If yes, we can close this issue."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
In https://github.com/jhipster/generator-jhipster/issues/4867 was discussed that calling web layer from service layer is an architecture error. And this was fixed by https://github.com/jhipster/generator-jhipster/pull/4877

But from https://github.com/jhipster/generator-jhipster/pull/7983 service layer depends again on web layer because of https://github.com/jhipster/generator-jhipster/commit/cc547cabb35566af8467318d88509e082db100f2#diff-eb8ab57e6c1b5729372ec3081226b95dR43

Current version of this code: https://github.com/jhipster/generator-jhipster/blob/master/generators/server/templates/src/main/java/package/service/UserService.java.ejs#L45

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

Similar topic is discussed in this SO question: https://stackoverflow.com/questions/40116314/jhipster-exception-handling-in-services

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

Possible fix:
* create package `error.rest` here: https://github.com/jhipster/generator-jhipster/tree/master/generators/server/templates/src/main/java/package
* move the following classes from https://github.com/jhipster/generator-jhipster/tree/master/generators/server/templates/src/main/java/package/web/rest/errors to this new location:
    * BadRequestAlertException.java.ejs
    * EmailAlreadyUsedException.java.ejs
    * EmailNotFoundException.java.ejs
    * ErrorConstants.java.ejs
    * InvalidPasswordException.java.ejs
    * LoginAlreadyUsedException.java.ejs

##### **JHipster Version(s)**

```
jhipster@0.0.0 C:\projects\teest\jhipster-web-rest-errors
`-- (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""et""
    },
    ""jhipsterVersion"": ""6.0.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""et"",
    ""languages"": [
      ""et""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_211""
Java(TM) SE Runtime Environment (build 1.8.0_211-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)

git version 2.21.0.windows.1

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.15.2

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9876#issuecomment-503010071,"Very good catch @kaidohallik !! That's indeed a very important issue (I've adding a bug bounty here for this reason).

Now we are in trouble here :

- As this exception inherits from ""Zalando problem"", this is linked to Web APIs (it even has a URI in it), so for me it should stay in the Web layer.
- But this logic should be in the service layer.
- Also, this method shouldn't be split: it's good to have a transaction around everything here.

So we're blocked. And we can't do a big refactoring here until our next major version, as this would break to many things.

So 2 solutions for me:

- We refactor the current method in 3, so the exception is thrown from the Web layer -> not beautiful, bad for the transaction, but easy and no other consequences
- Move the exceptions to the ""service"" layer -> we'll need to wait our next major version

@cbornet @pascalgrimaud WDYT?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
When using MongoDB as database and entities with required relationships between them, some Integration Tests don't compile.

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

It's clearly a bug as it does not compile :)
<!-- Explain why this is a bug for you -->

##### **Reproduce the error**
Generate an app with MongoDB and required relationships (see JDL below)
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**
Issue: https://github.com/jhipster/generator-jhipster/issues/9666
PR: https://github.com/jhipster/generator-jhipster/pull/9669

ping @Gabrui 
<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**
The problem is that we use `TestUtil.findAll(em, ...)` [here](https://github.com/jhipster/generator-jhipster/blob/master/generators/entity-server/templates/src/test/java/package/web/rest/EntityResourceIT.java.ejs#L457) in every case (MongoDB included) but this method is only defined when using `sql` database: see [this condition](https://github.com/jhipster/generator-jhipster/blob/master/generators/server/templates/src/test/java/package/web/rest/TestUtil.java.ejs#L176).

I tried to fix it but it's a bit tricky, what I had in mind:
- use other relationship entity repository instead of the newly created `TestUtil.findAll(em, ...)` method

I only mentioned MongoDB here, but I'm sure it's the same for `Couchbase` and `Cassandra`.

> NB: maybe this configuration is missing in CI tests: MongoDB + required relationship.

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->

JHipster from master (6.0.1)
```
4@0.0.0 /home/hippolyte/workspace/jhipster/samples/mongoRequired
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.0.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""4"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Store {
  name String
}
entity Rule
relationship OneToMany {
  Store{rule} to Rule{store(name) required}
}


</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_212""
OpenJDK Runtime Environment (build 1.8.0_212-8u212-b03-0ubuntu1.18.04.1-b03)
OpenJDK 64-Bit Server VM (build 25.212-b03, mixed mode)

git version 2.17.1

node: v10.15.3

npm: 6.4.1

yeoman: 2.0.2

yarn: 1.6.0

Docker version 18.06.3-ce, build d7080c1

docker-compose version 1.21.1, build 5a3f1a3

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

<details>
<summary>Entity Rule definition</summary>

<pre>
{
    ""name"": ""Rule"",
    ""fields"": [],
    ""relationships"": [
        {
            ""relationshipType"": ""many-to-one"",
            ""otherEntityName"": ""store"",
            ""otherEntityRelationshipName"": ""rule"",
            ""relationshipValidateRules"": ""required"",
            ""relationshipName"": ""store"",
            ""otherEntityField"": ""name""
        }
    ],
    ""changelogDate"": ""20190529133335"",
    ""entityTableName"": ""rule"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": ""*""
}
</pre>
</details>

<details>
<summary>Entity Store definition</summary>

<pre>
{
    ""name"": ""Store"",
    ""fields"": [
        {
            ""fieldName"": ""name"",
            ""fieldType"": ""String""
        }
    ],
    ""relationships"": [
        {
            ""relationshipType"": ""one-to-many"",
            ""otherEntityName"": ""rule"",
            ""otherEntityRelationshipName"": ""store"",
            ""relationshipName"": ""rule""
        }
    ],
    ""changelogDate"": ""20190529133334"",
    ""entityTableName"": ""store"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": ""*""
}
</pre>
</details>

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9820#issuecomment-497118182,"Are unique constraints enforced in mongodb? If not, we could just force my fix to the sql case. Just changing [this line](https://github.com/jhipster/generator-jhipster/blob/507e89c98f9c17e9787066c5229011e1d74ff709/generators/entity-server/templates/src/test/java/package/web/rest/EntityResourceIT.java.ejs#L446)
```
<%_ if (otherEntityName === 'user') { // TODO or other entity has no unique fields _%>
``` 

to

```
<%_ if (otherEntityName === 'user' || databaseType !== 'sql') { // TODO or other entity has no unique fields _%>
``` 

would resolve.

But I really don't know how those other database types work."
jhipster/generator-jhipster,,https://github.com/jhipster/generator-jhipster/issues/9817#issuecomment-496926973,"Should this revert to angular cli since it's much more stable now, helps with upgrades, and would allow to easily use ivy..., also, do you think we should use bazel?  "
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Using JHipster with Angular and pagination, if you access a entity list with more than one page, go to page 2 and use a filter with few results that only need one page to show,, a page change to page one is not performed.

##### **Motivation for or Use Case**

This behaviour is not present in the audit list (which is also a paginated list) so the other tables should be consistent with it.

##### **Reproduce the error**

- Access a list with more than one page
- Go to page 2
- Filter results leaving few results (<pageSize)
- In the audit list a page change to page 1 is done
- In any other paginated entity list stays in page 2

##### **Suggest a Fix**

I don't know exactly the reason but is related with the ngif of the ouside div (entity-management.component.html.ejs):

`    <div *ngIf=""<%=entityInstancePlural %> && <%=entityInstancePlural %>.length"">
        <div class=""row justify-content-center"">
            <jhi-item-count [page]=""page"" [total]=""totalItems"" [maxSize]=""5"" [itemsPerPage]=""itemsPerPage""></jhi-item-count>
        </div>
        <div class=""row justify-content-center"">
            <ngb-pagination [collectionSize]=""totalItems"" [(page)]=""page"" [pageSize]=""itemsPerPage"" [maxSize]=""5"" [rotate]=""true"" [boundaryLinks]=""true"" (pageChange)=""loadPage(page)""></ngb-pagination>
        </div>
    </div>
    <%_ } _%>`

My guess is that the ngIf prevents the inner tags to be in the DOM when the event should be raised and because of that, when it evaluates to true is too late and the event is never thrown. In fact, if I change the ngIf with a hidden, everything works.

##### **JHipster Version(s)**

I'm using JHipster 5.8.2 but the code affected hasn't changed in JHipster 6

##### **JHipster Version(s)**

```
managementApp@0.0.0 T:\workspace\app
`-- generator-jhipster@5.8.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.app.management"",
      ""nativeLanguage"": ""es""
    },
    ""jhipsterVersion"": ""5.8.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""management"",
    ""packageName"": ""com.app.management"",
    ""packageFolder"": ""com/app/management"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mysql"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": """",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""es"",
    ""languages"": [
      ""es"",
      ""en""
    ]
  }
}
</pre>
</details>

##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Idioma {
  codigo String required maxlength(8),
  codigoISO String required maxlength(2)
}
dto Idioma with mapstruct
paginate Idioma with pagination
service Idioma with serviceClass

</pre>
</details>

##### **Environment and Tools**

java version ""1.8.0_201""
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) Client VM (build 25.201-b09, mixed mode, sharing)

node: v8.12.0

npm: 6.4.1

yeoman: 2.0.5
",https://github.com/jhipster/generator-jhipster/issues/9808#issuecomment-496534248,Can you please supply your `jhipster info` output so we can easily reproduce?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

liquibase-hibernate5 version 3.6 (used by jhipster 6.0.1) does not support liquibase 3.6 (used by jhipster 6.0.1)

See the release note: https://github.com/liquibase/liquibase-hibernate/releases/tag/liquibase-hibernate5-3.7 
```
Support for Liquibase 3.6.x
Support for Bean validation annotation
Better handling of indexes and constraints
Better handling of physicalNamingStrategy
Support for using sequence start values
```

This leads to an error using liquibase:diff

```
[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:3.6.3:diff (default-cli) on project api: Error setting up or running Liquibase: org.hibernate.boot.MappingException: Unable to perform unmarshalling at line number 3 and column 40. Message: √©l√©ment inattendu (URI : ""http://www.hibernate.org/xsd/orm/hbm"", local : ""hibernate-mapping""). Les √©l√©ments attendus sont <{}hibernate-mapping> : origin(envers): UnmarshalException -> [Help 1]
```

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

We should use compatible versions between dependencies

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

Update to liquibase-hibernate5 version 3.7

##### **JHipster Version(s)**

6.0.1
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->

Sorry for the quick dirty issue, I may be able to provide more context later
",https://github.com/jhipster/generator-jhipster/issues/9807#issuecomment-496876647,"Last time we had this similar problem and was fixed in https://github.com/jhipster/generator-jhipster/pull/9695

Please provide details steps to reproduce.

Updating to liquibase-hibernate5 version 3.7 didn't help, see in the https://github.com/jhipster/generator-jhipster/pull/9740#issuecomment-492768001

Did your code successfully run with your suggested fix?
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Prometheus is causing errors when I try to apply your configuration in the EKS cluster on AWS.

##### **Motivation for or Use Case**

When I apply the monitoring directory generated by the `jhipster kubernetes` sub generator, I can not to running up Prometheus, because I receive the below message:

Unhandled error received. Exiting..."" err=""creating CRDs failed: waiting for PrometheusRule crd failed: timed out waiting for Custom Resource: failed to list CRD: unknown (get prometheusrules.monitoring.coreos.com)""

##### **Reproduce the error**

1) kubectl -f apply registry
2) kubectl -f apply gateway
3) kubectl -f apply monitoring
4) The pod of the prometheus CR not stay in running state

##### **Suggest a Fix**

I found the solution here: [Prometheus operator ERROR status](https://github.com/coreos/prometheus-operator/issues/1658)

The solution is added the line `- prometheusrules` on this section below:

```
- apiGroups:
  - monitoring.coreos.com
  resources:
  - alertmanagers
  - prometheuses
  - servicemonitors
  - prometheusrules
```

##### **JHipster Version(s)**

6.0.1

##### **JHipster configuration**

##### **JHipster Version(s)**

```
/Users/viniciuscarvalho/Projects/sbt-platform/devops/kubernetes
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""appsFolders"": [
      ""gateway""
    ],
    ""directoryPath"": ""../../"",
    ""serviceDiscoveryType"": ""eureka"",
    ""jwtSecretKey"": ""***"",
    ""dockerRepositoryName"": ""***"",
    ""dockerPushCommand"": ""docker push"",
    ""kubernetesNamespace"": ""default"",
    ""kubernetesServiceType"": ""LoadBalancer"",
    ""ingressDomain"": """",
    ""monitoring"": ""prometheus"",
    ""istio"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.2"" 2019-01-15
OpenJDK Runtime Environment 18.9 (build 11.0.2+9)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)

git version 2.21.0

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.0

yarn: 1.15.2

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

MacOS Mojave 10.14.5
Chrome Vers√£o 74.0.3729.169 (Version official) 64 bits

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9795#issuecomment-495910997,"@vinicius91carvalho : thanks for reporting this. Indeed, this part is not tested in our CI so you're probably right.
Would you like to contribute and PR the fix plz ?"
jhipster/generator-jhipster,"##### **Overview of the issue**

I try starting/building a new project with uaa enabled microservices. So i create the uaa service and som uaa enabled microservices, but i can't start/build the uaa nor the microservices with java 11 or 12. Because JAXB not found. i try to add the required maven dependencies, but this also not working.

``
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project main-application-service: Fatal error compiling: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException: javax.xml.bind.JAXBException -> [Help 1]
``
##### **Motivation for or Use Case**

Microservices without uaa enabled, starts without any problems. But if you want a project with uaa its not working.

##### **Reproduce the error**

1. create a uaa service with the generator and try to build it with java 11 or 12
2. create a microservice with uaa as authentificationservice and try to build it with java 11 or 12

##### **Suggest a Fix**

I think, the uaa service generator is not updated to use with newer java versions then java 8

##### **JHipster Version(s)**

jHipster 6.0.1

##### **JHipster configuration**

INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
main-application-service@0.0.0 /Users/rizzi/Desktop/jhipster-demo
‚îî‚îÄ‚îÄ generator-jhipster@6.0.1 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.epbf.bitsbutler.ms.mainapplication"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.0.1"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""mainApplicationService"",
    ""packageName"": ""com.epbf.bitsbutler.ms.mainapplication"",
    ""packageFolder"": ""com/epbf/bitsbutler/ms/mainapplication"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""testFrameworks"": [
      ""gatling""
    ],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""de""
    ],
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""12.0.1"" 2019-04-16
OpenJDK Runtime Environment AdoptOpenJDK (build 12.0.1+12)
OpenJDK 64-Bit Server VM AdoptOpenJDK (build 12.0.1+12, mixed mode, sharing)

git version 2.21.0

node: v12.3.1

npm: 6.9.0

yeoman: 2.0.5

yarn: 1.16.0

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

no entities needed for forcing the exception

##### **Browsers and Operating System**

Latest MacOS Mojave with Java 11 and 12

-   [X] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/9788#issuecomment-495598662,"If you add JAXB as a dependency, does it work?

```xml
<dependency>
    <groupId>org.glassfish.jaxb</groupId>
    <artifactId>jaxb-runtime</artifactId>
</dependency>
```"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
I have updated my JHipster version to the latest, and there's the new featured for installing theme, the issue is when I install this specific theme ""Lux"" I get this error, I tried it on 2 different computers, still the same error showing.

 ```
ERROR  Failed to compile with 1 errors                                                                      10:17:59

 error  in ./src/main/webapp/app/app.scss

Module build failed (from ./node_modules/sass-loader/lib/loader.js):

undefined
                                              ^
      1.5rem*em isn't a valid CSS value.
    ‚ï∑
491 ‚îÇ $input-height-inner:                    calc(#{$input-line-height * 1em} + #{$input-padding-y * 2}) !default;
    ‚îÇ                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    ‚ïµ
  node_modules\bootstrap\scss\_variables.scss 491:48  @import
  node_modules\bootstrap\scss\bootstrap.scss 9:9      @import
  stdin 4:9                                           root stylesheet
      in ..\node_modules\bootstrap\scss\_variables.scss (line 491, column 48)

 @ ./src/main/webapp/app/app.scss 2:14-199 21:1-42:3 22:19-204
 @ ./src/main/webapp/app/app.tsx
 @ ./src/main/webapp/app/index.tsx
 @ multi (webpack)-dev-server/client?http://localhost:9060 (webpack)/hot/dev-server.js ./src/main/webapp/app/index

√ó ÔΩ¢wdmÔΩ£:    1172 modules

ERROR in ./src/main/webapp/app/app.scss (./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src!./node_modules/sass-loader/lib/loader.js??ref--8-3!./src/main/webapp/app/app.scss)
Module build failed (from ./node_modules/sass-loader/lib/loader.js):

undefined
                                              ^
      1.5rem*em isn't a valid CSS value.
    ‚ï∑
491 ‚îÇ $input-height-inner:                    calc(#{$input-line-height * 1em} + #{$input-padding-y * 2}) !default;
    ‚îÇ                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    ‚ïµ
  node_modules\bootstrap\scss\_variables.scss 491:48  @import
  node_modules\bootstrap\scss\bootstrap.scss 9:9      @import
  stdin 4:9                                           root stylesheet
      in ..\node_modules\bootstrap\scss\_variables.scss (line 491, column 48)
i ÔΩ¢wdmÔΩ£: Failed to compile.
```

##### **Motivation for or Use Case**

I am currently making a website that should use that theme because it looks premium and simple.

##### **Reproduce the error**

Just install a new project on JHIPSTER and choose Lux Theme

##### **Related issues**

No I never had similar issues.

##### **Suggest a Fix**

I have fixed the issue and posted the solution in a comment.

##### **JHipster Version(s)**

6.0.1

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""CENSORED"",
      ""nativeLanguage"": ""fr""
    },
    ""jhipsterVersion"": ""6.0.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""MoneyChat"",
    ""packageName"": ""CENSORED"",
    ""packageFolder"": ""CENSORED"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""react"",
    ""clientTheme"": ""lux"",
    ""clientThemeVariant"": ""primary"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""fr"",
    ""languages"": [""fr"", ""en""]
  }
}
```


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

Chrome & Windows 10.

-   [X ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9785#issuecomment-495242780,"Following your comment, it seems not an issue with Jhipster, rather underlying bootstrap/bootswatch. Can you raise that against the appropriate library?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
My URL regex string for an entity field pattern fails

```
INFO! The JDL is being parsed.
error: Error message:
        unexpected character: ->\<- at offset: 5572, skipped 1 characters.
SyntaxError: Error: unexpected character: ->\<- at offset: 5572, skipped 1 characters.
ERROR! Error while parsing applications and entities from the JDL SyntaxError: Error: unexpected character: ->\<- at offset: 5572, skipped 1 characters.
SyntaxError: Error: unexpected character: ->\<- at offset: 5572, skipped 1 characters.
    at callApiMethod (/usr/local/lib/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:88:11)
    at parse (/usr/local/lib/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:72:10)
    at Object.parseFromFiles (/usr/local/lib/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:41:10)
    at parseFiles (/usr/local/lib/node_modules/generator-jhipster/node_modules/jhipster-core/lib/jdl/jdl_importer.js:82:20)
    at JDLImporter.import (/usr/local/lib/node_modules/generator-jhipster/node_modules/jhipster-core/lib/jdl/jdl_importer.js:64:30)
    at JDLProcessor.importJDL (/usr/local/lib/node_modules/generator-jhipster/cli/import-jdl.js:76:41)
    at JDLProcessor.importJDL (/usr/local/lib/node_modules/generator-jhipster/cli/import-jdl.js:292:38)
    at module.exports (/usr/local/lib/node_modules/generator-jhipster/cli/import-jdl.js:446:21)
    at Command.<anonymous> (/usr/local/lib/node_modules/generator-jhipster/cli/cli.js:72:36)
    at Command.listener (/usr/local/lib/node_modules/generator-jhipster/node_modules/commander/index.js:315:8)
```

##### **Motivation for or Use Case**

i try to regex for url's with the following, working regex string

`^(https?|ftp|file):\\/\\/[-a-zA-Z0-9+&@#\\/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#\\/%=~_|]$`

but the jdl parser throw an exception because auf the slashes. i try only forward slashes, escaping with one oder two backward slashes.

##### **Reproduce the error**

create an jdl file with the following entity

```
entity DummyEntity {
  /** fieldName */
  name String required,
  website String pattern(/^(https?|ftp|file):\\/\\/[-a-zA-Z0-9+&@#\\/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#\\/%=~_|]$/),
  email String pattern(/^((""[\w-\s]+"")|([\w-]+(?:\.[\w-]+)*)|(""[\w-\s]+"")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/),
}
```

##### **JHipster Version(s)**

i use jHipster version 6.0.0

##### **JHipster configuration**

`INFO! Using JHipster version installed globally
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
/Users/rizzi/Documents/WORK/EPBF/IdeaProjects/BitsButler
‚îî‚îÄ‚îÄ (empty)

```

cat: no such file or directory: .yo-rc.json

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

openjdk version ""12"" 2019-03-19
OpenJDK Runtime Environment (build 12+33)
OpenJDK 64-Bit Server VM (build 12+33, mixed mode, sharing)

git version 2.21.0

node: v12.1.0

npm: 6.9.0

yeoman: 2.0.5

yarn: 1.15.2

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

INFO! Congratulations, JHipster execution is complete!
`

no files generated

##### **Browsers and Operating System**

i use macOS 10.14.5

[X] Checking this box is mandatory (this is just to show you read everything)",https://github.com/jhipster/generator-jhipster/issues/9750#issuecomment-493784020,"I am with the same problem. I am using JHipster 6.0.1. 

The pattern:

```
/[0-9]{2}\.?[0-9]{3}\.?[0-9]{3}\/?[0-9]{4}\-?[0-9]{2}/
```

The message that I was receiving is:
```
INFO! The JDL is being parsed.
        error: Error message:
	unexpected character: ->?<- at offset: 180, skipped 1 characters.
SyntaxError: Error: unexpected character: ->?<- at offset: 180, skipped 1 characters.
ERROR! Error while parsing applications and entities from the JDL SyntaxError: Error: unexpected character: ->?<- at offset: 180, skipped 1 characters.
SyntaxError: Error: unexpected character: ->?<- at offset: 180, skipped 1 characters.
    at callApiMethod (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:88:11)
    at parse (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:72:10)
    at Object.parseFromFiles (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/jhipster-core/lib/reader/jdl_reader.js:41:10)
    at parseFiles (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/jhipster-core/lib/jdl/jdl_importer.js:82:20)
    at JDLImporter.import (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/jhipster-core/lib/jdl/jdl_importer.js:64:30)
    at JDLProcessor.importJDL (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/cli/import-jdl.js:76:41)
    at JDLProcessor.importJDL (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/cli/import-jdl.js:292:38)
    at module.exports (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/cli/import-jdl.js:446:21)
    at Command.command.allowUnknownOption.description.action.args (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/cli/cli.js:72:36)
    at Command.listener (/Users/viniciuscarvalho/Projects/sbt-platform/gateway/node_modules/generator-jhipster/node_modules/commander/index.js:315:8)
```"
jhipster/generator-jhipster,"##### **Overview of the issue**

We systematically get a 401 when using `@Secured(AuthoritiesConstants.ADMIN)` with OIDC configuration.
The authorityMapper is not called, and also it's not accurate when compared to the JWT token.
What's the best way for fixing the issue?

##### **Motivation for or Use Case**

Securing endpoint

##### **Reproduce the error**

add a @Secured annotation on a resource endpoint (on a microservice on my side).
Try to call it, and dejoy... (tested on a microservice).
Also, I noticed that there were some agressive cast of Authentication to OAuth2AuthenticationToken, which is not always the case (for exemple service to service communication with Feign). this is not particularly related but to take into account while fixing. 

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

Don't know, an AuthenticationManager implementation + a good implementation authorityMapper. Or maybe a token enhancer?

##### **JHipster Version(s)**

6.0.0

##### **JHipster configuration**

```
application {
  config {
    baseName pmi
    packageName com.corp.ecwp.pmi
    applicationType gateway
    authenticationType oauth2
    cacheProvider hazelcast
    clientFramework angularX
    clientPackageManager yarn
    enableHibernateCache true
    languages [en, fr]
    searchEngine elasticsearch
    serverPort 8080
    serviceDiscoveryType eureka
    testFrameworks [protractor]
    useSass true
  }
  entities X
}

application {
  config {
    baseName marketplace
    applicationType microservice
    authenticationType oauth2
    cacheProvider hazelcast
    clientPackageManager yarn
    databaseType sql
    enableHibernateCache true
    languages [en, fr]
    packageName com.corp.service.marketplace
    searchEngine elasticsearch
    serverPort 8103
    serviceDiscoveryType eureka
    useSass true
  }
  entities Y
}
```



-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9735#issuecomment-495804070,Are you able to debug the JWT and look at its claims to ensure it has a `groups` claim? Either that or insect the current Spring Security user to see what their authorities are.
jhipster/generator-jhipster,"##### **Overview of the issue**
When the user is idle for more than 5 minutes, access from the browser to microservice is not authenticated.

##### **Motivation for or Use Case**
After 5 minute idle, access to the entire menu in the gateway, no need for authentication, only related to the microservice that needs authentication. For public users, it will be a bit confusing.

##### **Reproduce the error**

1. Create a gateway application with security oauth2.
2. Create a microservice application with security oauth2.
3. Create one entity with the description field on microservice.
4. run ""jhipster entity Data1"" from the command prompt
5. Copy entity to gateway, do same thing with command ""jhipster entity Data1 --skip-server""
6. Run gateway and microservice, open Data-1 from entities->Data 1

##### **Gateway Configuration **
jhipster info
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
gateway@0.0.0 D:\tmp\check-zuul\gw
`-- generator-jhipster@6.0.0

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""packageName"": ""com.mycompany"",
    ""packageFolder"": ""com/mycompany"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Data1 {
  description String
}
dto Data1 with mapstruct
paginate Data1 with pagination
service Data1 with serviceClass
microservice Data1 with svc
clientRootFolder Data1 with svc

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_202""
Java(TM) SE Runtime Environment (build 1.8.0_202-b08)
Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)

git version 2.19.1.windows.1

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.9.4

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

##### **Microservice Configuration **
jhipster info
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
svc@0.0.0 D:\tmp\check-zuul\svc
`-- generator-jhipster@6.0.0

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""svc"",
    ""packageName"": ""com.mycompany"",
    ""packageFolder"": ""com/mycompany"",
    ""serverPort"": ""8082"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false,
    ""clientPackageManager"": ""npm"",
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Data1 {
  description String
}
dto Data1 with mapstruct
paginate Data1 with pagination
service Data1 with serviceClass
microservice Data1 with svc
clientRootFolder Data1 with svc

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_202""
Java(TM) SE Runtime Environment (build 1.8.0_202-b08)
Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)

git version 2.19.1.windows.1

node: v10.15.3

npm: 6.9.0

yeoman: 2.0.6

yarn: 1.9.4

Docker version 18.09.2, build 6247962

docker-compose version 1.23.2, build 1110ad01

-   [x] Checking this box is mandatory (this is just to show you read everything)

First Open Page:

![image](https://user-images.githubusercontent.com/1936249/57406096-2eaf7180-720a-11e9-9c2d-842ec1022781.png)

After 5 Minute, and click edit in Form:
![image](https://user-images.githubusercontent.com/1936249/57406429-e5abed00-720a-11e9-9462-1b26b743a22a.png)

![image](https://user-images.githubusercontent.com/1936249/57406439-ecd2fb00-720a-11e9-8656-e0ec657a9435.png)



",https://github.com/jhipster/generator-jhipster/issues/9707#issuecomment-490651390,"You mentioned ""Microsoft"". Are you using Microsoft as your OIDC provider? If so, does the same behavior happen with Keycloak?"
jhipster/generator-jhipster,"##### **Overview of the issue**

We can use an underscore in baseName. When we use it, jhipster generate a folder with and underscore.

But we can't use an underscore in appFolders array. Jhipster generate a regex exception

##### **Motivation for or Use Case**
If we can use an underscore in baseName we must we able to use it in appFolders

##### **Reproduce the error**

Generate an microservice app and a gateway with underscore in baseName.
Try to use folder name with and underscore in appFolders in jdl files

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

##### **JHipster Version(s)**
6.0.0

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**


##### **Browsers and Operating System**
Ubuntu 18.04",https://github.com/jhipster/generator-jhipster/issues/9699#issuecomment-490421757,"It seems related to:
- https://github.com/jhipster/generator-jhipster/issues/9335
- https://github.com/jhipster/jhipster-core/pull/312

Could you provide more information, with some JDL and your `jhipster info` ? So it will be easier to try to reproduce"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
On a new monolithic application with Oauth2/OIDC, the generated code to query an entity by current user generate an exception.

> org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'username' cannot be found on object of type 'org.springframework.security.oauth2.core.oidc.user.DefaultOidcUser' - maybe not public or not valid?

<details>
<summary>stack trace</summary>
<pre>
org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'username' cannot be found on object of type 'org.springframework.security.oauth2.core.oidc.user.DefaultOidcUser' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:90)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:300)
	at org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.evaluateExpression(QueryParameterSetterFactory.java:179)
	at org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.lambda$create$0(QueryParameterSetterFactory.java:164)
	at java.base/java.util.function.Function.lambda$andThen$1(Function.java:88)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:82)
	at org.springframework.data.jpa.repository.query.ParameterBinder.lambda$bind$0(ParameterBinder.java:79)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at java.base/java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1083)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:79)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96)
	at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:210)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy187.findByUserIsCurrentUser(Unknown Source)
	at com.mycompany.myapp.service.impl.ContactServiceImpl.findByCurrentUser(ContactServiceImpl.java:93)
	at com.mycompany.myapp.service.impl.ContactServiceImpl$$FastClassBySpringCGLIB$$9de3ae67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.mycompany.myapp.aop.logging.LoggingAspect.logAround(LoggingAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor293.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.mycompany.myapp.service.impl.ContactServiceImpl$$EnhancerBySpringCGLIB$$7e5cd7ec.findByCurrentUser(<generated>)
	at com.mycompany.myapp.web.rest.ContactResource.deleteContactBla(ContactResource.java:127)
	at com.mycompany.myapp.web.rest.ContactResource$$FastClassBySpringCGLIB$$4a5cc551.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.mycompany.myapp.aop.logging.LoggingAspect.logAround(LoggingAspect.java:86)
	at jdk.internal.reflect.GeneratedMethodAccessor293.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.mycompany.myapp.web.rest.ContactResource$$EnhancerBySpringCGLIB$$cddc430e.deleteContactBla(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:98)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
</pre>
</details>

##### **Reproduce the error**

1. Create a new monolithic app with Oauth2 / OIDC
2. Add a new entity with a many-to-one relationship to User
3. Start a Keycloak container from the generated docker-compose file
4. Call the method ""findByUserIsCurrentUser"" of the new repository from a simple endpoint.

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
6.0.0
##### **JHipster configuration**

> 
> 
> ```
> test-jhi-6@0.0.0 /Users/username/projets/testJhi6
> ‚îî‚îÄ‚îÄ generator-jhipster@6.0.0
> 
> ```
> 
> 
> ##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**
> 
> 
> <details>
> <summary>.yo-rc.json file</summary>
> <pre>
> {
>   ""generator-jhipster"": {
>     ""promptValues"": {
>       ""packageName"": ""com.mycompany.myapp""
>     },
>     ""jhipsterVersion"": ""6.0.0"",
>     ""applicationType"": ""monolith"",
>     ""baseName"": ""testJhi6"",
>     ""packageName"": ""com.mycompany.myapp"",
>     ""packageFolder"": ""com/mycompany/myapp"",
>     ""serverPort"": ""8080"",
>     ""authenticationType"": ""oauth2"",
>     ""cacheProvider"": ""ehcache"",
>     ""enableHibernateCache"": true,
>     ""websocket"": false,
>     ""databaseType"": ""sql"",
>     ""devDatabaseType"": ""h2Disk"",
>     ""prodDatabaseType"": ""postgresql"",
>     ""searchEngine"": false,
>     ""messageBroker"": false,
>     ""serviceDiscoveryType"": false,
>     ""buildTool"": ""maven"",
>     ""enableSwaggerCodegen"": false,
>     ""clientFramework"": ""angularX"",
>     ""clientTheme"": ""cyborg"",
>     ""clientThemeVariant"": ""primary"",
>     ""useSass"": true,
>     ""clientPackageManager"": ""npm"",
>     ""testFrameworks"": [],
>     ""jhiPrefix"": ""jhi"",
>     ""entitySuffix"": """",
>     ""dtoSuffix"": ""DTO"",
>     ""otherModules"": [],
>     ""enableTranslation"": false
>   }
> }
> </pre>
> </details>
> 
> 
> ##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
> 
> <details>
> <summary>JDL entity definitions</summary>
> 
> <pre>
> entity Contact {
>   name String
> }
> relationship ManyToOne {
>   Contact{user(login)} to User
> }
> 
> dto Contact with mapstruct
> service Contact with serviceImpl
> 
> </pre>
> </details>
> 
> 
> ##### **Environment and Tools**
> 
> java version ""11.0.3"" 2019-04-16 LTS
> Java(TM) SE Runtime Environment 18.9 (build 11.0.3+12-LTS)
> Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.3+12-LTS, mixed mode)
> 
> git version 2.17.2 (Apple Git-113)
> 
> node: v10.15.0
> 
> npm: 6.4.1
> 
> yeoman: 2.0.0
> 
> yarn: 1.9.4
> 
> Docker version 18.09.2, build 6247962
> 
> docker-compose version 1.23.2, build 1110ad01

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9696#issuecomment-490537935,"Looking at https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/core/oidc/user/DefaultOidcUser.html, if you change it to {principal.preferredUsername}, does it work?

> On May 8, 2019, at 06:57, mguyaux <notifications@github.com> wrote:
> 
> I tried to update the SecurityUtils class with the change of #9668 but it's still not working:
> getCurrentUser is only called on login (and it works üëç ) to update the user's data but not on a repository query like
> select contact from Contact contact where contact.user.login = ?#{principal.username}""
> I still have the same error.
> 
> ‚Äî
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub, or mute the thread.
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

React UI: entity enum values incorrectly displayed as ""[object Object]"" 
 instead of enum value as is defined in JDL file.
The same is if you click enum field and drop down list contains all items with the same values: ""[object Object]"" 
""[object Object]"" 
....
""[object Object]"" 

##### **Motivation for or Use Case**

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
1. generate new src with jhipster generator ""jhipsterVersion"": ""6.0.0""
language is ""sk"" 
2. JDL with ENUMS imported 
3. start web application
4. select Entity ""Price Category""  .... this entity contains 3 enum values.

5. click ""create new"" entity.
in opened view all entity filds of type Enum shows always text: ""[object Object]""  instead of enum value as is defined in JDL file.


##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**
jhipster version 6.0.0
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->
INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
##### **JHipster Version(s)**

```
sse@0.0.0 /home/myproj/proj/myproj/src/sse
‚îî‚îÄ‚îÄ generator-jhipster@6.0.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""se"",
      ""nativeLanguage"": ""sk""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""sse"",
    ""packageName"": ""se"",
    ""packageFolder"": ""se"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""postgresql"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": "",,,,,"",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""flatly"",
    ""clientThemeVariant"": ""primary"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""sk"",
    ""languages"": [""sk""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity PriceCategory {
  meteringPlaceType MeteringPlaceType,
  categoryDone CategoryDone,
  employmentType EmploymentType,
  dateCreated LocalDate,
  above1000 Boolean,
  price Float
}
entity EmploymentTypeHistory {
  employmentType EmploymentType,
  date LocalDate
}
entity Employee {
  assignedFirstname String maxlength(50),
  assignedLastname String maxlength(50),
  username String maxlength(50),
  email String maxlength(255),
  mobileNumber String maxlength(255)
}
entity MeteringPlaceOwner
entity MeteringPlace {
  meteringPlaceId Long
}
entity ItinerarMeteringPlace {
  itinerarMeteringPlaceSystemId Long,
  itinerarId Long,
  objectIdentifier Long,
  placeIdentifier Long,
  meteringPlaceType MeteringPlaceType,
  operatorId Long,
  batchId Long,
  routeId Long,
  routeDate LocalDate,
  batchSystemId String maxlength(255),
  meteringDate LocalDate
}
entity CategoryDoneRange {
  categoryDone CategoryDone unique,
  lower Float,
  upper Float
}
entity EmployeePlanCorrection {
  correctionRd Integer,
  correctionBd Integer,
  correctionLaz Integer,
  correctionAnomal Integer,
  correctionDate LocalDate
}

enum MeteringPlaceType {
  BD,
  RD,
  LAZ
}

enum CategoryDone {
  DONE_100,
  DONE_98,
  DONE_95,
  DONE_92,
  DONE_50,
  DONE_0
}

enum EmploymentType {
  FAKTURANT,
  DVP
}

relationship OneToMany {
  Employee{employmentType} to EmploymentTypeHistory{employee(assignedLastname)},
  Employee{itinerarMeteringPlace} to ItinerarMeteringPlace{employee(assignedLastname)},
  Employee{employeePlanCorrection} to EmployeePlanCorrection{employee(assignedLastname)}
}

dto PriceCategory, EmploymentTypeHistory, Employee, MeteringPlaceOwner, MeteringPlace, ItinerarMeteringPlace, CategoryDoneRange, EmployeePlanCorrection with mapstruct
paginate PriceCategory, EmploymentTypeHistory, Employee, MeteringPlaceOwner, MeteringPlace, ItinerarMeteringPlace, CategoryDoneRange, EmployeePlanCorrection with pagination
service PriceCategory, EmploymentTypeHistory, Employee, MeteringPlaceOwner, MeteringPlace, ItinerarMeteringPlace, CategoryDoneRange, EmployeePlanCorrection with serviceClass
filter PriceCategory, EmploymentTypeHistory, Employee, MeteringPlaceOwner, MeteringPlace, ItinerarMeteringPlace, CategoryDoneRange, EmployeePlanCorrection

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_201""
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)

git version 2.11.0

node: v8.15.0

npm: 6.9.0

yeoman: 2.0.5

yarn: 1.12.3

Docker version 18.09.2, build 6247962

docker-compose version 1.22.0, build f46880fe

INFO! Congratulations, JHipster execution is complete!
##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
 -->
The same problem is with browsers: Firefox 66.0.4 (64-bit) and Chromium (Version 73.0.3683.75 (Developer Build) built on Debian 9.8, running on Debian 9.7 (64-bit))

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9694#issuecomment-490572877,"It looks like to be a valid solution, as I can see `{translate(""..."")}` is used everywhere too.
Would you like to contribute and PR your fix @SoniaLahi ?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

The `Link` header in api responses does not include the full base path.

##### **Motivation for or Use Case**

This prevents the use of the header to get the next page of a result set, or number of pages.

##### **Reproduce the error**

Create an app with the following config...
```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": """",
    ""clientFramework"": ""react"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [
      {
        ""name"": ""generator-jhipster-swagger-cli"",
        ""version"": ""3.0.1""
      },
      {
        ""name"": ""generator-jhipster-audit-helper"",
        ""version"": ""1.0.3""
      },
      {
        ""name"": ""generator-jhipster-administration-database"",
        ""version"": ""1.0.4""
      },
      {
        ""name"": ""generator-jhipster-jgitver"",
        ""version"": ""0.1.0""
      }
    ],
    ""enableTranslation"": false
  }
}

```
1. Open dev tools
2. Login to a jhipster app.
3. Administration >> User Management
The `Link` header does not include full path.

`Link: <http://localhost:8080?sort=id%2Casc&page=0&size=20>; rel=""last"",<http://localhost:8080?sort=id%2Casc&page=0&size=20>; rel=""first""`

##### **Related issues**

Issues with the Link header have been reported previously, but I believe this particular issue is new due to new usage of UriComponentsBuilder from spring-web to generate this link in jhipster 6.

##### **Suggest a Fix**

Modify io.github.jhipster.web.util.PaginationUtil to get the correct info from UriComponentsBuilder...

However, it looks like org.springframework.web.util.ServletUriComponentsBuilder isn't getting the full path.
`org.springframework.web.util.UrlPathHelper.getPathWithinServletMapping` returns a blank string.

##### **JHipster Version(s)**

6.0.0

##### **JHipster configuration**

Configuration is above

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
MacOS 10.14.4, Google Chrome 74.0.3729.131
-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9690#issuecomment-490173279,"Can you have a look at this file ?
https://github.com/jhipster/jhipster/blob/master/jhipster-framework/src/main/java/io/github/jhipster/web/util/PaginationUtil.java

If you can help to fix this, PR are welcome ! "
jhipster/generator-jhipster,"##### **Overview of the issue**

Fields can have validation rules: https://www.jhipster.tech/jdl/#available-field-types-and-constraints
However generated data only take into account the maxlength one (for string), so this can lead to error when loading the data with liquibase.

##### **Motivation for or Use Case**

Have initial data that are coherent and won't generate errors when you try to update them.

##### **Reproduce the error**

The following JDL illustrates some issues, ~~uniqueness is described in #9579~~
```
entity A {
  myString String minlength(20) pattern(/[A-E]+/)
  myInteger Integer min(50) max(100)
  lang Language unique
  foo Boolean required unique
}

enum Language {
    FRENCH, ENGLISH, SPANISH, GERMAN, ITALIAN
}

```

generates:
```
id;my_string;my_integer;lang;foo
1;mobile Fish;77969;FRENCH;false
2;Trace;33370;FRENCH;false
3;transmitter Implementation Electronics;99221;FRENCH;true
4;Grocery Home;52477;FRENCH;false
5;Licensed Savings Account;38246;FRENCH;true
6;Yuan Renminbi Centers;1326;FRENCH;false
7;Public-key;24102;FRENCH;true
8;Salad;39106;FRENCH;true
9;convergence;20794;FRENCH;true
10;Views e-enable Communications;72727;FRENCH;true
```

Expected sample:
```
id;my_string;my_integer;lang;foo
1;ABABABABABABABABABABABAB;99;FRENCH;false
2;ABCDEABCDEABCDEABCDE;61;ENGLISH;true
```
There are only 2 lines because the boolean field is unique, so we can't generate more.

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

~~#9579~~

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

6.0.0
",https://github.com/jhipster/generator-jhipster/issues/9665#issuecomment-489404036,"As we know there are some issues with Faker.js, shouldn't we regroup this ticket in https://github.com/jhipster/generator-jhipster/issues/9579 ?
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
When liquibase load image data, it fails due to type mismatch.

```
2019-05-04 14:48:30.932 ERROR 17765 --- [datatype-task-1] liquibase.changelog.ChangeSet            : Change Set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster failed.  Error: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO public.entity3(id, my_image, my_image_content_type) VALUES(1, '486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572', 'image/png') was aborted: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76  Call getNextException to see other errors in the batch.
2019-05-04 14:48:30.974 ERROR 17765 --- [datatype-task-1] i.g.j.c.liquibase.AsyncSpringLiquibase   : Liquibase could not start correctly, your database is NOT ready: Migration failed for change set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster:
     Reason: liquibase.exception.DatabaseException: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO public.entity3(id, my_image, my_image_content_type) VALUES(1, '486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572', 'image/png') was aborted: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76  Call getNextException to see other errors in the batch.

liquibase.exception.MigrationFailedException: Migration failed for change set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster:
     Reason: liquibase.exception.DatabaseException: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO public.entity3(id, my_image, my_image_content_type) VALUES(1, '486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572', 'image/png') was aborted: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76  Call getNextException to see other errors in the batch.
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:637)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:53)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:83)
	at liquibase.Liquibase.update(Liquibase.java:202)
	at liquibase.Liquibase.update(Liquibase.java:179)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:305)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:100)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:80)
	at io.github.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:68)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: liquibase.exception.DatabaseException: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO public.entity3(id, my_image, my_image_content_type) VALUES(1, '486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572', 'image/png') was aborted: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76  Call getNextException to see other errors in the batch.
	at liquibase.statement.ExecutablePreparedStatementBase.execute(ExecutablePreparedStatementBase.java:86)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:115)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1229)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1211)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:600)
	... 12 common frames omitted
Caused by: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO public.entity3(id, my_image, my_image_content_type) VALUES(1, '486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572', 'image/png') was aborted: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:148)
	at org.postgresql.core.ResultHandlerDelegate.handleError(ResultHandlerDelegate.java:50)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2184)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:481)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:840)
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1538)
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)
	at liquibase.statement.BatchDmlExecutablePreparedStatement.executePreparedStatement(BatchDmlExecutablePreparedStatement.java:65)
	at liquibase.statement.ExecutablePreparedStatementBase.execute(ExecutablePreparedStatementBase.java:84)
	... 16 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column ""my_image"" is of type bytea but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 76
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183)
	... 23 common frames omitted

```
When I change column data type from

`            <column name=""my_image"" type=""string""/>
`
to 
`            <column name=""my_image"" type=""blob""/>
`, 
it expects some local file to be loaded.

```
2019-05-04 14:55:00.465 ERROR 18061 --- [datatype-task-1] liquibase.changelog.ChangeSet            : Change Set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster failed.  Error: class path resource [config/liquibase/changelog/486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572] cannot be resolved to URL because it does not exist
2019-05-04 14:55:00.515 ERROR 18061 --- [datatype-task-1] i.g.j.c.liquibase.AsyncSpringLiquibase   : Liquibase could not start correctly, your database is NOT ready: Migration failed for change set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster:
     Reason: liquibase.exception.DatabaseException: class path resource [config/liquibase/changelog/486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572] cannot be resolved to URL because it does not exist

liquibase.exception.MigrationFailedException: Migration failed for change set config/liquibase/changelog/20190504073238_added_entity_Entity3.xml::20190504073238-1-data::jhipster:
     Reason: liquibase.exception.DatabaseException: class path resource [config/liquibase/changelog/486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572] cannot be resolved to URL because it does not exist
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:637)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:53)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:83)
	at liquibase.Liquibase.update(Liquibase.java:202)
	at liquibase.Liquibase.update(Liquibase.java:179)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:305)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:100)
	at io.github.jhipster.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:80)
	at io.github.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:68)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: liquibase.exception.DatabaseException: class path resource [config/liquibase/changelog/486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572] cannot be resolved to URL because it does not exist
	at liquibase.statement.ExecutablePreparedStatementBase.applyColumnParameter(ExecutablePreparedStatementBase.java:184)
	at liquibase.statement.ExecutablePreparedStatementBase.attachParams(ExecutablePreparedStatementBase.java:111)
	at liquibase.statement.BatchDmlExecutablePreparedStatement.attachParams(BatchDmlExecutablePreparedStatement.java:51)
	at liquibase.statement.ExecutablePreparedStatementBase.execute(ExecutablePreparedStatementBase.java:82)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:115)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1229)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1211)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:600)
	... 12 common frames omitted
Caused by: java.io.FileNotFoundException: class path resource [config/liquibase/changelog/486f6d65204c6f616e204163636f756e74205461626c6520436f6d7075746572] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:195)
	at liquibase.integration.spring.SpringLiquibase$SpringResourceOpener.getResourcesAsStream(SpringLiquibase.java:599)
	at liquibase.statement.ExecutablePreparedStatementBase.getResourceAsStream(ExecutablePreparedStatementBase.java:286)
	at liquibase.statement.ExecutablePreparedStatementBase.toBinaryStream(ExecutablePreparedStatementBase.java:206)
	at liquibase.statement.ExecutablePreparedStatementBase.applyColumnParameter(ExecutablePreparedStatementBase.java:177)
	... 19 common frames omitted

```

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
Fake data should be generated and loaded correctly.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

1. Generate an app
2. Generate an entity with a blog->image field
3. Start the app

~~I havn't tried other sub types which are under blog (during question) but guess it will be similar situation.~~

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
#9654 

##### **Suggest a Fix**

- 
<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
##### **JHipster Version(s)**

```
datatype@0.0.0 /Users/sierra/github/temp/datatype
‚îî‚îÄ‚îÄ generator-jhipster@6.0.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""datatype"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""postgresql"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""none"",
    ""clientThemeVariant"": """",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Entity1 {
  name String
}
entity Entity2 {
  name String
}
entity Entity3 {
  myImage ImageBlob required
}
relationship ManyToOne {
  Entity2{entity1(name) required} to Entity1
}

dto Entity1, Entity2, Entity3 with mapstruct
service Entity1, Entity2, Entity3 with serviceImpl

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_172""
Java(TM) SE Runtime Environment (build 1.8.0_172-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)

git version 2.20.1 (Apple Git-117)

node: v10.14.2

npm: 6.7.0

yeoman: 2.0.6

Docker version 18.09.1, build 4c52b90

docker-compose version 1.23.2, build 1110ad01


##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9660#issuecomment-489403963,"As we know there are some issues with Faker.js, shouldn't we regroup this ticket in https://github.com/jhipster/generator-jhipster/issues/9579 ?
"
jhipster/generator-jhipster,"##### **Overview of the issue**

When creating a new monolith app the postinstall command fails with the error:

'.' is not recognized as an internal or external command,
operable program or batch file.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! prices@0.0.0 postinstall: `./node_modules/webdriver-manager/bin/webdriver-manager update --gecko false`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the prices@0.0.0 postinstall script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

##### **Motivation for or Use Case**

The error prevents the correct dependencies setup.

##### **Reproduce the error**

Generate a new application using the last version.

##### **Related issues**


##### **Suggest a Fix**

Not sure if it's related to the environment if not it's just a question of changing the line:

From:
`""postinstall"": ""./node_modules/webdriver-manager/bin/webdriver-manager update --gecko false"",`

to:
`""postinstall"": ""node ./node_modules/webdriver-manager/bin/webdriver-manager update --gecko false"",`

##### **JHipster Version(s)**

6.0.0

##### **JHipster configuration**

{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.some.corp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""6.0.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""prices"",
    ""packageName"": ""com.some.corp"",
    ""packageFolder"": ""com/some/corp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Memory"",
    ""prodDatabaseType"": ""mssql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": """",
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""journal"",
    ""clientThemeVariant"": ""primary"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [""gatling"", ""cucumber"", ""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en"", ""pt-br"", ""es""]
  }
}

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

##### **Browsers and Operating System**

Windows 10

-   [x ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9658#issuecomment-489403580,"I reproduced the issue with my Windows10 VM. It's an important bug.

Do you want to PR the fix @carloca68 ? Otherwise, I can do it, using your suggestion"
jhipster/generator-jhipster,"
I'm trying to generate the configuration files for google app engine on a monolithic application in windows.

When I run the command ""jhipster gae"" it gives me this error: 

Welcome to Google App Engine Generator (Beta)
WARNING! This sub-generator is still in development, please report bugs on Github

Installing App Engine Java SDK
... Running: gcloud components install app-engine-java --quiet
events.js:167
      throw er; // Unhandled 'error' event
      ^

Error: spawn gcloud ENOENT
    at Process.ChildProcess._handle.onexit (internal/child_process.js:232:19)
    at onErrorNT (internal/child_process.js:407:16)
    at process._tickCallback (internal/process/next_tick.js:63:19)
Emitted 'error' event at:
    at Process.ChildProcess._handle.onexit (internal/child_process.js:238:12)
    at onErrorNT (internal/child_process.js:407:16)
    at process._tickCallback (internal/process/next_tick.js:63:19)



##### **JHipster Version(s)**

```
gcp-example@0.0.0 C:\Users\angel\Development\jhipster\jhipster-gcp
`-- generator-jhipster@5.8.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.angelchanquin.gcp.notifications""
    },
    ""jhipsterVersion"": ""5.8.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""gcp_example"",
    ""packageName"": ""com.angelchanquin.gcp.notifications"",
    ""packageFolder"": ""com/angelchanquin/gcp/notifications"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": """",
    ""clientFramework"": ""angularX"",
    ""useSass"": false,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Notifications {
  title String required maxlength(20),
  message String required maxlength(100)
}
service Notifications with serviceClass

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.19.1.windows.1

node: v10.13.0

npm: 6.4.1

yeoman: 2.0.5

yarn: 1.12.3

Docker version 18.09.1, build 4c52b90

docker-compose version 1.23.2, build 1110ad01

-   [X] Checking this box is mandatory (this is just to show you read everything)",https://github.com/jhipster/generator-jhipster/issues/9605#issuecomment-486046638,"Did you [follow the documentation](https://www.jhipster.tech/gcp/) and install `gcloud` beforehand?  It looks like the script couldn't find it.  If you did, make sure it's in your `PATH` variable"
jhipster/generator-jhipster,"##### **Overview of the feature request**

<!-- Explain the feature request -->
Some improvement in generating fake test data.

##### **Motivation for or Use Case**

<!-- Explain why this new feature is important for you -->
With the introduction `fakerjs fake data, mapsid, unique key, etc.`, generating the relationship fake data in `entity.csv` without taking care of those, is causing some exceptions in liquibase during app startup.

Problem 1:
If the relationship value is marked as `unique`, some random number between 1 and 10 will be used. And this results in unique key constraint violation error.

Problem 2:
With OneToOne or MapsId, if the relationship is required, then same as above problem 1 because OneToOne association is based on a foreign key that is constrained to be unique.

Suggested Fix for 1 and 2:
Do not use some random number. But use current array index so that relationship ids do not conflicts. 
https://github.com/jhipster/generator-jhipster/blob/master/generators/entity-server/templates/src/main/resources/config/liquibase/data/table.csv.ejs#L136-L144

Problem 3:
If the other entity in relationship is required and is User, only user id 1 and 2 has been used which is not enough if OneToOne/MapsId is used or unique key constrained is applied.

Suggested Fix for 3:
Generate more 6 users, total 10 in `user.csv` so that association value can be applied without worrying for value conflicting.

##### **Related issues or PR**

<!-- Has a similar feature request been asked for before? Please search both closed & open issues -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9579#issuecomment-484769201,"Thanks for your analyze @pmverma

As we didn't detect this in our CI, maybe it means we don't have test with 'unique' in our entities ? I need to have a look. And we could improve this part too, when fixing this ticket. "
jhipster/generator-jhipster,"##### **Overview of the issue**

There are two bugs related when I create a new project:
-  Liquibase constraint violations (seems to be related to the jpaDerivedIdentifier)
```
2019-04-15 09:44:28.714 ERROR 15838 --- [-3-teste-task-1] liquibase.changelog.ChangeSet            : Change Set config/liquibase/changelog/20190415124316_added_entity_constraints_MyEntityComplex.xml::20190415124316-2::jhipster failed.  Error: Referential integrity constraint violation: ""FK_MY_ENTITY_COMPLEX_MY_ENTITY_USER_EXTRA_ID: PUBLIC.MY_ENTITY_COMPLEX FOREIGN KEY(MY_ENTITY_USER_EXTRA_ID) REFERENCES PUBLIC.MY_ENTITY_USER_EXTRA(ID)""; SQL statement:
ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id) [23506-199] [Failed SQL: ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id)]
2019-04-15 09:44:28.717 ERROR 15838 --- [-3-teste-task-1] i.g.j.c.liquibase.AsyncSpringLiquibase   : Liquibase could not start correctly, your database is NOT ready: Migration failed for change set config/liquibase/changelog/20190415124316_added_entity_constraints_MyEntityComplex.xml::20190415124316-2::jhipster:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: ""FK_MY_ENTITY_COMPLEX_MY_ENTITY_USER_EXTRA_ID: PUBLIC.MY_ENTITY_COMPLEX FOREIGN KEY(MY_ENTITY_USER_EXTRA_ID) REFERENCES PUBLIC.MY_ENTITY_USER_EXTRA(ID)""; SQL statement:
ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id) [23506-199] [Failed SQL: ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id)]

liquibase.exception.MigrationFailedException: Migration failed for change set config/liquibase/changelog/20190415124316_added_entity_constraints_MyEntityComplex.xml::20190415124316-2::jhipster:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: ""FK_MY_ENTITY_COMPLEX_MY_ENTITY_USER_EXTRA_ID: PUBLIC.MY_ENTITY_COMPLEX FOREIGN KEY(MY_ENTITY_USER_EXTRA_ID) REFERENCES PUBLIC.MY_ENTITY_USER_EXTRA(ID)""; SQL statement:
ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id) [23506-199] [Failed SQL: ALTER TABLE PUBLIC.my_entity_complex ADD CONSTRAINT fk_my_entity_complex_my_entity_user_extra_id FOREIGN KEY (my_entity_user_extra_id) REFERENCES PUBLIC.my_entity_user_extra (id)]
```
-  Test with errors:
```
[ERROR] Errors: 
[ERROR]   MyEntityComplexResourceIT.getAllMyEntityComplexesByMyEntityOneIsEqualToSomething:329 ¬ª Persistence
[ERROR]   MyEntityComplexResourceIT.getAllMyEntityComplexesByMyEntityUserExtraIsEqualToSomething:346 ¬ª Persistence
[ERROR]   MyEntityUserExtraResourceIT.getAllMyEntityUserExtrasByMyEntityThreeIsEqualToSomething:419 ¬ª Persistence

```

##### **Motivation for or Use Case**

Creating a new project with an entity that has filter and pagination creates broken test. Although it is easy to fix the test I didn't expect this error to happen and it may scare new users.

Creating a new project with an entity that has jpaDerivedIdentifier and is referenced by another in a ManyToOne relation.

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**
You should created a new project, import the JDL and run the `./mvnw clean install`. The default tests fail because it tries to save the same object twice. (BUG2) This issue is present even in 5.8.2 and 6.0.0-beta0.

To reproduce the liquibase error, I did a `./mvnw clean install -Dmaven.test.skip=true`, and then a `./mvnw`. This issue is present only in 6.0.0-beta0 and I couldn't figure the cause of it.


##### **Suggest a Fix**

There isn't any Liquibase error without the jpaDerivedIdentifier. I supposed it is related to the data that was automatically generated and loaded. EDIT: It is the my_entity_complex.csv that references users that doesn't exist (ID 1 up to 10). Replacing the ID larger than 4 solves the problem.

To fix the test error in my code I just did substitute

```java
MyEntityOne myEntityOne = MyEntityOneResourceIT.createEntity(em);
em.persist(myEntityOne);
em.flush();
myEntityComplex.setMyEntityOne(myEntityOne);
```
to
```java
MyEntityOne myEntityOne = myEntityComplex.getMyEntityOne();
```
It isn't necessary to persist the entity in this case because the entity is already persisted in the ""public static MyEntityComplex createEntity"" method. The exception is caused by the unique constraint.


##### **JHipster Version(s)**

6.0.0-beta.0 (but the test error also happens on the 5.8.2, the Liquibase error is new)

```
jh-3-teste@0.0.0 /home/gabriel/Projetos/jh3teste
‚îî‚îÄ‚îÄ generator-jhipster@6.0.0-beta.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""org.learn.testing"",
      ""nativeLanguage"": ""pt-br""
    },
    ""jhipsterVersion"": ""6.0.0-beta.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jh3teste"",
    ""packageName"": ""org.learn.testing"",
    ""packageFolder"": ""org/learn/testing"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""clientTheme"": ""materia"",
    ""clientThemeVariant"": ""primary"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""pt-br"",
    ""languages"": [""pt-br"", ""en"", ""es""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity MyEntityOne {
  name String required unique,
  value Integer required
}
entity MyEntityUserExtra {
  name String required unique,
  departure LocalDate required
}
entity MyEntityThree {
  name String required unique,
  desc String required
}
entity MyEntityComplex {
  name String required unique,
  desc String required
}
relationship OneToOne {
  MyEntityUserExtra{user(login)} to User with jpaDerivedIdentifier
}
relationship ManyToOne {
  MyEntityUserExtra{myEntityThree(name) required} to MyEntityThree,
  MyEntityComplex{myEntityOne(name) required} to MyEntityOne,
  MyEntityComplex{myEntityUserExtra(name) required} to MyEntityUserExtra
}

paginate MyEntityOne, MyEntityUserExtra, MyEntityThree, MyEntityComplex with pagination
service MyEntityOne, MyEntityUserExtra, MyEntityThree, MyEntityComplex with serviceImpl
filter MyEntityOne, MyEntityUserExtra, MyEntityThree, MyEntityComplex

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.2"" 2019-01-15
OpenJDK Runtime Environment 18.9 (build 11.0.2+9)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)

git version 2.11.0

node: v10.15.3

npm: 6.4.1

yeoman: 2.0.5

yarn: 1.15.2

Docker version 18.09.5, build e8ff056dbc

docker-compose version 1.24.0, build 0aa59064


##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Using Debian 9.8. Generated the project with --yarn.

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9563#issuecomment-483262107,"Thanks @Gabrui for reporting the issue. The code which you replaced was added for required entity. To reproduce the error, I am not seeing the `with jpaDerivedIdentifier` in your JDL file. Can you update your JDL entity definitions?

@Gabrui How did you generated the JDL entity definitions? With `jhipster info` or `jhipster export-jdl`?
@MathieuAA I think  `jhipster info` or `jhipster export-jdl` not producing `with jpaDerivedIdentifier` in JDL entity definitions."
jhipster/generator-jhipster,"##### **Overview of the issue**

Following #9512 #9507
We detect now **JDK11** doesn't work well with **UAA**.

See https://dev.azure.com/jhipster/generator-jhipster/_build/results?buildId=2794

Here an extract of logs:

```
2019-03-31 07:32:56.934  INFO 16500 --- [           main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRAVISUAA/travisuaa:eba272f3e26c02f9303401d4f7582687 - deregister  status: 200
2019-03-31 07:32:56.981  INFO 16500 --- [           main] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2019-03-31 07:32:57.049 ERROR 16500 --- [           main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.RuntimeException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.
 - with linked exception:
[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at io.github.jhipster.travis.TravisUaaApp.main(TravisUaaApp.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.RuntimeException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.
 - with linked exception:
[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 27 common frames omitted
Caused by: java.lang.RuntimeException: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.
 - with linked exception:
[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]
	at org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.<init>(AbstractJaxbMessageConverter.java:62)
	at org.springframework.security.oauth2.http.converter.jaxb.JaxbOAuth2ExceptionMessageConverter.<init>(JaxbOAuth2ExceptionMessageConverter.java:21)
	at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.geDefaultMessageConverters(DefaultOAuth2ExceptionRenderer.java:117)
	at org.springframework.security.oauth2.provider.error.DefaultOAuth2ExceptionRenderer.<init>(DefaultOAuth2ExceptionRenderer.java:53)
	at org.springframework.security.oauth2.provider.error.AbstractOAuth2SecurityExceptionHandler.<init>(AbstractOAuth2SecurityExceptionHandler.java:42)
	at org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler.<init>(OAuth2AccessDeniedHandler.java:32)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer.<init>(AuthorizationServerSecurityConfigurer.java:60)
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92)
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$542ca04e.init(<generated>)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$ec504b51.CGLIB$springSecurityFilterChain$0(<generated>)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$ec504b51$$FastClassBySpringCGLIB$$9cb5c12e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$ec504b51.springSecurityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 28 common frames omitted
Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.
	at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)
	at javax.xml.bind.ContextFinder.find(ContextFinder.java:421)
	at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)
	at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)
	at org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.<init>(AbstractJaxbMessageConverter.java:59)
	... 53 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)
	at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)
	at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)
	at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)
	... 57 common frames omitted
```

##### **JHipster Version(s)**

INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
travis-default@0.0.0 /home/vsts/app
‚îî‚îÄ‚îÄ generator-jhipster@5.8.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""baseName"": ""travisDefault"",
    ""packageName"": ""io.github.jhipster.travis"",
    ""packageFolder"": ""io/github/jhipster/travis"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""uaa"",
    ""uaaBaseName"": ""travisUaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""applicationType"": ""gateway"",
    ""testFrameworks"": [
      ""gatling""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""travis"": true,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""jhipsterVersion"": ""5.8.2"",
    ""clientTheme"": ""none"",
    ""useSass"": true,
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity FieldTestEntity {
  stringTom String,
  stringRequiredTom String required,
  stringMinlengthTom String minlength(0),
  stringMaxlengthTom String maxlength(20),
  stringPatternTom String pattern(/^[a-zA-Z0-9]*$/),
  integerTom Integer,
  integerRequiredTom Integer required,
  integerMinTom Integer min(0),
  integerMaxTom Integer max(100),
  longTom Long,
  longRequiredTom Long required,
  longMinTom Long min(0),
  longMaxTom Long max(100),
  floatTom Float,
  floatRequiredTom Float required,
  floatMinTom Float min(0),
  floatMaxTom Float max(100),
  doubleRequiredTom Double required,
  doubleMinTom Double min(0),
  doubleMaxTom Double max(100),
  bigDecimalRequiredTom BigDecimal required,
  bigDecimalMinTom BigDecimal min(0),
  bigDecimalMaxTom BigDecimal max(100),
  localDateTom LocalDate,
  localDateRequiredTom LocalDate required,
  instantTom Instant,
  instantRequiredTom Instant required,
  zonedDateTimeTom ZonedDateTime,
  zonedDateTimeRequiredTom ZonedDateTime required,
  durationTom Duration,
  durationRequiredTom Duration required,
  booleanTom Boolean,
  booleanRequiredTom Boolean required,
  enumTom EnumFieldClass,
  enumRequiredTom EnumRequiredFieldClass required,
  byteImageTom ImageBlob,
  byteImageRequiredTom ImageBlob required,
  byteImageMinbytesTom ImageBlob minbytes(0),
  byteImageMaxbytesTom ImageBlob maxbytes(10000),
  byteAnyTom AnyBlob,
  byteAnyRequiredTom AnyBlob required,
  byteAnyMinbytesTom AnyBlob minbytes(0),
  byteAnyMaxbytesTom AnyBlob maxbytes(10000),
  byteTextTom TextBlob,
  byteTextRequiredTom TextBlob required,
  byteTextMinbytesTom TextBlob minbytes(0),
  byteTextMaxbytesTom TextBlob maxbytes(10000)
}
entity FieldTestInfiniteScrollEntity {
  stringHugo String,
  stringRequiredHugo String required,
  stringMinlengthHugo String minlength(0),
  stringMaxlengthHugo String maxlength(20),
  stringPatternHugo String pattern(/^[a-zA-Z0-9]*$/),
  integerHugo Integer,
  integerRequiredHugo Integer required,
  integerMinHugo Integer min(0),
  integerMaxHugo Integer max(100),
  longHugo Long,
  longRequiredHugo Long required,
  longMinHugo Long min(0),
  longMaxHugo Long max(100),
  floatHugo Float,
  floatRequiredHugo Float required,
  floatMinHugo Float min(0),
  floatMaxHugo Float max(100),
  doubleRequiredHugo Double required,
  doubleMinHugo Double min(0),
  doubleMaxHugo Double max(100),
  bigDecimalRequiredHugo BigDecimal required,
  bigDecimalMinHugo BigDecimal min(0),
  bigDecimalMaxHugo BigDecimal max(100),
  localDateHugo LocalDate,
  localDateRequiredHugo LocalDate required,
  instantHugo Instant,
  instanteRequiredHugo Instant required,
  zonedDateTimeHugo ZonedDateTime,
  zonedDateTimeRequiredHugo ZonedDateTime required,
  booleanHugo Boolean,
  booleanRequiredHugo Boolean required,
  enumHugo EnumFieldClass,
  enumRequiredHugo EnumRequiredFieldClass required,
  byteImageHugo ImageBlob,
  byteImageRequiredHugo ImageBlob required,
  byteImageMinbytesHugo ImageBlob minbytes(0),
  byteImageMaxbytesHugo ImageBlob maxbytes(10000),
  byteAnyHugo AnyBlob,
  byteAnyRequiredHugo AnyBlob required,
  byteAnyMinbytesHugo AnyBlob minbytes(0),
  byteAnyMaxbytesHugo AnyBlob maxbytes(10000),
  byteTextHugo TextBlob,
  byteTextRequiredHugo TextBlob required,
  byteTextMinbytesHugo TextBlob minbytes(0),
  byteTextMaxbytesHugo TextBlob maxbytes(10000)
}
entity FieldTestMapstructEntity {
  stringEva String,
  stringRequiredEva String required,
  stringMinlengthEva String minlength(0),
  stringMaxlengthEva String maxlength(20),
  stringPatternEva String pattern(/^[a-zA-Z0-9]*$/),
  integerEva Integer,
  integerRequiredEva Integer required,
  integerMinEva Integer min(0),
  integerMaxEva Integer max(100),
  longEva Long,
  longRequiredEva Long required,
  longMinEva Long min(0),
  longMaxEva Long max(100),
  floatEva Float,
  floatRequiredEva Float required,
  floatMinEva Float min(0),
  floatMaxEva Float max(100),
  doubleRequiredEva Double required,
  doubleMinEva Double min(0),
  doubleMaxEva Double max(100),
  bigDecimalRequiredEva BigDecimal required,
  bigDecimalMinEva BigDecimal min(0),
  bigDecimalMaxEva BigDecimal max(100),
  localDateEva LocalDate,
  localDateRequiredEva LocalDate required,
  instantEva Instant,
  instanteRequiredEva Instant required,
  zonedDateTimeEva ZonedDateTime,
  zonedDateTimeRequiredEva ZonedDateTime required,
  booleanEva Boolean,
  booleanRequiredEva Boolean required,
  enumEva EnumFieldClass,
  enumRequiredEva EnumRequiredFieldClass required,
  byteImageEva ImageBlob,
  byteImageRequiredEva ImageBlob required,
  byteImageMinbytesEva ImageBlob minbytes(0),
  byteImageMaxbytesEva ImageBlob maxbytes(10000),
  byteAnyEva AnyBlob,
  byteAnyRequiredEva AnyBlob required,
  byteAnyMinbytesEva AnyBlob minbytes(0),
  byteAnyMaxbytesEva AnyBlob maxbytes(10000),
  byteTextEva TextBlob,
  byteTextRequiredEva TextBlob required,
  byteTextMinbytesEva TextBlob minbytes(0),
  byteTextMaxbytesEva TextBlob maxbytes(10000)
}
entity FieldTestPagerEntity {
  stringJade String,
  stringRequiredJade String required,
  stringMinlengthJade String minlength(0),
  stringMaxlengthJade String maxlength(20),
  stringPatternJade String pattern(/^[a-zA-Z0-9]*$/),
  integerJade Integer,
  integerRequiredJade Integer required,
  integerMinJade Integer min(0),
  integerMaxJade Integer max(100),
  longJade Long,
  longRequiredJade Long required,
  longMinJade Long min(0),
  longMaxJade Long max(100),
  floatJade Float,
  floatRequiredJade Float required,
  floatMinJade Float min(0),
  floatMaxJade Float max(100),
  doubleRequiredJade Double required,
  doubleMinJade Double min(0),
  doubleMaxJade Double max(100),
  bigDecimalRequiredJade BigDecimal required,
  bigDecimalMinJade BigDecimal min(0),
  bigDecimalMaxJade BigDecimal max(100),
  localDateJade LocalDate,
  localDateRequiredJade LocalDate required,
  instantJade Instant,
  instanteRequiredJade Instant required,
  zonedDateTimeJade ZonedDateTime,
  zonedDateTimeRequiredJade ZonedDateTime required,
  booleanJade Boolean,
  booleanRequiredJade Boolean required,
  enumJade EnumFieldClass,
  enumRequiredJade EnumRequiredFieldClass required,
  byteImageJade ImageBlob,
  byteImageRequiredJade ImageBlob required,
  byteImageMinbytesJade ImageBlob minbytes(0),
  byteImageMaxbytesJade ImageBlob maxbytes(10000),
  byteAnyJade AnyBlob,
  byteAnyRequiredJade AnyBlob required,
  byteAnyMinbytesJade AnyBlob minbytes(0),
  byteAnyMaxbytesJade AnyBlob maxbytes(10000),
  byteTextJade TextBlob,
  byteTextRequiredJade TextBlob required,
  byteTextMinbytesJade TextBlob minbytes(0),
  byteTextMaxbytesJade TextBlob maxbytes(10000)
}
entity FieldTestPaginationEntity {
  stringAlice String,
  stringRequiredAlice String required,
  stringMinlengthAlice String minlength(0),
  stringMaxlengthAlice String maxlength(20),
  stringPatternAlice String pattern(/^[a-zA-Z0-9]*$/),
  integerAlice Integer,
  integerRequiredAlice Integer required,
  integerMinAlice Integer min(0),
  integerMaxAlice Integer max(100),
  longAlice Long,
  longRequiredAlice Long required,
  longMinAlice Long min(0),
  longMaxAlice Long max(100),
  floatAlice Float,
  floatRequiredAlice Float required,
  floatMinAlice Float min(0),
  floatMaxAlice Float max(100),
  doubleRequiredAlice Double required,
  doubleMinAlice Double min(0),
  doubleMaxAlice Double max(100),
  bigDecimalRequiredAlice BigDecimal required,
  bigDecimalMinAlice BigDecimal min(0),
  bigDecimalMaxAlice BigDecimal max(100),
  localDateAlice LocalDate,
  localDateRequiredAlice LocalDate required,
  instantAlice Instant,
  instanteRequiredAlice Instant required,
  zonedDateTimeAlice ZonedDateTime,
  zonedDateTimeRequiredAlice ZonedDateTime required,
  booleanAlice Boolean,
  booleanRequiredAlice Boolean required,
  enumAlice EnumFieldClass,
  enumRequiredAlice EnumRequiredFieldClass required,
  byteImageAlice ImageBlob,
  byteImageRequiredAlice ImageBlob required,
  byteImageMinbytesAlice ImageBlob minbytes(0),
  byteImageMaxbytesAlice ImageBlob maxbytes(10000),
  byteAnyAlice AnyBlob,
  byteAnyRequiredAlice AnyBlob required,
  byteAnyMinbytesAlice AnyBlob minbytes(0),
  byteAnyMaxbytesAlice AnyBlob maxbytes(10000),
  byteTextAlice TextBlob,
  byteTextRequiredAlice TextBlob required,
  byteTextMinbytesAlice TextBlob minbytes(0),
  byteTextMaxbytesAlice TextBlob maxbytes(10000)
}
entity FieldTestServiceClassEntity {
  stringBob String,
  stringRequiredBob String required,
  stringMinlengthBob String minlength(0),
  stringMaxlengthBob String maxlength(20),
  stringPatternBob String pattern(/^[a-zA-Z0-9]*$/),
  integerBob Integer,
  integerRequiredBob Integer required,
  integerMinBob Integer min(0),
  integerMaxBob Integer max(100),
  longBob Long,
  longRequiredBob Long required,
  longMinBob Long min(0),
  longMaxBob Long max(100),
  floatBob Float,
  floatRequiredBob Float required,
  floatMinBob Float min(0),
  floatMaxBob Float max(100),
  doubleRequiredBob Double required,
  doubleMinBob Double min(0),
  doubleMaxBob Double max(100),
  bigDecimalRequiredBob BigDecimal required,
  bigDecimalMinBob BigDecimal min(0),
  bigDecimalMaxBob BigDecimal max(100),
  localDateBob LocalDate,
  localDateRequiredBob LocalDate required,
  instantBob Instant,
  instanteRequiredBob Instant required,
  zonedDateTimeBob ZonedDateTime,
  zonedDateTimeRequiredBob ZonedDateTime required,
  booleanBob Boolean,
  booleanRequiredBob Boolean required,
  enumBob EnumFieldClass,
  enumRequiredBob EnumRequiredFieldClass required,
  byteImageBob ImageBlob,
  byteImageRequiredBob ImageBlob required,
  byteImageMinbytesBob ImageBlob minbytes(0),
  byteImageMaxbytesBob ImageBlob maxbytes(10000),
  byteAnyBob AnyBlob,
  byteAnyRequiredBob AnyBlob required,
  byteAnyMinbytesBob AnyBlob minbytes(0),
  byteAnyMaxbytesBob AnyBlob maxbytes(10000),
  byteTextBob TextBlob,
  byteTextRequiredBob TextBlob required,
  byteTextMinbytesBob TextBlob minbytes(0),
  byteTextMaxbytesBob TextBlob maxbytes(10000)
}
entity FieldTestServiceImplEntity {
  stringMika String,
  stringRequiredMika String required,
  stringMinlengthMika String minlength(0),
  stringMaxlengthMika String maxlength(20),
  stringPatternMika String pattern(/^[a-zA-Z0-9]*$/),
  integerMika Integer,
  integerRequiredMika Integer required,
  integerMinMika Integer min(0),
  integerMaxMika Integer max(100),
  longMika Long,
  longRequiredMika Long required,
  longMinMika Long min(0),
  longMaxMika Long max(100),
  floatMika Float,
  floatRequiredMika Float required,
  floatMinMika Float min(0),
  floatMaxMika Float max(100),
  doubleRequiredMika Double required,
  doubleMinMika Double min(0),
  doubleMaxMika Double max(100),
  bigDecimalRequiredMika BigDecimal required,
  bigDecimalMinMika BigDecimal min(0),
  bigDecimalMaxMika BigDecimal max(100),
  localDateMika LocalDate,
  localDateRequiredMika LocalDate required,
  instantMika Instant,
  instanteRequiredMika Instant required,
  zonedDateTimeMika ZonedDateTime,
  zonedDateTimeRequiredMika ZonedDateTime required,
  booleanMika Boolean,
  booleanRequiredMika Boolean required,
  enumMika EnumFieldClass,
  enumRequiredMika EnumRequiredFieldClass required,
  byteImageMika ImageBlob,
  byteImageRequiredMika ImageBlob required,
  byteImageMinbytesMika ImageBlob minbytes(0),
  byteImageMaxbytesMika ImageBlob maxbytes(10000),
  byteAnyMika AnyBlob,
  byteAnyRequiredMika AnyBlob required,
  byteAnyMinbytesMika AnyBlob minbytes(0),
  byteAnyMaxbytesMika AnyBlob maxbytes(10000),
  byteTextMika TextBlob,
  byteTextRequiredMika TextBlob required,
  byteTextMinbytesMika TextBlob minbytes(0),
  byteTextMaxbytesMika TextBlob maxbytes(10000)
}

enum EnumFieldClass {
  ENUM_VALUE_1,
  ENUM_VALUE_2,
  ENUM_VALUE_3
}

enum EnumRequiredFieldClass {
  ENUM_VALUE_1,
  ENUM_VALUE_2,
  ENUM_VALUE_3
}

paginate FieldTestInfiniteScrollEntity with infinite-scroll
paginate FieldTestPagerEntity with pager
paginate FieldTestPaginationEntity with pagination
dto FieldTestMapstructEntity with mapstruct
service FieldTestMapstructEntity, FieldTestServiceClassEntity with serviceClass
service FieldTestServiceImplEntity with serviceImpl
filter FieldTestServiceClassEntity

</pre>
</details>


##### **Environment and Tools**

openjdk version ""11.0.1"" 2018-10-16
OpenJDK Runtime Environment (build 11.0.1+13-Ubuntu-3ubuntu116.04ppa1)
OpenJDK 64-Bit Server VM (build 11.0.1+13-Ubuntu-3ubuntu116.04ppa1, mixed mode, sharing)

git version 2.20.1

node: v10.15.3

npm: 6.9.0

yarn: 1.15.2

Docker version 18.09.2, build 6247962

docker-compose version 1.22.0, build f46880fe

INFO! Congratulations, JHipster execution is complete!",https://github.com/jhipster/generator-jhipster/issues/9514#issuecomment-478332075,"I was just looking into this and the problem seems to be a dependency problem. 

JAXB is no longer available starting with Java 9 and we need to explicitly add the JAXB runtime as a dependency as also explained here: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-with-Java-9-and-above#jaxb.

While there are versions specified for both JAXB API and Impl they are only added as dependencies for the annotation processors in the configuration of the `maven-compiler-plugin`.

Adding the following in the `dependencies` section should solve the problem:
```
<dependencies>
...
        <dependency>
            <groupId>org.glassfish.jaxb</groupId>
            <artifactId>jaxb-runtime</artifactId>
            <version>2.3.2</version>
        </dependency>
...
<dependencies>
```

or even 

```
<dependencies>
...
        <dependency>
            <groupId>com.sun.xml.bind</groupId>
            <artifactId>jaxb-impl</artifactId>
            <version>${jaxb-impl.version}</version>
        </dependency>
...
<dependencies>
```
and in this case I believe we can also remove the deps from annotation processors as well.

Please also note that looking at the jaxb-impl [pom.xml](https://search.maven.org/artifact/com.sun.xml.bind/jaxb-impl/2.3.2/jar) it seems to be an old artifact and I believe we should switch to `jaxb-runtime` instead as is also recommended by the Spring team.

I can create a PR for this to test it out but before I would like your opinion on making the switch to `jaxb-runtime`.

@pascalgrimaud WDYT? 

"
jhipster/generator-jhipster,"##### **Overview of the issue**

Following https://github.com/jhipster/generator-jhipster/pull/9512 #9507
We detect now **JDK11** doesn't work well with **Infinispan**.

See https://dev.azure.com/jhipster/generator-jhipster/_build/results?buildId=2794

Here an extract of logs:

```
:: JHipster ü§ì  :: Running Spring Boot 2.1.3.RELEASE ::
:: https://www.jhipster.tech ::

2019-03-31 07:33:18.984  WARN 11161 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
2019-03-31 07:33:19.027 ERROR 11161 --- [           main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at io.github.jhipster.travis.TravisOauth2SassInfinispanApp.main(TravisOauth2SassInfinispanApp.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)
Caused by: java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)
	at org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory.createDeploymentManager(UndertowServletWebServerFactory.java:284)
	at org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory.getWebServer(UndertowServletWebServerFactory.java:208)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)
	... 14 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:235)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:226)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:101)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:88)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)
	at org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory$Initializer.onStartup(UndertowServletWebServerFactory.java:616)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:203)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
	... 18 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 39 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.createEndpointBean(EndpointDiscoverer.java:149)
	at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.createEndpointBeans(EndpointDiscoverer.java:136)
	at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.discoverEndpoints(EndpointDiscoverer.java:125)
	at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.getEndpoints(EndpointDiscoverer.java:119)
	at org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.servletEndpointRegistrar(ServletEndpointManagementContextConfiguration.java:76)
	at org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration$$EnhancerBySpringCGLIB$$f67e0361.CGLIB$servletEndpointRegistrar$0(<generated>)
	at org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration$$EnhancerBySpringCGLIB$$f67e0361$$FastClassBySpringCGLIB$$e9db37df.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration$$EnhancerBySpringCGLIB$$f67e0361.servletEndpointRegistrar(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customAuditEventRepository' defined in URL [jar:file:/home/vsts/app/app.jar!/BOOT-INF/classes!/io/github/jhipster/travis/repository/CustomAuditEventRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 65 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenceAuditEventRepository': Cannot create inner bean '(inner bean)#3506d826' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1665)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 79 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3506d826': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:662)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 93 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Unsatisfied dependency expressed through method 'cacheManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:307)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 101 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'getJCacheManager' defined in class path resource [io/github/jhipster/travis/config/CacheConfiguration.class]: Unsatisfied dependency expressed through method 'getJCacheManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultCacheManager' defined in class path resource [org/infinispan/spring/starter/embedded/InfinispanEmbeddedAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 127 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.infinispan.manager.DefaultCacheManager]: Factory method 'defaultCacheManager' threw exception; nested exception is org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 141 common frames omitted
Caused by: org.infinispan.commons.CacheException: Unable to construct a GlobalComponentRegistry!
	at org.infinispan.factories.GlobalComponentRegistry.<init>(GlobalComponentRegistry.java:164)
	at org.infinispan.manager.DefaultCacheManager.<init>(DefaultCacheManager.java:257)
	at org.infinispan.manager.DefaultCacheManager.<init>(DefaultCacheManager.java:227)
	at org.infinispan.spring.starter.embedded.InfinispanEmbeddedAutoConfiguration.defaultCacheManager(InfinispanEmbeddedAutoConfiguration.java:80)
	at org.infinispan.spring.starter.embedded.InfinispanEmbeddedAutoConfiguration$$EnhancerBySpringCGLIB$$958ba9c0.CGLIB$defaultCacheManager$0(<generated>)
	at org.infinispan.spring.starter.embedded.InfinispanEmbeddedAutoConfiguration$$EnhancerBySpringCGLIB$$958ba9c0$$FastClassBySpringCGLIB$$1859e00f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.infinispan.spring.starter.embedded.InfinispanEmbeddedAutoConfiguration$$EnhancerBySpringCGLIB$$958ba9c0.defaultCacheManager(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 142 common frames omitted
Caused by: org.infinispan.commons.CacheConfigurationException: Failed to construct component org.infinispan.marshall.core.EncoderRegistry, path null
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.instantiateWrapper(BasicComponentRegistryImpl.java:141)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.getComponent0(BasicComponentRegistryImpl.java:107)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.getComponent(BasicComponentRegistryImpl.java:73)
	at org.infinispan.factories.impl.BasicComponentRegistry.getComponent(BasicComponentRegistry.java:75)
	at org.infinispan.factories.GlobalComponentRegistry.<init>(GlobalComponentRegistry.java:158)
	... 155 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/infinispan/commons/util/FastCopyHashMap$Values (wrong name: org/infinispan/commons/dataconversion/BinaryEncoder)
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)
	at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)
	at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)
	at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)
	at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	at org.infinispan.factories.EncoderRegistryFactory.construct(EncoderRegistryFactory.java:48)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.instantiateWrapper(BasicComponentRegistryImpl.java:137)
	... 159 common frames omitted
```

##### **JHipster Version(s)**

INFO! Using JHipster version installed locally in current project's node_modules
INFO! Executing jhipster:info
INFO! Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
travis-oauth-2-sass-infinispan@0.0.0 /home/vsts/app
‚îî‚îÄ‚îÄ generator-jhipster@5.8.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""baseName"": ""travisOauth2SassInfinispan"",
    ""packageName"": ""io.github.jhipster.travis"",
    ""packageFolder"": ""io/github/jhipster/travis"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""infinispan"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mariadb"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""buildTool"": ""maven"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [
      ""gatling"",
      ""protractor""
    ],
    ""jhiPrefix"": ""myPrefix"",
    ""travis"": true,
    ""serviceDiscoveryType"": false,
    ""enableTranslation"": false,
    ""clientPackageManager"": ""npm"",
    ""clientFramework"": ""angularX"",
    ""jhipsterVersion"": ""5.8.2"",
    ""clientTheme"": ""none"",
    ""useSass"": true,
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": []
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity BankAccount {
  name String required,
  bankNumber Integer,
  agencyNumber Long,
  lastOperationDuration Float,
  meanOperationDuration Double,
  meanQueueDuration Duration,
  balance BigDecimal required,
  openingDay LocalDate,
  lastOperationDate Instant,
  active Boolean,
  accountType BankAccountType,
  attachment AnyBlob,
  description TextBlob
}
entity Label {
  labelName String required minlength(3)
}
entity Operation {
  date Instant required,
  description String,
  amount BigDecimal required
}
entity FieldTestEntity {
  stringTom String,
  stringRequiredTom String required,
  stringMinlengthTom String minlength(0),
  stringMaxlengthTom String maxlength(20),
  stringPatternTom String pattern(/^[a-zA-Z0-9]*$/),
  integerTom Integer,
  integerRequiredTom Integer required,
  integerMinTom Integer min(0),
  integerMaxTom Integer max(100),
  longTom Long,
  longRequiredTom Long required,
  longMinTom Long min(0),
  longMaxTom Long max(100),
  floatTom Float,
  floatRequiredTom Float required,
  floatMinTom Float min(0),
  floatMaxTom Float max(100),
  doubleRequiredTom Double required,
  doubleMinTom Double min(0),
  doubleMaxTom Double max(100),
  bigDecimalRequiredTom BigDecimal required,
  bigDecimalMinTom BigDecimal min(0),
  bigDecimalMaxTom BigDecimal max(100),
  localDateTom LocalDate,
  localDateRequiredTom LocalDate required,
  instantTom Instant,
  instantRequiredTom Instant required,
  zonedDateTimeTom ZonedDateTime,
  zonedDateTimeRequiredTom ZonedDateTime required,
  durationTom Duration,
  durationRequiredTom Duration required,
  booleanTom Boolean,
  booleanRequiredTom Boolean required,
  enumTom EnumFieldClass,
  enumRequiredTom EnumRequiredFieldClass required,
  byteImageTom ImageBlob,
  byteImageRequiredTom ImageBlob required,
  byteImageMinbytesTom ImageBlob minbytes(0),
  byteImageMaxbytesTom ImageBlob maxbytes(10000),
  byteAnyTom AnyBlob,
  byteAnyRequiredTom AnyBlob required,
  byteAnyMinbytesTom AnyBlob minbytes(0),
  byteAnyMaxbytesTom AnyBlob maxbytes(10000),
  byteTextTom TextBlob,
  byteTextRequiredTom TextBlob required,
  byteTextMinbytesTom TextBlob minbytes(0),
  byteTextMaxbytesTom TextBlob maxbytes(10000)
}
entity FieldTestPagerEntity {
  stringJade String,
  stringRequiredJade String required,
  stringMinlengthJade String minlength(0),
  stringMaxlengthJade String maxlength(20),
  stringPatternJade String pattern(/^[a-zA-Z0-9]*$/),
  integerJade Integer,
  integerRequiredJade Integer required,
  integerMinJade Integer min(0),
  integerMaxJade Integer max(100),
  longJade Long,
  longRequiredJade Long required,
  longMinJade Long min(0),
  longMaxJade Long max(100),
  floatJade Float,
  floatRequiredJade Float required,
  floatMinJade Float min(0),
  floatMaxJade Float max(100),
  doubleRequiredJade Double required,
  doubleMinJade Double min(0),
  doubleMaxJade Double max(100),
  bigDecimalRequiredJade BigDecimal required,
  bigDecimalMinJade BigDecimal min(0),
  bigDecimalMaxJade BigDecimal max(100),
  localDateJade LocalDate,
  localDateRequiredJade LocalDate required,
  instantJade Instant,
  instanteRequiredJade Instant required,
  zonedDateTimeJade ZonedDateTime,
  zonedDateTimeRequiredJade ZonedDateTime required,
  booleanJade Boolean,
  booleanRequiredJade Boolean required,
  enumJade EnumFieldClass,
  enumRequiredJade EnumRequiredFieldClass required,
  byteImageJade ImageBlob,
  byteImageRequiredJade ImageBlob required,
  byteImageMinbytesJade ImageBlob minbytes(0),
  byteImageMaxbytesJade ImageBlob maxbytes(10000),
  byteAnyJade AnyBlob,
  byteAnyRequiredJade AnyBlob required,
  byteAnyMinbytesJade AnyBlob minbytes(0),
  byteAnyMaxbytesJade AnyBlob maxbytes(10000),
  byteTextJade TextBlob,
  byteTextRequiredJade TextBlob required,
  byteTextMinbytesJade TextBlob minbytes(0),
  byteTextMaxbytesJade TextBlob maxbytes(10000)
}
entity FieldTestMapstructEntity {
  stringEva String,
  stringRequiredEva String required,
  stringMinlengthEva String minlength(0),
  stringMaxlengthEva String maxlength(20),
  stringPatternEva String pattern(/^[a-zA-Z0-9]*$/),
  integerEva Integer,
  integerRequiredEva Integer required,
  integerMinEva Integer min(0),
  integerMaxEva Integer max(100),
  longEva Long,
  longRequiredEva Long required,
  longMinEva Long min(0),
  longMaxEva Long max(100),
  floatEva Float,
  floatRequiredEva Float required,
  floatMinEva Float min(0),
  floatMaxEva Float max(100),
  doubleRequiredEva Double required,
  doubleMinEva Double min(0),
  doubleMaxEva Double max(100),
  bigDecimalRequiredEva BigDecimal required,
  bigDecimalMinEva BigDecimal min(0),
  bigDecimalMaxEva BigDecimal max(100),
  localDateEva LocalDate,
  localDateRequiredEva LocalDate required,
  instantEva Instant,
  instanteRequiredEva Instant required,
  zonedDateTimeEva ZonedDateTime,
  zonedDateTimeRequiredEva ZonedDateTime required,
  booleanEva Boolean,
  booleanRequiredEva Boolean required,
  enumEva EnumFieldClass,
  enumRequiredEva EnumRequiredFieldClass required,
  byteImageEva ImageBlob,
  byteImageRequiredEva ImageBlob required,
  byteImageMinbytesEva ImageBlob minbytes(0),
  byteImageMaxbytesEva ImageBlob maxbytes(10000),
  byteAnyEva AnyBlob,
  byteAnyRequiredEva AnyBlob required,
  byteAnyMinbytesEva AnyBlob minbytes(0),
  byteAnyMaxbytesEva AnyBlob maxbytes(10000),
  byteTextEva TextBlob,
  byteTextRequiredEva TextBlob required,
  byteTextMinbytesEva TextBlob minbytes(0),
  byteTextMaxbytesEva TextBlob maxbytes(10000)
}
entity FieldTestServiceImplEntity {
  stringMika String,
  stringRequiredMika String required,
  stringMinlengthMika String minlength(0),
  stringMaxlengthMika String maxlength(20),
  stringPatternMika String pattern(/^[a-zA-Z0-9]*$/),
  integerMika Integer,
  integerRequiredMika Integer required,
  integerMinMika Integer min(0),
  integerMaxMika Integer max(100),
  longMika Long,
  longRequiredMika Long required,
  longMinMika Long min(0),
  longMaxMika Long max(100),
  floatMika Float,
  floatRequiredMika Float required,
  floatMinMika Float min(0),
  floatMaxMika Float max(100),
  doubleRequiredMika Double required,
  doubleMinMika Double min(0),
  doubleMaxMika Double max(100),
  bigDecimalRequiredMika BigDecimal required,
  bigDecimalMinMika BigDecimal min(0),
  bigDecimalMaxMika BigDecimal max(100),
  localDateMika LocalDate,
  localDateRequiredMika LocalDate required,
  instantMika Instant,
  instanteRequiredMika Instant required,
  zonedDateTimeMika ZonedDateTime,
  zonedDateTimeRequiredMika ZonedDateTime required,
  booleanMika Boolean,
  booleanRequiredMika Boolean required,
  enumMika EnumFieldClass,
  enumRequiredMika EnumRequiredFieldClass required,
  byteImageMika ImageBlob,
  byteImageRequiredMika ImageBlob required,
  byteImageMinbytesMika ImageBlob minbytes(0),
  byteImageMaxbytesMika ImageBlob maxbytes(10000),
  byteAnyMika AnyBlob,
  byteAnyRequiredMika AnyBlob required,
  byteAnyMinbytesMika AnyBlob minbytes(0),
  byteAnyMaxbytesMika AnyBlob maxbytes(10000),
  byteTextMika TextBlob,
  byteTextRequiredMika TextBlob required,
  byteTextMinbytesMika TextBlob minbytes(0),
  byteTextMaxbytesMika TextBlob maxbytes(10000)
}
entity FieldTestInfiniteScrollEntity {
  stringHugo String,
  stringRequiredHugo String required,
  stringMinlengthHugo String minlength(0),
  stringMaxlengthHugo String maxlength(20),
  stringPatternHugo String pattern(/^[a-zA-Z0-9]*$/),
  integerHugo Integer,
  integerRequiredHugo Integer required,
  integerMinHugo Integer min(0),
  integerMaxHugo Integer max(100),
  longHugo Long,
  longRequiredHugo Long required,
  longMinHugo Long min(0),
  longMaxHugo Long max(100),
  floatHugo Float,
  floatRequiredHugo Float required,
  floatMinHugo Float min(0),
  floatMaxHugo Float max(100),
  doubleRequiredHugo Double required,
  doubleMinHugo Double min(0),
  doubleMaxHugo Double max(100),
  bigDecimalRequiredHugo BigDecimal required,
  bigDecimalMinHugo BigDecimal min(0),
  bigDecimalMaxHugo BigDecimal max(100),
  localDateHugo LocalDate,
  localDateRequiredHugo LocalDate required,
  instantHugo Instant,
  instanteRequiredHugo Instant required,
  zonedDateTimeHugo ZonedDateTime,
  zonedDateTimeRequiredHugo ZonedDateTime required,
  booleanHugo Boolean,
  booleanRequiredHugo Boolean required,
  enumHugo EnumFieldClass,
  enumRequiredHugo EnumRequiredFieldClass required,
  byteImageHugo ImageBlob,
  byteImageRequiredHugo ImageBlob required,
  byteImageMinbytesHugo ImageBlob minbytes(0),
  byteImageMaxbytesHugo ImageBlob maxbytes(10000),
  byteAnyHugo AnyBlob,
  byteAnyRequiredHugo AnyBlob required,
  byteAnyMinbytesHugo AnyBlob minbytes(0),
  byteAnyMaxbytesHugo AnyBlob maxbytes(10000),
  byteTextHugo TextBlob,
  byteTextRequiredHugo TextBlob required,
  byteTextMinbytesHugo TextBlob minbytes(0),
  byteTextMaxbytesHugo TextBlob maxbytes(10000)
}
entity FieldTestServiceClassEntity {
  stringBob String,
  stringRequiredBob String required,
  stringMinlengthBob String minlength(0),
  stringMaxlengthBob String maxlength(20),
  stringPatternBob String pattern(/^[a-zA-Z0-9]*$/),
  integerBob Integer,
  integerRequiredBob Integer required,
  integerMinBob Integer min(0),
  integerMaxBob Integer max(100),
  longBob Long,
  longRequiredBob Long required,
  longMinBob Long min(0),
  longMaxBob Long max(100),
  floatBob Float,
  floatRequiredBob Float required,
  floatMinBob Float min(0),
  floatMaxBob Float max(100),
  doubleRequiredBob Double required,
  doubleMinBob Double min(0),
  doubleMaxBob Double max(100),
  bigDecimalRequiredBob BigDecimal required,
  bigDecimalMinBob BigDecimal min(0),
  bigDecimalMaxBob BigDecimal max(100),
  localDateBob LocalDate,
  localDateRequiredBob LocalDate required,
  instantBob Instant,
  instanteRequiredBob Instant required,
  zonedDateTimeBob ZonedDateTime,
  zonedDateTimeRequiredBob ZonedDateTime required,
  booleanBob Boolean,
  booleanRequiredBob Boolean required,
  enumBob EnumFieldClass,
  enumRequiredBob EnumRequiredFieldClass required,
  byteImageBob ImageBlob,
  byteImageRequiredBob ImageBlob required,
  byteImageMinbytesBob ImageBlob minbytes(0),
  byteImageMaxbytesBob ImageBlob maxbytes(10000),
  byteAnyBob AnyBlob,
  byteAnyRequiredBob AnyBlob required,
  byteAnyMinbytesBob AnyBlob minbytes(0),
  byteAnyMaxbytesBob AnyBlob maxbytes(10000),
  byteTextBob TextBlob,
  byteTextRequiredBob TextBlob required,
  byteTextMinbytesBob TextBlob minbytes(0),
  byteTextMaxbytesBob TextBlob maxbytes(10000)
}
entity FieldTestPaginationEntity {
  stringAlice String,
  stringRequiredAlice String required,
  stringMinlengthAlice String minlength(0),
  stringMaxlengthAlice String maxlength(20),
  stringPatternAlice String pattern(/^[a-zA-Z0-9]*$/),
  integerAlice Integer,
  integerRequiredAlice Integer required,
  integerMinAlice Integer min(0),
  integerMaxAlice Integer max(100),
  longAlice Long,
  longRequiredAlice Long required,
  longMinAlice Long min(0),
  longMaxAlice Long max(100),
  floatAlice Float,
  floatRequiredAlice Float required,
  floatMinAlice Float min(0),
  floatMaxAlice Float max(100),
  doubleRequiredAlice Double required,
  doubleMinAlice Double min(0),
  doubleMaxAlice Double max(100),
  bigDecimalRequiredAlice BigDecimal required,
  bigDecimalMinAlice BigDecimal min(0),
  bigDecimalMaxAlice BigDecimal max(100),
  localDateAlice LocalDate,
  localDateRequiredAlice LocalDate required,
  instantAlice Instant,
  instanteRequiredAlice Instant required,
  zonedDateTimeAlice ZonedDateTime,
  zonedDateTimeRequiredAlice ZonedDateTime required,
  booleanAlice Boolean,
  booleanRequiredAlice Boolean required,
  enumAlice EnumFieldClass,
  enumRequiredAlice EnumRequiredFieldClass required,
  byteImageAlice ImageBlob,
  byteImageRequiredAlice ImageBlob required,
  byteImageMinbytesAlice ImageBlob minbytes(0),
  byteImageMaxbytesAlice ImageBlob maxbytes(10000),
  byteAnyAlice AnyBlob,
  byteAnyRequiredAlice AnyBlob required,
  byteAnyMinbytesAlice AnyBlob minbytes(0),
  byteAnyMaxbytesAlice AnyBlob maxbytes(10000),
  byteTextAlice TextBlob,
  byteTextRequiredAlice TextBlob required,
  byteTextMinbytesAlice TextBlob minbytes(0),
  byteTextMaxbytesAlice TextBlob maxbytes(10000)
}
entity EntityWithDTO {
  emma String
}
entity EntityWithServiceClass {
  zoe String
}
entity EntityWithServiceImpl {
  clara String
}
entity EntityWithPagination {
  nathan String
}
entity EntityWithServiceClassAndPagination {
  enzo String
}
entity EntityWithServiceImplAndPagination {
  hugo String
}
entity EntityWithServiceClassAndDTO {
  lucas String
}
entity EntityWithServiceImplAndDTO {
  louis String
}
entity EntityWithPaginationAndDTO {
  lea String
}
entity EntityWithServiceClassPaginationAndDTO {
  lena String
}
entity EntityWithServiceImplPaginationAndDTO {
  theo String
}

enum BankAccountType {
  CHECKING,
  SAVINGS,
  LOAN
}

enum EnumFieldClass {
  ENUM_VALUE_1,
  ENUM_VALUE_2,
  ENUM_VALUE_3
}

enum EnumRequiredFieldClass {
  ENUM_VALUE_1,
  ENUM_VALUE_2,
  ENUM_VALUE_3
}

relationship OneToMany {
  BankAccount{operation} to Operation{bankAccount(name)}
}
relationship ManyToOne {
  BankAccount{user(login)} to User
}
relationship ManyToMany {
  Operation{label(labelName)} to Label{operation}
}

dto BankAccount, FieldTestMapstructEntity, EntityWithDTO, EntityWithServiceClassAndDTO, EntityWithServiceImplAndDTO, EntityWithPaginationAndDTO, EntityWithServiceClassPaginationAndDTO, EntityWithServiceImplPaginationAndDTO with mapstruct
service BankAccount, FieldTestServiceImplEntity, EntityWithServiceImpl, EntityWithServiceImplAndPagination, EntityWithServiceImplAndDTO, EntityWithServiceImplPaginationAndDTO with serviceImpl
service Label, FieldTestMapstructEntity, FieldTestServiceClassEntity, EntityWithServiceClass, EntityWithServiceClassAndPagination, EntityWithServiceClassAndDTO, EntityWithServiceClassPaginationAndDTO with serviceClass
angularSuffix BankAccount with mySuffix
filter BankAccount, FieldTestServiceClassEntity
clientRootFolder BankAccount, Label, Operation with test-root
paginate Label, FieldTestPaginationEntity, EntityWithPagination, EntityWithServiceClassAndPagination, EntityWithServiceImplAndPagination, EntityWithPaginationAndDTO, EntityWithServiceClassPaginationAndDTO, EntityWithServiceImplPaginationAndDTO with pagination
paginate Operation, FieldTestInfiniteScrollEntity with infinite-scroll
paginate FieldTestPagerEntity with pager

</pre>
</details>


####",https://github.com/jhipster/generator-jhipster/issues/9513#issuecomment-478349900,@jdubois I was about to have a look at this one. Should I continue or do you really want to remove it alltogther?
jhipster/generator-jhipster,"

##### **Overview of the issue**

Alerts doesn't appear at all when setting alertAsToast in app.module.ts in v5.8.2

##### **Reproduce the error**

Download jhipster-sample-app, set alertAsToast value to true in app.module.ts. 
Start the application and update any entity, you will not see any success alert.

##### **JHipster Version(s)**

v5.8.2

##### **Browsers and Operating System**

MacOs chrome

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9447#issuecomment-474275760,Can you provide the git repo or yo-rc.json file for reproducing the same error? Your steps are not according to the guideline.
jhipster/generator-jhipster,"##### **Overview of the issue**

Protractor tests failed with different relationships / pagination.

##### **Motivation for or Use Case**

Detected by https://dev.azure.com/hipster-labs/jhipster-daily-builds/_dashboards/dashboard/838f7bd8-7cb5-4bad-a47d-362df39abb27

You can look the full logs for ngx-mysql: https://dev.azure.com/hipster-labs/jhipster-daily-builds/_build/results?buildId=1580

##### **Reproduce the error**

- Generate a project with the entities above
- Launch the application
- Launch protractor tests

```
  account
    ‚úì should fail to login with bad password
    ‚úì should login successfully with admin account (4956ms)
    ‚úì should be able to update settings
    ‚úì should fail to update password when using incorrect current password
    ‚úì should be able to update password (2996ms)

  administration
    ‚úì should load user management
    ‚úì should load metrics
    ‚úì should load health
    ‚úì should load configuration
    ‚úì should load audits
    ‚úì should load logs

  SuperMegaLargeTestEntity e2e test
    ‚úì should load SuperMegaLargeTestEntities (5793ms)
    ‚úì should load create SuperMegaLargeTestEntity page

  TestCustomTableName e2e test
    ‚úì should load TestCustomTableNames (5818ms)
    ‚úì should load create TestCustomTableName page (5720ms)

  TestEntity e2e test
    ‚úì should load TestEntities (5656ms)
    ‚úì should load create TestEntity page

  TestInfiniteScroll e2e test
    ‚úì should load TestInfiniteScrolls
    ‚úì should load create TestInfiniteScroll page
    1) should create and save TestInfiniteScrolls
    2) should delete last TestInfiniteScroll

  TestManyRelPaginDTO e2e test
    ‚úì should load TestManyRelPaginDTOS
    ‚úì should load create TestManyRelPaginDTO page
    ‚úì should create and save TestManyRelPaginDTOS (5748ms)
    ‚úì should delete last TestManyRelPaginDTO (5525ms)

  TestManyToMany e2e test
    ‚úì should load TestManyToManies
    ‚úì should load create TestManyToMany page (5836ms)
    ‚úì should create and save TestManyToManies (11137ms)
    ‚úì should delete last TestManyToMany (5487ms)

  TestManyToOne e2e test
    ‚úì should load TestManyToOnes
    ‚úì should load create TestManyToOne page (5695ms)
    ‚úì should create and save TestManyToOnes (11490ms)
    ‚úì should delete last TestManyToOne (5487ms)

  TestMapstruct e2e test
    ‚úì should load TestMapstructs
    ‚úì should load create TestMapstruct page
    ‚úì should create and save TestMapstructs (5827ms)
    ‚úì should delete last TestMapstruct (5481ms)

  TestOneToOne e2e test
    ‚úì should load TestOneToOnes
    ‚úì should load create TestOneToOne page (5776ms)
    ‚úì should create and save TestOneToOnes (11518ms)
    ‚úì should delete last TestOneToOne (5482ms)

  TestPager e2e test
    ‚úì should load TestPagers
    ‚úì should load create TestPager page
    3) should create and save TestPagers
    4) should delete last TestPager

  TestPagination e2e test
    ‚úì should load TestPaginations
    ‚úì should load create TestPagination page
    5) should create and save TestPaginations
    6) should delete last TestPagination

  Division e2e test
    ‚úì should load Divisions
    ‚úì should load create Division page
    ‚úì should create and save Divisions (6469ms)
    ‚úì should delete last Division (5445ms)

  Place e2e test
    ‚úì should load Places
    ‚úì should load create Place page
    ‚úì should create and save Places (6750ms)
    ‚úì should delete last Place (5498ms)

  TestServiceClass e2e test
    ‚úì should load TestServiceClasses
    ‚úì should load create TestServiceClass page
    7) should create and save TestServiceClasses
    8) should delete last TestServiceClass

  TestServiceImpl e2e test
    ‚úì should load TestServiceImpls
    ‚úì should load create TestServiceImpl page
    9) should create and save TestServiceImpls
    10) should delete last TestServiceImpl

  TestTwoRelationshipsSameEntity e2e test
    ‚úì should load TestTwoRelationshipsSameEntities
    ‚úì should load create TestTwoRelationshipsSameEntity page (5599ms)


  57 passing (5m)
  10 failing
```

##### **Related issues**

no idea

##### **Suggest a Fix**

If it's too complex to fix it, we could simply add these part in comment, like we already did for other use cases.

##### **JHipster Version(s)**

```
toto@0.0.0 /home/pgrimaud/tmp/44-toto
‚îî‚îÄ‚îÄ generator-jhipster@5.8.1  -> /home/pgrimaud/projects/jhipster/generator-jhipster

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""io.github.pascalgrimaud"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.8.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""toto"",
    ""packageName"": ""io.github.pascalgrimaud"",
    ""packageFolder"": ""io/github/pascalgrimaud"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [""protractor""],
    ""jhiPrefix"": ""jhi"",
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [""en""]
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity TestTwoRelationshipsSameEntity (test_multiple_rel)
entity TestPager
entity TestCustomTableName (test_custom_table_name_entity)
entity TestEntity
entity TestInfiniteScroll
entity TestServiceImpl
entity TestPagination
entity TestServiceClass
entity TestMapstruct
entity TestManyToMany
entity TestManyRelPaginDTO (test_many_many_pagination_dto)
entity TestManyToOne
entity TestOneToOne
entity Division {
  name String required unique,
  shortName String unique,
  numberOfPeople Long,
  divisionType DivisionType required,
  colorBackground String,
  colorText String
}
entity Place {
  name String required,
  numberOfSeats Long,
  shortName String,
  colorBackground String,
  colorText String,
  description TextBlob
}
entity SuperMegaLargeTestEntity

enum DivisionType {
  SCHOOL,
  CLASS,
  SUBGROUP
}

relationship OneToOne {
  TestTwoRelationshipsSameEntity{userOne} to User,
  TestTwoRelationshipsSameEntity{userTwo} to User,
  TestPager{userOneToOne(login)} to User,
  TestCustomTableName{userOneToOne(login)} to User,
  TestEntity{userOneToOne(login)} to User,
  TestInfiniteScroll{userOneToOne(login)} to User,
  TestServiceImpl{userOneToOne(login)} to User,
  TestPagination{userOneToOne(login)} to User,
  TestServiceClass{userOneToOne(login)} to User,
  TestMapstruct{userOneToOne(login)} to User,
  TestOneToOne{testEntity} to TestEntity{testOneToOne},
  TestOneToOne{testMapstruct} to TestMapstruct{testOneToOne},
  TestOneToOne{testServiceClass} to TestServiceClass{testOneToOne},
  TestOneToOne{testServiceImpl} to TestServiceImpl{testOneToOne},
  TestOneToOne{testInfiniteScroll} to TestInfiniteScroll{testOneToOne},
  TestOneToOne{testPager} to TestPager{testOneToOne},
  TestOneToOne{testPagination} to TestPagination{testOneToOne},
  TestOneToOne{testCustomTableName} to TestCustomTableName{testOneToOne},
  TestOneToOne{superMegaLargeTestEntity} to SuperMegaLargeTestEntity{superMegaLargeTestOneToOne},
  SuperMegaLargeTestEntity{superMegaLargeUserOneToOne(login)} to User
}
relationship OneToMany {
  TestEntity{testCustomTableName} to TestCustomTableName{testEntity required},
  SuperMegaLargeTestEntity{superMegaLargeTestCustomTableName} to TestCustomTableName{superMegaLargeTestEntity required},
  TestEntity{testManyToOne} to TestManyToOne{testEntity},
  TestMapstruct{testManyToOne} to TestManyToOne{testMapstruct},
  TestServiceClass{testManyToOne} to TestManyToOne{testServiceClass},
  TestServiceImpl{testManyToOne} to TestManyToOne{testServiceImpl},
  TestInfiniteScroll{testManyToOne} to TestManyToOne{testInfiniteScroll},
  TestPager{testManyToOne} to TestManyToOne{testPager},
  TestPagination{testManyToOne} to TestManyToOne{testPagination},
  TestCustomTableName{testManyToOne} to TestManyToOne{testCustomTableName},
  SuperMegaLargeTestEntity{superMegaLargeTestManyToOne} to TestManyToOne{superMegaLargeTestEntity},
  Division{divisionsPlace} to Place{owner(name)}
}
relationship ManyToOne {
  TestTwoRelationshipsSameEntity{firstRelationship} to TestEntity,
  TestTwoRelationshipsSameEntity{secondRelationship} to TestEntity,
  TestTwoRelationshipsSameEntity{firstUniqueRequiredRelation required} to Division,
  TestTwoRelationshipsSameEntity{secondUniqueRequiredRelation required} to Division,
  TestPager{userOneToMany(login)} to User,
  TestCustomTableName{userOneToMany(login)} to User,
  TestEntity{userOneToMany(login) required} to User,
  TestInfiniteScroll{userOneToMany(login)} to User,
  TestServiceImpl{userOneToMany(login)} to User,
  TestPagination{userOneToMany(login)} to User,
  TestServiceClass{userOneToMany(login)} to User,
  TestMapstruct{userOneToMany(login)} to User,
  SuperMegaLargeTestEntity{superMegaLargeUserOneToMany(login) required} to User
}
relationship ManyToMany {
  TestPager{userManyToMany(login)} to User,
  TestCustomTableName{userManyToMany(login)} to User,
  TestEntity{userManyToMany(login)} to User,
  TestInfiniteScroll{userManyToMany(login)} to User,
  TestServiceImpl{userManyToMany(login)} to User,
  TestPagination{userManyToMany(login)} to User,
  TestServiceClass{userManyToMany(login)} to User,
  TestMapstruct{userManyToMany(login)} to User,
  TestManyToMany{testEntity} to TestEntity{testManyToMany},
  TestManyToMany{testMapstruct} to TestMapstruct{testManyToMany},
  TestManyToMany{testServiceClass} to TestServiceClass{testManyToMany},
  TestManyToMany{testServiceImpl} to TestServiceImpl{testManyToMany},
  TestManyToMany{testInfiniteScroll} to TestInfiniteScroll{testManyToMany},
  TestManyToMany{testPager} to TestPager{testManyToMany},
  TestManyToMany{testPagination} to TestPagination{testManyToMany},
  TestManyToMany{testCustomTableName} to TestCustomTableName{testManyToMany},
  TestManyToMany{superMegaLargeTestEntity} to SuperMegaLargeTestEntity{superMegaLargeTestManyToMany},
  TestManyRelPaginDTO{testMapstruct} to TestMapstruct{testManyRelPaginDTO},
  Place{preferredDivision(name)} to Division{preferredPlace},
  SuperMegaLargeTestEntity{superMegaLargeUserManyToMany(login)} to User
}

angularSuffix TestTwoRelationshipsSameEntity, TestManyToMany, TestManyRelPaginDTO, TestManyToOne, TestOneToOne with mySuffix
angularSuffix TestEntity, SuperMegaLargeTestEntity with mySuffixAlt
paginate TestPager with pager
paginate TestInfiniteScroll with infinite-scroll
paginate TestPagination, TestManyRelPaginDTO with pagination
filter TestEntity, TestServiceImpl, TestServiceClass, SuperMegaLargeTestEntity
service TestServiceImpl, TestManyRelPaginDTO with serviceImpl
service TestServiceClass with serviceClass
dto TestMapstruct, TestManyRelPaginDTO with mapstruct
clientRootFolder Division, Place with test-root

</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_191""
OpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12)
OpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)

git version 2.20.1

node: v10.15.0

npm: 6.7.0

yeoman: 2.0.5

yarn: 1.13.0

Docker version 18.03.0-ce, build 0520e24

docker-compose version 1.21.2, build a133471

INFO! Congratulations, JHipster execution is complete!",https://github.com/jhipster/generator-jhipster/issues/9347#issuecomment-468989661,"First, the JDL is invalid:
```
Error: Command failed: cd /tmp/jh/issue9347/ && jhipster import-jdl issue9347.jdl --force --skip-install
ERROR! Error while parsing applications and entities from the JDL Error: Selecting DTOs without services is forbidden, for entity TestMapstruct.
```
We should change that to do the same thing that Filtering does:
```
info: JPAMetaModelFiltering has been detected for TestServiceImpl, the 'serviceClass' value for the 'service' is gonna be set for this entity if no other value has been set.
```
@MathieuAA can you handle this part please?

Then it warns the following, though I'm not sure if this causes issues.  The easiest fix is to remove remove relationships between `TestMapstruct` and entities not using DTO (all but `User` and `TestManyRelPaginDTO`).
```
WARNING! This entity has the DTO option, and it has a relationship with entity ""testManyToOne"" that doesn't have the DTO option. This will result in an error.
WARNING! This entity has the DTO option, and it has a relationship with entity ""testOneToOne"" that doesn't have the DTO option. This will result in an error.
WARNING! This entity has the DTO option, and it has a relationship with entity ""testManyToMany"" that doesn't have the DTO option. This will result in an error.
```
Another issue, liquibase throws an error on startup. This is due to the Faker.js data inserting `user_id` refernces between 0 and 10.
```
2019-03-02 16:38:02.670 ERROR 87231 --- [    toto-task-1] liquibase.changelog.ChangeSet            : Change Set config/liquibase/changelog/20190303003516_added_entity_constraints_TestEntity.xml::20190303003516-2::jhipster failed.  Error: Referential integrity constraint violation: ""FK_TEST_ENTITY_USER_ONE_TO_MANY_ID: PUBLIC.TEST_ENTITY FOREIGN KEY(USER_ONE_TO_MANY_ID) REFERENCES PUBLIC.JHI_USER(ID)""; SQL statement:
ALTER TABLE PUBLIC.test_entity ADD CONSTRAINT fk_test_entity_user_one_to_many_id FOREIGN KEY (user_one_to_many_id) REFERENCES PUBLIC.jhi_user (id) [23506-197] [Failed SQL: ALTER TABLE PUBLIC.test_entity ADD CONSTRAINT fk_test_entity_user_one_to_many_id FOREIGN KEY (user_one_to_many_id) REFERENCES PUBLIC.jhi_user (id)]
```
Finally the actual issue, is the constructor of the entity is used to map form data to entity model, even though the form fields don't match the positions (some fields aren't sent to the backend, for example Many-To-One).  I opened a PR for the last two points.
"
jhipster/generator-jhipster,"The application was using ""api/' as a landing page and rendered content based on if user is authenticated. But after logout the state did not had time to update. 

Error example in browser console (After logging out):
GET https://www.*.com/api/* 401 (Unauthorized)
For basically every resourced I used

The key was to fix auto generated authentication reducer... and add following in **authentication.ts** :
`case REQUEST(ACTION_TYPES.LOGOUT):
      return {
        ...initialState,
        showModalLogin: true
      };`

I hope it helps somebody and I think it might need to be fixed in the JHipster generator.",https://github.com/jhipster/generator-jhipster/issues/9297#issuecomment-465171270,Can you please [submit a pull request](https://github.com/jhipster/generator-jhipster/blob/master/CONTRIBUTING.md#submitting-a-pull-request) with this change?
jhipster/generator-jhipster,"##### **Overview of the feature request**

I have a strong incentive of adding Redis support to JHipster (we have a Prod project on PCF which absolutely need it in the next weeks), however, would you prefer it in the main gen, module or blueprint?

Side question: I noticed JH doesn't generate `@Cacheable`, `@Cacheput` and so on for CRUD: I may also add support for these annotation (but it's a mid term feature).

##### **Motivation for or Use Case**

An Onprem + SaaS microservice architecture with data sync between them: a Rabbit and Redis combination could be a way to help in this case.

##### **Related issues or PR**

#7503
#7691
#1149


-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9280#issuecomment-464737516,"Normally this should be a module, but as we already have Kafka, Cassandra, etc into the main generator that doesn't seem really fair to Redis.

Can this be a ""simple"" integration like Kafka: not too many files, and the minimum (or nothing at all) on the client side? This is to lower the maintenance burden."
jhipster/generator-jhipster,"##### **Overview of the issue**

Trying to build a clean JHipster 5.8.1 project with gradle and yarn fails with this error message:

```
FAILURE: Build failed with an exception.

* Where:
Script '{...}\gradle\profile_dev.gradle' line: 40

* What went wrong:
A problem occurred evaluating script.
> Could not get unknown property 'yarnInstall' for task ':webpackBuildDev' of type com.moowork.gradle.node.yarn.YarnTask.
```

##### **Reproduce the error**

* Create a new application with yarn and gradle. 
* Execute `gradlew bootRun`

##### **Suggest a Fix**

```
diff --git a/generators/server/templates/gradle/profile_dev.gradle.ejs b/generators/server/templates/gradle/profile_dev.gradle.ejs
index d34d5db17..30c0a54cf 100644
--- a/generators/server/templates/gradle/profile_dev.gradle.ejs
+++ b/generators/server/templates/gradle/profile_dev.gradle.ejs
@@ -60,7 +60,7 @@ task webpackBuildDev(type: <%= _.upperFirst(clientPackageManager) %>Task) {

     outputs.files(fileTree(""<%= CLIENT_DIST_DIR %>""))

-    dependsOn <%= clientPackageManager %>Install
+    dependsOn <%= clientPackageManager %>_install

     args = [""run"", ""webpack:build""]
 }
```

##### **JHipster Version(s)**

Tested in JHipster 5.8.1

",https://github.com/jhipster/generator-jhipster/issues/9206#issuecomment-461208231,@cvk77 : would you like to contribute and open a PR with your fix ?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Manual upgrade from version 5.7.2 to 5.8.1 is failing with following error while automatic upgrade is working without any issue.

```
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project 5732581: Compilation failure: Compilation failure: 
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[5,28] cannot find symbol
[ERROR]   symbol:   class JmxReporter
[ERROR]   location: package com.codahale.metrics
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[6,28] cannot find symbol
[ERROR]   symbol:   class JvmAttributeGaugeSet
[ERROR]   location: package com.codahale.metrics
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[9,35] package com.codahale.metrics.health does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[10,1] package com.codahale.metrics.jvm does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[11,55] package com.ryantenney.metrics.spring.config.annotation does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[12,55] package com.ryantenney.metrics.spring.config.annotation does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[14,28] package io.prometheus.client does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[15,39] package io.prometheus.client.dropwizard does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[16,37] package io.prometheus.client.exporter does not exist
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[32,43] cannot find symbol
[ERROR]   symbol: class MetricsConfigurerAdapter
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[31,2] cannot find symbol
[ERROR]   symbol: class EnableMetrics
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[45,13] cannot find symbol
[ERROR]   symbol:   class HealthCheckRegistry
[ERROR]   location: class com.company.myapp.config.MetricsConfiguration
[ERROR] /Users/sierra/github/pmverma/5732581/src/main/java/com/company/myapp/config/MetricsConfiguration.java:[68,12] cannot find symbol
[ERROR]   symbol:   class HealthCheckRegistry
[ERROR]   location: class com.company.myapp.config.MetricsConfiguration
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException

```
##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
Automatic and manual upgrade should work identically.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

- create a 5.7.2 app `mkdir 5722581 && cd 5722581 && npm install generator-jhipster@5.7.2 && jhipster`
- Compiling the app without any problem `./mvnw compile`
- ~~Manual upgrade to 5.8.1 `rm -fr * && npm install generator-jhipster@5.8.1 && jhipster`~~
- Manual upgrade to 5.8.1 `rm -fr node_modules && npm install generator-jhipster@5.8.1 && jhipster`
- Compiling the app will fail `./mvnw compile`

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
- It seems version 5.8.1 is not generating the `MetricsConfiguration.java` anymore. Removing the corresponding file should work but not confirmed.

##### **JHipster Version(s)**

```
5732581@0.0.0 /Users/sierra/github/pmverma/5732581
‚îî‚îÄ‚îÄ generator-jhipster@5.8.1 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.company.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.8.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""5732581"",
    ""packageName"": ""com.company.myapp"",
    ""packageFolder"": ""com/company/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""entitySuffix"": """",
    ""dtoSuffix"": ""DTO""
  }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_172""
Java(TM) SE Runtime Environment (build 1.8.0_172-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)

git version 2.17.2 (Apple Git-113)

node: v10.14.2

npm: 6.4.1

yeoman: 2.0.5

Docker version 18.09.1, build 4c52b90

docker-compose version 1.23.2, build 1110ad01
",https://github.com/jhipster/generator-jhipster/issues/9204#issuecomment-460916761,Is this a duplicate with #9200 ?
jhipster/generator-jhipster,"##### **Overview of the issue**

Metrics page display nothing.

##### **Motivation for or Use Case**

Because it can be interesting to have metrics.

##### **Reproduce the error**
generate the app, change nothing. Launch it by eclipse or just in a tomcat
http://localhost:8080/#/admin/jhi-metrics

We see a stack in console:
org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Null key for a Map not allowed in JSON (use a converting NullKeySerializer?); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Null key for a Map not allowed in JSON (use a converting NullKeySerializer?) (through reference chain: java.util.HashMap[""cache""]->java.util.HashMap[""null""])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:294)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:272)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
...
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: Null key for a Map not allowed in JSON (use a converting NullKeySerializer?) (through reference chain: java.util.HashMap[""cache""]->java.util.HashMap[""null""])
	at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:285)
	at com.fasterxml.jackson.databind.SerializerProvider.mappingException(SerializerProvider.java:1251)
...
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:913)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:285)
	... 101 common frames omitted

##### **Related issues**

No see, it's since jhipster migrate to micrometer

##### **Suggest a Fix**

the metric tomcat.cache.hit have no key because it have no tag name but have a name
So i suggest to change
JHipsterMetricsEndpoint.cacheMetrics() from:
```String name = counter.getId().getTag(""name"");```
to
```
String name = counter.getId().getTag(""name"");
if(name ==null) {
name = counter.getId().getName(); //maybe we can substring before the first dot found
}
```


##### **JHipster Version(s)**

5.8.1

##### **JHipster configuration**
 See above

##### **JHipster Version(s)**

```
reqhub@0.0.0 H:\git\mcp\com.trululu.mcp.requirement.product.server\plugins\com.trululu.mcp.server\com.trululu.metax.requirement.server.webapp
`-- generator-jhipster@5.8.1

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
    ""generator-jhipster"": {
        ""promptValues"": {
            ""packageName"": ""com.trululu.metax.requirement.server.webapp"",
            ""nativeLanguage"": ""en""
        },
        ""jhipsterVersion"": ""5.8.1"",
        ""applicationType"": ""monolith"",
        ""baseName"": ""reqhub"",
        ""packageName"": ""com.trululu.metax.requirement.server.webapp"",
        ""packageFolder"": ""com/trululu/metax/requirement/server/webapp"",
        ""serverPort"": ""8080"",
        ""authenticationType"": ""session"",
        ""cacheProvider"": ""ehcache"",
        ""enableHibernateCache"": true,
        ""websocket"": false,
        ""databaseType"": ""sql"",
        ""devDatabaseType"": ""h2Disk"",
        ""prodDatabaseType"": ""mariadb"",
        ""searchEngine"": false,
        ""messageBroker"": false,
        ""serviceDiscoveryType"": false,
        ""buildTool"": ""maven"",
        ""enableSwaggerCodegen"": false,
        ""rememberMeKey"": ""YourJWTSecretKeyWasReplacedByThisMeaninglessTextByTheJHipsterInfoCommandForObviousSecurityReasons"",
        ""clientFramework"": ""angularX"",
        ""useSass"": false,
        ""clientPackageManager"": ""npm"",
        ""testFrameworks"": [""gatling"", ""protractor""],
        ""jhiPrefix"": ""jhi"",
        ""otherModules"": [],
        ""enableTranslation"": true,
        ""nativeLanguage"": ""en"",
        ""languages"": [""en""],
        ""entitySuffix"": """",
        ""dtoSuffix"": ""DTO""
    }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.19.0.windows.1

node: v8.12.0

npm: 6.7.0

yeoman: 2.0.5

INFO! Congratulations, JHipster execution is complete!

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

no entity

##### **Browsers and Operating System**



-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9195#issuecomment-460968789,I missed something in your last comment ! Tagging tomcat cache could be the best option. WDYT @PierreBesson ?
jhipster/generator-jhipster,"##### **Overview of the issue**

importing a jhipster project does not compile in eclipse, but compiles in maven

Eclipse complains about missing class: javax.servlet.ServletException

~~~
The type javax.servlet.ServletException cannot be resolved. 
It is indirectly referenced from required .class 
files	WebConfigurerTest.java	/test-1/src/test/java/com/mycompany/myapp/config	

The project was not built since its build path is incomplete. 
Cannot find the class file for javax.servlet.ServletException. 
Fix the build path then try building this project
~~~

Adding 

~~~xml
		<dependency>
		    <groupId>javax.servlet</groupId>
		    <artifactId>javax.servlet-api</artifactId>
		    <scope>provided</scope>
		</dependency>
~~~

solved this first error, but there is 16 others (all concerning undertow) after:

~~~
The type io.undertow.Undertow$Builder cannot be resolved. It is indirectly referenced from required .class files	WebConfigurer.java
~~~

Adding this solves the remaining errors:

~~~xml
	 <dependency>
        	<groupId>org.springframework.boot</groupId>
	        <artifactId>spring-boot-starter-undertow</artifactId>
	        <scope>provided</scope>
	  </dependency>
~~~


##### **Motivation for or Use Case**

using eclipse..

##### **Reproduce the error**

create empty jhipster project, choosing maven
then import in eclipse using ""import ... > existing maven project"" 

eclipse version : 2018-12, with jdk8, standard eclipse java, no plugins

##### **Related issues**

##### **Suggest a Fix**

adding this in the pom.xml solves the issue:

~~~xml
		<dependency>
		    <groupId>javax.servlet</groupId>
		    <artifactId>javax.servlet-api</artifactId>
		    <scope>provided</scope>
		</dependency>
		<dependency>
        	<groupId>org.springframework.boot</groupId>
	        <artifactId>spring-boot-starter-undertow</artifactId>
	        <scope>provided</scope>
	    </dependency>
~~~

##### **JHipster Version(s)**

JHipster version v5.8.1

##### **JHipster configuration**

Welcome to the JHipster Information Sub-Generator                                                                       
                                                                                                                        
##### **JHipster Version(s)**                                                                                           
                                                                                                                        
```                                                                                                                     
test-1@0.0.0 D:\test-jhispter\test1                                                                        
`-- generator-jhipster@5.8.1                                                                                            
                                                                                                                        
```                                                                                                                     
                                                                                                                        
                                                                                                                        
##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**                                     
                                                                                                                        
                                                                                                                        
<details>                                                                                                               
<summary>.yo-rc.json file</summary>                                                                                     
<pre>                                                                                                                   
{                                                                                                                       
  ""generator-jhipster"": {                                                                                               
    ""promptValues"": {                                                                                                   
      ""packageName"": ""com.mycompany.myapp"",                                                                             
      ""nativeLanguage"": ""en""                                                                                            
    },                                                                                                                  
    ""jhipsterVersion"": ""5.8.1"",                                                                                         
    ""applicationType"": ""monolith"",                                                                                      
    ""baseName"": ""test1"",                                                                                                
    ""packageName"": ""com.mycompany.myapp"",                                                                               
    ""packageFolder"": ""com/mycompany/myapp"",                                                                             
    ""serverPort"": ""8080"",                                                                                               
    ""authenticationType"": ""jwt"",                                                                                        
    ""cacheProvider"": ""ehcache"",                                                                                         
    ""enableHibernateCache"": true,                                                                                       
    ""websocket"": false,                                                                                                 
    ""databaseType"": ""sql"",                                                                                              
    ""devDatabaseType"": ""h2Disk"",                                                                                        
    ""prodDatabaseType"": ""postgresql"",                                                                                   
    ""searchEngine"": false,                                                                                              
    ""messageBroker"": false,                                                                                             
    ""serviceDiscoveryType"": false,                                                                                      
    ""buildTool"": ""maven"",                                                                                               
    ""enableSwaggerCodegen"": false,                                                                                      
    ""clientFramework"": ""angularX"",                                                                                      
    ""useSass"": true,                                                                                                    
    ""clientPackageManager"": ""npm"",                                                                                      
    ""testFrameworks"": [],                                                                                               
    ""jhiPrefix"": ""jhi"",                                                                                                 
    ""entitySuffix"": """",                                                                                                 
    ""dtoSuffix"": ""DTO"",                                                                                                 
    ""otherModules"": [],                                                                                                 
    ""enableTranslation"": true,                                                                                          
    ""nativeLanguage"": ""en"",                                                                                             
    ""languages"": [                                                                                                      
      ""en""                                                                                                              
    ]                                                                                                                   
  }                                                                                                                     
}                                                                                                                       
</pre>                                                                                                                  
</details>                                                                                                              
                                                                                                                        
                                                                                                                        
##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**            
                                                                                                                        
<details>                                                                                                               
<summary>JDL entity definitions</summary>                                                                               
                                                                                                                        
<pre>                                                                                                                   
                                                                                                                        
</pre>                                                                                                                  
</details>                                                                                                              
                                                                                                                        
                                                                                                                        
##### **Environment and Tools**                                                                                         
                                                                                                                        
java version ""1.8.0_202""                                                                                                
Java(TM) SE Runtime Environment (build 1.8.0_202-b08)                                                                   
Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)                                                        
                                                                                                                        
git version 2.17.0                                                                                                      
                                                                                                                        
node: v10.15.1                                                                                                          
                                                                                                                        
npm: 6.4.1                                                                                                              
                                                                                                                        
yeoman: 2.0.5                                                                                                           
                                                                                                                        
yarn: 1.13.0                                                                                                            

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

none

##### **Browsers and Operating System**

Windows 10. 
browsers: any (compile time error)

-   [X] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/9175#issuecomment-461221039,@Arnaud-Nauwynck @pmverma : can one of you do a PR to apply the fix ?
jhipster/generator-jhipster,"Our usage of apiVersion is very inconsistent, For some of the generated Kubernetes files we are still using `extensions/v1beta1`. For services we use `apiVersion: v1` and for some deployments `apps/v1` I think we need to review and update them. Especially the SQL database maifests. See below for example

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: invoice-mysql
  namespace: xl-demo
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: invoice-mysql
    spec:
      volumes:
      - name: data
        emptyDir: {}
      containers:
      - name: mysql
        image: mysql:5.7.20
        env:
        - name: MYSQL_USER
          value: root
        - name: MYSQL_ALLOW_EMPTY_PASSWORD
          value: 'yes'
        - name: MYSQL_DATABASE
          value: invoice
        args:
        - --lower_case_table_names=1
        - --skip-ssl
        - --character_set_server=utf8mb4
        - --explicit_defaults_for_timestamp
        ports:
        - containerPort: 3306
        volumeMounts:
        - name: data
          mountPath: /var/lib/mysql/
---
apiVersion: v1
kind: Service
metadata:
  name: invoice-mysql
  namespace: xl-demo
spec:
  selector:
    app: invoice-mysql
  ports:
  - port: 3306

```
@PierreBesson @srinivasa-vasu could you guys have a glance",https://github.com/jhipster/generator-jhipster/issues/9165#issuecomment-468275676,"Any news on this? This still coninue targeted for v6?
I despair for the v6 release... and it would be a must to have fully support for Kubernetes"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

When i tried to login with Gateway to UAA Service in localhost without dockers , using eclipse IDE,
i cant login and the error displayed is ""No instances available for localhost"".
I started the UAA localhost:9999 and Gateway localhost:8080 .
I tried to change this line of application.dev.yaml

security:
        client-authorization:
            access-token-uri: http://web_app:changeit@localhost:9999/oauth/token  
            #http://uaabaeldung/oauth/token

i just followed the example related on https://www.baeldung.com/jhipster-uaa-secured-micro-service.

Please help!


##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->

Jhipster 5.7.2

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

Gateway Config : 

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
    ""generator-jhipster"": {
        ""promptValues"": {
            ""packageName"": ""com.cosentino.gateway"",
            ""nativeLanguage"": ""en""
        },
        ""jhipsterVersion"": ""5.7.2"",
        ""applicationType"": ""gateway"",
        ""baseName"": ""gatewayBaeldung"",
        ""packageName"": ""com.cosentino.gateway"",
        ""packageFolder"": ""com/cosentino/gateway"",
        ""serverPort"": ""8080"",
        ""authenticationType"": ""uaa"",
        ""uaaBaseName"": ""uaaBaeldung"",
        ""cacheProvider"": ""hazelcast"",
        ""enableHibernateCache"": true,
        ""websocket"": false,
        ""databaseType"": ""sql"",
        ""devDatabaseType"": ""h2Disk"",
        ""prodDatabaseType"": ""mysql"",
        ""searchEngine"": false,
        ""messageBroker"": false,
        ""serviceDiscoveryType"": ""eureka"",
        ""buildTool"": ""maven"",
        ""enableSwaggerCodegen"": false,
        ""clientFramework"": ""angularX"",
        ""useSass"": false,
        ""clientPackageManager"": ""npm"",
        ""testFrameworks"": [],
        ""jhiPrefix"": ""jhi"",
        ""otherModules"": [],
        ""enableTranslation"": true,
        ""nativeLanguage"": ""en"",
        ""languages"": [""en"", ""es""]
    }
}

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.20.1.windows.1

node: v10.15.0

npm: 6.4.1

yarn: 1.13.0

UAA Config : 

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.cosentino.uaa"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.7.2"",
    ""applicationType"": ""uaa"",
    ""baseName"": ""uaaBaeldung"",
    ""packageName"": ""com.cosentino.uaa"",
    ""packageFolder"": ""com/cosentino/uaa"",
    ""serverPort"": ""9999"",
    ""authenticationType"": ""uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""es""
    ],
    ""skipClient"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.20.1.windows.1

node: v10.15.0

npm: 6.4.1

yarn: 1.13.0

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10
Google Chrome
-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/9162#issuecomment-459952939,@diegobs2  did you start the registry service ?
jhipster/generator-jhipster,Gatling 3 is already a few month old. We should support gatling 3 at least for jhipster 6. See https://gatling.io/docs/current/migration_guides/2.3-to-3.0/#to-3-0 for details,https://github.com/jhipster/generator-jhipster/issues/9080#issuecomment-455031407,"Is there any chance we can have gatling-maven-plugin back https://github.com/jhipster/generator-jhipster/issues/7042 since we are moving to gatling 3?

Not a mandatory thing but if issues with gatling 2.x are sovled in 3.x then it is good to have."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
When importing a JDL file, it doesn't ask for confirmation on conflict files where changes have been made and it simply overrides them. It also commits the changes with the message `Initial application generated by JHipster-5.7.0`
<!-- Explain the bug or feature request, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**
When importing a JDL file, it should as for confirmations prior overriding changed files and it shouldn't automatically commit those changes.
<!-- Explain why this is a bug or a new feature for you -->

##### **Reproduce the error**
Create a project and import a JDL. It shouls, at least, ask for confirmation when overriding the narbar file.
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**
none found
<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**
implement the confirmation before overriding the files changed by the user and don't auto-commit the changes.

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->


##### **JHipster Version(s)**

```
factur-app@0.0.0 /Users/alejandro/IdeaProjects/test_comment
‚îî‚îÄ‚îÄ generator-jhipster@5.7.0

```
##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.16.2

node: v8.11.3

npm: 6.4.1

yeoman: 2.0.5

Docker version 18.09.0, build 4d60db4

docker-compose version 1.23.1, build b02f1306

INFO! Congratulations, JHipster execution is complete!


##### **JHipster Version(s)**
5.7.0
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8880#issuecomment-441723042,"@amatosg sorry it was a surprise, and I understand the pain, let me see what can be done, the change was made to speed up multi-application import so that things are done in parallel, and when running in parallel you won't be able to interact with it. Maybe I can skip the behavior for cases where you are only generating entities. Can you confirm, did you generate app and entities or just entities?"
jhipster/generator-jhipster,"##### **Overview of the feature request**

When you have a date of type `Instant`, the Angular update component uses a `type=""datetime-local""`. When selecting the current day on the HTML component, only the date is set, not the time. So you have to add it manually otherwise the component does not allow you to save it.

It would be helpful to set the time (by default could be 00:00)

##### **Motivation for or Use Case**

Imagine you have the following JDL which represents an item status with a status date of type `Instant`:

```
entity ItemStatus{
    status String required,
    statusDate Instant required,
    additionalInformation String
}
```

The code generated in the `item-status-update.component.html` uses a 

```
<div class=""d-flex"">
    <input id=""field_statusDate"" type=""datetime-local"" class=""form-control"" name=""statusDate"" [(ngModel)]=""statusDate""
    required/>
</div>
```

So when you create a new Item Status and you hit the current day button, only the date is set, not the time. Because the date in not valid, the Save button is not enabled, and you can't save the Item Status:

![instant1](https://user-images.githubusercontent.com/729277/48660103-82f84680-ea5c-11e8-9305-e154689cdafe.png)

You have to manually set a time for the Save button be enabled. The component should add 00:00 by default.

![instant2](https://user-images.githubusercontent.com/729277/48660112-9acfca80-ea5c-11e8-87ad-6063c35d5c31.png)


##### **Related issues or PR**

See #5006
See #6711

-   [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8846#issuecomment-441328880,"Ok so I have just done some tests and unfortunatelly it seems we can't handle event when a date is chosen in the calendar. 
Calendar is related to navigator not the component itself, that's why on chrome or firefox the calendar do not have the same rendering.

Both ""change"" and ""input"" events are fired when the field is totally filled (so date AND time). We can't use them to change time on the fly.

 But maybe I have a workaround : 
- define the field with a default day at 00:00am
- when the user choose a new date in the calendar the time is already filled

In this case we are breaking the ""required"" validation rule because the field is always filled.

EDIT:
After looking at #5006, and according to @gmarziou, [flatpickr](https://flatpickr.js.org) seems to be a good alternative to native HTML 5 calendar. (11K stars on github :D).
What about adding it by default ?"
jhipster/generator-jhipster,"##### **Overview of the issue**

When using MongoDB in a micro service, the type of generated entities' ID field is string.
When consuming this entity in a gateway, the assumed type is always number
It is not possible to define the id field in the entity json because it will generate a second field.

##### **Motivation for or Use Case**

I use a microservice architecture with MongoDB

##### **Reproduce the error**

* Generate a microservice with MongoDB database
* Generate any entity
* Generate a gateway
* Call entity generator with option from existing micro service
* Verify that the generated id type in the gateway is number

##### **Suggest a Fix**

Either add the id field to the json definition or check database type when generating entities from existing micro services

##### **JHipster Version(s)**

5.6.1

##### **JHipster configuration**
```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""de"",
      ""microservicePath"": ""../service""
    },
    ""jhipsterVersion"": ""5.6.1"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""ZjQwYmViZTE3ZGJjZTY3YWUyYTc3YTQ3ZWFiZmVhZmVhZGRlOGIyZjkzYjg3NzVlMDZmOTVkMDk1MGZlNDJiNjUyZDVhMDlhNjI0ZDNlMzcwYmQ1ZDE4MmFhZjJmZWUwMzFkYWIxMzU4NWVlN2YzMDU4MjY1MWJjNjVhY2YxYTQ="",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""de"",
    ""languages"": [
      ""de"",
      ""en"",
      ""fr"",
      ""it""
    ]
  }
}
```
```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""de""
    },
    ""jhipsterVersion"": ""5.6.1"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""service"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""ZjgwOWQ3YjJjY2I5NmJkODBlNGI0ZmZiYTQ3YmE4N2M2YWFhMGViNDQ0NTUyZGUyNmFjOGI2NGY4ODRiNjU4NmI0ZGFmNTM3YzM5ODU0M2QzMjAyNDhkYjIzNGE3ZmJiZThlZTFjYmQ1YjNjZDQ5NzViMjUzM2IwNzUwMTcyN2M="",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""de"",
    ""languages"": [
      ""de"",
      ""en"",
      ""fr"",
      ""it""
    ],
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
```
##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
```
{
    ""fluentMethods"": true,
    ""clientRootFolder"": ""service"",
    ""relationships"": [],
    ""fields"": [],
    ""dto"": ""no"",
    ""searchEngine"": false,
    ""service"": ""no"",
    ""entityTableName"": ""my_entity"",
    ""jpaMetamodelFiltering"": false,
    ""pagination"": ""no"",
    ""microserviceName"": ""service""
}
```

##### **Browsers and Operating System**

Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/8766#issuecomment-436346360,"We did a workshop with microservices last week, with JHipster 5.5.0 and I'm pretty sure it works.

What is the error ? Do you have some stacktrace or error in console of your browser ? "
jhipster/generator-jhipster,"##### **Overview of the issue**
Generated code (of the gateway backend) in DatabaseConfiguration.java was changed in Version 5.5.0 to:

    public Object h2TCPServer() throws SQLException {
        String port = ""1"" + env.getProperty(""server.port"");
        log.debug(""H2 database is available on port {}"", port);
        return H2ConfigurationHelper.createServer(port);
    }

Because there are only 2^16 ports available (on Windows), the program crashes when it tries to open a port >100.000

##### **Motivation for or Use Case**

I use a Server Port >10.000

##### **Reproduce the error**

Use a Server Port >10.000 and run mvnw

##### **Suggest a Fix**

Don't add a leading 1 to the port if it already has 5 digits

##### **JHipster Version(s)**

5.5.0

##### **JHipster configuration**

<anything>
""serverPort"": ""10000"",
<anything>

##### **Browsers and Operating System**

Windows 10

-   [x] Checking this box is mandatory (this is just to show you read everything)",https://github.com/jhipster/generator-jhipster/issues/8639#issuecomment-432118686,"Is there any specific reason that you use that port?

On Mon, 22 Oct 2018, 10:33 pm Evertude, <notifications@github.com> wrote:

> *Overview of the issue*
>
> Generated code in Version 5.5.0 was changed to:
>
> public Object h2TCPServer() throws SQLException {
>     String port = ""1"" + env.getProperty(""server.port"");
>     log.debug(""H2 database is available on port {}"", port);
>     return H2ConfigurationHelper.createServer(port);
> }
>
> Since there are only 2^16 ports available (on Windows), the program
> crashes when it tries to open a port >100.000
> *Motivation for or Use Case*
>
> I use a Server Port >10.000
> *Reproduce the error*
>
> Use a Server Port >10.000 and run mvnw
> *Suggest a Fix*
>
> Don't add a leading 1 to the port if it already has 5 digits
> *JHipster Version(s)*
>
> 5.5.0
> *JHipster configuration* ""serverPort"": ""10000"", *Browsers and Operating
> System*
>
> Windows 10
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/jhipster/generator-jhipster/issues/8639>, or mute the
> thread
> <https://github.com/notifications/unsubscribe-auth/ABDlF_hbHfmW_GUf3jnSDnWZiU9dIMAyks5uniusgaJpZM4X0IfR>
> .
>
"
jhipster/generator-jhipster,"##### **Overview of the feature request**

On slower connections there is a visible flickering of translation-not-found placeholder text, as you can see it here https://gyazo.com/f3e0a76fb66d325e4456d7e66ce8a293 and https://gyazo.com/08867885279c270fa30619d515ef2a3c (React, jhipster 5.50, the latter being prod build)

Adding a class name would allow to hide it, or show the inner text of the Translate component and notify the dev by error notifications that a translation is not found. 

The new pacman loader doesn't fix it, the flickering is still there, same delay actually. 

##### **Motivation for or Use Case**

Looks unprofessional, and a lot of people browse on slower mobile connections. 

-   [x] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/8633#issuecomment-432111608,"Yes, we need to fix it. Adding the class needs to be done in the
react-jhipster lib, anybody willing to PR? But it won't work for
placeholders. Another option is to pass empty string as message in prod
profile and keep the current message only in dev

On Mon, 22 Oct 2018, 8:11 pm Pascal Grimaud, <notifications@github.com>
wrote:

> I already saw this, when working on Protractor tests with React, so I
> confirm this issue
>
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/jhipster/generator-jhipster/issues/8633#issuecomment-431919939>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ABDlF8a2nsm3HFVwRhIujGnD0idFdhyWks5ungpIgaJpZM4XzgzK>
> .
>
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Yarn install is skipped in gitlab ci and dependencies are not installed.
```
Running with gitlab-runner 11.4.0-rc1 (1ff344e1)
  on docker-auto-scale ed2dce3a
Using Docker executor with image jhipster/jhipster:v5.5.0 ...
Pulling docker image jhipster/jhipster:v5.5.0 ...
Using docker image sha256:8340a3f99511000b1424af4da1341a18603d9cad1e0e69ef232d5295b97cfe6a for jhipster/jhipster:v5.5.0 ...
Running on runner-ed2dce3a-project-8975696-concurrent-0 via runner-ed2dce3a-srm-1540144153-bfa9144c...
Cloning repository...
Cloning into '/builds/mikke/uustesmi'...
Checking out 84f70af0 as master...
Skipping Git submodules setup
Checking cache for master...
FATAL: file does not exist                         
Failed to extract cache
$ export GRADLE_USER_HOME=`pwd`/.gradle
$ ./gradlew yarn_install -PnodeInstall --no-daemon
Downloading https://services.gradle.org/distributions/gradle-4.10.2-bin.zip
..........................................................................

Welcome to Gradle 4.10.2!

Here are the highlights of this release:
 - Incremental Java compilation by default
 - Periodic Gradle caches cleanup
 - Gradle Kotlin DSL 1.0-RC6
 - Nested included builds
 - SNAPSHOT plugin versions in the `plugins {}` block

For more details see https://docs.gradle.org/4.10.2/release-notes.html

> Task :nodeSetup

> Task :yarnSetup
/builds/mikke/uustesmi/.gradle/yarn/yarn-v1.10.1/bin/yarn -> /builds/mikke/uustesmi/.gradle/yarn/yarn-v1.10.1/lib/node_modules/yarn/bin/yarn.js
/builds/mikke/uustesmi/.gradle/yarn/yarn-v1.10.1/bin/yarnpkg -> /builds/mikke/uustesmi/.gradle/yarn/yarn-v1.10.1/lib/node_modules/yarn/bin/yarn.js
+ yarn@1.10.1
added 1 package in 0.547s

> Task :yarn_install SKIPPED

BUILD SUCCESSFUL in 51s
2 actionable tasks: 2 executed
$ ./gradlew compileJava -x check -PnodeInstall --no-daemon
> Task :cleanResources UP-TO-DATE
> Task :bootBuildInfo
> Task :nodeSetup UP-TO-DATE
> Task :yarnSetup UP-TO-DATE
> Task :yarn_install SKIPPED

> Task :webpackBuildDev FAILED
yarn run v1.10.1
$ yarn run cleanup && yarn run webpack:build:main
$ rimraf build/www
/bin/sh: 1: rimraf: not found
error Command failed with exit code 127.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':webpackBuildDev'.
> Process 'command '/builds/mikke/uustesmi/.gradle/yarn/yarn-v1.10.1/bin/yarn'' finished with non-zero exit value 1

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 12s
5 actionable tasks: 2 executed, 3 up-to-date
ERROR: Job failed: exit code 1
```

##### **Motivation for or Use Case**

Updated the application for 5.5.0 and now gitlab builds are failing without adding manual yarn command to gitlab configuration.

##### **Reproduce the error**

1. Create monolith application with yarn  and gradle
2. Generate gitlab configuration with `jhipster ci-cd`
3. Push repo to gitlab

##### **Related issues**

Not found

##### **JHipster Version(s)**

5.5.0. Worked at least with 5.1.0

##### **JHipster configuration**

Reproduces with generated application without changes

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8626#issuecomment-431701035,"@atomfrede : to reproduce the issue easily:

```
git clone https://gitlab.com/pascalgrimaud/jhipster181021
cd jhipster181021
./gradlew yarn_install -PnodeInstall --no-daemon
```

Then, I don't see `node_modules` folder. Is it normal ? Sorry, I don't use gradle enough to remember all commands"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug or feature request, if an error is being thrown a stack trace helps -->
When you specify a table name for an entity, that table name should be used to generate restrictions (foreign keys, for example) and join tables (if they are needed).

##### **Motivation for or Use Case**

<!-- Explain why this is a bug or a new feature for you -->
I'm using Oracle as production database.  I know there are length restrictions in the table, restrictions... that Oracle can handle.  I know that I can specify the table name for my Entities so I use that to short my table names.

The problem is that I can't specify the names for the generated restrictions and those are based on Entity names (and ignore the specified table names).  This cause collisions in fk names cause truncated names for Oracle (if the name of the entities has similar stating name).

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
Generate application from this Model.jdl
```
application {
  config {
    applicationType monolith
	authenticationType jwt
    baseName demo
	buildTool maven
	cacheProvider hazelcast
	clientFramework angularX
	clientPackageManager npm
	databaseType sql
	devDatabaseType h2Disk
	enableHibernateCache true
	enableSwaggerCodegen false
	enableTranslation true
	jhiPrefix auto
	languages [en]
	messageBroker false
	nativeLanguage en
	packageName com.company.demo
	prodDatabaseType oracle
	searchEngine false
	serverPort 8080
	serviceDiscoveryType no
	skipClient false
	skipServer false
	skipUserManagement false
	testFrameworks []
	useSass false
	websocket false
  }
  entities *
}

entity MyLongNamedEntityOne (mlneo) {
    field1 String maxlength(4000),
    field2 Integer required
}

entity MyLongNamedEntityTwo (mlnet) {
    field1 String maxlength(4000),
    field2 Integer required
}

entity MyLongNamedAgregatedEntity (mlnae) {

}

relationship ManyToOne {
	MyLongNamedAgregatedEntity {myLongNamedEntityOne required} to MyLongNamedEntityOne,
	MyLongNamedAgregatedEntity {myLongNamedEntityTwo} to MyLongNamedEntityTwo
}
```
You get the following warnigs in generator:
```bash
WARNING! The generated constraint name ""fk_my_long_named_agregated_entity_my_long_named_entity_one"" is too long for Oracle (which has a 30 characters limit). It will be truncated!
WARNING! The generated constraint name ""fk_my_long_named_agregated_entity_my_long_named_entity_two"" is too long for Oracle (which has a 30 characters limit). It will be truncated!
WARNING! The generated join table ""my_long_named_agregated_entity_my_long_named_entity_one"" is too long for Oracle (which has a 30 characters limit). It will be truncated!
WARNING! The generated join table ""my_long_named_agregated_entity_my_long_named_entity_two"" is too long for Oracle (which has a 30 characters limit). It will be truncated!
```
**Question**:  Why the warning about join table names, as those are not going to be generated (cause not needed)?

If you review the generated liquibase changelog file for MyLongNamedAgregatedEntity:
```xml
<?xml version=""1.0"" encoding=""utf-8""?>
<databaseChangeLog
    xmlns=""http://www.liquibase.org/xml/ns/dbchangelog""
    xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
    xsi:schemaLocation=""http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd"">
    <!--
        Added the constraints for entity MyLongNamedAgregatedEntity.
    -->
    <changeSet id=""20181019081551-2"" author=""jhipster"">
        
        <addForeignKeyConstraint baseColumnNames=""my_long_named_entity_one_id""
                                 baseTableName=""mlnae""
                                 constraintName=""my_long_named__my_long_name_id""
                                 referencedColumnNames=""id""
                                 referencedTableName=""mlneo""/>

        <addForeignKeyConstraint baseColumnNames=""my_long_named_entity_two_id""
                                 baseTableName=""mlnae""
                                 constraintName=""my_long_named__my_long_name_id""
                                 referencedColumnNames=""id""
                                 referencedTableName=""mlnet""/>

    </changeSet>
</databaseChangeLog>
```

You can see that there is a constraint name collision **my_long_named__my_long_name_id**.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
#6006
#3723
#3839
#3881

##### **Suggest a Fix**

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->
I you specify a table name that should be used to generate the constraint name.
It should be **great** If you could specify the restriction name (similar to specify the table name).  For example, something like this:
```
relationship ManyToOne {
	MyLongNamedAgregatedEntity {myLongNamedEntityOne required} to MyLongNamedEntityOne (fk_mlnae_mlneo_id),
	MyLongNamedAgregatedEntity {myLongNamedEntityTwo} to MyLongNamedEntityTwo (fk_mlnae_mlnet_id)
}
```

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
5.5.0

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->
Using JHipster version installed globally
Executing jhipster:info
Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
demo@0.0.0 /media/data/rubensa/development/vscode/workspace/autotriaje/pruebas
‚îî‚îÄ‚îÄ generator-jhipster@5.5.0

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""clientPackageManager"": ""npm"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""enableHibernateCache"": true,
    ""enableSwaggerCodegen"": false,
    ""enableTranslation"": true,
    ""jhiPrefix"": ""auto"",
    ""languages"": [
      ""en""
    ],
    ""messageBroker"": false,
    ""nativeLanguage"": ""en"",
    ""packageName"": ""com.company.demo"",
    ""packageFolder"": ""com/company/demo"",
    ""prodDatabaseType"": ""oracle"",
    ""searchEngine"": false,
    ""serviceDiscoveryType"": false,
    ""skipClient"": false,
    ""skipServer"": false,
    ""testFrameworks"": [],
    ""websocket"": false,
    ""applicationType"": ""monolith"",
    ""authenticationType"": ""jwt"",
    ""baseName"": ""demo"",
    ""buildTool"": ""maven"",
    ""cacheProvider"": ""hazelcast"",
    ""clientFramework"": ""angularX"",
    ""serverPort"": ""8080"",
    ""skipUserManagement"": false,
    ""useSass"": false,
    ""jhipsterVersion"": ""5.5.0"",
    ""jwtSecretKey"": """"
  },
  ""entities"": [
    ""MyLongNamedEntityOne"",
    ""MyLongNamedEntityTwo"",
    ""MyLongNamedAgregatedEntity""
  ]
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity MyLongNamedEntityOne (mlneo) {
  field1 String maxlength(4000),
  field2 Integer required
}
entity MyLongNamedEntityTwo (mlnet) {
  field1 String maxlength(4000),
  field2 Integer required
}
entity MyLongNamedAgregatedEntity (mlnae)
relationship ManyToOne {
  MyLongNamedAgregatedEntity{myLongNamedEntityOne required} to MyLongNamedEntityOne,
  MyLongNamedAgregatedEntity{myLongNamedEntityTwo} to MyLongNamedEntityTwo
}


</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.17.1

node: v8.11.3

npm: 5.6.0

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.21.2, build a133471

Congratulations, JHipster execution is complete!


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->
**MyLongNamedAgregatedEntity.json**
```json
{
    ""name"": ""MyLongNamedAgregatedEntity"",
    ""fields"": [],
    ""relationships"": [
        {
            ""relationshipType"": ""many-to-one"",
            ""relationshipValidateRules"": ""required"",
            ""relationshipName"": ""myLongNamedEntityOne"",
            ""otherEntityName"": ""myLongNamedEntityOne"",
            ""otherEntityField"": ""id""
        },
        {
            ""relationshipType"": ""many-to-one"",
            ""relationshipName"": ""myLongNamedEntityTwo"",
            ""otherEntityName"": ""myLongNamedEntityTwo"",
            ""otherEntityField"": ""id""
        }
    ],
    ""changelogDate"": ""20181019081551"",
    ""entityTableName"": ""mlnae"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": [
        ""demo""
    ]
}
```

**MyLongNamedEntityOne.json**
```json
{
    ""name"": ""MyLongNamedEntityOne"",
    ""fields"": [
        {
            ""fieldName"": ""field1"",
            ""fieldType"": ""String"",
            ""fieldValidateRules"": [
                ""maxlength""
            ],
            ""fieldValidateRulesMaxlength"": 4000
        },
        {
            ""fieldName"": ""field2"",
            ""fieldType"": ""Integer"",
            ""fieldValidateRules"": [
                ""required""
            ]
        }
    ],
    ""relationships"": [],
    ""changelogDate"": ""20181019081549"",
    ""entityTableName"": ""mlneo"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": [
        ""demo""
    ]
}
```
**MyLongNamedEntityTwo.json**
```json
{
    ""name"": ""MyLongNamedEntityTwo"",
    ""fields"": [
        {
            ""fieldName"": ""field1"",
            ""fieldType"": ""String"",
            ""fieldValidateRules"": [
                ""maxlength""
            ],
            ""fieldValidateRulesMaxlength"": 4000
        },
        {
            ""fieldName"": ""field2"",
            ""fieldType"": ""Integer"",
            ""fieldValidateRules"": [
                ""required""
            ]
        }
    ],
    ""relationships"": [],
    ""changelogDate"": ""20181019081550"",
    ""entityTableName"": ""mlnet"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": [
        ""demo""
    ]
}
```

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Linux 4.15.0-36-generic Ubuntu SMP Mon Sep 24 16:19:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8609#issuecomment-431292736,"We used to handle that, but I remember we removed it when Oracle accepted to have bigger names... Which Oracle version are you using?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Upon installing jhipster 5.4.2 (skipping user management):

jhipster --skip-user-management

I get the following error:

ERROR Failed to compile with 1 errors 22:02:12

This relative module was not found:

./user-management in ./src/main/webapp/app/shared/reducers/index.ts ‚úñ ÔΩ¢wdmÔΩ£: 971 modules
ERROR in ./src/main/webapp/app/shared/reducers/index.ts Module not found: Error: Can't resolve './user-management' in '/Users/spasco/code/web/polarisnousers/src/main/webapp/app/shared/reducers' ‚Ñπ ÔΩ¢wdmÔΩ£: Failed to compile.

##### **Motivation for or Use Case**

A JHipster 5.4.2 app does not start with ""--skip-user-management"" enabled.

##### **Reproduce the error**

1. Create a monolithic app with ""jhipster --skip-user-management""
2. Select ""No"" to jhipster registry
3. (for auth) Select JWT auth
4. (for db) Select MongoDB
5. (for cache) Select ""No"" to spring cache
6. (for build) Select Maven
7. (for other technologies) Select API first development
8. (for web framework) Select React
9 (for SaSS) Select Yes
10. (for il8) Select No
11. (for testing) Select Cucumber and Gatling
12. (other generators) Select No
13. (after app is constructed) run .mvnw

The error will show after completing the above.

##### **Related issues**

No similar issue reported before

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

5.4.2

##### **JHipster configuration**

Using JHipster version installed locally in current project's node_modules
Executing jhipster:info
Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
polaris@0.0.0 /Users/spasco/code/web/polarisnousers
‚îî‚îÄ‚îÄ generator-jhipster@5.4.2 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.techrisk.seceng""
    },
    ""jhipsterVersion"": ""5.4.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""polaris"",
    ""packageName"": ""com.techrisk.seceng"",
    ""packageFolder"": ""com/techrisk/seceng"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": true,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""react"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [
      ""gatling"",
      ""cucumber""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.17.1 (Apple Git-112)

node: v8.12.0

npm: 6.4.1

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

Not applicable

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

MacOs

-   [ x ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8549#issuecomment-429404001,"I don't understand [this code](https://github.com/jhipster/generator-jhipster/blob/master/generators/client/templates/react/src/main/webapp/app/shared/reducers/index.ts.ejs#L29-L33) why importing a UserManagementState when skipUserManagement is true ?

"
jhipster/generator-jhipster,"##### **Overview of the feature request**

HTML pushstate has been a long discussion on the JHipster issues thread.
It should be nice to implements it, because it has many advantages for the end users.
May be motivating contribution with a bounty? I can pay from my pocket if necessary.

##### **Motivation for or Use Case**

- SEO and server side rendering

- Using anchors in pages

- Avoiding some tricky Identity provider hacks (tokens are usually returned on the form of anchors)

##### **Related issues or PR**

[list](https://github.com/jhipster/generator-jhipster/issues?utf8=%E2%9C%93&q=pushstate+)

-   [x ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8462#issuecomment-431653713,@Tcharl are you working on this?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Thanks to @hcapitaine for reporting to me this issue.

When the `node_modules/` is missing, you can't package the application with `prod` profile.
The error is:
```
14:57:32 in ~/tmp/01-toto on ÓÇ† master [!?] 
‚ûú mvn clean package -Pprod               
executing mvnw instead of mvn
[WARNING] 
[WARNING] Some problems were encountered while building the effective settings
[WARNING] 'profiles.profile[artifactory].repositories.repository.id' must be unique but found duplicate repository with id snapshots @ /home/pgrimaud/.m2/settings.xml
[WARNING] 
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.galerieslafayette.toto:jhipster >-----------------
[INFO] Building Jhipster 0.0.1-SNAPSHOT
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ jhipster ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:copy-resources (default-resources) @ jhipster ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 15 resources
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ jhipster ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 15 resources
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-versions) @ jhipster ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.2:prepare-agent (pre-unit-tests) @ jhipster ---
[INFO] argLine set to -javaagent:/home/pgrimaud/.m2/repository/org/jacoco/org.jacoco.agent/0.8.2/org.jacoco.agent-0.8.2-runtime.jar=destfile=/home/pgrimaud/tmp/01-toto/target/test-results/coverage/jacoco/jacoco.exec -Djava.security.egd=file:/dev/./urandom -Xmx256m
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.5:revision (default) @ jhipster ---
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.0.5.RELEASE:build-info (default) @ jhipster ---
[INFO] 
[INFO] --- frontend-maven-plugin:1.6:install-node-and-npm (install node and npm) @ jhipster ---
[INFO] Node v8.11.4 is already installed.
[INFO] NPM 6.4.1 is already installed.
[INFO] 
[INFO] --- frontend-maven-plugin:1.6:npm (webpack build dev) @ jhipster ---
[INFO] npm not inheriting proxy config from Maven
[INFO] Running 'npm run webpack:build' in /home/pgrimaud/tmp/01-toto
[INFO] 
[INFO] > jhipster@0.0.0 webpack:build /home/pgrimaud/tmp/01-toto
[INFO] > npm run cleanup && npm run webpack:build:main
[INFO] 
[INFO] 
[INFO] > jhipster@0.0.0 cleanup /home/pgrimaud/tmp/01-toto
[INFO] > rimraf target/{aot,www}
[INFO] 
[ERROR] sh: 1: rimraf: not found
[ERROR] npm ERR! file sh
[ERROR] npm ERR! code ELIFECYCLE
[ERROR] npm ERR! errno ENOENT
[ERROR] npm ERR! syscall spawn
[ERROR] npm ERR! jhipster@0.0.0 cleanup: `rimraf target/{aot,www}`
[ERROR] npm ERR! spawn ENOENT
[ERROR] npm ERR! 
[ERROR] npm ERR! Failed at the jhipster@0.0.0 cleanup script.
[ERROR] npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
[WARNING] npm WARN Local package.json exists, but node_modules missing, did you mean to install?
[ERROR] 
[ERROR] npm ERR! A complete log of this run can be found in:
[ERROR] npm ERR!     /home/pgrimaud/.npm/_logs/2018-09-26T12_57_44_284Z-debug.log
[ERROR] npm ERR! code ELIFECYCLE
[ERROR] npm ERR! errno 1
[ERROR] npm ERR! jhipster@0.0.0 webpack:build: `npm run cleanup && npm run webpack:build:main`
[ERROR] npm ERR! Exit status 1
[ERROR] npm ERR! 
[ERROR] npm ERR! Failed at the jhipster@0.0.0 webpack:build script.
[ERROR] npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
[WARNING] npm WARN Local package.json exists, but node_modules missing, did you mean to install?
[ERROR] 
[ERROR] npm ERR! A complete log of this run can be found in:
[ERROR] npm ERR!     /home/pgrimaud/.npm/_logs/2018-09-26T12_57_44_304Z-debug.log
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.013 s
[INFO] Finished at: 2018-09-26T14:57:44+02:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:npm (webpack build dev) on project jhipster: Failed to run task: 'npm run webpack:build' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
```

##### **Motivation for or Use Case**

We should be able to package in prod, with or without the `node_modules` folder

##### **Reproduce the error**

1) generate a jhipster application with: `jhipster --skip-install` or clone an existing sample
2) launch `mvn clean package -Pprod`

##### **Related issues**

Related to this PR: https://github.com/jhipster/generator-jhipster/pull/8038 when we added `webpack` profile

##### **Suggest a Fix**

Try to add multiple condition for activating this profile:

https://github.com/jhipster/jhipster-sample-app/blob/master/pom.xml#L696-L699

##### **JHipster Version(s)**

Since 5.2.0

‚ûú jhipster info          
Using JHipster version installed globally
Executing jhipster:info
Options: from-cli: true
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
jhipster@0.0.0 /home/pgrimaud/tmp/01-toto
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.galerieslafayette.toto"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.3.4"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.galerieslafayette.toto"",
    ""packageFolder"": ""com/galerieslafayette/toto"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_181""
Java(TM) SE Runtime Environment (build 1.8.0_181-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.19.0

node: v8.12.0

npm: 6.4.1

yeoman: 2.0.2

yarn: 1.9.4

Docker version 18.03.0-ce, build 0520e24

docker-compose version 1.21.2, build a133471

Congratulations, JHipster execution is complete!

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

-   [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8405#issuecomment-425429844,Should we run an `npm install` before building the front with maven ?
jhipster/generator-jhipster,"##### **Overview of the issue**
<!-- Explain the bug, if an error is being thrown a stack trace helps -->
In the React frontend, under *User Management*, when clicking *Create a new user*, the dialog incorrectly prepopulates user property fields with data from the previously edited or previously in-detail-shown user - making creation of a new user impossible.

A workaround is to go back again (which causes `UserManagementUpdate` to dispatch a `RESET` action on `componentWillUnmount()`), then clicking  *Create a new user* again.



##### **Motivation for or Use Case**

Creating a user should always work.

##### **Reproduce the error**
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
* Visit vanilla React-based JHipster frontend. Log in as `admin`. Click *Administration* -> *User Management*.
* Either *view* details of an existing user, then click *Back* ... or *edit* an existing user and click *Save*.
* Now being back in the User management interface, click *Create a new user*.
* The *Create or edit a user* dialog is shown and the route is `/admin/user-management/new`. But data is prefilled with data from the previous user, making creation of a new user impossible - as also the ID property is prepopulated - which isn't allowed for new users.

##### **Related issues**
No.


##### **Suggest a Fix**
The problem is that the user edit dialog and user creation dialog both use the `UserManagementUpdate` component. This component uses the Redux state `{user} : UserManagementState`. This state is also handled by  `UserManagementDetail`.

##### **JHipster Version(s)**
generator-jhipster@5.3.1. I don't know if this is a regression.

##### **JHipster configuration**
```
<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.example"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.3.1"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""tagadata"",
    ""packageName"": ""com.example"",
    ""packageFolder"": ""com/example"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""xxx"",
    ""clientFramework"": ""react"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [
      ""cucumber"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""de""
    ]
  }
}
</pre>
</details>
```

##### **Browsers and Operating System**
Windows 7. Problem occurs at least in Chrome and Firefox, but problem is related to generated React codebase.

- [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/8302#issuecomment-420907306,would you be willing to make a PR? the solution would be to always fire a reset during create in the mount step
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

- [x] Unable to login to the registry
- [ ] Swagger API page doesn't work for microservices on Gateway #8328
- [ ] Swagger API page doesn't work for Gateway and microservices on Registry #8328
- [ ] The logs page on registry doesn't work for Gateway and microservices

<hr>

When I create a MS stack and use docker-compose to run it, there are some issues
1. Unable to login to the registry, it throws an error as below, I think this is after the JJWT upgrade
```
io.jsonwebtoken.security.WeakKeyException: The signing key's size is 376 bits which is not secure enough for the HS512 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS512 MUST have a size >= 512 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class's 'secretKeyFor(SignatureAlgorithm.HS512)' method to create a key guaranteed to be secure enough for HS512.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.

2. The microservices API are not fetched in Swagger, you get `Can't read from server. It may not have the appropriate access-control-origin settings.`

```
##### **Motivation for or Use Case**

Setup should work OOB

##### **Reproduce the error**
Do below steps or clone https://github.com/xebialabs/e-commerce-microservice and build images and run `docker-compose up`
1. create below app configs
2. Generate docker compose sub gen
3. do a `docker-compose up` and try to access mentioned apps/pages

##### **Related issues**

Probabaly related to #8145 


##### **JHipster Version(s)**

master

##### **JHipster configuration**

I havent removed the JWT keys, since its a demo app

#######  Gateway

```

{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.xebialabs.store"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.3.1"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""store"",
    ""packageName"": ""com.xebialabs.store"",
    ""packageFolder"": ""com/xebialabs/store"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""react"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl""
    ]
  }
}
```

###### MS 1

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.xebialabs.notification"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.3.1"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""notification"",
    ""packageName"": ""com.xebialabs.notification"",
    ""packageFolder"": ""com/xebialabs/notification"",
    ""serverPort"": ""8082"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""mongodb"",
    ""devDatabaseType"": ""mongodb"",
    ""prodDatabaseType"": ""mongodb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""NTdlMTRhNzU4YTQ5MDQ0NDczMjJiZjVkM2UwNWI3N2VkZWNiMWI5YzlhZWQyYzlhZGI1Yzk3MDZkZDA2MGIwOWJjNmQxMTYwOWZkM2Y0MzgwYjc4YzIxOWFmNWU1NDBiOTUzMzZkNTNmYmNlMTkzY2RlNjA2Y2JjZWNlMzUwNTc="",
    ""enableTranslation"": true,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl""
    ],
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
```

###### MS 2

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.xebialabs.invoice"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.3.1"",
    ""applicationType"": ""microservice"",
    ""baseName"": ""invoice"",
    ""packageName"": ""com.xebialabs.invoice"",
    ""packageFolder"": ""com/xebialabs/invoice"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""ZTk4MjZjYjg5ODE0NTJlODFiNTlmOTJmZWNkNmY0MTFhYTQ3M2IxYzFkNTMyYmI3MTg0MWNlNDdkYjFlZTAwNzQ2NTBjZGJlZjkyMjYzODhjNWMxY2NiMDEwYTQ5MDM3Y2Y2NTAzOGRhZmFkNDYzZjcyMDIxZDA4ZDEyMzE0ZGQ="",
    ""enableTranslation"": true,
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""clientPackageManager"": ""npm"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl""
    ],
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
```

######  Docker compose
```
{
  ""generator-jhipster"": {
    ""appsFolders"": [
      ""invoice"",
      ""notification"",
      ""online-store""
    ],
    ""directoryPath"": ""../"",
    ""gatewayType"": ""zuul"",
    ""clusteredDbApps"": [],
    ""monitoring"": ""elk"",
    ""consoleOptions"": [],
    ""serviceDiscoveryType"": ""eureka"",
    ""adminPassword"": ""admin"",
    ""jwtSecretKey"": ""YTI0ZDdiZDgzOGY3YzlhOGE3YmU4M2M0MDk4YTg1ODM5ZTYyMWQyMDI5MTA5NTcxMjc3MTMyZWExMjU1MWY3ZmYzMGVkNGYyY2E3ZGM5NTY4MWE3M2JmODExOTU2NDhiNGZmYg==""
  }
}
```


##### **Browsers and Operating System**

Chrome on Linux (Fedora 28)

- [ ] Checking this box is mandatory (this is just to show you read everything)


",https://github.com/jhipster/generator-jhipster/issues/8301#issuecomment-420656182,"I'm on it, but I can already tell you that the error message at the end of the JHipster Registry log is a bug, and is already fixed in master. You can safely ignore it.

Does it work without Docker Compose?"
jhipster/generator-jhipster,"When selecting 'No service discovery' for option 'Which service discovery server do you want to use?' there are missing classes needed for test classes that are generated.
Test Classes generated with errors:

1. CookieTokenExtractorTest is missing CookieTokenExtractor.java

2. OAuth2AuthenticationServiceTest  is missing:
 - OAuth2AuthenticationService
 - OAuth2TokenEndpointClient
 - RefreshTokenFilter
 - OAuth2CookieHelper
 - UaaTokenEndpointClient
 - CookieCollection

3. OAuth2CookieHelperTest is missing OAuth2CookieHelper

##### **JHipster Version(s)**

JHipster 5.3.1

##### **JHipster configuration**

{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""5.3.1"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""ApiGateway"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""uaa"",
    ""uaaBaseName"": ""uaa"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""postgresql"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false
  }
}
</pre>
</details>

##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>
##### **Environment and Tools**

openjdk version ""1.8.0_181""
OpenJDK Runtime Environment (build 1.8.0_181-8u181-b13-0ubuntu0.16.04.1-b13)
OpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)

git version 2.7.4

node: v8.11.4

npm: 5.6.0

yarn: 1.3.2

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.16.1, build 6d1ac21

##### **Browsers and Operating System**
Ubuntu 16.04

",https://github.com/jhipster/generator-jhipster/issues/8297#issuecomment-420559353,"Thanks! In fact, I'm surprised we have that option - having a gateway without a service discovery doesn't make much sense to me. Out of curiosity, why do you need this?

If there's no real use case, we might as well remove the option, that's why I need some feedback on why people need this."
jhipster/generator-jhipster,"##### **Overview of the feature request**
Hi All,
I have just dealing with some problems with Instant fields in entities and values stored in my database.
After some research i found that, in JHipster, we do not specified a time zone in hibernate configuration.
I think, to avoid some problems and have independant time zone application, we should use UTC convention to store timestamps.

##### **Motivation for or Use Case**
The reason why i wrote this request is that in my application i have to inject some datas with UTC date time fields and filter them by date.
Datas are load in Instant object (java.time) and store in timestamp column in a postgres DB.

After some research i feel it will be a better practice to store all timestamps on the UTC Time zone (well UTC is not really a time zone [as GMT is  ](https://www.timeanddate.com/time/gmt-utc-time.html)).

Since UTC is the common time standard across the world i'm sur we should adopt this convention in JHipster. By default hibernate use the JVM time zone.

I made a sample project, get it here (JHipster 5.3.1):
[https://github.com/avdev4j/utcHipster](https://github.com/avdev4j/utcHipster)
the [.yo-rc.json](https://github.com/avdev4j/utcHipster/blob/master/.yo-rc.json)
the [application.yml](https://github.com/avdev4j/utcHipster/blob/master/src/main/resources/config/application.yml)

Solution :
As you can see in my application.yml we just have to add this in JPA part : 

>         properties:
>           hibernate:
>             jdbc:
>                  time_zone: UTC

Then all timestamps will be store in the UTC standard.

Sample taken from this app : (from h2 console)
![instant_with_and_without_utc](https://user-images.githubusercontent.com/37835668/45367579-dc1da700-b5e1-11e8-94da-9f16dca465a1.PNG)


Sources:
[Vlad Mihalcea  - Hibernate Developer Advocate](http://in.relation.to/2016/09/12/jdbc-time-zone-configuration-property/)
[Baeldung](https://www.baeldung.com/hibernate-date-time)
[moelholm.com](https://moelholm.com/2016/11/09/spring-boot-controlling-timezones-with-hibernate/) 

##### **How to test my sample application**
Get it from the git repo, start it and with a tool like postman do:

Add a data (""dateTime"" field is set automatically by Instant.now())
> post /api/myData
> { ""name"": ""test_with_utc""}

Get all datas
> get /api/myData

You can turn off the UTC configuration to see that hibernate will use the JVM time Zone and change the value stored in the 'date_time' column.

##### **Related issues or PR**


- [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8284#issuecomment-420558674,"I agree with you that it's a good practice, but what if users specifically configure their JVM timezone to non UTC and then notice that it's not taken into account in their database. Are you sure everyone will want this ?"
jhipster/generator-jhipster,"
##### **Overview of the issue**

Generated a new JHipster application using v5.3.0 with Elasticsearch

I'm using the same JDL that I used with the previous version of JHipster which worked successfully but could not deploy.

I generate successful. No errors. No problems.

When I open the application and try CRUD with my entities...works normally.

For one of my entities, the Elasticsearch search returns a 500 server error.

Again, this is just after generating the application. I haven't changed anything.

This JDL worked in the last version. The failing entity works fine for all CRUD operations...just throws the error when doing a search. All the other entities work fine doing a search.

The JSON response mentions ""failed to map to source...to class"".

If the line I am searching for has a date field (LocalDate), then I get the error. If the field is empty, then no error. Or if I search in an entity without any date fields, then no error.

I used the sub-generator to remove the date field. Now works as expected...no errors.

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""5.3.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""sfh"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""bXktc2VjcmV0LXRva2VuLXRvLWNoYW5nZS1pbi1wcm9kdWN0aW9uLWFuZC10by1rZWVwLWluLWEtc2VjdXJlLXBsYWNl"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""npm"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""otherModules"": [
      {
        ""name"": ""generator-jhipster-nav-element"",
        ""version"": ""2.0.4""
      }
    ],
    ""enableTranslation"": false,
    ""herokuAppName"": ""rocky-crag-99883""
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Profile {
  firstName String,
  lastName String,
  email String,
  phone String,
  streetAddress String,
  city String,
  state State,
  zipCode String,
  school String,
  major String,
  professionalInterest String,
  describeAcademicFocus TextBlob,
  describeWorkExperience TextBlob,
  describeInternExperience TextBlob,
  describeWorkSkills TextBlob
}
entity Employer {
  employerName String,
  streetAddress String,
  city String,
  state State,
  zipCode String,
  contactName String,
  contactEmail String,
  contactPhone String,
  decription TextBlob
}
entity Job {
  title String,
  profession Profession,
  city String,
  state State,
  zipCode String,
  decription TextBlob,
  workSkills TextBlob,
  startingSalary Integer
}

enum State {
  AL,
  AK,
  AZ,
  AR,
  CA,
  CO,
  CT,
  DE,
  DC,
  FL,
  GA,
  HI,
  ID,
  IL,
  IN,
  IA,
  KS,
  KY,
  LA,
  MD,
  MA,
  MI,
  MN,
  MS,
  MO,
  ME,
  MT,
  NE,
  NV,
  NH,
  NJ,
  NM,
  NY,
  NC,
  ND,
  OH,
  OK,
  OR,
  PA,
  RI,
  SC,
  SD,
  TN,
  TX,
  UT,
  VT,
  VA,
  WA,
  WV,
  WI,
  WY
}

enum Profession {
  BANKING,
  BUSINESS,
  COMMUNINCATIONS,
  LOGISTICS,
  MANUFACTURING,
  FINANCE,
  HEALTHCARE,
  IT,
  INSURANCE,
  RETAIL,
  NONPROFIT
}

relationship OneToOne {
  Profile{user(login)} to User
}
relationship ManyToOne {
  Job{employer(employerName)} to Employer
}

paginate Profile, Employer, Job with pagination
search Profile, Job with elasticsearch

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_172""
Java(TM) SE Runtime Environment (build 1.8.0_172-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)

git version 2.18.0.windows.1

node: v8.11.4

npm: 6.4.1

yeoman: 2.0.5

yarn: 1.9.4

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.22.0, build f46880fe

Congratulations, JHipster execution is complete!

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8222#issuecomment-418670101,"That's weird, I just tested with the `.yo-rc.json` from @ebwwmd and the JDL from @ruddell and I have no problem at all...

I'm using the embedded Elasticsearch in dev mode, maybe you run it differently?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Running `./gradlew -Pprod clean test sonarqube` does not seem to pick up the jest coverage

##### **Motivation for or Use Case**

I'd like to report code coverage for the UI

##### **Reproduce the error**

Running `./gradlew -Pprod clean test sonarqube`  does not report the jest coverage to sonarqube, only the java coverage

##### **Related issues**

I think this might be related to:
* https://github.com/jhipster/generator-jhipster/pull/7646
* https://github.com/jhipster/generator-jhipster/pull/7812

They added configuration to mvn, but I don't see a similar gradle change

##### **Suggest a Fix**

##### **JHipster Version(s)**

5.2.0

##### **JHipster configuration**

```{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.2.0"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""buildTool"": ""gradle"",
    ""enableSwaggerCodegen"": true,
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""cucumber"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
```

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

Win 10

- [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8220#issuecomment-418428154,"Indeed, nothing has been done for Gradle.
Do you know how to fix it ? "
jhipster/generator-jhipster,"##### **Overview of the feature request**

Be able to return only a count by criteria, very similar to ""findByCriteria"" in QueryService and  ""getAllXXXXXX"" in resource.

I have this feature in my apps for long time now but jHipster does not offer it by default which it could I think.
I looks like:
```
    /**
     * GET  /my-entities/count : count all the my-entities.
     *
     * @param criteria the criterias which the requested entities should match
     * @return the ResponseEntity with status 200 (OK) and the count in body
     */
    @GetMapping(""/my-entities/count"")
    @Timed
    public ResponseEntity<Long> countAllMyEntities(MyEntityCriteria criteria) {
        log.debug(""REST request to count myEntities by criteria: {}"", criteria);
        return ResponseEntity.ok(myEntityQueryService.countByCriteria(criteria));
    }
```

and

```
    /**
     * Return a count which matches the criteria from the database
     * @param criteria The object which holds all the filters, which the entities should match.
     * @return the count of matching entities.
     */
    @Transactional(readOnly = true)
    public long countByCriteria(MyEntityCriteria criteria) {
        log.debug(""count by criteria : {}"", criteria);
        final Specification<MyEntity> specification = createSpecification(criteria);
        return myEntityRepository.count(specification);
    }
```

##### **Motivation for or Use Case**

Enable count by default as a feature

##### **Related issues or PR**

None

- [x] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/8214#issuecomment-421066998,"Thanks @Blackdread - but for this to work you always need service + DTOs ? I'm worried that otherwise we wouldn't have the same API for people who don't use a service layer. That also would mean you can't use this in the UI, so the code won't be used after generation (people could use it, but by default it's ""dead code"") -> I'm adding ""needs-discussion"" for this.

Just in case we do this, as this is your code that you contribute to the project, and that looks like a good idea, I'm adding a $100 bounty to this code, and I assign the ticket to you (so you normally get the money, of course)."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
Jhipster 5.3.0 : After generating a UAA service with couchbase, service wont start using ./gradlew
<!-- Explain the bug, if an error is being thrown a stack trace helps -->


./gradlew

FAILURE: Build failed with an exception.

* Where:
Build file '/home/project/uaa-srv/build.gradle' line: 207

* What went wrong:
A problem occurred evaluating root project 'uaa'.
> Could not find method liquibaseRuntime() for arguments [com.h2database:h2] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.


##### **Motivation for or Use Case**
UAA service with couchbase
<!-- Explain why this is a bug for you -->


##### **Reproduce the error**
generate a uaa service with couchbase and gradle and start service running ./gradlew
<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
5.3.0
##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8211#issuecomment-418217687,Can you please post your `.yo-rc.json` config for the UAA?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Each generated project by JHipster indirectly declares a dependency to org.json:json that [is considered non-free](https://wiki.debian.org/qa.debian.org/jsonevil) because of its license clause ""The Software shall be used for Good, not Evil.""

##### **Motivation for or Use Case**

This org.json:json dependency is pulled by com.fasterxml.jackson.datatype:jackson-datatype-json-org that adds support for org.json data types.
Since these date types are not used in JHipster, there's no reason to keep this dependency in default generated project (it has been added 5 years ago).

##### **Reproduce the error**

Generate a JHipster project and check pom.xml or build.gradle

##### **Related issues**

None found.

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

5.2.1

##### **JHipster configuration**

Not relevant.

##### **Browsers and Operating System**

Windows 10

- [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/8206#issuecomment-418115264,"You are totally right about the license...

- It is here: https://github.com/stleary/JSON-java/blob/master/LICENSE
- And there's some stupid text about it in the readme at https://github.com/stleary/JSON-java

And who decides what is good or evil? That depends on the country, on the period in time? What a lot of bullshit. I'm really angry, because that's a huge issue, for a lot of people, and one of our goals is also to protect our users from this kind of wrong doing (yes, for me that license itself is evil).

So big +1 from me to remove this, but we really need to be sure those are not used anywhere (or we'll need to find some Open Source alternative)."
jhipster/generator-jhipster,"Hello team,

With microservices applications and the **gateway** in Jhipster v5.2.1 (maybe older v5 also) when the server http compression is enabled (ex. with prod profil),  the response of an request after `Zull Filter` and `SwaggerBasePathRewritingFilter `the **Content-type** is '**gzip**' but the content is **decompressed**.

Note: spring-cloud-netflix-zuul alway send the Accept-Encoding to 'gzip' : [ProxyRequestHelper](https://github.com/spring-cloud/spring-cloud-netflix/blob/master/spring-cloud-netflix-zuul/src/main/java/org/springframework/cloud/netflix/zuul/filters/ProxyRequestHelper.java#L151)

HTTP response from micro app directly : Content-type = content
![curl-app](https://user-images.githubusercontent.com/1721344/44912722-73a21080-ad2b-11e8-9e99-bfb839aa431a.JPG)

HTTP response from app through the gateway : Content-type != content

![curl-gateway-app](https://user-images.githubusercontent.com/1721344/44912723-73a21080-ad2b-11e8-9307-e1a2b05d8627.jpg)


Result browser or http client like Swagger UI failed to decode the content.

Browser:
![browser_failed_decode_contentjpg](https://user-images.githubusercontent.com/1721344/44911649-e7dab500-ad27-11e8-9e9b-8527b617c30c.JPG)

Swagger-UI:
![swagger_error](https://user-images.githubusercontent.com/1721344/44911651-e7dab500-ad27-11e8-9ec3-86d7fa157745.JPG)

(Error message isn't clear. Initially I  was thinking about an CORS issue)

With an gateway in v4 and spring-cloud-netflix-zuul 1.3.5 this issue isn't occure.

I'm not sure where is the root of this issue there is no messages exception.
Maybe in a recent change / fix or new issue in spring-cloud-netflix-zuul and gzip encoding (ex. https://github.com/spring-cloud/spring-cloud-netflix/issues/3122) or an EOF after reading the data stream GZIPInputStream in swagger filter.


However, I find that everything works perfectly if I deactivate the `SwaggerBasePathRewritingFilter` in the `GatewayConfiguration` :

![swagger_ok_with_filter_disabled](https://user-images.githubusercontent.com/1721344/44911648-e7421e80-ad27-11e8-9d95-87ab5c1ec92a.JPG)

![browser_gzipdisabled](https://user-images.githubusercontent.com/1721344/44912545-e363cb80-ad2a-11e8-8ec5-b468bc28e8ee.JPG)


But the HTTP header have also `Content-Encoding: gzip`. 
So I don't understand what's happen and why is working in this case... 


##### **Motivation for or Use Case**

Use Swagger UI and server compression enabled

##### **Reproduce the error**

1. Generate a `gateway` and `app` with default options.
2. Run the `app` with prod mode or enable server compression in dev configuration
3. Run the `gateway` (with dev or prod)
4. Open http://localhost:8080/app/v2/api-docs in browser


##### **Related issues**

This https://github.com/jhipster/generator-jhipster/pull/8025 but it's about Spring security not gzip content

##### **Suggest a Fix**

Maybe remove `SwaggerBasePathRewritingFilter`. Is alway useful ?
Force Swagger UI client to set the Accept-Encoding to 'gzip'

##### **JHipster Version(s)**

v5.2.1

##### **JHipster configuration**

Using JHipster version installed locally in current project's node_modules
Executing jhipster:info
Options:
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
gateway@0.0.0 C:\workspace\jhipster\version\v5.2.1\micro\gateway-gzip
`-- generator-jhipster@5.2.1

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""fr.myproject.myapp""
    },
    ""jhipsterVersion"": ""5.2.1"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""packageName"": ""fr.myproject.myapp"",
    ""packageFolder"": ""fr/myproject/myapp"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_151""
Java(TM) SE Runtime Environment (build 1.8.0_151-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)

git version 2.9.3.windows.1

node: v8.11.4

npm: 5.7.1

yeoman: 1.8.5

yarn: 1.9.4

Docker version 18.06.1-ce, build e68fc7a

docker-compose version 1.22.0, build f46880fe


- [x] Checking this box is mandatory (this is just to show you read everything)

yo-rc.json gateway and app1 :
[yo-rc.json.zip](https://github.com/jhipster/generator-jhipster/files/2340072/yo-rc.json.zip)

",https://github.com/jhipster/generator-jhipster/issues/8196#issuecomment-417861498,Hey @ndywicki thanks for such a complete bug report! On a personal note: didn't we work together at the French central bank?
jhipster/generator-jhipster,"Remove CSS option and provide SASS with CSS support as the default. 
This should be fine for new applications
For upgrading apps, generate SCSS and warn the user to choose between existing CSS or new SCSS files based on their preference",https://github.com/jhipster/generator-jhipster/issues/8150#issuecomment-423756244,"@deepu105 When you say ""upgrading apps"" you mean the upgrade sub-gen ?"
jhipster/generator-jhipster,"##### **Overview of the feature request**

As explained in #8146, [no assert](https://github.com/jhipster/generator-jhipster/blob/master/generators/entity-client/templates/angular/src/test/javascript/e2e/entities/entity.spec.ts.ejs#L143) is done for checking that the entity can be displayed after being created.

<!-- Explain the feature request -->

##### **Motivation for or Use Case**

<!-- Explain why this new feature is important for you -->

This is important as we don't detect that an entity can not be displayed in client, an error could be at any of these parts:
- retrieve in the database
- JSON serialization
- Angular/React deserialization
- Angular/React display
- ...

An easy implementation is to check that the number of entities is incremented by 1 after creation (I proposed to do the same for delete: we check the entity list is decremented by 1 after delete).

Although checking the number of line could be not enough, because apparently, we don't switch to the next page after creating the 21st element in a page of 20 elements: a proper way could be to parse the pagination footer and assert that it has be incremented: (`Showing 1 - 20 of 20 items.` ==> `Showing 1 - 20 of 21 items.`)?

##### **Related issues or PR**

<!-- Has a similar feature request been asked for before? Please search both closed & open issues -->

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8147#issuecomment-418257796,"@hdurix : another solution would be to check the `alert` message, and we could try to close it. It will speed up a lot our protractor tests. Could it be possible ?"
jhipster/generator-jhipster,"After a generation with Angular, in Administration > User Management, sorting on columns doesn't change the icon. It stays on:
![image](https://user-images.githubusercontent.com/766263/44231834-aaaaea80-a19f-11e8-9162-facf2092ae22.png), no matter the sorting direction.

An attempt of fix is here (but it is not sufficient, maybe a good start?): https://github.com/jhipster/ng-jhipster/pull/73

The bug appeared after the use of `angular-fontawesome` and/or `fontawesome-svg-core`.
It seems that the underlying svg is not ""re-rendered"" to display the correct icon.
",https://github.com/jhipster/generator-jhipster/issues/8105#issuecomment-419622519,"What is the current status of this issue ? 

@ctamisier Do you have work in progress ? On your side, you just have a problem of rerendered ?

For my part, I just pulled version 5.2.1 and even fa-icon classes are KO.

Step | classes
------------ | -------------
Initialization | ng-fa-icon
1st click on sort | ng-fa-icon fa-sort-up
2nd click on sort | ng-fa-icon fa-sort-up fa-sort-down
... | ng-fa-icon fa-sort-up fa-sort-down

I can look more closely at the problem if nobody has looked at it.
"
jhipster/generator-jhipster,"##### **Overview of the issue**

If you create a microservices architecture with a gateway and apps, you can't navigate to the app's entities from the gateway. When you click on a link in the navbar, it refreshes and goes back to /.

The following error shows in the console:

```
GET http://localhost:8080/management/info 403 (Forbidden)
...
2core.js?09c9:1671 ERROR Error: Uncaught (in promise): HttpErrorResponse: {""headers"":{""normalizedNames"":{},""lazyUpdate"":null},""status"":403,""statusText"":""Forbidden"",""url"":""http://localhost:8080/management/info"",""ok"":false,""name"":""HttpErrorResponse"",""message"":""Http failure response for http://localhost:8080/management/info: 403 Forbidden"",""error"":{""timestamp"":""2018-08-14T01:35:34.297+0000"",""status"":403,""error"":""Forbidden"",""message"":""Forbidden"",""path"":""/management/info""}}
    at resolvePromise (zone.js?d135:814)
    at resolvePromise (zone.js?d135:771)
    at eval (zone.js?d135:873)
    at ZoneDelegate.invokeTask (zone.js?d135:421)
    at Object.onInvokeTask (core.js?09c9:3816)
    at ZoneDelegate.invokeTask (zone.js?d135:420)
    at Zone.runTask (zone.js?d135:188)
    at drainMicroTaskQueue (zone.js?d135:595)
    at ZoneTask.invokeTask [as invoke] (zone.js?d135:500)
    at invokeTask (zone.js?d135:1540)
```

##### **Motivation for or Use Case**

It worked in 5.1.0.

##### **Reproduce the error**

Follow [this tutorial](https://developer.okta.com/blog/2018/03/01/develop-microservices-jhipster-oauth) with 5.2.0.

##### **Suggest a Fix**

In the gateway's `OAuth2SsoConfiguration.java`, add a rule to allow `/management/info`.

```java
            .authorizeRequests()
            .antMatchers(""/api/profile-info"").permitAll()
            .antMatchers(""/api/**"").authenticated()
            .antMatchers(""/management/health"").permitAll()
            .antMatchers(""/management/info"").permitAll()
            .antMatchers(""/management/**"").hasAuthority(AuthoritiesConstants.ADMIN)
            .anyRequest().permitAll();
```

This allows you to navigate to the entity list screen, but doesn't it ends up displaying a 401 and refreshed back to the home screen. I'm not sure why this happens. It doesn't happen in 5.1.0.

[Here's a diff showing what changed in my apps](https://github.com/oktadeveloper/okta-jhipster-microservices-oauth-example/compare/jhipster-v5.1.0...jhipster-v5.2.0) between JHipster 5.1.0 and 5.2.0.

**NOTE:** I'm not sure when we renamed `SecurityConfiguration.java` to `OAuth2SsoConfiguration.java`, but `@EnableOAuth2Sso` will be deprecated and not recommended in Spring Security 5.1. When that's released (late September), we can migrate to its OIDC support and get rid of this annotation. It might not be a big deal if `jhipster upgrade` can handle renaming the file.

##### **JHipster Version(s)**

```
gateway@0.0.0 /home/mraible/dev/okta/okta-jhipster-microservices-oauth-example/gateway
‚îî‚îÄ‚îÄ generator-jhipster@5.2.0 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.okta.developer.gateway"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.1.0"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""gateway"",
    ""packageName"": ""com.okta.developer.gateway"",
    ""packageFolder"": ""com/okta/developer/gateway"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.17.1

node: v8.10.0

npm: 6.3.0

yarn: 1.6.0

Docker version 18.05.0-ce, build f150324

docker-compose version 1.13.0, build 1719ceb

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8092#issuecomment-412869726,Could this be linked to https://github.com/jhipster/generator-jhipster/pull/7960 from @cbornet ?
jhipster/generator-jhipster,"##### **Overview of the issue**

When running ./mvnw liquibase:diff on an oauth project lead to the generation of a constraint between users and authorities (the user_authorities file).

But, as the users do not exist in the database, this lead to a referentialintegrity exception at startup.

Before PRing, I wanted to know why there is a user.csv file while using oauth: aren't they automatically added while login from the OIDC server, also why do the user_authorities table is prepoulated.
Is there a reason?

##### **Motivation for or Use Case**

Avoiding referentialintegrityviolation

##### **Reproduce the error**

Generate an oidc project (in my case a microservice one), launch it (or run verify), run liquibase:diff -Pdev, then start the project.

##### **Related issues**

don't know if there is any

##### **Suggest a Fix**

remove user_authority.csv file when using oauth, and maybe users.csv.

##### **JHipster Version(s)**

5.0.1 at least

##### **JHipster configuration**
```

‚îú‚îÄ‚îÄ generator-jhipster@5.0.1 
‚îú‚îÄ‚î¨ generator-jhipster-elasticsearch-reindexer@1.1.0
‚îÇ ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4 
‚îú‚îÄ‚î¨ generator-jhipster-enterprise-pom@0.0.5
‚îÇ ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4 
‚îî‚îÄ‚î¨ generator-jhipster-spring-cloud-stream@0.0.2
  ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""xxx.marketplace"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.0.1"",
    ""baseName"": ""marketplace"",
    ""packageName"": ""xxx.marketplace"",
    ""packageFolder"": ""xxx/marketplace"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""eureka"",
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""enableTranslation"": true,
    ""applicationType"": ""microservice"",
    ""testFrameworks"": [
      ""cucumber""
    ],
    ""jhiPrefix"": ""jhi"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fr""
    ],
    ""otherModules"": [
      {
        ""name"": ""generator-jhipster-elasticsearch-reindexer"",
        ""version"": ""1.1.0""
      },
      {
        ""name"": ""generator-jhipster-enterprise-pom"",
        ""version"": ""0.0.5""
      },
      {
        ""name"": ""generator-jhipster-spring-cloud-stream"",
        ""version"": ""0.0.2""
      }
    ],
    ""clientPackageManager"": ""yarn"",
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}

</pre>
</details>
##### **Environment and Tools**

java version ""1.8.0_161""
Java(TM) SE Runtime Environment (build 1.8.0_161-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)

git version 2.18.0

node: v8.11.3

npm: 5.6.0

yeoman: 1.8.5

yarn: 1.5.1

Docker version 18.03.1-ce, build 9ee9f40

docker-compose version 1.21.1, build 5a3f1a3

```

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

N/A

##### **Browsers and Operating System**
Chrome, but is it important?



- [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8018#issuecomment-407416623,"The authorities table should be pre-populated because JHipster hard-codes the ROLE_ADMIN and ROLE_USER values in the UI code. If you‚Äôre saying the certain usernames to certain roles is also pre-populated, that‚Äôs probably not necessary for OAuth.

> On Jul 24, 2018, at 15:32, Charlie Mordant <notifications@github.com> wrote:
> 
> Overview of the issue
> 
> When running ./mvnw liquibase:diff on an oauth project lead to the generation of a constraint between users and authorities (the user_authorities file).
> 
> But, as the users do not exist in the database, this lead to a referentialintegrity exception at startup.
> 
> Before PRing, I wanted to know why there is a user.csv file while using oauth: aren't they automatically added while login from the OIDC server, also why do the user_authorities table is prepoulated.
> Is there a reason?
> 
> Motivation for or Use Case
> 
> Avoiding referentialintegrityviolation
> 
> Reproduce the error
> 
> Generate an oidc project (in my case a microservice one), launch it (or run verify), run liquibase:diff -Pdev, then start the project.
> 
> Related issues
> 
> don't know if there is any
> 
> Suggest a Fix
> 
> remove user_authority.csv file when using oauth, and maybe users.csv.
> 
> JHipster Version(s)
> 
> 5.0.1 at least
> 
> JHipster configuration
> 
> ‚îú‚îÄ‚îÄ generator-jhipster@5.0.1
> ‚îú‚îÄ‚î¨ generator-jhipster-elasticsearch-reindexer@1.1.0
> ‚îÇ ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4
> ‚îú‚îÄ‚î¨ generator-jhipster-enterprise-pom@0.0.5
> ‚îÇ ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4
> ‚îî‚îÄ‚î¨ generator-jhipster-spring-cloud-stream@0.0.2
> ‚îî‚îÄ‚îÄ generator-jhipster@4.14.4
> 
> 
> 
> ##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**
> 
> 
> <details>
> <summary>.yo-rc.json file</summary>
> <pre>
> {
>   ""generator-jhipster"": {
>     ""promptValues"": {
>       ""packageName"": ""xxx.marketplace"",
>       ""nativeLanguage"": ""en""
>     },
>     ""jhipsterVersion"": ""5.0.1"",
>     ""baseName"": ""marketplace"",
>     ""packageName"": ""xxx.marketplace"",
>     ""packageFolder"": ""xxx/marketplace"",
>     ""serverPort"": ""8081"",
>     ""authenticationType"": ""oauth2"",
>     ""cacheProvider"": ""hazelcast"",
>     ""enableHibernateCache"": true,
>     ""websocket"": false,
>     ""databaseType"": ""sql"",
>     ""devDatabaseType"": ""h2Disk"",
>     ""prodDatabaseType"": ""mysql"",
>     ""searchEngine"": ""elasticsearch"",
>     ""messageBroker"": false,
>     ""serviceDiscoveryType"": ""eureka"",
>     ""buildTool"": ""maven"",
>     ""enableSwaggerCodegen"": false,
>     ""jwtSecretKey"": ""replaced-by-jhipster-info"",
>     ""enableTranslation"": true,
>     ""applicationType"": ""microservice"",
>     ""testFrameworks"": [
>       ""cucumber""
>     ],
>     ""jhiPrefix"": ""jhi"",
>     ""nativeLanguage"": ""en"",
>     ""languages"": [
>       ""en"",
>       ""fr""
>     ],
>     ""otherModules"": [
>       {
>         ""name"": ""generator-jhipster-elasticsearch-reindexer"",
>         ""version"": ""1.1.0""
>       },
>       {
>         ""name"": ""generator-jhipster-enterprise-pom"",
>         ""version"": ""0.0.5""
>       },
>       {
>         ""name"": ""generator-jhipster-spring-cloud-stream"",
>         ""version"": ""0.0.2""
>       }
>     ],
>     ""clientPackageManager"": ""yarn"",
>     ""skipClient"": true,
>     ""skipUserManagement"": true
>   }
> }
> 
> </pre>
> </details>
> 
> 
> 
> ##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
> 
> N/A
> 
> ##### **Browsers and Operating System**
> Chrome, but is it important?
> 
> 
> 
> - [ ] Checking this box is mandatory (this is just to show you read everything)
> 
> <!-- Love JHipster? Please consider supporting our collective:
> üëâ  https://opencollective.com/generator-jhipster/donate -->
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub, or mute the thread.
"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

I generated jhipster 5.1.0 + react application and can not build it on my pc.

```
\node_modules\webpack-cli\bin\cli.js:244
[ERROR]                                 throw err;
[ERROR]                                 ^
[ERROR]
[ERROR] Error: MomentLocalesPlugin: Moment.js doesn–≤??t include a locale you specified: ua. Check the plugin–≤??s `locale
sToKeep` option.
[ERROR] You can see the full list of locales that Moment.js includes in node_modules/moment/locale/
[ERROR]     at normalizeLocalesToKeep (C:\Users\user\Documents\project java\jobsviewer\node_modules\moment-local
es-webpack-plugin\index.js:67:15)
[ERROR]     at checkOptions (C:\Users\user\Documents\project java\jobsviewer\node_modules\moment-locales-webpack
-plugin\index.js:31:25)
[
```

##### **Motivation for or Use Case**

I think it happened because of my locale ua.

##### **Reproduce the error**

Generate jhipster 5.1.0 + react application. Setup locale ua. Try to build war file.

##### **Related issues**

https://github.com/moment/moment/issues/2979

##### **Suggest a Fix**

Add somme dependency to javascript modules.

##### **JHipster Version(s)**

5.1.0

##### **JHipster configuration**

{
  ""generator-jhipster"": {
    ""applicationType"": ""monolith"",
    ""gitCompany"": """",
    ""baseName"": ""jobsviewer"",
    ""packageName"": ""io.github.jhipster.application"",
    ""packageFolder"": ""io/github/jhipster/application"",
    ""serverPort"": 8080,
    ""serviceDiscoveryType"": false,
    ""authenticationType"": ""jwt"",
    ""uaaBaseName"": ""../uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""enableSwaggerCodegen"": false,
    ""messageBroker"": false,
    ""buildTool"": ""maven"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""gatling""
    ],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""ru"",
    ""languages"": [
      ""ua"",
      ""ru""
    ],
    ""clientFramework"": ""react"",
    ""jhiPrefix"": ""jhi""
  },
  ""git-provider"": ""GitLab"",
  ""git-company"": ""javadev"",
  ""repository-name"": ""jobsviewer""
}

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

##### **Browsers and Operating System**

Windows 10 64 bit.

- [x] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/8012#issuecomment-407375952,"@javadev Could you submit a PR to fix this, so that other Ukrainian users won't have the bug. Maybe we can patch this method: https://github.com/jhipster/generator-jhipster/blob/d237bd8a56521826482c0c28f3679bfaa4f7b169/generators/generator-base-private.js#L269

Or maybe the *UA* locale should be renamed *UK* ?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

i am trying to generate a jhipster app with ""--skip-server"" option (server was generated separately). but the generator fails with a TypeError as shown below:

```
D:\data\projects\xxxxxx\gw\client>jhipster app --skip-server --db xxxxxx --jhi-prefix zzz --npm --auth uaa
Using JHipster version installed globally
Executing jhipster:app
Options: skipServer: true, db: xxxxxx , jhiPrefix: zzz, npm: true, auth: uaa, skip-server: true, jhi-prefix: zzz

Welcome to JHipster v5.1.0

? What is the base name of your application? xxxxxx
? Which *Framework* would you like to use for the client? React
? Would you like to enable *SASS* support using the LibSass stylesheet preprocessor? No
? Would you like to enable internationalization support? No
? Besides JUnit and Jest, which testing frameworks would you like to use? Protractor
? Would you like to install other generators from the JHipster Marketplace? No
events.js:165
      throw er; // Unhandled 'error' event
      ^

TypeError: Cannot read property 'toLowerCase' of undefined
    at module.exports.getSharedConfigOptions (C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\generator-jhipster\generators\client\index.js:382:94)
    at Object.<anonymous> (C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\generator-jhipster\node_modules\yeoman-generator\lib\index.js:399:25)
    at C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\run-async\index.js:25:25
    at new Promise (<anonymous>)
    at C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\run-async\index.js:24:19
    at self.env.runLoop.add.completed (C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\generator-jhipster\node_modules\yeoman-generator\lib\index.js:400:11)
    at runCallback (timers.js:763:18)
    at tryOnImmediate (timers.js:734:5)
    at processImmediate (timers.js:716:5)
Emitted 'error' event at:
    at Immediate.setImmediate (C:\Users\yyyyyy\AppData\Local\Yarn\Data\global\node_modules\generator-jhipster\node_modules\yeoman-generator\lib\index.js:406:18)
    at runCallback (timers.js:763:18)
    at tryOnImmediate (timers.js:734:5)
    at processImmediate (timers.js:716:5)
```
##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
i am unable to generate an app with --skip-server option

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->
see above
##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
search did not reveal any similar issues

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
JHipster 5.1.0
##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->
.yo-rc.json was not generated due to above bug.

jhipster info
Using JHipster version installed globally
Executing jhipster:info
Options:
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
D:\data\projects\xxxxxxx\gw\client
`-- (empty)

```

cat: no such file or directory: .yo-rc.json

##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>

</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.16.1.windows.1

node: v9.8.0
npm: 5.6.0

yeoman: 2.0.4

yarn: 1.7.0

Docker version 18.01.0-ce, build 03596f51b1

docker-compose version 1.18.0, build 8dd22a9

Congratulations, JHipster execution is complete!

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10. 
- [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/8002#issuecomment-409587161,@nagarajasr can you test the PR to see if its fixes the issue for you?
jhipster/generator-jhipster,"##### **Overview of the feature request**

Swagger UI very old version (2.2.10) is used which does not provide the support for Open API

##### **Motivation for or Use Case**

Open API support

",https://github.com/jhipster/generator-jhipster/issues/7966#issuecomment-404921438,"Indeed, Springfox doesn‚Äôt support OpenAPI yet. We didn‚Äôt migrate to the new UI at the time because there was no easy way to pass the auth token. It seems there are solutions now. But do we want to move to the new UI ? I‚Äôm not sure I prefer it over the current one :smile:"
jhipster/generator-jhipster,"##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

This bug concern the multi select in react. I created 2 entities, book and author, and a many-to-many relationship between these two entities. When I try to create a book, I can't select the authors I want to associate to this book. I think the error is coming from (not ?) parsing the option id in authorsUpdate (<%= relationshipFieldName %>Update) from string to number in the book-update.tsx (entity-update.tsx.ejs).  

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
Same as the previous section.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

1. Create a JHipster application with Jhipster v5.0.2 with the enclosed .yo-rc.json
2. Import the enclosed jdl file with the two entities
3. Create one or two basic authors
4. Try to create a book in relation to an author

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
I don't think there was a similar issue reported before.
 
##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

I fixed my issue by changing the line 67 in my book-update.tsx file (on line 213 in entity-update.tsx.ejs) from : 
`const selected = Array.from(element.target.selectedOptions).map((e: any) => e.value, 10);`
to : 
`const selected = Array.from(element.target.selectedOptions).map((e: any) => parseInt(e.value, 10));`

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
Jhipster v5.0.2

##### **JHipster configuration**

**`jhipster info` :**

Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
test-jh-5@0.0.0 /Users/clementdessoude/Documents/Personal/Dev/testJ5
‚îî‚îÄ‚îÄ generator-jhipster@5.0.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.jhipster.test"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.0.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""test-jh5"",
    ""packageName"": ""com.jhipster.test"",
    ""packageFolder"": ""com/jhipster/test"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""react"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""cucumber""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fr""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Book (book) {
  title String,
  publication LocalDate
}
entity Author (author) {
  firstName String,
  lastName String
}
relationship ManyToMany {
  Book{authors} to Author{books}
}


</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_161""
Java(TM) SE Runtime Environment (build 1.8.0_161-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)

git version 2.16.2

node: v10.1.0

npm: 5.6.0

yeoman: 2.0.2

yarn: 1.6.0

Docker version 18.03.1-ce, build 9ee9f40

docker-compose version 1.21.0, build 5920eb0

Congratulations, JHipster execution is complete!
##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

**Book entity :** 
{
    ""name"": ""Book"",
    ""fields"": [
        {
            ""fieldName"": ""title"",
            ""fieldType"": ""String""
        },
        {
          ""fieldName"": ""publication"",
          ""fieldType"": ""LocalDate""
        }
    ],
    ""relationships"": [
        {
            ""relationshipType"": ""many-to-many"",
            ""otherEntityRelationshipName"": ""books"",
            ""relationshipName"": ""authors"",
            ""otherEntityName"": ""author"",
            ""otherEntityField"": ""id"",
            ""ownerSide"": true
        }
    ],
    ""changelogDate"": ""20180707224958"",
    ""entityTableName"": ""book"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": ""*""
}

**Author entity :** 
{
    ""name"": ""Author"",
    ""fields"": [
        {
            ""fieldName"": ""firstName"",
            ""fieldType"": ""String""
        },
        {
            ""fieldName"": ""lastName"",
            ""fieldType"": ""String""
        }
    ],
    ""relationships"": [
        {
            ""relationshipType"": ""many-to-many"",
            ""relationshipName"": ""books"",
            ""otherEntityName"": ""book"",
            ""ownerSide"": false,
            ""otherEntityRelationshipName"": ""authors""
        }
    ],
    ""changelogDate"": ""20180707224959"",
    ""entityTableName"": ""author"",
    ""dto"": ""no"",
    ""pagination"": ""no"",
    ""service"": ""no"",
    ""jpaMetamodelFiltering"": false,
    ""fluentMethods"": true,
    ""clientRootFolder"": """",
    ""applications"": ""*""
}

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
I'm on macOS High Sierra and found the bug in Google Chrome and Safari.

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7943#issuecomment-403616234,I thought @agaspardcilia or @chrisdns did something around this to fix an issue. Are these related?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
In JHI4 I used this command to build my gradle powered application using 

``` bash
./gradlew -P prod build buildDocker
``` 

which always did a great job, as it calls all required task, running tests and so on.

With JH5 this doesn't work anymore. It looks like h2 is compiled only for the default gradles dev profile, not when prod is enabled.

A workaround to this would be to 

```
./gradlew -x test -P prod build buildDocker
```

or using CI cache/artifacts to do it in several steps, like

```
./gradlew build
./gradlew test
./gradlew -P prod bootWar buildDocker
```

I think, that behavior should not be like this.

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

I want to do an entire build, test, dockerization in one command for the most simple CI/dev setup.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

Generate a (microservice) application with gradle chosen as build-tool. Run the above command and you will see something like this:

```
> Task :compileTestJava FAILED
/home/david/jhipster/samples/bookstore/bookservice/src/test/java/com/mycompany/myapp/config/WebConfigurerTest.java:12: error: package org.h2.server.web does n
ot exist
import org.h2.server.web.WebServlet;
                        ^
/home/david/jhipster/samples/bookstore/bookservice/src/test/java/com/mycompany/myapp/config/WebConfigurerTest.java:78: error: cannot find symbol
        verify(servletContext, never()).addServlet(eq(""H2Console""), any(WebServlet.class));
                                                                        ^
  symbol:   class WebServlet
  location: class WebConfigurerTest
/home/david/jhipster/samples/bookstore/bookservice/src/test/java/com/mycompany/myapp/config/WebConfigurerTest.java:90: error: cannot find symbol
        verify(servletContext).addServlet(eq(""H2Console""), any(WebServlet.class));
                                                               ^
  symbol:   class WebServlet
  location: class WebConfigurerTest
3 

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':compileTestJava'.
> Compilation failed; see the compiler error output for details.

````

##### **Suggest a Fix**

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

The most straightforward one would be include be making h2 compile in general, and not just for dev profile. But this would add h2 to all prod builds as well. 

A better way would be to figure out, how to **not** add h2 in prod, except we are running compileJavaTest

##### **JHipster Version(s)**

JHipster 5.0.1

<!--
Which version of JHipster are you using, is it a regression?
-->

- [X] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/7888#issuecomment-406383973,Did you check what maven is doing? I think I build it the same as in maven :thinking: 
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

After updating JHipster, it seems that you can no longer correctly call the connected microservice APIs.

##### **Reproduce the error**

With JHipster 5 create a Gateway with Okta integration and Angular 6
After that create a microservice.
Connect both of them to a standard JHipster registry.

Tring to make a get to the microservice from swagger interface in the gateway return:

{
  ""type"": ""http://www.jhipster.tech/problem/problem-with-message"",
  ""title"": ""Unauthorized"",
  ""status"": 401,
  ""detail"": ""Full authentication is required to access this resource"",
  ""path"": ""/api/reservations/analytics"",
  ""message"": ""error.http.401""
}

",https://github.com/jhipster/generator-jhipster/issues/7865#issuecomment-400798532,Could you put a more descriptive title?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug, if an error is being thrown a stack trace helps -->
Yarn test fails if the reportPath doesn't exist. The new reporting library, `jest-sonar-reporter` can't create intermediary folders.

```
Test Suites: 10 passed, 10 total
Tests:       84 passed, 84 total
Snapshots:   0 total
Time:        5.465s, estimated 6s
Ran all test suites.
Error: ENOENT: no such file or directory, mkdir 'target/test-results/jest'
    at Object.fs.mkdirSync (fs.js:885:18)
    at module.exports (/home/user/code/jhipster-test/node_modules/jest-sonar-reporter/lib/reporter.js:20:8)
    at processResults (/home/user/code/jhipster-test/node_modules/jest-cli/build/run_jest.js:125:55)
    at /home/user/code/jhipster-test/node_modules/jest-cli/build/run_jest.js:244:12
    at Generator.next (<anonymous>)
    at step (/home/user/code/jhipster-test/node_modules/jest-cli/build/run_jest.js:81:191)
    at /home/user/code/jhipster-test/node_modules/jest-cli/build/run_jest.js:81:361
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
error Command failed with exit code 1.
```
##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->
CI builds fail on error produced.

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

Create new jhipster project using v5.0.0, then
run `yarn test`

alternatively, run ``./mvnw clean && yarn test`

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->
New `jest-sonar-reporter` added in commit e64862 can't create intermediary folders.

##### **Suggest a Fix**

Create the folder  `<%= BUILD_DIR %>test-results/` before running any tests


<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->
Problem exists in v5.0.0

v5.0.0Beta-3 used jest-junit library which did not have this issue

##### **JHipster configuration**

Using JHipster version installed globally
Executing jhipster:info
Options: 
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
jhipster@0.0.0 /home/user/code/jhipster-test
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.0.0"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""react"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.17.1

node: v8.11.3

npm: 5.6.0

yarn: 1.7.0

Docker version 18.03.1-ce, build 9ee9f40

docker-compose version 1.17.1, build unknown

Congratulations, JHipster execution is complete!

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Linux, 
- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7834#issuecomment-399420833,"Thanks - yes we know about this, didn't @PierreBesson already create an issue on this?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**
If you generate a gateway without service discovery, then, on server side it doesn't generate the GatewayResource.java. However, no such checks are added on frontend layer and thus it generate gateway page/component code (along with associated service, routes, reducer etc) which are redundant as they will never work without backend API

<!-- Explain the bug, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

<!-- Explain why this is a bug for you -->

##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**
This change got introduced by below commit on server side. Either we should revert this or apply similar checks on frontend layer.
https://github.com/jhipster/generator-jhipster/commit/f3d100c6d624ac58157a6c72ee4c949da563e574

<!-- If you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**
5.0.0-beta.3
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""5.0.0-beta.3"",
    ""applicationType"": ""gateway"",
    ""baseName"": ""rgtw5"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""4a95621ba2e00b566a6b5625a4304126fdc687e7"",
    ""clientFramework"": ""react"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false
  }
}

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7827#issuecomment-399217812,"@vishal423 : Indeed, would you like to do a PR ?"
jhipster/generator-jhipster,"##### **Overview of the issue**

I'm adding this issue because I believe @jkutner did work recently to make it so Elasticsearch was automatically configured when you deploy an app to Heroku. I see the following on startup, so I'm guessing provisioning Elasticseach is working.

```
2018-06-19T14:16:28.440721+00:00 app[api]: Attach SEARCHBOX (@ref:searchbox-adjacent-53104) by user matt@raibledesigns.com
```

However, when my app starts up, it fails to connect to this instance, and all CRUD functionality is broken.

```
2018-06-19T14:24:38.262001+00:00 app[web.1]: 2018-06-19 14:24:38.261 ERROR 4 --- [           main] .d.e.r.s.AbstractElasticsearchRepository : failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{hR944JNITnub8FEFr6wLEQ}{localhost}{127.0.0.1:9300}]
2018-06-19T14:24:38.561165+00:00 app[web.1]: 2018-06-19 14:24:38.560 ERROR 4 --- [           main] .d.e.r.s.AbstractElasticsearchRepository : failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{hR944JNITnub8FEFr6wLEQ}{localhost}{127.0.0.1:9300}]
2018-06-19T14:24:39.424443+00:00 app[web.1]: 2018-06-19 14:24:39.424 ERROR 4 --- [           main] .d.e.r.s.AbstractElasticsearchRepository : failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{hR944JNITnub8FEFr6wLEQ}{localhost}{127.0.0.1:9300}]
2018-06-19T14:24:39.730791+00:00 app[web.1]: 2018-06-19 14:24:39.730 ERROR 4 --- [           main] .d.e.r.s.AbstractElasticsearchRepository : failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{hR944JNITnub8FEFr6wLEQ}{localhost}{127.0.0.1:9300}]
2018-06-19T14:24:46.976031+00:00 app[web.1]: 2018-06-19 14:24:46.975  INFO 4 --- [           main] com.okta.developer.GalleryApp            : Started GalleryApp in 44.913 seconds (JVM running for 46.471)
```

##### **Motivation for or Use Case**

I expected Elasticsearch to work on Heroku, without any configuration changes. Kinda like PostgreSQL does.

##### **Reproduce the error**

Create a v5 project with Elasticsearch and deploy it to Heroku.

##### **JHipster Version(s)**

```
gallery@0.0.0 /home/mraible/gallery
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.okta.developer"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.0.0-beta.3"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""gallery"",
    ""packageName"": ""com.okta.developer"",
    ""packageFolder"": ""com/okta/developer"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""ehcache"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""react"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fr""
    ],
    ""herokuDeployType"": ""git""
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Album (album) {
  title String required,
  description TextBlob,
  created Instant
}
entity Photo (photo) {
  title String required,
  description TextBlob,
  image ImageBlob required,
  takenOn Instant,
  uploadedOn Instant
}
entity Tag (tag) {
  name String required minlength(2)
}
relationship ManyToOne {
  Album{user(login)} to User,
  Photo{album(title)} to Album
}
relationship ManyToMany {
  Photo{tag(name)} to Tag{photo}
}

paginate Album with pagination
paginate Photo, Tag with infinite-scroll

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)

git version 2.17.0

node: v8.10.0

npm: 6.1.0

yarn: 1.6.0

Docker version 18.05.0-ce, build f150324

docker-compose version 1.13.0, build 1719ceb",https://github.com/jhipster/generator-jhipster/issues/7810#issuecomment-399622938,"I had a problem with elasticsearch in AWS and most elasticsearch PaaS available. The only option is to use JEST, and then [spring-data-jest](https://github.com/VanRoy/spring-data-jest) instead of default spring's data-elasticsearch.

@jkutner how did you make elasticsearch works out of the box in heroku? Did you pick any Heroku's add-ons (bonsai, searchly) and then ""add"" it after dyno initialized?"
jhipster/generator-jhipster,"

##### **Overview of the issue**
when change lang to another from menu the menu item not set to selected lang and translated value

##### **Motivation for or Use Case**



##### **Reproduce the error**



##### **Related issues**


##### **Suggest a Fix**


##### **JHipster Version(s)**


##### **JHipster configuration**


##### **JHipster Version(s)**

```
samplebeta-02@0.0.0 /Users/developer/Desktop/samplebeta02
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""5.0.0-beta.2"",
    ""applicationType"": ""monolith"",
    ""baseName"": ""samplebeta02"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""memcached"",
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": ""elasticsearch"",
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""react"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""testFrameworks"": [
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""otherModules"": [],
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""fa""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_60""
Java(TM) SE Runtime Environment (build 1.8.0_60-b27)
Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)

git version 2.16.2

node: v8.11.2

npm: 5.6.0

yeoman: 2.0.2

yarn: 1.7.0

Docker version 17.05.0-ce, build 89658be

docker-compose version 1.13.0, build 1719ceb

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

- [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7786#issuecomment-399333281,"@manisi : I don't understand well the issue. The language is correctly selected for me, in the menu. Can you be more precise plz ?


![capture d ecran de 2018-06-22 08-18-02](https://user-images.githubusercontent.com/9156882/41760691-f3a5caba-75f4-11e8-8714-cf16b2b102f3.png)
"
jhipster/generator-jhipster,"##### **Overview of the feature request**

Istio Support MVP is in #7337. After that's implemented, look into additional changes around:

**Istio**
- [x] Update to Istio ~0.8~ 1.0 (Done #8321)
- [ ] Use Istio's Zipkin
  - [ ] Remove Zipkin Deployment
  - [ ] Configure Zipkin to point to Istio's Zipkin
  - [ ] Add Spring Cloud Sleuth Core Starter by default if using Istio
- [ ] Allow ""*"" wildcard hostname
- [ ] CORS configuration
- [x] Rate Limiting / Connection Pooling

**Istio mTLS**
- [ ] Use `curl` or local shell health check when generating for Istio (to support Istio Auth)
- [ ] Alternatively, put management port on a separate non-mTLS port (health check, and Prometheus)

**Kubernetes**
- [ ] Upgarde to Jib 1.0 (@PierreBesson)
- [ ] Add Prometheus scrape annotation to deployment YAML for metrics (@saturnism)
- [ ] Skaffold support
- [ ] (REMOVED) Spring Cloud Kubernetes
- [x] Better Helm support (@srinivasa-vasu) #9461

##### **Motivation for or Use Case**

To better support Istio in generated app/deployment.

##### **Related issues or PR**

#7337 

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7708#issuecomment-403814545,"Istio 1.0 is coming on July 18, maybe it's better to update to 1.0 instead of 0.8? See https://groups.google.com/forum/#!msg/istio-dev/tcDEwvBaTgw/jyziQbrICAAJ"
jhipster/generator-jhipster,"##### **Overview of the issue**

Currently, our Spring Cloud Config setup is such that the application will first query the config server (at the single URL defined in `spring.cloud.config.uri`), update their config and then register with Eureka. This is a problem when using an HA registry (in cluster) as it means that you cannot have HA for the config server.

To illustrate the problem, here is an example (this actually happened in our production) with a replicated registry and microservice on 2 nodes:
- node 1: registry-1, microservice-1
- node 2: registry-2, microservice-2

On node1, microservice-1 (configured with env vars) will retrieve it's configuration from registry-1.
On node2, microservice-2 (configured with env vars) will retrieve it's configuration from registry-2.

We temporarily lose node 2 and restart it. In our current default configuration, microservice 2 will actually fail to restart as long as registry-2 remains unavailable. For me, it is not acceptable that failure of one registry make all applications configured to use it fail to start.

##### **Motivation for or Use Case**

Provide full HA for the JHipster Registry including the config server and correctly load balance calls from microservices to the config server using Eureka and Ribbon.

##### **Suggest a Fix**
Configure applications to use Spring Cloud config [Discovery First Bootstrap mode](http://cloud.spring.io/spring-cloud-static/spring-cloud-config/1.4.3.RELEASE/single/spring-cloud-config.html#discovery-first-bootstrap) which uses Eureka to find all available config server URLs and will load balance request using Ribbon.

##### **JHipster Version(s)**
v3, v4, v5 beta and v5.0

- [X] Checking this box is mandatory (this is just to show you read everything)",https://github.com/jhipster/generator-jhipster/issues/7496#issuecomment-414439202,"Have you considered setting multiple URLs in the `spring.cloud.config.uri` property?

https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_client.html#_specifying_multiple_urls_for_the_config_server"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Currently, in master branch, we can't secure an API with:

```java
@Secured(AuthoritiesConstants.ADMIN)
```

I will complete this ticket later, if needed

##### **Motivation for or Use Case**

<!-- Explain why this is a bug or a new feature for you -->

##### **Reproduce the error**

- create an entity
- secure all API, using `@Secured(AuthoritiesConstants.ADMIN)`
- connect with user/user
- you can access to the entity

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->

- [ ] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7374#issuecomment-377294577,"@pascalgrimaud does `@PreAuthorize(""hasRole('ROLE_USER')"")` work?"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

<!-- Explain the bug or feature request, if an error is being thrown a stack trace helps -->

I've been working on an issue in my JHipster module: https://github.com/geraldhumphries/generator-jhipster-elasticsearch-reindexer/issues/32

I am not sure if this is a JHipster bug or a bug with my module yet. I'm doing some weird stuff with the module composition to maintain backwards compatibility with Yeoman v1. This could be the cause.

Both users have reported the following error:
```
Could not compose module generator-jhipster-elasticsearch-reindexer. 
Make sure you have installed the module with 'npm install -g generator-jhipster-elasticsearch-reindexer'
```

No stack trace. Entity generation continues normally after. This doesn't happen when regenerating a single entity (using `jhipster:entity`), but does happen whenever entities are batch regenerated.

##### **Motivation for or Use Case**

<!-- Explain why this is a bug or a new feature for you -->

It's not totally necessary to rerun my module after every entity gen, but I need to get rid of the warnings.


##### **Reproduce the error**

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

1. Generate an application using `yo jhipster`
2. Generate an entity using `yo jhipster:entity`
3. Run the elasticsearch-reindexer generator using `yo jhipster-elasticsearch-reindexer`. This will add a post entity generation hook.
4. Regenerate the frontend using `jhipster --skip-server --with-entities`. Replace all files.

Another way to reproduce:

1. Generate an application using `yo jhipster`
2. Generate an entity using `yo jhipster:entity`
3. Run the elasticsearch-reindexer generator using `yo jhipster-elasticsearch-reindexer`. This will add a post entity generation hook.
4. Batch-regenerate entities with `for f in ``ls .jhipster``; do jhipster entity ${f%.*} --force ; done`

The first user in https://github.com/geraldhumphries/generator-jhipster-elasticsearch-reindexer/issues/32 reported the same error when using `import-jdl` but I haven't tested that specifically.


##### **Related issues**

Haven't found a similar issue. 

##### **Suggest a Fix**

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

I mentioned before that I'm doing some weird stuff with module composition. If you think this error is related to my module specifically instead of JHipster itself then feel free to close this issue.

##### **JHipster Version(s)**

v4.14.0

##### **JHipster configuration**

<!--
To provide all information we need, you should run `jhipster info` in the project root folder, and
copy/paste the result here.
The `.yo-rc.json` file generated in the root folder is mandatory for bug reports. This will help us to replicate the scenario.
You should remove any sensitive information like the rememberMe key or the jwtSecretKey key.
-->

This was just the result of choosing (almost) all of the default options.

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""4.14.0"",
    ""baseName"": ""c"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""cacheProvider"": ""no"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""e277e7fde9ce8c2251b864a9148e9ceba9ac6a91"",
    ""clientFramework"": ""angular1"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ],
    ""skipServer"": true
  }
}
```

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

TestEntity.json
```
{
    ""fluentMethods"": true,
    ""relationships"": [],
    ""fields"": [],
    ""changelogDate"": ""20180325191313"",
    ""dto"": ""no"",
    ""service"": ""no"",
    ""entityTableName"": ""test_entity"",
    ""jpaMetamodelFiltering"": false,
    ""pagination"": ""no""
}
```

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
Windows 10

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7353#issuecomment-376010226,"Could be related to using local jhipster with a global module. We have [some code to choose between local versus global jhipster](https://github.com/jhipster/generator-jhipster/blob/5c58e1ce7b551c9e97f71cd42e9dbd0dc57d5235/cli/jhipster.js#L37-L44) when using the CLI, maybe there's a problem here.
Is there any reason for not using a local installation of your module?"
jhipster/generator-jhipster,"From https://github.com/mraible/21-points/issues/33

",https://github.com/jhipster/generator-jhipster/issues/7305#issuecomment-389991378,"Validation returns the exact annotation that the validation failed on as the translation key, so this is broken for `Min`, `Max`, `DecimalMin`, and `DecimalMax` ([no translations](https://github.com/jhipster/generator-jhipster/blob/master/generators/languages/templates/src/main/webapp/i18n/en/global.json.ejs#L147-L157)).  You don't normally see this issue because the client-side validation usually prevented it from happening until Angular broke min/max, but it affects very old versions (reproduced with v4.7.0)

This simplest fix would be to change the code to `Size` if it ends in `Min`/`Max` ([here](https://github.com/jhipster/generator-jhipster/blob/master/generators/server/templates/src/main/java/package/web/rest/errors/ExceptionTranslator.java.ejs#L93)).

        String code = f.getCode();
        if (code.endsWith(""Max"") || code.endsWith(""Min"")) {
            code = ""Size"";
        }

This would make the translation use:

        ""Size"": ""Field {{ fieldName }} does not meet min/max size requirements!"",

The other option I can think of is to add translation keys to all languages for `Min`, `Max`, `DecimalMin`, and `DecimalMax`.  Any others?"
jhipster/generator-jhipster,"Hello,

Your sample project
[https://github.com/jhipster/jhipster-sample-app-dto](https://github.com/jhipster/jhipster-sample-app-dto)

Why [BankAccount](https://github.com/jhipster/jhipster-sample-app-dto/blob/master/src/main/webapp/app/entities/bank-account/bank-account.model.ts) is not generated based on [DTO](https://github.com/jhipster/jhipster-sample-app-dto/blob/master/src/main/java/io/github/jhipster/sample/service/dto/BankAccountDTO.java) ? It seems it's generated based on the [domain class](https://github.com/jhipster/jhipster-sample-app-dto/blob/master/src/main/java/io/github/jhipster/sample/domain/BankAccount.java).

I'm using JHipster for a complex project and I have a lot of warnings in Eclipse related to this issue. Also the code completion is not working correctly (e.g. line 17 from [bank-account-detail.component.html](https://github.com/jhipster/jhipster-sample-app-dto/blob/master/src/main/webapp/app/entities/bank-account/bank-account-detail.component.html)), userLogin is not declared in the [BankAccount](https://github.com/jhipster/jhipster-sample-app-dto/blob/master/src/main/webapp/app/entities/bank-account/bank-account.model.ts)

Thank you,
Dan",https://github.com/jhipster/generator-jhipster/issues/7093#issuecomment-364243070,"It's not generated using the JPA entity or the DTO, it comes directly from the JDL. But it's true that the code we use is the domain model - in fact the DTO isn't as stable and widely used, it's considered an ""advanced use case"". Which doesn't mean you shouldn't use it, many people use DTOs and are right to do so.
The DTO is supposed to be mapped automatically on the domain model, so it shouldn't change anything for you - what kind of warnings do you have? If you could list them, we could have a look at solving those.
Code completion for Typescript should work - you mean it doesn't work with Eclipse? Do they have some kind of plugin for Typescript?"
jhipster/generator-jhipster,"##### **Overview of the issue**

With jdl it is possible to generate a one-to-one mapping. The code will look like this:

    public class Client  {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    @OneToOne
    @JoinColumn(unique = true)
    private User user;
     ....
    }

in line with the documentation here: http://www.jhipster.tech/tips/022_tip_registering_user_with_additional_information.html
it would be a performance improvement when the class would reuse the id of the user. like this:

    public class Client  {
    @Id
    private Long id;
    @OneToOne
    @JoinColumn(unique = true)
    @MapsId
    private User user;
     ....
    }

##### **Motivation for or Use Case**

This improvement is for performance because there is only one index created and the database will have one less column. it should also be more efficient for hibernate. 

When changing this by hand and generate the corresponding changelog with liquibase take care that there is a bug there. a working changeset is:

		<modifyDataType columnName=""id"" newDataType=""int"" tableName=""client"" />
		<dropPrimaryKey tableName=""client"" />
		<dropColumn columnName=""id"" tableName=""client"" />
		<addPrimaryKey columnNames=""user_id"" constraintName=""clientPK"" tableName=""client"" />
		<addNotNullConstraint columnDataType=""bigint"" columnName=""user_id"" tableName=""client"" />


i think this is a minor improvment. so when it is to complicated don't do it. programmers can copy the above ;)


- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7060#issuecomment-365737107,@tibistibi do you want to do a PR?
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

I created a microservice app with : 
- UAA : uaa
- Gateway : gateway
- one micro Service : app

I have created a simple entity one table and two string fields.

I am able to log-in correctly, editing users,... works as expected.
But when I try to see the entity, the angular goes directly to the microservice app (as expected with traefik)

It get's a 401 on GET http://localhost/app/api/test-entities

Request : 
`GET /app/api/test-entities HTTP/1.1
Host: localhost
Connection: keep-alive
Accept: application/json, text/plain, */*
X-XSRF-TOKEN: 284d8fbf-019b-454e-850c-dab465a680e6
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36
Referer: http://localhost/gateway/
Accept-Encoding: gzip, deflate, br
Accept-Language: fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7,pt;q=0.6
Cookie: JSESSIONID=t9jtwfoayrIn-liuHqFfTwKTBpp6d51vDIWonyHS; io=UbwOzPbAcwqWtfjhAAAA; access_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE1MTY2MzI5NzAsImlhdCI6MTUxNjYzMjY3MCwiYXV0aG9yaXRpZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJqdGkiOiIyNjk4ODVjOS0xMTEyLTQwNWQtYTY1Yi1jNjAwYzQwN2ZhYWYiLCJjbGllbnRfaWQiOiJ3ZWJfYXBwIn0.fiUAyPGWk4LGwV7TJfTr0gl-FWAQIGmkIUTqGEnWctX3oTfa3oa_bxla8_QBfPVdhmBcsUiljzkfl2ESuoYxBfpBq3ahgfEHMAfnACbjP4_5B5m9Eey5Hd89KJMJp8LxSruje7UFA8GFDuea7zrVMpz9ZcygKVGPtAHL1R0KjV9szY3wGn4zHaa2vhtevRMJLyr-4YHTtNG6EVOzO--Gg-SFMtIH-WDW5j_1yJJadvTn15MhxU1tLtpQz0WYXjy5L_f_HeJZUZ2XydZ-jNtVTrLgugqR5XYVQ7lztGEEoZGGIJnQ8SXvqZw_cI0alSlQbCn5D6uaQLSlxGX0RES1Ew; session_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsInNjb3BlIjpbIm9wZW5pZCJdLCJhdGkiOiIyNjk4ODVjOS0xMTEyLTQwNWQtYTY1Yi1jNjAwYzQwN2ZhYWYiLCJleHAiOjE1MTcyMzc0NzAsImlhdCI6MTUxNjYzMjY3MCwiYXV0aG9yaXRpZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJqdGkiOiI0OGViZWU5Ni0xZmJmLTQ4YWQtYWY5NS1lNWFiNzI2NmU4ODUiLCJjbGllbnRfaWQiOiJ3ZWJfYXBwIn0.i3MLzsbMcpfMyJZcVQD5TbG3M22MHM8Zln89TjU7b_lXpqUcA_heLHEqdyv8ohasBRvwfrWLcVdtMOQ7rmCDaRbRv8PK9YVUYqkLUBOAk6b_0m-tcYE0m9qMGDRMrcmiKXelgPWXVrzJUddBp04yEq2WitWHTPcpLEBLze0KUugYc93rY0w3EQcSaTjrhAYqGkjWGAtHku33n_IeDRuh7QTMRwYNy7pQDgnflIVG4bBdadh79szRc77YMFyxY_Mx7PwpzgG8IESUqwy8Iij83SCs30Qcwdehh3xNRreNPFEvksaw3Bl7zNpIcq_0Jajx81NZPtQjaGhasAJj5JQ4rg; XSRF-TOKEN=284d8fbf-019b-454e-850c-dab465a680e6`

Response : 
`HTTP/1.1 401 Unauthorized
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store
Content-Encoding: gzip
Content-Type: application/json;charset=UTF-8
Date: Mon, 22 Jan 2018 14:51:14 GMT
Expires: 0
Pragma: no-cache
Pragma: no-cache
Www-Authenticate: Bearer realm=""oauth2-resource"", error=""unauthorized"", error_description=""Full authentication is required to access this resource""
X-Content-Type-Options: nosniff
X-Xss-Protection: 1; mode=block
Content-Length: 106`
<!-- Explain the bug or feature request, if an error is being thrown a stack trace helps -->

##### **Motivation for or Use Case**

I didn't modified the generated code. We should be able to see the generated entities when using this setup (traefik + consul)
<!-- Explain why this is a bug or a new feature for you -->

##### **Reproduce the error**

I created a git with one service (app) + one gateway (gateway) + uaa + docker-compose for docker deployment.

`git clone https://github.com/hcouplet/jhipster-traefik-auth`
`./generateAll.sh`
`./deploy.sh`

Open page http://localhost/gateway/
Log-in as admin/admin
Go to menu Entities / Test Entity

<!-- For bug reports, an unambiguous set of steps to reproduce the error -->

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

version 4.13.3
<!--
Which version of JHipster are you using, is it a regression?
-->

##### **JHipster configuration**

# APP :
Using JHipster version installed locally in current project's node_modules
Executing jhipster:info
Options:
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
app@0.0.0 /prg/projects/myC1/jhipster-traefik-auth/app
‚îî‚îÄ‚îÄ generator-jhipster@4.13.3

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.app"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""4.13.3"",
    ""baseName"": ""app"",
    ""packageName"": ""com.mycompany.app"",
    ""packageFolder"": ""com/mycompany/app"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""uaa"",
    ""uaaBaseName"": ""uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mariadb"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""enableTranslation"": true,
    ""applicationType"": ""microservice"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl"",
      ""fr""
    ],
    ""clientPackageManager"": ""yarn"",
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity TestEntity (test_entity) {
  testField1 String,
  testField2 String
}


microservice TestEntity with app

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_141""
Java(TM) SE Runtime Environment (build 1.8.0_141-b15)
Java HotSpot(TM) 64-Bit Server VM (build 25.141-b15, mixed mode)

git version 2.14.3 (Apple Git-98)

node: v9.4.0

npm: 5.6.0

bower: 1.8.2

gulp:
[15:53:45] CLI version 1.4.0

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.12.0-ce, build c97c6d6

docker-compose version 1.18.0, build 8dd22a9

Congratulations, JHipster execution is complete!


# Gateway :
$ jhipster info
Using JHipster version installed locally in current project's node_modules
Executing jhipster:info
Options:
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
gateway@0.0.0 /prg/projects/myC1/jhipster-traefik-auth/gateway
‚îî‚îÄ‚îÄ generator-jhipster@4.13.3

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.gateway"",
      ""nativeLanguage"": ""en"",
      ""microservicePath"": ""../app""
    },
    ""jhipsterVersion"": ""4.13.3"",
    ""baseName"": ""gateway"",
    ""packageName"": ""com.mycompany.gateway"",
    ""packageFolder"": ""com/mycompany/gateway"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""uaa"",
    ""uaaBaseName"": ""uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""websocket"": false,
    ""databaseType"": ""no"",
    ""devDatabaseType"": ""no"",
    ""prodDatabaseType"": ""no"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""gateway"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl"",
      ""fr""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>




</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_141""
Java(TM) SE Runtime Environment (build 1.8.0_141-b15)
Java HotSpot(TM) 64-Bit Server VM (build 25.141-b15, mixed mode)

git version 2.14.3 (Apple Git-98)

node: v9.4.0

npm: 5.6.0

bower: 1.8.2

gulp:
[15:54:50] CLI version 1.4.0

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.12.0-ce, build c97c6d6

docker-compose version 1.18.0, build 8dd22a9

Congratulations, JHipster execution is complete!


# UAA : 
$ jhipster info
Using JHipster version installed locally in current project's node_modules
Executing jhipster:info
Options:
Welcome to the JHipster Information Sub-Generator

##### **JHipster Version(s)**

```
uaa@0.0.0 /prg/projects/myC1/jhipster-traefik-auth/uaa
‚îî‚îÄ‚îÄ generator-jhipster@4.13.3

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.uaa"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""4.13.3"",
    ""baseName"": ""uaa"",
    ""packageName"": ""com.mycompany.uaa"",
    ""packageFolder"": ""com/mycompany/uaa"",
    ""serverPort"": ""9999"",
    ""authenticationType"": ""uaa"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": true,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""mariadb"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""enableTranslation"": true,
    ""applicationType"": ""uaa"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""nl"",
      ""fr""
    ],
    ""clientPackageManager"": ""yarn"",
    ""skipClient"": true
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>




</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_141""
Java(TM) SE Runtime Environment (build 1.8.0_141-b15)
Java HotSpot(TM) 64-Bit Server VM (build 25.141-b15, mixed mode)

git version 2.14.3 (Apple Git-98)

node: v9.4.0

npm: 5.6.0

bower: 1.8.2

gulp:
[15:55:17] CLI version 1.4.0

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.12.0-ce, build c97c6d6

docker-compose version 1.18.0, build 8dd22a9

Congratulations, JHipster execution is complete!

<!--
If the error is during an entity creation or associated with a specific entity.
If you are using JDL, please share that configuration as well.
-->

##### **Browsers and Operating System**

<!-- What OS are you on? is this a problem with all browsers or only IE8? -->
osx
chrome 
docker
- [X] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/7036#issuecomment-359596856,"@hcouplet I modeled my changes off of how the UAA requests were made, which currently go through the gateway (`/gateway/uaa`).  It works, but Traefik now works like Architecture Diagram 2 which shouldn't be the default.

I don't see a way around this for UAA deployments (the gateway handles the cookie), maybe add a method that decodes the cookie for UAA microservices?  One issue with adding Traefik-specific code into templates is that we don't know if you use Traefik until after the app is generated (during `jhipster docker-compose`).  I think it would be better to just document this restriction but if you have any other ideas please post them.

@jdubois originally added the absolute path for Traefik (c37a27b9500e43e7da3f3ab86b030b98fcfbf79c)  so we can revert my commit if needed.  This would only affect microservice entities where the gateway is deployed under context-path other than `/`, and you can set the SERVER_API_URL variable to work around that"
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

The jhipster ci-cd subgenerator creates an Jenkinsfile which I have to modify to make it run without errors.

In the Jenkinsfile the user `root` is used to execute processes inside the docker container. This cause problems when `jenkins` later want to copy to target directory which now is owned by `root`.

##### **Motivation for or Use Case**

To execute every step in the Jenkinsfile created by the ci-cd subgenerator.

##### **Reproduce the error**

```
$ mkdir jhipsterapp && cd jhipsterapp
$ yo jhipster
```
Create an monolith application with maven to build the backend

`$ yo jhipster:ci-cd`
1. Jenkins pipeline
2. What pipeline?
2a. Perform the build in a Docker container
2b. Build and publish a Docker image
3. https://localhost:5000

Add, commit and push to remote git repository

The Jenkinsfile should look like this

```
#!/usr/bin/env groovy

node {
    stage('checkout') {
        checkout scm
    }

    docker.image('openjdk:8').inside('-u root -e MAVEN_OPTS=""-Duser.home=./""') {
        stage('check java') {
            sh ""java -version""
        }

        stage('clean') {
            sh ""chmod +x mvnw""
            sh ""./mvnw clean""
        }

        stage('install tools') {
            sh ""./mvnw com.github.eirslett:frontend-maven-plugin:install-node-and-yarn -DnodeVersion=v6.11.3 -DyarnVersion=v1.1.0""
        }

        stage('yarn install') {
            sh ""./mvnw com.github.eirslett:frontend-maven-plugin:yarn""
        }

        stage('backend tests') {
            try {
                sh ""./mvnw test""
            } catch(err) {
                throw err
            } finally {
                junit '**/target/surefire-reports/TEST-*.xml'
            }
        }

        stage('frontend tests') {
            try {
                sh ""./mvnw com.github.eirslett:frontend-maven-plugin:yarn -Dfrontend.yarn.arguments=test""
            } catch(err) {
                throw err
            } finally {
                junit '**/target/test-results/karma/TESTS-*.xml'
            }
        }

        stage('packaging') {
            sh ""./mvnw package -Pprod -DskipTests""
            archiveArtifacts artifacts: '**/target/*.war', fingerprint: true
        }

    }

    def dockerImage
    stage('build docker') {
        sh ""cp -R src/main/docker target/""
        sh ""cp target/*.war target/docker/""
        dockerImage = docker.build('test/jhipsterapp', 'target/docker')
    }

    stage('publish docker') {
        docker.withRegistry('https://loclahost:5000') {
            dockerImage.push 'latest'
        }
    }
}
```

The projects workspace directory on Jenkins will look like this:

```
-rw-r--r--    1 jenkins jenkins   1565 Jan  2 18:58 .angular-cli.json
-rw-r--r--    1 jenkins jenkins    475 Jan  2 18:58 .editorconfig
drwxr-xr-x    8 jenkins jenkins   4096 Jan  2 19:28 .git
-rw-r--r--    1 jenkins jenkins   3374 Jan  2 18:58 .gitattributes
-rw-r--r--    1 jenkins jenkins   1931 Jan  2 18:58 .gitignore
drwxr-xr-x    4 root    root      4096 Jan  2 18:59 .m2
drwxr-xr-x    3 jenkins jenkins   4096 Jan  2 18:58 .mvn
-rw-r--r--    1 jenkins jenkins   1171 Jan  2 18:58 .yo-rc.json
-rw-r--r--    1 jenkins jenkins   1832 Jan  2 18:58 Jenkinsfile
-rw-r--r--    1 jenkins jenkins   7052 Jan  2 18:58 README.md
-rwxr-xr-x    1 jenkins jenkins   7058 Jan  2 19:28 mvnw
-rw-r--r--    1 jenkins jenkins   5006 Jan  2 18:58 mvnw.cmd
drwxr-xr-x    3 root    root      4096 Jan  2 19:29 node
drwxr-xr-x 1120 root    root     36864 Jan  2 19:29 node_modules
-rw-r--r--    1 jenkins jenkins   4434 Jan  2 18:58 package.json
-rw-r--r--    1 jenkins jenkins  49644 Jan  2 18:58 pom.xml
-rw-r--r--    1 jenkins jenkins     37 Jan  2 18:58 postcss.config.js
-rw-r--r--    1 jenkins jenkins    117 Jan  2 18:58 proxy.conf.json
drwxr-xr-x    4 jenkins jenkins   4096 Jan  2 18:58 src
drwxr-xr-x    8 root    root      4096 Jan  2 19:30 target <- target directory is owned by root
-rw-r--r--    1 jenkins jenkins    616 Jan  2 18:58 tsconfig-aot.json
-rw-r--r--    1 jenkins jenkins    737 Jan  2 18:58 tsconfig.json
-rw-r--r--    1 jenkins jenkins   3068 Jan  2 18:58 tslint.json
drwxr-xr-x    2 jenkins jenkins   4096 Jan  2 18:58 webpack
-rw-r--r--    1 jenkins jenkins 310798 Jan  2 19:29 yarn.lock
```


##### **Related issues**

##### **Suggest a Fix**

* Remove '-u root' in Jenkinsfile, like this:
`docker.image('openjdk:8').inside('-e MAVEN_OPTS=""-Duser.home=./""')`
everything will run as expected and the projects workspace directory on Jenkins will now look like this:

```
drwxr-xr-x   10 jenkins jenkins   4096 Jan  3 14:34 .
drwxr-xr-x    4 jenkins jenkins   4096 Jan  3 13:05 ..
-rw-r--r--    1 jenkins jenkins   1565 Jan  3 13:05 .angular-cli.json
-rw-r--r--    1 jenkins jenkins    475 Jan  3 13:05 .editorconfig
drwxr-xr-x    8 jenkins jenkins   4096 Jan  3 14:32 .git
-rw-r--r--    1 jenkins jenkins   3374 Jan  3 13:05 .gitattributes
-rw-r--r--    1 jenkins jenkins   1931 Jan  3 13:05 .gitignore
drwxr-xr-x    4 jenkins jenkins   4096 Jan  3 13:05 .m2
drwxr-xr-x    3 jenkins jenkins   4096 Jan  3 13:05 .mvn
-rw-r--r--    1 jenkins jenkins   1171 Jan  3 13:05 .yo-rc.json
-rw-r--r--    1 jenkins jenkins   1808 Jan  3 13:05 Jenkinsfile
-rw-r--r--    1 jenkins jenkins   7052 Jan  3 13:05 README.md
-rwxr-xr-x    1 jenkins jenkins   7058 Jan  3 14:32 mvnw
-rw-r--r--    1 jenkins jenkins   5006 Jan  3 13:05 mvnw.cmd
drwxr-xr-x    3 jenkins jenkins   4096 Jan  3 14:34 node
drwxr-xr-x 1120 jenkins jenkins  36864 Jan  3 14:34 node_modules
-rw-r--r--    1 jenkins jenkins   4434 Jan  3 13:05 package.json
-rw-r--r--    1 jenkins jenkins  49644 Jan  3 13:05 pom.xml
-rw-r--r--    1 jenkins jenkins     37 Jan  3 13:05 postcss.config.js
-rw-r--r--    1 jenkins jenkins    117 Jan  3 13:05 proxy.conf.json
drwxr-xr-x    4 jenkins jenkins   4096 Jan  3 13:05 src
drwxr-xr-x   11 jenkins jenkins   4096 Jan  3 14:36 target <- Now target directory is owned by jenkins
-rw-r--r--    1 jenkins jenkins    616 Jan  3 13:05 tsconfig-aot.json
-rw-r--r--    1 jenkins jenkins    737 Jan  3 13:05 tsconfig.json
-rw-r--r--    1 jenkins jenkins   3068 Jan  3 13:05 tslint.json
drwxr-xr-x    2 jenkins jenkins   4096 Jan  3 13:05 webpack
-rw-r--r--    1 jenkins jenkins 310798 Jan  3 14:34 yarn.lock
```


##### **JHipster Version(s)**

4.10.0

##### **JHipster configuration**

```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.company.test""
    },
    ""jhipsterVersion"": ""4.10.0"",
    ""baseName"": ""jhipsterapp"",
    ""packageName"": ""com.company.test"",
    ""packageFolder"": ""com/company/test"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""hibernateCache"": ""ehcache"",
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": """",
    ""clientFramework"": ""angularX"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [
      ""gatling"",
      ""cucumber"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false
  }
```

##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

##### **Browsers and Operating System**

Jenkins run on Ubuntu Server 16.04 ( Ubuntu 16.04.3 LTS )

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/6942#issuecomment-355132216,"We have no feedback on this part.
Happy to see some users !

So, it seems you're right.
@martinpring : would you like to contribute to fix it ? "
jhipster/generator-jhipster,"##### **Overview of the issue**

When using Keycloak, an invalid docker-compose.yml file is created. 

The relevant part of file:
```
volumes:
    prometheus_data: {}
    grafana_data: {}
    keycloak:
        extends:
            file: keycloak.yml
            service: keycloak

```
##### **Motivation for or Use Case**

An invalid docker-compose.yml file is created.

##### **Reproduce the error**

Run ""jhipster docker-compose"" with the settings listed below. 

##### **Related issues**

Haven't found any.

##### **Suggest a Fix**

Put the keycloak part before the ""volumes"" section.

##### **JHipster Version(s)**
4.13.1
```
/home/vagrant/securityratv2/dc1
‚îî‚îÄ‚îÄ (empty)

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""appsFolders"": [
      ""gateway"",
      ""requirement""
    ],
    ""directoryPath"": ""../"",
    ""gatewayType"": ""zuul"",
    ""monitoring"": ""prometheus"",
    ""serviceDiscoveryType"": ""consul"",
    ""jwtSecretKey"": ""replaced-by-jhipster-info""
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>




</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_151""
OpenJDK Runtime Environment (build 1.8.0_151-8u151-b12-0ubuntu0.17.04.2-b12)
OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)

git version 2.11.0

node: v8.9.3

npm: 5.6.0

bower: 1.8.2

gulp:
[19:06:26] CLI version 3.9.1

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.11.0-ce, build 1caf76c
- [X] Checking this box is mandatory (this is just to show you read everything)

",https://github.com/jhipster/generator-jhipster/issues/6920#issuecomment-354488138,"@dkefer : it's an easy fix. Would you like to contribute and do a PR ?
https://github.com/jhipster/generator-jhipster/blob/master/generators/docker-compose/templates/_docker-compose.yml#L118-L123"
jhipster/generator-jhipster,"
##### **Overview of the issue**

I'm trying to create a docker image for microservice gateway using
```
./mvnw verify -Pprod dockerfile:build 

```
It looks like the tests are failing:
```
[ERROR] error Command failed with exit code 2.
[INFO] info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
[ERROR] error Command failed with exit code 1.
[INFO] info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
[ERROR] error Command failed with exit code 1.
[INFO] info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 03:30 min
[INFO] Finished at: 2017-12-29T18:56:26Z
[INFO] Final Memory: 37M/90M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:yarn (webpack build test) on project gateway: Failed to run task: 'yarn run webpack:test' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
```


##### **Motivation for or Use Case**

Failed build of the docker image

##### **Reproduce the error**

Try to create a docker image with settings listed below. 

##### **Related issues**

Haven't found any.

##### **Suggest a Fix**

Don't know.

##### **JHipster Version(s)**

```
gateway@0.0.0 /home/vagrant/securityratv2/gateway
‚îî‚îÄ‚îÄ generator-jhipster@4.13.1 

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""org.securityrat.gateway""
    },
    ""jhipsterVersion"": ""4.13.1"",
    ""baseName"": ""gateway"",
    ""packageName"": ""org.securityrat.gateway"",
    ""packageFolder"": ""org/securityrat/gateway"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""oauth2"",
    ""cacheProvider"": ""hazelcast"",
    ""enableHibernateCache"": false,
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": ""consul"",
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""gateway"",
    ""testFrameworks"": [
      ""gatling"",
      ""cucumber"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": false
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
/**
 * Requirements are organized in different sets.
 * These define also the structure of contained requirements.
 * Selecting a suitable requirement set is the initial step when creating a ""case"".
 */
entity RequirementSet (requirement_set) {
  name String required,
  description TextBlob,
  showOrder Integer,
  active Boolean required
}
/**
 * The ""core"" part of a particular requirement.
 */
entity Skeleton (skeleton) {
  name String required,
  description TextBlob,
  showOrder Integer,
  active Boolean required
}
/**
 * Describes one group/collection of requirement attributes.
 * E.g. ""Criticality"" for Low, Medium, High.
 */
entity AttributeGroup (attribute_group) {
  name String required,
  description TextBlob,
  type AttributeType required,
  showOrder Integer,
  active Boolean required
}
/**
 * Every requirement can be classified in many ways
 * according to different attributes.
 */
entity Attribute (attribute) {
  name String required,
  description TextBlob,
  showOrder Integer,
  active Boolean required
}
/**
 * Describes properties of one type of a requirement extension.
 */
entity ExtensionDefinition (extension_definition) {
  name String required,
  description TextBlob,
  section ExtensionSection required,
  type ExtensionType,
  showOrder Integer,
  active Boolean required
}
/**
 * Requirement extension (extending the requirement skeleton).
 */
entity Extension (extension) {
  content TextBlob required,
  description TextBlob,
  showOrder Integer,
  active Boolean required
}
/**
 * Implements ternary relation of req. skeleton, attribute an extension.
 * Requirement extension can be added to a skeleton if a particular attribute is set.
 */
entity SkAtEx (sk_at_ex)

enum AttributeType {
  FE_TAG,
  PARAMETER,
  CATEGORY
}

enum ExtensionSection {
  STATUS,
  ENHANCEMENT
}

enum ExtensionType {
  ENUM,
  FREETEXT
}

relationship OneToMany {
  RequirementSet{skeleton} to Skeleton{requirementSet(name)},
  RequirementSet{attributeGroup} to AttributeGroup{requirementSet(name)},
  AttributeGroup{attribute} to Attribute{attributeGroup(name)},
  RequirementSet{extensionDefinition} to ExtensionDefinition{requirementSet(name)},
  ExtensionDefinition{extension} to Extension{extensionDefinition(name)},
  Skeleton{skAtEx} to SkAtEx{skeleton(name)},
  Attribute{skAtEx} to SkAtEx{attribute(name)},
  Extension{skAtEx} to SkAtEx{extension(content)}
}
relationship ManyToOne {
  Attribute{parent} to Attribute
}

paginate RequirementSet, Skeleton, AttributeGroup, Attribute, ExtensionDefinition, Extension, SkAtEx with infinite-scroll
service RequirementSet, Skeleton, AttributeGroup, Attribute, ExtensionDefinition, Extension, SkAtEx with serviceClass
microservice RequirementSet, Skeleton, AttributeGroup, Attribute, ExtensionDefinition, Extension, SkAtEx with requirement
filter RequirementSet, Skeleton, AttributeGroup, Attribute, ExtensionDefinition, Extension, SkAtEx

</pre>
</details>


##### **Environment and Tools**

openjdk version ""1.8.0_151""
OpenJDK Runtime Environment (build 1.8.0_151-8u151-b12-0ubuntu0.17.04.2-b12)
OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)

git version 2.11.0

node: v8.9.3

npm: 5.6.0

bower: 1.8.2

gulp:
[18:56:08] CLI version 3.9.1

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.11.0-ce, build 1caf76c


- [X] Checking this box is mandatory (this is just to show you read everything)


",https://github.com/jhipster/generator-jhipster/issues/6919#issuecomment-354502608,"As the error says, Yarn couldn't run:

Can you run it ""normally"", just doing `yarn install` or `yarn start`?

Anyway that's a configuration issue, not a bug, people use this all the time, it's sure that Yarn works on Ubuntu. You probably have a network error, I guess you are behind a proxy."
jhipster/generator-jhipster,"<!--
- Please follow the issue template below for bug reports and feature requests.
- If you have a support request rather than a bug, please use [Stack Overflow](http://stackoverflow.com/questions/tagged/jhipster) with the JHipster tag.
- For bug reports it is mandatory to run the command `jhipster info` in your project's root folder, and paste the result here.
- Tickets opened without any of these pieces of information will be **closed** without any explanation.
-->

##### **Overview of the issue**

Entity tests fail if an entity has 2 `required` relationships to an entity that has a `unique` field

Stacktrace:
<details>
<pre>
insert into foo (id, my_string) values (null, ?) [23505-196]
2017-12-13 12:54:54.328  WARN 19927 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2017-12-13 12:54:54.332 ERROR 19927 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: ""CONSTRAINT_INDEX_1 ON PUBLIC.FOO(MY_STRING) VALUES ('AAAAAAAAAA', 17)""; SQL statement:
insert into foo (id, my_string) values (null, ?) [23505-196]
Tests run: 9, Failures: 0, Errors: 9, Skipped: 0, Time elapsed: 0.385 sec <<< FAILURE! - in com.mycompany.myapp.web.rest.BarResourceIntTest
getNonExistingBar(com.mycompany.myapp.web.rest.BarResourceIntTest)  Time elapsed: 0.053 sec  <<< ERROR!
javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:103)
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:231)
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:190)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:705)
	at org.h2.command.dml.Insert.insertRows(Insert.java:156)
	at org.h2.command.dml.Insert.update(Insert.java:114)
	at org.h2.command.CommandContainer.update(CommandContainer.java:101)
	at org.h2.command.Command.executeUpdate(Command.java:260)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:164)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:150)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2919)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3490)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:626)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:280)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:261)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:306)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:318)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:275)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:182)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:113)
	at org.hibernate.jpa.event.internal.core.JpaPersistEventListener.saveWithGeneratedId(JpaPersistEventListener.java:67)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:189)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:132)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:58)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:782)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:767)
	at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:298)
	at com.sun.proxy.$Proxy150.persist(Unknown Source)
	at com.mycompany.myapp.web.rest.BarResourceIntTest.createEntity(BarResourceIntTest.java:88)
	at com.mycompany.myapp.web.rest.BarResourceIntTest.initTest(BarResourceIntTest.java:96)
</pre>
</details>

##### **Reproduce the error**

Generate with .yo-rc.json and jdl below then
`./mvnw test`

##### **Related issues**

Same as #6521 but this time for entities other than User
Since the relationship is required we try to create 2 Foos, one for each field but these Foos use the same DEFAULT_MY_STRING at creation hence the unique constraint failure
```java
    public static Bar createEntity(EntityManager em) {
        Bar bar = new Bar();
        // Add required entity
        Foo foo = FooResourceIntTest.createEntity(em);
        em.persist(foo);
        em.flush();
        bar.setFoo(foo);
        // Add required entity
        Foo otherFoo = FooResourceIntTest.createEntity(em);
        em.persist(otherFoo);
        em.flush();
        bar.setOtherFoo(otherFoo);
        return bar;
    }
```
```java
    private static final String DEFAULT_MY_STRING = ""AAAAAAAAAA"";

    public static Foo createEntity(EntityManager em) {
        Foo foo = new Foo()
            .myString(DEFAULT_MY_STRING);
        return foo;
    }
```
##### **Suggest a Fix**

Generate random values for each test field ? Remove unique constraint option :trollface: ?

##### **JHipster Version(s)**

master at 5b58a9adc1bd0a54dd97e6b6c6becc3fb36b11a4

##### **JHipster configuration**

<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""4.12.0"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""hibernateCache"": ""ehcache"",
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""angularX"",
    ""useSass"": false,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
</pre>
</details>


##### **Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**
Bar.json
```json
{
    ""fluentMethods"": true,
    ""relationships"": [
        {
            ""relationshipName"": ""foo"",
            ""otherEntityName"": ""foo"",
            ""relationshipType"": ""many-to-one"",
            ""relationshipValidateRules"": [
                ""required""
            ],
            ""otherEntityField"": ""id""
        },
        {
            ""relationshipName"": ""otherFoo"",
            ""otherEntityName"": ""foo"",
            ""relationshipType"": ""many-to-one"",
            ""relationshipValidateRules"": [
                ""required""
            ],
            ""otherEntityField"": ""id""
        }
    ],
    ""fields"": [],
    ""changelogDate"": ""20171213124802"",
    ""dto"": ""no"",
    ""service"": ""no"",
    ""entityTableName"": ""bar"",
    ""jpaMetamodelFiltering"": false,
    ""pagination"": ""no""
}
```
Foo.json
```json
{
    ""fluentMethods"": true,
    ""relationships"": [],
    ""fields"": [
        {
            ""fieldName"": ""myString"",
            ""fieldType"": ""String"",
            ""fieldValidateRules"": [
                ""unique""
            ]
        }
    ],
    ""changelogDate"": ""20171213124638"",
    ""dto"": ""no"",
    ""service"": ""no"",
    ""entityTableName"": ""foo"",
    ""jpaMetamodelFiltering"": false,
    ""pagination"": ""no""
}
```

- [x] Checking this box is mandatory (this is just to show you read everything)

<!-- Love JHipster? Please consider supporting our collective:
üëâ  https://opencollective.com/generator-jhipster/donate -->
",https://github.com/jhipster/generator-jhipster/issues/6860#issuecomment-351405191,"What is the purpose of the test, what's the use case? Of course if you want unique Foos, then you cannot have twice the same Foo. This has nothing to do with the relationships. Bar can have two fields linking to the same Foo or linking to 2 different Foos."
jhipster/generator-jhipster,"A freshly generated app causes some issues:

<img width=""1270"" alt=""screen shot 2017-12-09 at 16 28 40"" src=""https://user-images.githubusercontent.com/766263/33796900-1a6e1f8e-dcfe-11e7-8bea-a934d5566de9.png"">

<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""fr""
    },
    ""jhipsterVersion"": ""4.12.0"",
    ""baseName"": ""jhi"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""hibernateCache"": ""ehcache"",
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""postgresql"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""fr"",
    ""languages"": [
      ""fr"",
      ""en""
    ]
  }
}
</pre>
</details>

##### **Environment and Tools**

java version ""1.8.0_102""
Java(TM) SE Runtime Environment (build 1.8.0_102-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)

git version 2.15.1

node: v6.12.1

npm: 5.5.1

bower: 1.8.0

gulp:
[16:25:51] CLI version 3.9.1

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.09.0-ce, build afdb6d4

docker-compose version 1.16.1, build 6d1ac21",https://github.com/jhipster/generator-jhipster/issues/6836#issuecomment-350482014,"Did you run `mvn clean` while yarn start was running?
Ideally, you should run `yarn start` after `./mvnw`
"
jhipster/generator-jhipster,"##### **Overview of the issue**

I created an entity with one BLOB field using `jhipster entity Image`.
It created `.jhipster/Image.json` as below:

~~~json
{
    ""fluentMethods"": true,
    ""relationships"": [],
    ""fields"": [
        {
            ""fieldName"": ""blob"",
            ""fieldType"": ""byte[]"",
            ""fieldTypeBlobContent"": ""image""
        }
    ],
    ""changelogDate"": ""20171130231749"",
    ""dto"": ""no"",
    ""service"": ""no"",
    ""entityTableName"": ""image"",
    ""jpaMetamodelFiltering"": false,
    ""pagination"": ""no""
}
~~~

Then I exported it as JDL  using `jhipster export-jdl` it created the file below:

~~~
// JDL definition for application 'blobJDL' generated with command 'jhipster export-jdl'

entity Image (image) {
    blob byte[]
  }
~~~
  
When I imported it back with `jhipster import-jdl`, it failed as below:

~~~
  An error has occurred:
          SyntaxError
  Error message:
          Expected ['\t'|' '|‚Ä®|‚Ä©] or [A-Z] but ""b"" found.
  Position:
          At l.4.
  Error: SyntaxError: Expected ['\t'|' '|‚Ä®|‚Ä©] or [A-Z] but ""b"" found.
  events.js:160
        throw er; // Unhandled 'error' event
        ^
  
  Error: ERROR!
  Error while parsing entities from JDL
  
      at Environment.error (e:\projets\jhipster-projects\issues\blobJDL\node_modules\yeoman-environment\lib\environment.js:157:40)
      at error (e:\projets\jhipster-projects\issues\blobJDL\node_modules\generator-jhipster\generators\generator-base.js:1964:18)
      at parseJDL (e:\projets\jhipster-projects\issues\blobJDL\node_modules\generator-jhipster\generators\import-jdl\index.js:113:26)
      at Object.<anonymous> (e:\projets\jhipster-projects\issues\blobJDL\node_modules\yeoman-generator\lib\index.js:399:25)
      at e:\projets\jhipster-projects\issues\blobJDL\node_modules\run-async\index.js:25:25
      at e:\projets\jhipster-projects\issues\blobJDL\node_modules\run-async\index.js:24:19
      at self.env.runLoop.add.completed (e:\projets\jhipster-projects\issues\blobJDL\node_modules\yeoman-generator\lib\index.js:400:11)
      at runCallback (timers.js:672:20)
      at tryOnImmediate (timers.js:645:5)
      at processImmediate [as _immediateCallback] (timers.js:617:5)
~~~

I don't know if the problem is in the exporter or the importer.

##### **JHipster Version(s)**

```
blob-jdl@0.0.0 e:\projets\jhipster-projects\issues\blobJDL
`-- generator-jhipster@4.11.1

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**

<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp""
    },
    ""jhipsterVersion"": ""4.11.1"",
    ""baseName"": ""blobJDL"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8081"",
    ""authenticationType"": ""jwt"",
    ""hibernateCache"": ""no"",
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Memory"",
    ""prodDatabaseType"": ""mysql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""enableTranslation"": false,
    ""applicationType"": ""microservice"",
    ""testFrameworks"": [],
    ""jhiPrefix"": ""jhi"",
    ""clientPackageManager"": ""yarn"",
    ""skipClient"": true,
    ""skipUserManagement"": true
  }
}
</pre>
</details>

##### **Environment and Tools**

java version ""1.8.0_151""
Java(TM) SE Runtime Environment (build 1.8.0_151-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)

git version 2.12.0.windows.1

node: v6.11.1

npm: 3.10.10

bower: 1.8.0

gulp:
[00:26:44] CLI version 1.4.0

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.06.2-ce, build cec0b72

docker-compose version 1.14.0, build c7bdf9e3

- [X] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/6781#issuecomment-348405207,"Yes, that's correct. Here's why:
  - `byte[]` doesn't start with a capitalized character, that's why you have this error
  - it's not supported as the following are the only supported Blob types (you can see them [here](https://github.com/jhipster/jhipster-core/blob/18b3eb3647d8ceb2c71e39e512b9212dbf5a2ea3/lib/parser/entity_parser.js#L206)):
    - `Blob`
    - `AnyBlob`
    - `TextBlob`
    - `ImageBlob`
  - these usual suspects do set the `fieldTypeBlobContent` values according to the type
    - `Blob` & `AnyBlob` -> `any`
    - `ImageBlob` -> `image`
    - `TextBlob` -> `text`
  - the `fieldType`, however, is set to `blob[]`, is it what you tried to achieve here?
"
jhipster/generator-jhipster,"##### **Overview of the issue**

When a `ZonedDateTime` field is used in an entity, the UI is not intuitive in Firefox.

See https://github.com/mraible/jhipster4-demo/issues/7 for more information. 

##### **Motivation for or Use Case**

This is a bug because you have to get the date format right or the validation message says the field is empty.

##### **Reproduce the error**

```
git clone git@github.com:mraible/jhipster4-demo.git
cd jhipster4-demo
git checkout upgrade-4.10.2
yarn
yarn webpack:build
./mvnw
```

Add a new entry in Firefox.

##### **Related issues**

<!-- Has a similar issue been reported before? Please search both closed & open issues -->

##### **Suggest a Fix**

<!-- For bug reports, if you can't fix the bug yourself, perhaps you can point to what might be
  causing the problem (line of code or commit) -->

##### **JHipster Version(s)**

```
blog@0.0.0 /Users/mraible/dev/jhipster/jhipster4-demo
‚îî‚îÄ‚îÄ generator-jhipster@4.10.2

```


##### **JHipster configuration, a `.yo-rc.json` file generated in the root folder**


<details>
<summary>.yo-rc.json file</summary>
<pre>
{
  ""generator-jhipster"": {
    ""jhipsterVersion"": ""4.10.2"",
    ""baseName"": ""blog"",
    ""packageName"": ""org.jhipster"",
    ""packageFolder"": ""org/jhipster"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""jwt"",
    ""hibernateCache"": ""ehcache"",
    ""clusteredHttpSession"": false,
    ""websocket"": false,
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""postgresql"",
    ""searchEngine"": false,
    ""messageBroker"": false,
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""maven"",
    ""enableSocialSignIn"": false,
    ""jwtSecretKey"": ""replaced-by-jhipster-info"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [
      ""gatling"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en"",
      ""es""
    ]
  }
}
</pre>
</details>


##### **JDL for the Entity configuration(s) `entityName.json` files generated in the `.jhipster` directory**

<details>
<summary>JDL entity definitions</summary>

<pre>
entity Blog (blog) {
  name String required minlength(3),
  handle String required minlength(2)
}
entity Entry (entry) {
  title String required,
  content byte[] required,
  date ZonedDateTime required
}
entity Tag (tag) {
  name String required minlength(2)
}

relationship ManyToOne {
  Blog{user(login)} to User,
  Entry{blog(name)} to Blog
}
relationship ManyToMany {
  Entry{tag(name)} to Tag{entry}
}

paginate Entry, Tag with infinite-scroll

</pre>
</details>


##### **Environment and Tools**

java version ""1.8.0_144""
Java(TM) SE Runtime Environment (build 1.8.0_144-b01)
Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)

git version 2.14.1

node: v8.9.1

npm: 5.5.1

gulp:
[13:18:49] CLI version 1.4.0

yeoman: 2.0.0

yarn: 1.3.2

Docker version 17.09.0-ce, build afdb6d4

docker-compose version 1.16.1, build 6d1ac21

- [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/6711#issuecomment-349883769,"What do you think about mixing `Datepicker` and `Timepicker`, instead of using `datetime-local` which doesn't work on Firefox ?
"
jhipster/generator-jhipster,"##### **Overview of the issue**

The generated liquibase.gradle file of jhipster currently has a bug. The gradle command: liquibaseDiffChangeLog doesn't work at the moment due to a gradle script error.

##### **Motivation for or Use Case**

Generating liquibase change sets, doesn't work currently

##### **Reproduce the error**

Just run liquibaseDiffChangeLog for a project that is configured via gradle

##### **Suggest a Fix**

The problem relies withing liquibase.gradle:

The line 

`args liquibaseCommand` inside `def liquibaseCommand(command)`

should actually be 

`args command`

since liquibaseCommand is not the parameter name

##### **JHipster Version(s)**

Master and 4.10.1

",https://github.com/jhipster/generator-jhipster/issues/6602#issuecomment-339676271,"@Loktor Thx for the report. Can you do a PR, as you have a solution ready?"
jhipster/generator-jhipster,"##### **Overview of the issue**
Eclipse show exception and project does not initialized correctly.
Exception:
```Java Model Exception: Java Model Status [Cannot nest 'jhipster/src/test/gatling/user-files/simulations' inside 'jhipster/src/test/gatling'. To enable the nesting exclude 'user-files/' from 'jhipster/src/test/gatling']```

In Eclipse ""Gradle->Refresh Gradle Project"" works only if next line removed from build.gradle:
```apply from: 'gradle/gatling.gradle'```

##### **Reproduce the error**

Create new empty project with JH4.10.0 or 4.10.1 and import into eclipse.
Eclipse 4.6.3 + buildship v2.1.2 20170807-1321

##### **JHipster Version(s)**

4.10.0, 4.10.1

##### **JHipster configuration**
```
{
  ""generator-jhipster"": {
    ""promptValues"": {
      ""packageName"": ""com.mycompany.myapp"",
      ""nativeLanguage"": ""en""
    },
    ""jhipsterVersion"": ""4.10.1"",
    ""baseName"": ""jhipster"",
    ""packageName"": ""com.mycompany.myapp"",
    ""packageFolder"": ""com/mycompany/myapp"",
    ""serverPort"": ""8080"",
    ""authenticationType"": ""session"",
    ""hibernateCache"": ""hazelcast"",
    ""clusteredHttpSession"": ""hazelcast"",
    ""websocket"": ""spring-websocket"",
    ""databaseType"": ""sql"",
    ""devDatabaseType"": ""h2Disk"",
    ""prodDatabaseType"": ""mariadb"",
    ""searchEngine"": false,
    ""messageBroker"": ""kafka"",
    ""serviceDiscoveryType"": false,
    ""buildTool"": ""gradle"",
    ""enableSocialSignIn"": false,
    ""enableSwaggerCodegen"": true,
    ""rememberMeKey"": ""18576f0bea34be439e27234b18bd7ed521d4c3d4"",
    ""clientFramework"": ""angularX"",
    ""useSass"": true,
    ""clientPackageManager"": ""yarn"",
    ""applicationType"": ""monolith"",
    ""testFrameworks"": [
      ""gatling"",
      ""cucumber"",
      ""protractor""
    ],
    ""jhiPrefix"": ""jhi"",
    ""enableTranslation"": true,
    ""nativeLanguage"": ""en"",
    ""languages"": [
      ""en""
    ]
  }
}
```
- [x] Checking this box is mandatory (this is just to show you read everything)
",https://github.com/jhipster/generator-jhipster/issues/6598#issuecomment-339661261,Can you build via command line? Is eclipse using the gradle wrapper or a locally installed gradle? I will try to test it during the weekend. Using the new gradle plugin with idea and via cli worked fine for me.
NationalSecurityAgency/ghidra,"I'm currently writing and debugging tests for a StabsParser. However, while I'm debugging the tests it appears to be timing out and I have to restart. I'm extending AbstractGhidraHeadlessIntegrationTest. I'm not even sure if this is something in ghidras test classes or if it is my debugger setup, but how may I go about preventing this?

Below is the console log.
<details>
<summary>log</summary>

```
Java HotSpot(TM) 64-Bit Server VM warning: Archived non-system classes are disabled because the java.system.class.loader property is specified (value = ""ghidra.GhidraClassLoader""). To use archived non-system classes, this property must not be set
INFO  Using log config file: jar:file:/C:/Users/astre/Documents/ghidra_9.2_DEV/Ghidra/Framework/Generic/lib/Generic.jar!/generic.log4j.xml (LoggingInitialization)
INFO  Using log file: C:\Users\astre\AppData\Local\Temp\DocumentsTemp\application.log (LoggingInitialization)
INFO  Loading user preferences: C:\Users\astre\AppData\Local\Temp\DocumentsTemp\preferences (Preferences)
INFO  Class search complete (2080 ms) (ClassSearcher)
INFO  Initializing SSL Context (SSLContextInitializer)
INFO  Initializing Random Number Generator... (SecureRandomFactory)
INFO  Random Number Generator initialization complete: SHA1PRNG (SecureRandomFactory)
INFO  Trust manager disabled, cacerts have not been set (ApplicationTrustManagerFactory)
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by net.sf.cglib.core.ReflectUtils$2 (file:/C:/Users/astre/Documents/ghidra_9.2_DEV/Ghidra/Framework/Generic/lib/cglib-nodep-2.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of net.sf.cglib.core.ReflectUtils$2
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
ERROR

Threads at time of interrupt:
Thread: Test-Thread-1
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.tokenize(StabCompositeTypeDescriptor.java:137)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.parseComposite(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.parseToken(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.<init>(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabTypeDescriptorFactory.getTypeDescriptor(StabTypeDescriptorFactory.java:59)
	at app//ghidra.app.util.bin.format.stabs.AbstractStabToken.doGetTypeInformation(AbstractStabToken.java:56)
	at app//ghidra.app.util.bin.format.stabs.AbstractStabToken.<init>(AbstractStabToken.java:39)
	at app//ghidra.app.util.bin.format.stabs.StabVariableToken.<init>(StabVariableToken.java:10)
	at app//ghidra.app.util.bin.format.stabs.StabCompositeToken.getCompositeTokens(StabCompositeToken.java:92)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.parseComposite(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.parseToken(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabCompositeTypeDescriptor.<init>(Unknown Source)
	at app//ghidra.app.util.bin.format.stabs.types.StabTypeDescriptorFactory.getTypeDescriptor(StabTypeDescriptorFactory.java:59)
	at app//ghidra.app.util.bin.format.stabs.types.StabTypeReferenceTypeDescriptor.doGetSubType(StabTypeReferenceTypeDescriptor.java:28)
	at app//ghidra.app.util.bin.format.stabs.types.StabTypeReferenceTypeDescriptor.<init>(StabTypeReferenceTypeDescriptor.java:18)
	at app//ghidra.app.util.bin.format.stabs.types.StabTypeDescriptorFactory.getTypeDescriptor(StabTypeDescriptorFactory.java:32)
	at app//ghidra.app.util.bin.format.stabs.AbstractStabToken.doGetTypeInformation(AbstractStabToken.java:56)
	at app//ghidra.app.util.bin.format.stabs.AbstractStabToken.<init>(AbstractStabToken.java:39)
	at app//ghidra.app.util.bin.format.stabs.StabTypeDefToken.<init>(StabTypeDefToken.java:15)
	at app//ghidra.app.util.bin.format.stabs.StabsParser.parse(StabsParser.java:122)
	at app//ghidra.app.util.bin.format.stabs.StabsParser.parse(StabsParser.java:74)
	at app//ghidra.app.util.bin.format.stabs.AbstractStabsTest.setup(AbstractStabsTest.java:53)
	at java.base@13.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base@13.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base@13.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base@13.0.1/java.lang.reflect.Method.invoke(Method.java:567)
	at app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at app//org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at app//generic.test.TestThread.run(TestThread.java:106)
Thread: Log4j2-TF-3-Scheduled-1
	at java.base@13.0.1/jdk.internal.misc.Unsafe.park(Native Method)
	at java.base@13.0.1/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:235)
	at java.base@13.0.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
	at java.base@13.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
	at java.base@13.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
	at java.base@13.0.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
	at java.base@13.0.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
	at java.base@13.0.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base@13.0.1/java.lang.Thread.run(Thread.java:830)
Thread: Reference Handler
	at java.base@13.0.1/java.lang.ref.Reference.waitForReferencePendingList(Native Method)
	at java.base@13.0.1/java.lang.ref.Reference.processPendingReferences(Reference.java:241)
	at java.base@13.0.1/java.lang.ref.Reference$ReferenceHandler.run(Reference.java:213)
Thread: Finalizer
	at java.base@13.0.1/java.lang.Object.wait(Native Method)
	at java.base@13.0.1/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
	at java.base@13.0.1/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)
	at java.base@13.0.1/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:170)
Thread: ReaderThread
	at java.base@13.0.1/sun.nio.ch.SocketDispatcher.read0(Native Method)
	at java.base@13.0.1/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:46)
	at java.base@13.0.1/sun.nio.ch.NioSocketImpl.tryRead(NioSocketImpl.java:262)
	at java.base@13.0.1/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)
	at java.base@13.0.1/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:351)
	at java.base@13.0.1/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:802)
	at java.base@13.0.1/java.net.Socket$SocketInputStream.read(Socket.java:937)
	at java.base@13.0.1/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:297)
	at java.base@13.0.1/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)
	at java.base@13.0.1/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)
	at java.base@13.0.1/java.io.InputStreamReader.read(InputStreamReader.java:185)
	at java.base@13.0.1/java.io.BufferedReader.fill(BufferedReader.java:161)
	at java.base@13.0.1/java.io.BufferedReader.readLine(BufferedReader.java:326)
	at java.base@13.0.1/java.io.BufferedReader.readLine(BufferedReader.java:392)
	at app//org.eclipse.jdt.internal.junit.runner.RemoteTestRunner$ReaderThread.run(RemoteTestRunner.java:152)
Thread: Signal Dispatcher
Thread: Attach Listener
Thread: main
	at java.base@13.0.1/java.lang.Thread.dumpThreads(Native Method)
	at java.base@13.0.1/java.lang.Thread.getAllStackTraces(Thread.java:1649)
	at app//utilities.util.reflection.ReflectionUtilities.createStackTraceForAllThreads(ReflectionUtilities.java:404)
	at app//generic.test.TestUtils.createStackTraceForAllThreads(TestUtils.java:47)
	at app//generic.test.AbstractGenericTest.createStackTraceForAllThreads(AbstractGenericTest.java:1450)
	at app//generic.test.ConcurrentTestExceptionStatement.checkForTestTimeout(ConcurrentTestExceptionStatement.java:166)
	at app//generic.test.ConcurrentTestExceptionStatement.waitForTestUnlessExceptions(ConcurrentTestExceptionStatement.java:137)
	at app//generic.test.ConcurrentTestExceptionStatement.evaluate(ConcurrentTestExceptionStatement.java:68)
	at app//org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at app//org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at app//org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at app//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at app//org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at app//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at app//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at app//org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at app//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at app//org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at app//org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at app//org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at app//org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)
	at app//org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)
	at app//org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)
	at app//org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)
Thread: Common-Cleaner
	at java.base@13.0.1/java.lang.Object.wait(Native Method)
	at java.base@13.0.1/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
	at java.base@13.0.1/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:148)
	at java.base@13.0.1/java.lang.Thread.run(Thread.java:830)
	at java.base@13.0.1/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)
Thread: GTimer
	at java.base@13.0.1/java.lang.Object.wait(Native Method)
	at java.base@13.0.1/java.lang.Object.wait(Object.java:326)
	at java.base@13.0.1/java.util.TimerThread.mainLoop(Timer.java:527)
	at java.base@13.0.1/java.util.TimerThread.run(Timer.java:506)
 (ConcurrentTestExceptionStatement)
```
</details>",https://github.com/NationalSecurityAgency/ghidra/issues/1424#issuecomment-573139869,"The code responsible for the timeout is in `ConcurrentTestExceptionStatement`.   If you are running from within Eclipse, then the code should not be using the timeout at all.   If you are debugging externally, the you are currently restricted to a 10 minute timeout.

There is no current way of changing this timeout value (e.g., like from a system property).   We could certainly add a way of changing or disabling this feature.  What is your setup?"
NationalSecurityAgency/ghidra,"R_MIPS_26 relocations are handled incorrectly when addend is not 0. The root cause is an operator precedence issue in  MIPS_ElfRelocationHandler.java:

value = (int) ((addend | ((offset + 4) & (0xfc000000 << shift)) + symbolValue) >> shift);

As ""|"" has lower precedence than ""+"", this ends up binary-oring the symbolvalue with addend, leading to interesting but almost never correct results if addend is not 0.

Also it seems to me the or-ing in of the current PC upper 6 bits into the result is undone later on by masking with MIPS_ElfRelocationConstants.MIPS_LOW26 anyway, so it can be removed from the value calculation.

I will submit a pull request fixing the issue.",https://github.com/NationalSecurityAgency/ghidra/issues/1001#issuecomment-531379338,"Does the following simplified logic appear correct?  Not sure why the old implementation was so convoluted.

```
case MIPS_ElfRelocationConstants.R_MIPS_26:
case MIPS_ElfRelocationConstants.R_MIPS16_26:
case MIPS_ElfRelocationConstants.R_MICROMIPS_26_S1:
		int shift = (relocType == MIPS_ElfRelocationConstants.R_MICROMIPS_26_S1) ? 1 : 2;
		if (mipsRelocationContext.extractAddend()) {
			addend = oldValue & MIPS_ElfRelocationConstants.MIPS_LOW26;
		}
		if (!elfSymbol.isSection()) {
			addend = signExtend((int) addend, 26 + shift);
		}
		// TODO: cross-mode jump detection/handling is unsupported
		value = (int) (addend + symbolValue) >> shift;
		newValue = (oldValue & ~MIPS_ElfRelocationConstants.MIPS_LOW26) |
			(value & MIPS_ElfRelocationConstants.MIPS_LOW26);
		writeNewValue = true;
		break;
```"
NationalSecurityAgency/ghidra,"**Describe the bug**
When you use the Data Type Chooser Dialog (default hotkey ""T"") to assign a type to a region of data, it checks that you're not going to clobber any existing declared type beforehand, which is good.

However, on a 16-bit target (like old MS-DOS executables) the size calculation is incorrect when using pointers/arrays and similar structures and it will do the check as if those pointers are 4 bytes long, while they are really 2 bytes long.

**To Reproduce**
On a 16 bit target, try to create a pointer on a location which is only 2 bytes long. Check screenshot

**Screenshots**
![GhidraDataTypeBug](https://user-images.githubusercontent.com/28616/64231230-e87fcb80-cee6-11e9-9b20-f44c26507df9.png)

**Environment (please complete the following information):**
 - OS: macOS
 - Java Version: 11.0
 - Ghidra Version: 9.0.4
",https://github.com/NationalSecurityAgency/ghidra/issues/970#issuecomment-527990935,"@Arcnor, I think this may have been addressed in commit 120d4241e5e2aaecefa81989633768f9a8824a8c (https://github.com/NationalSecurityAgency/ghidra/commit/120d4241e5e2aaecefa81989633768f9a8824a8c), which was committed just a few days ago.

Are you able to build and try it out?
"
NationalSecurityAgency/ghidra,"I've added external library:
```
Library psyqLib = symTbl.createExternalLibrary(""PSYQ.LIB"", SourceType.IMPORTED);
```

I've created imported function:
```
listing.createData(refAddr, PointerDataType.dataType);
refMgr.addExternalReference(refAddr, ""PSYQ.LIB"", ""memchr"", refAddr, SourceType.IMPORTED, 0, RefType.DATA);
```

In disassembler it looks good:
```
00000918  a7 02 00 0c         jal                 memchr
```

But in decompiler it uses a wrong name:
```
iVar5 = func_0x00000a9c(piVar7,0,local_38);
```

`memchr` in disassembler:
```
*************************************************************************
*                                            SUBROUTINE                                           
*************************************************************************
void * memchr(void * __s, int __c, size_t __n)
                       void *                        v0:4                   <RETURN>
                       void *                        a0:4                   __s
                       int                             a1:4                   __c
                       size_t                        a2:4                   __n
         memchr                                                                         XREF[1]:          sprintf:00000918(c)  
             00000a9c                             addr             PSYQ.LIB::memchr
```

Reference info in disassembler:
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://user-images.githubusercontent.com/7189309/61452161-d3b19d80-a963-11e9-86a6-17dd3fcf6b71.png)

When I'm pressing `L` to rename `func_0x00000a9c` it shows me `memchr`:
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://user-images.githubusercontent.com/7189309/61452205-f04dd580-a963-11e9-8a7f-d7ee072bf5e8.png)
",https://github.com/NationalSecurityAgency/ghidra/issues/803#issuecomment-513014346,"The decompiler generally relies on function thunks or address tables to be redirected to an external function.   I don't believe the decompiler will respond well to an external reference placed directly on an instruction within the decompiler function since it requires a real memory address within the pcode and not a fake EXTERNAL space address.   Within ELF the .got, .plt sections or EXTERNAL ""block"" frequently contain thunk functions produced by the importer for this purpose.  Before you added the external reference what was the jal instruction referencing?  Is there a relocation on the jal instruction which was not handled properly?"
NationalSecurityAgency/ghidra,"What steps should I complete to debug JarRun for AnalyzeHeadless or GhidraRun? I‚Äôm using a mac running eclipse. 

‚Ä¢	Are there eclipse settings I need to set to make application.properties file accessible?
‚Ä¢	How do I make the Configurations and Extensions folder accessible during debug?
‚Ä¢	Do I need to replace ‚Äú/_Root/Ghidra/‚Äù with something else?


I was able to load the application.properites with a hack but was stuck again when ghidra was trying to load defaultTools.

The error is thrown because the path to application.properties is invalid.

Exception in thread ""main"" java.lang.NullPointerException
	at ghidra.GhidraJarApplicationLayout.findGhidraApplicationRootDirs(GhidraJarApplicationLayout.java:53)
	at ghidra.GhidraApplicationLayout.<init>(GhidraApplicationLayout.java:46)
	at ghidra.GhidraJarApplicationLayout.<init>(GhidraJarApplicationLayout.java:41)
	at ghidra.JarRun.main(JarRun.java:27)


Thanks for the help.
",https://github.com/NationalSecurityAgency/ghidra/issues/518#issuecomment-487135082,How are you launching JarRun?  Is your eclipse environment just the git repo?
NationalSecurityAgency/ghidra,"In listing it looks like this:
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://user-images.githubusercontent.com/7189309/55720172-dd447480-5a08-11e9-9c84-e28f6d6a024e.png)

Decompiler outputs the following lines:
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://user-images.githubusercontent.com/7189309/55720203-f3eacb80-5a08-11e9-8d4a-d0d7d8957367.png)

Line:
`if (false) break;` is wrong.",https://github.com/NationalSecurityAgency/ghidra/issues/381#issuecomment-480805841,"Code like the if statement you mention will show up when you turn off ""dead code removal"" in the decompiler settings.  Unless I am misunderstanding the data flow I see, are you saying the if (false) should be something else?"
commons-app/apps-android-commons,"A user mentioned that since 2.11 (and still existing in 2.12.1), coordinates are not uploaded with his pictures. He confirms that he can see the coordinates in his stock gallery.",https://github.com/commons-app/apps-android-commons/issues/3336#issuecomment-576992593,Can I work on this?
commons-app/apps-android-commons,"**Summary:** 

I am unable to login through the app, can login through a browser.
Error message says `Chain validation failed`

**Steps to reproduce:** 

_How can we reproduce the issue? What did you expect the app to do, and what did you see instead?_

I ran the project on Android Studio. Then I opened the app and created an account, verified my email and tried to login, which failed.

**System logs:**

```
2020-01-11 14:24:27.816 8174-8174/fr.free.nrw.commons.beta D/LoginActivity: Login to start!
2020-01-11 14:24:27.918 8174-8320/fr.free.nrw.commons.beta D/OkHttp: --> GET https://commons.wikimedia.beta.wmflabs.org/w/api.php?format=json&formatversion=2&errorformat=plaintext&action=query&meta=tokens&type=login
2020-01-11 14:24:27.925 8174-8320/fr.free.nrw.commons.beta D/CookieManager: Domain:commons.wikimedia.beta.wmflabs.org
2020-01-11 14:24:28.841 8174-8320/fr.free.nrw.commons.beta D/OkHttp: <-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Chain validation failed
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: javax.net.ssl.SSLHandshakeException: Chain validation failed
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:229)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:351)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:310)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:178)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:77)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.Transmitter.newExchange$okhttp(Transmitter.kt:162)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:35)
2020-01-11 14:24:28.850 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at fr.free.nrw.commons.OkHttpConnectionFactory$CommonHeaderRequestInterceptor.intercept(OkHttpConnectionFactory.java:56)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at fr.free.nrw.commons.OkHttpConnectionFactory$UnsuccessfulResponseInterceptor.intercept(OkHttpConnectionFactory.java:62)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.kt:215)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at okhttp3.RealCall$AsyncCall.run(RealCall.kt:136)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at java.lang.Thread.run(Thread.java:764)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: Caused by: java.security.cert.CertificateException: Chain validation failed
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:707)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:539)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:560)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:605)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:495)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:418)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:339)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:88)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:208)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.verifyCertificateChain(ConscryptFileDescriptorSocket.java:404)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.NativeSsl.doHandshake(NativeSsl.java:375)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:224)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: 	... 32 more
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at java.security.cert.CertPathValidator.validate(CertPathValidator.java:301)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:703)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: 	... 45 more
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: 	... 50 more
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: 	Suppressed: java.security.cert.CertPathValidatorException: Could not determine revocation status
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.buildToNewKey(RevocationChecker.java:1092)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.verifyWithSeparateSigningKey(RevocationChecker.java:910)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:577)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:465)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:394)
2020-01-11 14:24:28.851 8174-8174/fr.free.nrw.commons.beta E/LoginActivity: 		... 52 more
```

**Device and Android version:** 

Redmi Note 5 Pro
MIUI version 11
Android 9

**Screen-shots:** 

![image](https://user-images.githubusercontent.com/44764339/72201716-0d7be080-347d-11ea-9b14-1c3a54c7f8d6.png)


",https://github.com/commons-app/apps-android-commons/issues/3320#issuecomment-573298773,"Hi @6point022 , thanks for report. Do you able to login from the web interface?"
commons-app/apps-android-commons,"**Steps to reproduce:** 

- Start app
- Go to Nearby

Expected: map centered on Tokyo
Actually: map centered on Puntas Arenas, at the other side of the globe.

Every time.

**Device and Android version:** 

On two different recent phones.
 
**Commons app version:**

2.11.0.500~8472c63",https://github.com/commons-app/apps-android-commons/issues/3231#issuecomment-559738663,"I tested it again, it puts me to my current location correctly. Can you share some logs for this @nicolas-raoul , or any details you think might be related?"
commons-app/apps-android-commons,"Steps:
- In the app, go to ""Nearby""
- Use it to upload pictures of a few nearby places
- Go to app's home activity (maybe after killing the app)
- Some pictures appear twice, example:

![Screenshot_20191127-135634_Commons](https://user-images.githubusercontent.com/99590/69695388-83232b80-111f-11ea-89fe-ca5a19d87d06.jpg)

Not sure whether Nearby is relevant or not.",https://github.com/commons-app/apps-android-commons/issues/3225#issuecomment-559061053,"@nicolas-raoul It even happens to me when I just upload  new picture.It doesn't show the new picture instead it shows the second latest picture but it gets resolved in few minutes.So I think it's because of late responds from the server.
Did it got resolved for you after you saw it again?"
commons-app/apps-android-commons,"**Summary:** 

Improve the share message of the app

**Steps to reproduce:** 

- Enter the about activity.
- Click the share icon.
- The message sent on sharing the app can be improved a bit by adding some punctuations. 

**Commons app version:** 

2.11.0-debug-master

**Would you like to work on the issue?**

Opening this issue for GCI.",https://github.com/commons-app/apps-android-commons/issues/3192#issuecomment-550218845,"Hi @yashk2000 , would you mind sharing GCI task specifications etc.? I am not sure if this issue is really needed. What punctuation do you want to change? Can you provide current and updated strings?"
commons-app/apps-android-commons,"Execution failed for task ':app:mergeBetaDebugResources'.
> /home/travis/build/commons-app/apps-android-commons/app/src/main/res/values-tt-cyrl: Error: Invalid resource directory name",https://github.com/commons-app/apps-android-commons/issues/3188#issuecomment-547406913,@misaochan renaming the file to `values-b+tt+Cyrl` does not cause the error to occur on my laptop. Should I rename the file accordingly and send a pr?
commons-app/apps-android-commons,"As I can't find this in the documentation (but now here on Issues on a screenshot) I reported here:  https://phabricator.wikimedia.org/T232142 (closed because of this).

**Edit:** The relevant code seems here: https://github.com/commons-app/apps-android-commons/blob/11d36189d4d8dbac49f5d5c86a1b3b7e1166f266/app/src/main/java/fr/free/nrw/commons/delete/DeleteHelper.java#L116

It seems very false to take the creator of the file (but I don't get the code on https://github.com/commons-app/apps-android-commons/blob/5865d59d22124471470fb16fd847bbdc3d42bea0/app/src/main/java/fr/free/nrw/commons/Media.java#L337

As a maintainer of the desktop version, I can say there is an Api request needed to get the list of uploaders (here it seems there is only taken a single user/string, but I don't understand Java really). ",https://github.com/commons-app/apps-android-commons/issues/3147#issuecomment-530045753,"During the past 2 weeks I noticed a malfunction that might be a bug of this app: If a user creates a deletion request the notification is not sent to the uploader as it should be but to the name the 'author' field contains. If author and uploader are the same that doesn't matter but if the author (for example an author name imported from flickr) doesn't have a user account on Commons the notification fails. One of several examples can be seen here: https://commons.wikimedia.org/wiki/User_talk:David_W._Carmichael --Achim55
Next hit as of today: https://commons.wikimedia.org/wiki/User_talk:%D0%9C%D0%BE%D0%BD%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82_g.K.

@nicolas-raoul: This bug is a real problem. I don't like to fix almost daily the bad results on Commons. Best, Achim55 (Sysop on Commons)

Next hit: https://commons.wikimedia.org/wiki/User_talk:Luigi_Novi
Next hit: https://commons.wikimedia.org/wiki/User_talk:Amazon
Next hit: https://commons.wikimedia.org/wiki/User_talk:Chris_Wonderly
Should we disable Android access to Commons temporarily? Achim.

Next hit: https://commons.wikimedia.org/wiki/User_talk:D%C3%A9partement_des_Hauts-de-Seine
Next hit: https://commons.wikimedia.org/wiki/User_talk:Original:_Unknown,_foto%C4%9Fraf:_Rachmat04
Next hit: https://commons.wikimedia.org/wiki/User_talk:Tadeusz_Mieczy%C5%84ski
Next hit: https://commons.wikimedia.org/wiki/User_talk:Meodipt_(talk)
Next hit: https://commons.wikimedia.org/wiki/User_talk:Cobus_Rademeyer
Next hit: https://commons.wikimedia.org/wiki/User_talk:Warner_Bros.
@misaochan : Is there a real chance to get this issue solved?
"
commons-app/apps-android-commons,"A report from one of our users:

I had trouble with the app and then uninstalled and reinstalled but I simply cannot log in. (I have 2FA enabled). I can login via browser the app simply says failed login (and then too many failed logins)",https://github.com/commons-app/apps-android-commons/issues/3144#issuecomment-525631431,@misaochan Is this happening for all users? Can someone with 2FA enabled try to reproduce the issue in a debuggable app and share the logs. 
commons-app/apps-android-commons,"I uploaded a few pictures a few days ago using the latest version of the app. An automatic category to sort the pictures by date was added to each of them, which is cool, but the [category ](https://commons.wikimedia.org/w/index.php?title=Category:Photographs_taken_on_10._08._20&action=edit&redlink=1
)does not exist:

See eg:
https://commons.wikimedia.org/wiki/File:Krucifix_na_z%C3%A1pad_od_Zl%C3%AD%C4%8Dka.jpg

Also the app thinks I uploaded them on 10th August 2020 rather then 2019... could that be a problem with my phone, though?

",https://github.com/commons-app/apps-android-commons/issues/3126#issuecomment-520550666,"Hmm, I've just tested the alpha and found no issue with the date taken - https://commons.wikimedia.org/wiki/File:San_Gimignano_2.jpg . The hidden category https://commons.wikimedia.org/wiki/Category:Photographs_taken_on_2019-07-05 does exist for me - I suspect the reason it doesn't exist for you is because the date is in 2020. :)

Is anyone else able to reproduce this? Vojtech does your phone display the current date correctly to you (aside from this app)?"
commons-app/apps-android-commons,"I can't open achivements in my phone Redmi4x API 25 and emulator Nexus One API 22. 
I see this..
![Screenshot_1562567325](https://user-images.githubusercontent.com/52326878/60787699-5e73ea80-a163-11e9-8c82-a9270ff46aac.png)

Then this..
![Screenshot_1562567288](https://user-images.githubusercontent.com/52326878/60787724-6c297000-a163-11e9-8a79-b4dd76323127.png)

On my phone the situation is similar. Version 2.10.2

""Run"" in android studio writes:

```
E/ComplexColorCompat: Failed to inflate ComplexColor.
    android.content.res.Resources$NotFoundException: Resource ID #0x0
        at android.content.res.Resources.getValue(Resources.java:1266)
        at android.content.res.Resources.loadXmlResourceParser(Resources.java:2649)
        at android.content.res.Resources.getXml(Resources.java:1131)
        at androidx.core.content.res.ComplexColorCompat.createFromXml(ComplexColorCompat.java:152)
        at androidx.core.content.res.ComplexColorCompat.inflate(ComplexColorCompat.java:140)
        at androidx.core.content.res.TypedArrayUtils.getNamedComplexColor(TypedArrayUtils.java:150)
        at androidx.vectordrawable.graphics.drawable.VectorDrawableCompat$VFullPath.updateStateFromTypedArray(VectorDrawableCompat.java:1921)
        at androidx.vectordrawable.graphics.drawable.VectorDrawableCompat$VFullPath.inflate(VectorDrawableCompat.java:1887)
        at androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.inflateInternal(VectorDrawableCompat.java:836)
        at androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.inflate(VectorDrawableCompat.java:723)
        at androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.createFromXmlInner(VectorDrawableCompat.java:682)
        at androidx.appcompat.widget.AppCompatDrawableManager$VdcInflateDelegate.createFromXmlInner(AppCompatDrawableManager.java:777)
        at androidx.appcompat.widget.AppCompatDrawableManager.loadDrawableFromDelegates(AppCompatDrawableManager.java:368)
        at androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:200)
        at androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:193)
        at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:102)
        at androidx.appcompat.widget.AppCompatImageHelper.loadFromAttributes(AppCompatImageHelper.java:59)
        at androidx.appcompat.widget.AppCompatImageView.<init>(AppCompatImageView.java:78)
        at androidx.appcompat.widget.AppCompatImageView.<init>(AppCompatImageView.java:68)
        at androidx.appcompat.app.AppCompatViewInflater.createImageView(AppCompatViewInflater.java:187)
        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:107)
        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1266)
        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1316)
        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:725)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)
        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)
        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:141)
        at fr.free.nrw.commons.achievements.AchievementsActivity.onCreate(AchievementsActivity.java:123)
        at android.app.Activity.performCreate(Activity.java:5990)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)
        at android.app.ActivityThread.access$800(ActivityThread.java:151)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:135)
        at android.app.ActivityThread.main(ActivityThread.java:5254)
        at java.lang.reflect.Method.invoke(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:372)
    	at com.android.internal.os.ZygoteInit$MethodAndArgsCal
```

",https://github.com/commons-app/apps-android-commons/issues/3058#issuecomment-509130743,"It used to work, then broke, then the latest commit in master is supposed to fix this, if I understand correctly.
Could you please post a screenshot of your About screen? :-)"
commons-app/apps-android-commons,"**Summary:** 

Every time I go into Achievements, it says ""error occurred"" and gives me a blank page. Logging out and in again does not fix the problem.

**System logs:**
```
06-24 19:30:56,760     [INFO ] [file-logging-thread-1] [OkHttpJsonApiClient] : Url https://tools.wmflabs.org/urbanecmbot/commonsmisc/feedback.py?user=misaochan
2019-06-24 19:30:57,817     [DEBUG] [file-logging-thread-1] [OkHttpJsonApiClient] : Response for achievements is Content-type: application/json

2019-06-24 19:30:58,947     [ERROR] [file-logging-thread-1] [AchievementsActivity] : Fetching upload count failed
java.lang.IllegalStateException: closed
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:407)
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:401)
	at okhttp3.internal.Util.bomAwareCharset(Util.java:471)
	at okhttp3.ResponseBody.string(ResponseBody.java:175)
	at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$getUploadCount$0$OkHttpJsonApiClient(OkHttpJsonApiClient.java:102)
	at fr.free.nrw.commons.mwapi.-$$Lambda$OkHttpJsonApiClient$9ZpGX0U5Zngts_jcRCFls7FtEIM.call(Unknown Source:4)
	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
	at io.reactivex.Single.subscribe(Single.java:3438)
	at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
	at java.lang.Thread.run(Thread.java:764)

2019-06-24 19:31:01,228     [INFO ] [file-logging-thread-1] [OkHttpJsonApiClient] : Url https://tools.wmflabs.org/urbanecmbot/commonsmisc/feedback.py?user=misaochan
2019-06-24 19:31:01,235     [ERROR] [file-logging-thread-1] [ContributionsFragment] : onFragmentResumed fr.free.nrw.commons.contributions.ContributionsListFragment
2019-06-24 19:31:01,286     [DEBUG] [file-logging-thread-1] [LocationServiceManager] : on location changed
2019-06-24 19:31:01,687     [DEBUG] [file-logging-thread-1] [CustomApiResult] : API response for method https://commons.wikimedia.org/w/api.php is
 <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><userinfo id=""4512262"" name=""Misaochan""/></query></api>
2019-06-24 19:31:01,691     [DEBUG] [file-logging-thread-1] [CustomMwApi] : User id is 4512262 and user name is Misaochan
2019-06-24 19:31:01,692     [DEBUG] [file-logging-thread-1] [ApacheHttpClientMediaWikiApi] : Validate login response is true
2019-06-24 19:31:02,111     [ERROR] [file-logging-thread-1] [ContributionsFragment] : Fetching upload count failed
java.lang.IllegalStateException: closed
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:407)
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:401)
	at okhttp3.internal.Util.bomAwareCharset(Util.java:471)
	at okhttp3.ResponseBody.string(ResponseBody.java:175)
	at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$getUploadCount$0$OkHttpJsonApiClient(OkHttpJsonApiClient.java:102)
	at fr.free.nrw.commons.mwapi.-$$Lambda$OkHttpJsonApiClient$9ZpGX0U5Zngts_jcRCFls7FtEIM.call(Unknown Source:4)
	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
	at io.reactivex.Single.subscribe(Single.java:3438)
	at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
	at java.lang.Thread.run(Thread.java:764)

2019-06-24 19:31:02,194     [ERROR] [file-logging-thread-1] [QuizChecker] : Fetching upload count failed
java.lang.IllegalStateException: closed
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:407)
	at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:401)
	at okhttp3.internal.Util.bomAwareCharset(Util.java:471)
	at okhttp3.ResponseBody.string(ResponseBody.java:175)
	at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$getUploadCount$0$OkHttpJsonApiClient(OkHttpJsonApiClient.java:102)
	at fr.free.nrw.commons.mwapi.-$$Lambda$OkHttpJsonApiClient$9ZpGX0U5Zngts_jcRCFls7FtEIM.call(Unknown Source:4)
	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
	at io.reactivex.Single.subscribe(Single.java:3438)
	at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
	at java.lang.Thread.run(Thread.java:764)

2019-06-24 19:31:02,225     [DEBUG] [file-logging-thread-1] [OkHttpJsonApiClient] : Response for achievements is Content-type: application/json
2019-06-24 19:31:02,277     [DEBUG] [file-logging-thread-1] [MainActivity] : Number of notifications is 0
```

**Device and Android version:** 

Samsung Galaxy S9 Android 8.1

**Commons app version:** 

Play Store alpha (current master)

",https://github.com/commons-app/apps-android-commons/issues/3036#issuecomment-505341733,"API is not returning a response for me 

https://tools.wmflabs.org/urbanecmbot/commonsmisc/feedback.py?user=Maskaravivek

@urbanecm Would you be able to check this? "
commons-app/apps-android-commons,"In a 4 pictures set.

At third picture, the button does nothing when pressed (even though caption&description of second picture is filled).

At fourth picture, the button does nothing when pressed (even though I filled manually the caption&description of the third picture).",https://github.com/commons-app/apps-android-commons/issues/3035#issuecomment-504931268,"@nicolas-raoul , does this only happen in gsoc2019 branch, or also in the Play Store alpha (master)? "
commons-app/apps-android-commons,"**Summary:** 

Travis builds are failing, I think in the command publishing the alpha build to the play store. This is after updating to Gradle 5 (I merged #2860 - everything seemed to be working, it built fine and tests passed - sorry for breaking it).

Have taken a look myself but not sure how to fix - @maskaravivek I'm hoping you might? Otherwise we can revert the changes until we think publishing to Google Play from Travis works again.",https://github.com/commons-app/apps-android-commons/issues/3018#issuecomment-501876140,Can we revert until a solution is found? Otherwise we have to revert it for each branch that we sync with master to test them.
commons-app/apps-android-commons,"Steps:
1. Start uploading a file
2. Choose 2 categories
3. Erase everything from the categories search field
4. Expected: Only selected categories are shown. Actually: Non-selected categories are shown too.

This might be a problem in master too, I have not tried.

![Screenshot_20190603-141713_Commons](https://user-images.githubusercontent.com/99590/58777753-c7b78980-860a-11e9-8e20-eea0bbebb588.jpg)
",https://github.com/commons-app/apps-android-commons/issues/2984#issuecomment-506976169,@nicolas-raoul I am not able to reproduce the issue. Does the issue still persist?
commons-app/apps-android-commons,"**Summary:** 
Images doesnt seems properly on MediaDetailsActivity and contributions list.

**Screen-shots:** 
See vertically, 
![Screenshot from 2019-04-24 15-43-55](https://user-images.githubusercontent.com/3127881/56669840-74bcef00-66ba-11e9-90dc-537bc10bf63b.png)

and horizontally,
![image](https://user-images.githubusercontent.com/3127881/56670200-180e0400-66bb-11e9-9a06-b3bc90228fc3.png)

",https://github.com/commons-app/apps-android-commons/issues/2923#issuecomment-486361018,"@neslihanturan This would have got introduced after my recent changes in #2906. I am currently using `fitXY` stretch mode for images ie. 

```
android:scaleType=""fitXY""
```

Should we use some other scale type? 

https://developer.android.com/reference/android/widget/ImageView.ScaleType



"
commons-app/apps-android-commons,"From a user on our FB page:

> 2. very often the app will add a space at the end of the filename. since i'm a commons admin i'm able to quickly move and replace. but the app should probably make the check and remove any spaces appearing right before the extension ""abc_.jpg"" > ""abc.jpg""

This is probably v2.10.2 since both beta and prod Play Store versions are on it, and she mentioned she recently reinstalled the app. Hopefully she'll submit a crash report for a crash that she mentioned, then we can get her Android version etc without having to ask her to find and repeat everything.",https://github.com/commons-app/apps-android-commons/issues/2917#issuecomment-490039763,"Hi.
Could it be due to the following line of code?
`                String canonicalFilename = ""File:"" + result.getString(""/api/upload/@filename"").replace(""_"", "" ""); // Title vs Filename
`
Is there a need to replace underscore back with space? "
commons-app/apps-android-commons,"2.10.2.388 (latest master as of now)
Scrolling down shows 5 images, then the last 3 are repeated forever:
https://i.imgur.com/AEFqTlY.mp4",https://github.com/commons-app/apps-android-commons/issues/2892#issuecomment-484373255,I experience d the same issue today. Does anyone remember any PR that effects contributions list recently?
commons-app/apps-android-commons,"**Summary:** 
Getting a network error on login. I have tried with multiple accounts and on multiple devices. The prodDebug works fine, this problem is only with the betaDebug.

**Steps to reproduce:** 
Login to the app with the latest betaDebug build.

**Device and Android version:** 
Google Pixel 3 API level 28 stock android.
 
**Commons app version:** 
betaDebug
2.10.2-debug-master~08a555c09

**Logs**
```
2019-04-10 17:09:25.380 1862-1862/? I/Zygote: seccomp disabled by setenforce 0
2019-04-10 17:09:25.381 1862-1862/? I/rw.commons.bet: Late-enabling -Xcheck:jni
2019-04-10 17:09:25.414 1862-1862/? W/rw.commons.bet: Unexpected CPU variant for X86 using defaults: x86
2019-04-10 17:09:25.556 1862-1862/fr.free.nrw.commons.beta W/ActivityThread: Application fr.free.nrw.commons.beta is waiting for the debugger on port 8100...
2019-04-10 17:09:25.567 1862-1862/fr.free.nrw.commons.beta I/System.out: Sending WAIT chunk
2019-04-10 17:09:27.010 1862-1862/fr.free.nrw.commons.beta I/System.out: Debugger has connected
2019-04-10 17:09:27.010 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:27.215 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:27.418 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:28.230 1862-1862/fr.free.nrw.commons.beta I/chatty: uid=10070(fr.free.nrw.commons.beta) identical 4 lines
2019-04-10 17:09:28.442 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:28.643 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:28.843 1862-1862/fr.free.nrw.commons.beta I/chatty: uid=10070(fr.free.nrw.commons.beta) identical 1 line
2019-04-10 17:09:29.044 1862-1862/fr.free.nrw.commons.beta I/System.out: waiting for debugger to settle...
2019-04-10 17:09:29.246 1862-1862/fr.free.nrw.commons.beta I/System.out: debugger has settled (1480)
2019-04-10 17:09:29.258 1862-1862/fr.free.nrw.commons.beta I/rw.commons.bet: The ClassLoaderContext is a special shared library.
2019-04-10 17:09:29.298 1862-1862/fr.free.nrw.commons.beta E/LoadedApk: Unable to instantiate appComponentFactory
    java.lang.ClassNotFoundException: Didn't find class ""fr.free.nrw.commons.beta.commons"" on path: DexPathList[[zip file ""/system/framework/org.apache.http.legacy.boot.jar"", zip file ""/data/app/fr.free.nrw.commons.beta-_ohtdFfdXkNP6wynAE6nNg==/base.apk""],nativeLibraryDirectories=[/data/app/fr.free.nrw.commons.beta-_ohtdFfdXkNP6wynAE6nNg==/lib/x86, /data/app/fr.free.nrw.commons.beta-_ohtdFfdXkNP6wynAE6nNg==/base.apk!/lib/x86, /system/lib, /system/vendor/lib]]
        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
        at android.app.LoadedApk.createAppFactory(LoadedApk.java:226)
        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:731)
        at android.app.LoadedApk.getClassLoader(LoadedApk.java:810)
        at android.app.LoadedApk.getResources(LoadedApk.java:1032)
        at android.app.ContextImpl.createAppContext(ContextImpl.java:2345)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5760)
        at android.app.ActivityThread.access$1100(ActivityThread.java:200)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
2019-04-10 17:09:31.802 1862-1862/fr.free.nrw.commons.beta I/ACRA: ACRA is enabled for fr.free.nrw.commons.beta, initializing...
2019-04-10 17:09:32.150 1862-1862/fr.free.nrw.commons.beta D/NetworkSecurityConfig: No Network Security Config specified, using platform default
2019-04-10 17:09:32.461 1862-1862/fr.free.nrw.commons.beta D/SoLoader: init start
2019-04-10 17:09:32.462 1862-1862/fr.free.nrw.commons.beta D/SoLoader: adding system library source: /vendor/lib
2019-04-10 17:09:32.462 1862-1862/fr.free.nrw.commons.beta D/SoLoader: adding system library source: /system/lib
2019-04-10 17:09:32.466 1862-1862/fr.free.nrw.commons.beta D/SoLoader: adding application source: com.facebook.soloader.DirectorySoSource[root = /data/app/fr.free.nrw.commons.beta-_ohtdFfdXkNP6wynAE6nNg==/lib/x86 flags = 0]
2019-04-10 17:09:32.468 1862-1862/fr.free.nrw.commons.beta D/SoLoader: adding backup source from : com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-main flags = 1]
2019-04-10 17:09:32.472 1862-1862/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /system/lib flags = 2]
2019-04-10 17:09:32.472 1862-1862/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /system/vendor/lib flags = 2]
2019-04-10 17:09:32.473 1862-1862/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /data/app/fr.free.nrw.commons.beta-_ohtdFfdXkNP6wynAE6nNg==/lib/x86 flags = 0]
2019-04-10 17:09:32.473 1862-1862/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-main flags = 1]
2019-04-10 17:09:32.480 1862-1862/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-04-10 17:09:32.495 1862-1862/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-04-10 17:09:32.495 1862-1862/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-04-10 17:09:32.497 1862-1862/fr.free.nrw.commons.beta D/SoLoader: init finish: 4 SO sources prepared
2019-04-10 17:09:32.497 1862-1862/fr.free.nrw.commons.beta D/SoLoader: init exiting
2019-04-10 17:09:32.547 1862-1889/fr.free.nrw.commons.beta I/stetho: Listening on @stetho_fr.free.nrw.commons.beta_devtools_remote
2019-04-10 17:09:32.665 1862-1892/fr.free.nrw.commons.beta D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.
2019-04-10 17:09:32.665 1862-1892/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLES_emulation.so from current namespace instead of sphal namespace.
2019-04-10 17:09:32.666 1862-1892/fr.free.nrw.commons.beta E/libEGL: load_driver(/vendor/lib/egl/libGLES_emulation.so): dlopen failed: library ""/vendor/lib/egl/libGLES_emulation.so"" not found
2019-04-10 17:09:32.666 1862-1892/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libEGL_emulation.so from current namespace instead of sphal namespace.
2019-04-10 17:09:32.664 1862-1862/fr.free.nrw.commons.beta I/fr.free.nrw.commons.beta: type=1400 audit(0.0:687): avc: denied { write } for comm=45474C20496E6974 name=""property_service"" dev=""tmpfs"" ino=8382 scontext=u:r:untrusted_app:s0:c70,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=1
2019-04-10 17:09:32.668 1862-1892/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so
2019-04-10 17:09:32.670 1862-1892/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLESv1_CM_emulation.so from current namespace instead of sphal namespace.
2019-04-10 17:09:32.671 1862-1892/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so
2019-04-10 17:09:32.687 1862-1892/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLESv2_emulation.so from current namespace instead of sphal namespace.
2019-04-10 17:09:32.695 1862-1892/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so
2019-04-10 17:09:34.513 1862-1862/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Landroid/view/View;->computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)
2019-04-10 17:09:34.514 1862-1862/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Landroid/view/ViewGroup;->makeOptionalFitsSystemWindows()V (light greylist, reflection)
2019-04-10 17:09:34.565 1862-1862/fr.free.nrw.commons.beta D/OpenGLRenderer: Skia GL Pipeline
2019-04-10 17:09:35.284 1862-1894/fr.free.nrw.commons.beta I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0
2019-04-10 17:09:35.284 1862-1894/fr.free.nrw.commons.beta I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0
2019-04-10 17:09:35.284 1862-1894/fr.free.nrw.commons.beta I/OpenGLRenderer: Initialized EGL, version 1.4
2019-04-10 17:09:35.284 1862-1894/fr.free.nrw.commons.beta D/OpenGLRenderer: Swap behavior 1
2019-04-10 17:09:35.310 1862-1894/fr.free.nrw.commons.beta D/EGL_emulation: eglCreateContext: 0xca9163a0: maj 2 min 0 rcv 2
2019-04-10 17:09:35.505 1862-1894/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/hw/android.hardware.graphics.mapper@2.0-impl.so from current namespace instead of sphal namespace.
2019-04-10 17:09:35.511 1862-1894/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/hw/gralloc.vbox86.so from current namespace instead of sphal namespace.
2019-04-10 17:09:35.542 1862-1894/fr.free.nrw.commons.beta E/EGL_emulation: tid 1894: eglSurfaceAttrib(1354): error 0x3009 (EGL_BAD_MATCH)
2019-04-10 17:09:35.542 1862-1894/fr.free.nrw.commons.beta W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xca9162e0, error=EGL_BAD_MATCH
2019-04-10 17:09:35.809 1862-1862/fr.free.nrw.commons.beta I/Choreographer: Skipped 66 frames!  The application may be doing too much work on its main thread.
2019-04-10 17:09:36.448 1862-1894/fr.free.nrw.commons.beta I/OpenGLRenderer: Davey! duration=1744ms; Flags=0, IntendedVsync=126693300680, Vsync=127793300636, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=127810388667, AnimationStart=127810579729, PerformTraversalsStart=127811366138, DrawStart=127818070226, SyncQueued=127901317685, SyncStart=127912076307, IssueDrawCommandsStart=127912169349, SwapBuffers=128431916342, FrameCompleted=128448408334, DequeueBufferDuration=272000, QueueBufferDuration=1112000, 
2019-04-10 17:09:36.709 1862-1862/fr.free.nrw.commons.beta I/Choreographer: Skipped 51 frames!  The application may be doing too much work on its main thread.
2019-04-10 17:09:37.017 1862-1894/fr.free.nrw.commons.beta I/OpenGLRenderer: Davey! duration=1168ms; Flags=0, IntendedVsync=127849659481, Vsync=128699659447, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=128709521616, AnimationStart=128709744474, PerformTraversalsStart=128713201022, DrawStart=128969711665, SyncQueued=129003185596, SyncStart=129003218195, IssueDrawCommandsStart=129003295834, SwapBuffers=129003888995, FrameCompleted=129017754464, DequeueBufferDuration=173000, QueueBufferDuration=327000, 
2019-04-10 17:09:52.709 1862-1862/fr.free.nrw.commons.beta W/View: requestLayout() improperly called by com.google.android.material.textfield.TextInputEditText{afb762 VFED..CL. ......ID 0,0-912,126 #7f090151 app:id/login_password} during layout: running second layout pass
2019-04-10 17:09:56.119 1862-1903/fr.free.nrw.commons.beta D/ContributionsSyncAdapter: Syncing failed due to javax.net.ssl.SSLHandshakeException: Chain validation failed
2019-04-10 17:10:01.465 1862-1862/fr.free.nrw.commons.beta D/LoginActivity: Login to start!
2019-04-10 17:10:02.084 1862-1862/fr.free.nrw.commons.beta I/Choreographer: Skipped 37 frames!  The application may be doing too much work on its main thread.
2019-04-10 17:10:02.252 1862-1894/fr.free.nrw.commons.beta E/EGL_emulation: tid 1894: eglSurfaceAttrib(1354): error 0x3009 (EGL_BAD_MATCH)
2019-04-10 17:10:02.252 1862-1894/fr.free.nrw.commons.beta W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xca1f9aa0, error=EGL_BAD_MATCH
2019-04-10 17:10:02.282 1862-1894/fr.free.nrw.commons.beta I/OpenGLRenderer: Davey! duration=823ms; Flags=1, IntendedVsync=153458768796, Vsync=154075435438, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=154085025884, AnimationStart=154085225226, PerformTraversalsStart=154089524529, DrawStart=154254217259, SyncQueued=154262845745, SyncStart=154263147407, IssueDrawCommandsStart=154263239831, SwapBuffers=154263679167, FrameCompleted=154282564970, DequeueBufferDuration=74000, QueueBufferDuration=309000, 
2019-04-10 17:10:03.492 1862-1862/fr.free.nrw.commons.beta D/LoginActivity: Login done!
2019-04-10 17:10:22.049 1862-1894/fr.free.nrw.commons.beta E/EGL_emulation: tid 1894: eglSurfaceAttrib(1354): error 0x3009 (EGL_BAD_MATCH)
2019-04-10 17:10:22.049 1862-1894/fr.free.nrw.commons.beta W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xca1f9aa0, error=EGL_BAD_MATCH
2019-04-10 17:10:24.721 1862-1894/fr.free.nrw.commons.beta D/OpenGLRenderer: endAllActiveAnimators on 0xc914aa80 (RippleDrawable) with handle 0xc7d7fe30
2019-04-10 17:10:25.121 1862-1862/fr.free.nrw.commons.beta W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@ae68b02
2019-04-10 17:10:25.268 1862-1862/fr.free.nrw.commons.beta I/AppCompatViewInflater: app:theme is now deprecated. Please move to using android:theme instead.
2019-04-10 17:10:25.682 1862-1862/fr.free.nrw.commons.beta I/Choreographer: Skipped 36 frames!  The application may be doing too much work on its main thread.
2019-04-10 17:10:25.837 1862-1862/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Ldalvik/system/CloseGuard;->get()Ldalvik/system/CloseGuard; (light greylist, reflection)
2019-04-10 17:10:25.837 1862-1862/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Ldalvik/system/CloseGuard;->open(Ljava/lang/String;)V (light greylist, reflection)
2019-04-10 17:10:25.838 1862-1862/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Ldalvik/system/CloseGuard;->warnIfOpen()V (light greylist, reflection)
2019-04-10 17:10:26.105 1862-1909/fr.free.nrw.commons.beta D/OkHttp: --> GET https://commons.wikimedia.beta.wmflabs.org/w/api.php?action=query&format=json&formatversion=2&generator=categorymembers&gcmtype=file&gcmtitle=Category%3AFeatured_pictures_on_Wikimedia_Commons&gcmsort=timestamp&gcmdir=desc&gcmlimit=10&prop=imageinfo&iiprop=url%7Cextmetadata&iiextmetadatafilter=DateTime%7CCategories%7CGPSLatitude%7CGPSLongitude%7CImageDescription%7CDateTimeOriginal%7CArtist%7CLicenseShortName%7CLicenseUrl&iiextmetadatalanguage=en
2019-04-10 17:10:26.106 1862-1909/fr.free.nrw.commons.beta D/OkHttp: --> END GET
2019-04-10 17:10:26.294 1862-1919/fr.free.nrw.commons.beta D/OkHttp: --> GET https://commons.wikimedia.beta.wmflabs.org/w/api.php?action=query&format=json&formatversion=2&generator=categorymembers&gcmtype=file&gcmtitle=Category%3AUploaded_with_Mobile%2FAndroid&gcmsort=timestamp&gcmdir=desc&gcmlimit=10&prop=imageinfo&iiprop=url%7Cextmetadata&iiextmetadatafilter=DateTime%7CCategories%7CGPSLatitude%7CGPSLongitude%7CImageDescription%7CDateTimeOriginal%7CArtist%7CLicenseShortName%7CLicenseUrl&iiextmetadatalanguage=en
2019-04-10 17:10:26.318 1862-1919/fr.free.nrw.commons.beta D/OkHttp: --> END GET
2019-04-10 17:10:26.494 1862-1894/fr.free.nrw.commons.beta E/EGL_emulation: tid 1894: eglSurfaceAttrib(1354): error 0x3009 (EGL_BAD_MATCH)
2019-04-10 17:10:26.494 1862-1894/fr.free.nrw.commons.beta W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xca1f9aa0, error=EGL_BAD_MATCH
2019-04-10 17:10:26.570 1862-1909/fr.free.nrw.commons.beta W/rw.commons.bet: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;->setAlpnProtocols([B)V (light greylist, reflection)
2019-04-10 17:10:27.038 1862-1862/fr.free.nrw.commons.beta I/Choreographer: Skipped 76 frames!  The application may be doing too much work on its main thread.
2019-04-10 17:10:27.244 1862-1894/fr.free.nrw.commons.beta I/OpenGLRenderer: Davey! duration=1466ms; Flags=0, IntendedVsync=177771165658, Vsync=179037832274, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=179038700353, AnimationStart=179038789789, PerformTraversalsStart=179051953388, DrawStart=179082790986, SyncQueued=179164573600, SyncStart=179171956409, IssueDrawCommandsStart=179172078174, SwapBuffers=179225233464, FrameCompleted=179244672483, DequeueBufferDuration=744000, QueueBufferDuration=444000, 
2019-04-10 17:10:28.201 1862-1909/fr.free.nrw.commons.beta D/OkHttp: <-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Chain validation failed
2019-04-10 17:10:28.253 1862-1919/fr.free.nrw.commons.beta D/OkHttp: <-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Chain validation failed
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Error occurred while loading images inside a category
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: javax.net.ssl.SSLHandshakeException: Chain validation failed
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:229)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:319)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:283)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:168)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.350 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:213)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.RealCall.execute(RealCall.java:92)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$getMediaList$6(OkHttpJsonApiClient.java:317)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at fr.free.nrw.commons.mwapi.-$$Lambda$OkHttpJsonApiClient$jCyuoWxfOayLs2lvJTuaeya3l4A.call(Unknown Source:6)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.Single.subscribe(Single.java:3438)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.lang.Thread.run(Thread.java:764)
2019-04-10 17:10:28.351 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertificateException: Chain validation failed
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:707)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:539)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:560)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:605)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:495)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:418)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:339)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:88)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:208)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.verifyCertificateChain(ConscryptFileDescriptorSocket.java:404)
2019-04-10 17:10:28.352 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.NativeSsl.doHandshake(NativeSsl.java:375)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:224)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 35 more
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.security.cert.CertPathValidator.validate(CertPathValidator.java:301)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:703)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 48 more
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)
2019-04-10 17:10:28.354 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 53 more
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	Suppressed: java.security.cert.CertPathValidatorException: Could not determine revocation status
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.buildToNewKey(RevocationChecker.java:1092)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.verifyWithSeparateSigningKey(RevocationChecker.java:910)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:577)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:465)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:394)
2019-04-10 17:10:28.355 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 		... 55 more
2019-04-10 17:10:28.756 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Error occurred while loading images inside a category
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: javax.net.ssl.SSLHandshakeException: Chain validation failed
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:229)
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:319)
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:283)
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:168)
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
2019-04-10 17:10:28.757 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.758 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:213)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
2019-04-10 17:10:28.759 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at okhttp3.RealCall.execute(RealCall.java:92)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$getMediaList$6(OkHttpJsonApiClient.java:317)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at fr.free.nrw.commons.mwapi.-$$Lambda$OkHttpJsonApiClient$jCyuoWxfOayLs2lvJTuaeya3l4A.call(Unknown Source:6)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.Single.subscribe(Single.java:3438)
2019-04-10 17:10:28.761 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
2019-04-10 17:10:28.762 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
2019-04-10 17:10:28.763 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
2019-04-10 17:10:28.763 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
2019-04-10 17:10:28.764 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.lang.Thread.run(Thread.java:764)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertificateException: Chain validation failed
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:707)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:539)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:560)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrustedRecursive(TrustManagerImpl.java:605)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:495)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:418)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.getTrustedChainForServer(TrustManagerImpl.java:339)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at android.security.net.config.NetworkSecurityTrustManager.checkServerTrusted(NetworkSecurityTrustManager.java:94)
2019-04-10 17:10:28.766 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at android.security.net.config.RootTrustManager.checkServerTrusted(RootTrustManager.java:88)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.Platform.checkServerTrusted(Platform.java:208)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.verifyCertificateChain(ConscryptFileDescriptorSocket.java:404)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.NativeSsl.doHandshake(NativeSsl.java:375)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:224)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 35 more
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:222)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:140)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:79)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at java.security.cert.CertPathValidator.validate(CertPathValidator.java:301)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at com.android.org.conscrypt.TrustManagerImpl.verifyChain(TrustManagerImpl.java:703)
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 48 more
2019-04-10 17:10:28.767 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: Caused by: java.security.cert.CertPathValidatorException: Response is unreliable: its validity interval is out-of-date
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.OCSPResponse.verify(OCSPResponse.java:619)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkOCSP(RevocationChecker.java:709)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:363)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:337)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	... 53 more
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 	Suppressed: java.security.cert.CertPathValidatorException: Could not determine revocation status
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.buildToNewKey(RevocationChecker.java:1092)
2019-04-10 17:10:28.769 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.verifyWithSeparateSigningKey(RevocationChecker.java:910)
2019-04-10 17:10:28.770 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:577)
2019-04-10 17:10:28.770 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.checkCRLs(RevocationChecker.java:465)
2019-04-10 17:10:28.770 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment:     at sun.security.provider.certpath.RevocationChecker.check(RevocationChecker.java:394)
2019-04-10 17:10:28.770 1862-1862/fr.free.nrw.commons.beta E/CategoryImagesListFragment: 		... 55 more
2019-04-10 17:10:29.039 1862-1873/fr.free.nrw.commons.beta I/rw.commons.bet: Background concurrent copying GC freed 29749(1752KB) AllocSpace objects, 5(156KB) LOS objects, 49% free, 4MB/8MB, paused 1.915ms total 723.839ms

```

**Screen-shots:** 
![screenshot-2019-04-10_16 39 12 935](https://user-images.githubusercontent.com/30932899/55874184-4960dd00-5baf-11e9-97a4-abf115decda1.png)
![screenshot-2019-04-10_16 39 38 1](https://user-images.githubusercontent.com/30932899/55874186-4960dd00-5baf-11e9-887c-4a93365ce355.png)

",https://github.com/commons-app/apps-android-commons/issues/2875#issuecomment-481653171,@madhurgupta10 are you sure there are no network issues? Because it happens both on Explore and login.
commons-app/apps-android-commons,"**Summary:** 

Today's POTD is massive, which causes max parcel memory limit to be exceeded.

https://upload.wikimedia.org/wikipedia/commons/c/cb/Attacus_taprobanis-Kadavoor-2018-07-13-001.jpg

It would be good to get a smaller version of the file to avoid this.

```
2019-03-30 14:10:13.462 20695-20821/fr.free.nrw.commons E/unknown:: unhandled exception
    java.lang.IllegalArgumentException: RemoteViews for widget update exceeds maximum bitmap memory usage (used: 6000000, max: 5529600)
        at android.os.Parcel.createException(Parcel.java:1946)
        at android.os.Parcel.readException(Parcel.java:1910)
        at android.os.Parcel.readException(Parcel.java:1860)
        at com.android.internal.appwidget.IAppWidgetService$Stub$Proxy.updateAppWidgetIds(IAppWidgetService.java:697)
        at android.appwidget.AppWidgetManager.updateAppWidget(AppWidgetManager.java:515)
        at android.appwidget.AppWidgetManager.updateAppWidget(AppWidgetManager.java:588)
        at fr.free.nrw.commons.widget.PicOfDayAppWidget$1.onNewResultImpl(PicOfDayAppWidget.java:111)
        at com.facebook.imagepipeline.datasource.BaseBitmapDataSubscriber.onNewResultImpl(BaseBitmapDataSubscriber.java:60)
        at com.facebook.datasource.BaseDataSubscriber.onNewResult(BaseDataSubscriber.java:46)
        at com.facebook.datasource.AbstractDataSource$1.run(AbstractDataSource.java:176)
        at com.facebook.common.executors.CallerThreadExecutor.execute(CallerThreadExecutor.java:47)
        at com.facebook.datasource.AbstractDataSource.notifyDataSubscriber(AbstractDataSource.java:167)
        at com.facebook.datasource.AbstractDataSource.notifyDataSubscribers(AbstractDataSource.java:158)
        at com.facebook.datasource.AbstractDataSource.setResult(AbstractDataSource.java:210)
        at com.facebook.imagepipeline.datasource.AbstractProducerToDataSourceAdapter.onNewResultImpl(AbstractProducerToDataSourceAdapter.java:93)
        at com.facebook.imagepipeline.datasource.CloseableProducerToDataSourceAdapter.onNewResultImpl(CloseableProducerToDataSourceAdapter.java:63)
        at com.facebook.imagepipeline.datasource.CloseableProducerToDataSourceAdapter.onNewResultImpl(CloseableProducerToDataSourceAdapter.java:24)
        at com.facebook.imagepipeline.datasource.AbstractProducerToDataSourceAdapter$1.onNewResultImpl(AbstractProducerToDataSourceAdapter.java:71)
        at com.facebook.imagepipeline.producers.BaseConsumer.onNewResult(BaseConsumer.java:97)
        at com.facebook.imagepipeline.producers.MultiplexProducer$Multiplexer.onNextResult(MultiplexProducer.java:452)
        at com.facebook.imagepipeline.producers.MultiplexProducer$Multiplexer$ForwardingConsumer.onNewResultImpl(MultiplexProducer.java:513)
        at com.facebook.imagepipeline.producers.MultiplexProducer$Multiplexer$ForwardingConsumer.onNewResultImpl(MultiplexProducer.java:506)
        at com.facebook.imagepipeline.producers.BaseConsumer.onNewResult(BaseConsumer.java:97)
        at com.facebook.imagepipeline.producers.BitmapMemoryCacheProducer$1.onNewResultImpl(BitmapMemoryCacheProducer.java:167)
        at com.facebook.imagepipeline.producers.BitmapMemoryCacheProducer$1.onNewResultImpl(BitmapMemoryCacheProducer.java:118)
        at com.facebook.imagepipeline.producers.BaseConsumer.onNewResult(BaseConsumer.java:97)
        at com.facebook.imagepipeline.producers.DecodeProducer$ProgressiveDecoder.handleResult(DecodeProducer.java:397)
        at com.facebook.imagepipeline.producers.DecodeProducer$ProgressiveDecoder.doDecode(DecodeProducer.java:319)
        at com.facebook.imagepipeline.producers.DecodeProducer$ProgressiveDecoder.access$200(DecodeProducer.java:124)
        at com.facebook.imagepipeline.producers.DecodeProducer$ProgressiveDecoder$1.run(DecodeProducer.java:166)
        at com.facebook.imagepipeline.producers.JobScheduler.doJob(JobScheduler.java:202)
        at com.facebook.imagepipeline.producers.JobScheduler.access$000(JobScheduler.java:22)
        at com.facebook.imagepipeline.producers.JobScheduler$1.run(JobScheduler.java:73)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)
        at com.facebook.imagepipeline.core.PriorityThreadFactory$1.run(PriorityThreadFactory.java:51)
        at java.lang.Thread.run(Thread.java:764)
```",https://github.com/commons-app/apps-android-commons/issues/2820#issuecomment-478252515,"The API that we use lets us specify the height and width properties. 

```
iiurlwidth, iiurlheight
```

API doc: https://www.mediawiki.org/wiki/API:Imageinfo

We can either choose to send these params for all our media calls, which would mean adding these params in `appendMediaProperties` method. Otherwise, if we want to send these params only for POTD, then `getPictureOfTheDay` needs to be edited. 

Should we hardcode the height and width or should be it determined on the phone's hardware capabilities? @domdomegg @misaochan "
commons-app/apps-android-commons,"**Summary:** 

If there is no internet then clicking search this area button in nearby makes starts loading the map and it takes forever to load. An app kill if require even if the connection is re-established.

**Steps to reproduce:** 

1.Go to nearby
2.After map is loaded turn off internet.
3.move to a different location.
4.Click on search this area button.
5.The app gets stuck at this point. Even if the connection is re-established it requires an app kill to load the nearby

**What did you expect the app to do, and what did you see instead?**

I think Search This Area button should not be there if there is no internet connection.


**Device and Android version:** 

Motorola Moto G5 plus with API 24

**Commons app version:** 

Latest Master 


**Would you like to work on the issue?**

Yes",https://github.com/commons-app/apps-android-commons/issues/2773#issuecomment-477511659,"I noticed that indeed. Could you detail what you plan to do?
- Just remove the ""Search this area"" button?
- Or display an error if connection times out, and retry the next time the user opens that tab or press ""retry""?"
commons-app/apps-android-commons,"**Summary:** 
App is crashing in Tablet, working fine on Phones

**Steps to reproduce:** 
Launch the app in a Tablet

**System logs:**
```
2019-03-27 22:33:45.813 2231-2231/? I/Zygote: seccomp disabled by setenforce 0
2019-03-27 22:33:45.817 2231-2231/? I/rw.commons.bet: Late-enabling -Xcheck:jni
2019-03-27 22:33:45.915 2231-2231/? W/rw.commons.bet: Unexpected CPU variant for X86 using defaults: x86
2019-03-27 22:33:46.261 2231-2231/fr.free.nrw.commons.beta I/rw.commons.bet: The ClassLoaderContext is a special shared library.
2019-03-27 22:33:47.109 2231-2231/fr.free.nrw.commons.beta E/LoadedApk: Unable to instantiate appComponentFactory
    java.lang.ClassNotFoundException: Didn't find class ""fr.free.nrw.commons.beta.commons"" on path: DexPathList[[zip file ""/system/framework/org.apache.http.legacy.boot.jar"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk""],nativeLibraryDirectories=[/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk!/lib/x86, /system/lib, /system/vendor/lib]]
        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
        at android.app.LoadedApk.createAppFactory(LoadedApk.java:226)
        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:731)
        at android.app.LoadedApk.getClassLoader(LoadedApk.java:810)
        at android.app.LoadedApk.getResources(LoadedApk.java:1032)
        at android.app.ContextImpl.createAppContext(ContextImpl.java:2345)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5760)
        at android.app.ActivityThread.access$1100(ActivityThread.java:200)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
    	Suppressed: java.io.IOException: No original dex files found for dex location /data/app/fr.free.nrw.comm
2019-03-27 22:33:47.119 2231-2231/fr.free.nrw.commons.beta W/rw.commons.bet: JIT profile information will not be recorded: profile file does not exits.
2019-03-27 22:33:47.123 2231-2231/fr.free.nrw.commons.beta I/chatty: uid=10071(fr.free.nrw.commons.beta) identical 10 lines
2019-03-27 22:33:47.123 2231-2231/fr.free.nrw.commons.beta W/rw.commons.bet: JIT profile information will not be recorded: profile file does not exits.
2019-03-27 22:33:47.705 2231-2231/fr.free.nrw.commons.beta I/InstantRun: starting instant run server: is main process
2019-03-27 22:33:48.433 2231-2242/fr.free.nrw.commons.beta I/rw.commons.bet: Background concurrent copying GC freed 12378(2MB) AllocSpace objects, 3(52KB) LOS objects, 49% free, 1983KB/3MB, paused 850us total 540.346ms
2019-03-27 22:33:48.599 2231-2231/fr.free.nrw.commons.beta I/ACRA: ACRA is enabled for fr.free.nrw.commons.beta, initializing...
2019-03-27 22:33:48.932 2231-2231/fr.free.nrw.commons.beta D/NetworkSecurityConfig: No Network Security Config specified, using platform default
2019-03-27 22:33:49.257 2231-2231/fr.free.nrw.commons.beta D/SoLoader: init start
2019-03-27 22:33:49.257 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding system library source: /vendor/lib
2019-03-27 22:33:49.258 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding system library source: /system/lib
2019-03-27 22:33:49.258 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding application source: com.facebook.soloader.DirectorySoSource[root = /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/lib/x86 flags = 0]
2019-03-27 22:33:49.264 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source from : com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-main flags = 1]
2019-03-27 22:33:49.264 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup sources from split apks
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-0 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-1 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-2 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-3 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-4 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-5 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-6 flags = 1]
2019-03-27 22:33:49.265 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-7 flags = 1]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-8 flags = 1]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-9 flags = 1]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-10 flags = 1]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: adding backup source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-11 flags = 1]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /system/lib flags = 2]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /system/vendor/lib flags = 2]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.DirectorySoSource[root = /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/lib/x86 flags = 0]
2019-03-27 22:33:49.266 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-11 flags = 1]
2019-03-27 22:33:49.267 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-11
2019-03-27 22:33:49.278 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-11
2019-03-27 22:33:49.279 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-11
2019-03-27 22:33:49.279 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-10 flags = 1]
2019-03-27 22:33:49.279 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-10
2019-03-27 22:33:49.281 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-10
2019-03-27 22:33:49.281 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-10
2019-03-27 22:33:49.282 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-9 flags = 1]
2019-03-27 22:33:49.282 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-9
2019-03-27 22:33:49.283 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-9
2019-03-27 22:33:49.283 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-9
2019-03-27 22:33:49.283 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-8 flags = 1]
2019-03-27 22:33:49.283 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-8
2019-03-27 22:33:49.286 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-8
2019-03-27 22:33:49.286 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-8
2019-03-27 22:33:49.287 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-7 flags = 1]
2019-03-27 22:33:49.287 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-7
2019-03-27 22:33:49.289 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-7
2019-03-27 22:33:49.289 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-7
2019-03-27 22:33:49.289 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-6 flags = 1]
2019-03-27 22:33:49.290 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-6
2019-03-27 22:33:49.291 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-6
2019-03-27 22:33:49.291 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-6
2019-03-27 22:33:49.291 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-5 flags = 1]
2019-03-27 22:33:49.293 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-5
2019-03-27 22:33:49.294 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-5
2019-03-27 22:33:49.294 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-5
2019-03-27 22:33:49.294 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-4 flags = 1]
2019-03-27 22:33:49.294 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-4
2019-03-27 22:33:49.295 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-4
2019-03-27 22:33:49.295 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-4
2019-03-27 22:33:49.296 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-3 flags = 1]
2019-03-27 22:33:49.296 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-3
2019-03-27 22:33:49.297 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-3
2019-03-27 22:33:49.297 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-3
2019-03-27 22:33:49.297 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-2 flags = 1]
2019-03-27 22:33:49.297 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-2
2019-03-27 22:33:49.299 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-2
2019-03-27 22:33:49.299 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-2
2019-03-27 22:33:49.299 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-1 flags = 1]
2019-03-27 22:33:49.299 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-1
2019-03-27 22:33:49.312 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-1
2019-03-27 22:33:49.312 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-1
2019-03-27 22:33:49.313 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-0 flags = 1]
2019-03-27 22:33:49.313 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-0
2019-03-27 22:33:49.314 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-0
2019-03-27 22:33:49.314 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-0
2019-03-27 22:33:49.315 2231-2231/fr.free.nrw.commons.beta D/SoLoader: Preparing SO source: com.facebook.soloader.ApkSoSource[root = /data/data/fr.free.nrw.commons.beta/lib-main flags = 1]
2019-03-27 22:33:49.315 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: locked dso store /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-03-27 22:33:49.329 2231-2231/fr.free.nrw.commons.beta I/fb-UnpackingSoSource: dso store is up-to-date: /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-03-27 22:33:49.329 2231-2231/fr.free.nrw.commons.beta V/fb-UnpackingSoSource: releasing dso store lock for /data/user/0/fr.free.nrw.commons.beta/lib-main
2019-03-27 22:33:49.331 2231-2231/fr.free.nrw.commons.beta D/SoLoader: init finish: 16 SO sources prepared
2019-03-27 22:33:49.331 2231-2231/fr.free.nrw.commons.beta D/SoLoader: init exiting
2019-03-27 22:33:49.496 2231-2251/fr.free.nrw.commons.beta I/stetho: Listening on @stetho_fr.free.nrw.commons.beta_devtools_remote
2019-03-27 22:33:49.620 2231-2254/fr.free.nrw.commons.beta D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.
2019-03-27 22:33:49.617 2231-2231/fr.free.nrw.commons.beta I/fr.free.nrw.commons.beta: type=1400 audit(0.0:735): avc: denied { write } for comm=45474C20496E6974 name=""property_service"" dev=""tmpfs"" ino=8350 scontext=u:r:untrusted_app:s0:c71,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=1
2019-03-27 22:33:49.629 2231-2254/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLES_emulation.so from current namespace instead of sphal namespace.
2019-03-27 22:33:49.625 2231-2231/fr.free.nrw.commons.beta I/fr.free.nrw.commons.beta: type=1400 audit(0.0:736): avc: denied { connectto } for comm=45474C20496E6974 path=""/dev/socket/property_service"" scontext=u:r:untrusted_app:s0:c71,c256,c512,c768 tcontext=u:r:init:s0 tclass=unix_stream_socket permissive=1
2019-03-27 22:33:49.640 2231-2254/fr.free.nrw.commons.beta E/libEGL: load_driver(/vendor/lib/egl/libGLES_emulation.so): dlopen failed: library ""/vendor/lib/egl/libGLES_emulation.so"" not found
2019-03-27 22:33:49.640 2231-2254/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libEGL_emulation.so from current namespace instead of sphal namespace.
2019-03-27 22:33:49.709 2231-2254/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so
2019-03-27 22:33:49.729 2231-2254/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLESv1_CM_emulation.so from current namespace instead of sphal namespace.
2019-03-27 22:33:49.746 2231-2254/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so
2019-03-27 22:33:49.804 2231-2254/fr.free.nrw.commons.beta D/vndksupport: Loading /vendor/lib/egl/libGLESv2_emulation.so from current namespace instead of sphal namespace.
2019-03-27 22:33:49.821 2231-2254/fr.free.nrw.commons.beta D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so
2019-03-27 22:33:49.883 2231-2242/fr.free.nrw.commons.beta I/rw.commons.bet: Background concurrent copying GC freed 16097(1309KB) AllocSpace objects, 13(312KB) LOS objects, 49% free, 2MB/5MB, paused 540us total 287.448ms
2019-03-27 22:33:49.930 2231-2231/fr.free.nrw.commons.beta D/AndroidRuntime: Shutting down VM
2019-03-27 22:33:49.931 2231-2231/fr.free.nrw.commons.beta E/AndroidRuntime: FATAL EXCEPTION: main
    Process: fr.free.nrw.commons.beta, PID: 2231
    java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.free.nrw.commons.beta/fr.free.nrw.commons.auth.LoginActivity}: android.view.InflateException: Binary XML file line #124: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2914)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
     Caused by: android.view.InflateException: Binary XML file line #124: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
     Caused by: android.view.InflateException: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
2019-03-27 22:33:49.932 2231-2231/fr.free.nrw.commons.beta E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class ""android.support.design.widget.TextInputEditText"" on path: DexPathList[[zip file ""/system/framework/org.apache.http.legacy.boot.jar"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk""],nativeLibraryDirectories=[/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk!/lib/x86, /system/lib, /system/vendor/lib]]
        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
        at android.view.LayoutInflater.createView(LayoutInflater.java:606)
        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)
        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
2019-03-27 22:33:49.937 2231-2231/fr.free.nrw.commons.beta E/AndroidRuntime:     at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)
        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:420)
        at android.app.Activity.setContentView(Activity.java:2771)
        at fr.free.nrw.commons.auth.LoginActivity.onCreate(LoginActivity.java:109)
        at android.app.Activity.performCreate(Activity.java:7136)
        at android.app.Activity.performCreate(Activity.java:7127)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
    	Suppressed: java.io.IOException: No original dex files found for dex location /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk
        at dalvik.system.DexFile.openDexFileNative(Native Method)
        at dalvik.system.DexFile.openDexFile(DexFile.java:354)
        at dalvik.system.DexFile.<init>(DexFile.java:101)
        at dalvik.system.DexFile.<init>(DexFile.java:75)
        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:394)
        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:354)
        at dalvik.system.DexPathList.<init>(DexPathList.java:164)
        at dalvik.system.BaseDexClassLoader.<init>(BaseDexClassLoader.java:74)
        at dalvik.system.BaseDexClassLoader.<init>(BaseDexClassLoader.java:65)
        at dalvik.system.PathClassLoader.<init>(PathClassLoader.java:64)
        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:73)
        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:88)
        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:74)
        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:40)
        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:727)
        at android.app.LoadedApk.getClassLoader(LoadedApk.java:810)
        at android.app.LoadedApk.getResources(LoadedApk.java:1032)
        at android.app.ContextImpl.createAppContext(ContextImpl.java:2345)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5760)
        at android.app.ActivityThread.access$1100(ActivityThread.java:200)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)
        		... 6 more
2019-03-27 22:33:49.941 2231-2231/fr.free.nrw.commons.beta E/ACRA: ACRA caught a RuntimeException for fr.free.nrw.commons.beta
    java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.free.nrw.commons.beta/fr.free.nrw.commons.auth.LoginActivity}: android.view.InflateException: Binary XML file line #124: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2914)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
     Caused by: android.view.InflateException: Binary XML file line #124: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
     Caused by: android.view.InflateException: Binary XML file line #124: Error inflating class android.support.design.widget.TextInputEditText
2019-03-27 22:33:49.945 2231-2231/fr.free.nrw.commons.beta E/ACRA: Caused by: java.lang.ClassNotFoundException: Didn't find class ""android.support.design.widget.TextInputEditText"" on path: DexPathList[[zip file ""/system/framework/org.apache.http.legacy.boot.jar"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk"", zip file ""/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk""],nativeLibraryDirectories=[/data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/base.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_dependencies_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_0_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_1_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_2_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_3_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_4_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_5_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_6_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_7_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_8_apk.apk!/lib/x86, /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_slice_9_apk.apk!/lib/x86, /system/lib, /system/vendor/lib]]
        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
        at android.view.LayoutInflater.createView(LayoutInflater.java:606)
        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)
        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)
2019-03-27 22:33:49.947 2231-2231/fr.free.nrw.commons.beta E/ACRA:     at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)
        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)
        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:420)
        at android.app.Activity.setContentView(Activity.java:2771)
        at fr.free.nrw.commons.auth.LoginActivity.onCreate(LoginActivity.java:109)
        at android.app.Activity.performCreate(Activity.java:7136)
        at android.app.Activity.performCreate(Activity.java:7127)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
        at android.os.Handler.dispatchMessage(Handler.java:106)
        at android.os.Looper.loop(Looper.java:193)
        at android.app.ActivityThread.main(ActivityThread.java:6680)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
    	Suppressed: java.io.IOException: No original dex files found for dex location /data/app/fr.free.nrw.commons.beta-XYn_f26K-vcv84IKGspVjA==/split_lib_resources_apk.apk
        at dalvik.system.DexFile.openDexFileNative(Native Method)
        at dalvik.system.DexFile.openDexFile(DexFile.java:354)
        at dalvik.system.DexFile.<init>(DexFile.java:101)
        at dalvik.system.DexFile.<init>(DexFile.java:75)
        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:394)
        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:354)
        at dalvik.system.DexPathList.<init>(DexPathList.java:164)
        at dalvik.system.BaseDexClassLoader.<init>(BaseDexClassLoader.java:74)
        at dalvik.system.BaseDexClassLoader.<init>(BaseDexClassLoader.java:65)
        at dalvik.system.PathClassLoader.<init>(PathClassLoader.java:64)
        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:73)
        at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:88)
        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:74)
        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:40)
        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:727)
        at android.app.LoadedApk.getClassLoader(LoadedApk.java:810)
        at android.app.LoadedApk.getResources(LoadedApk.java:1032)
        at android.app.ContextImpl.createAppContext(ContextImpl.java:2345)
        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5760)
        at android.app.ActivityThread.access$1100(ActivityThread.java:200)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)
        		... 6 more
2019-03-27 22:33:50.079 2231-2231/fr.free.nrw.commons.beta I/Process: Sending signal. PID: 2231 SIG: 9

```

**Device and Android version:** 
Custom Tablet API 28
 
**Commons app version:** 
latest betaDebug

**Would you like to work on the issue?**
Yes",https://github.com/commons-app/apps-android-commons/issues/2766#issuecomment-477612486,Can you share API level @madhurgupta10 ? 
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Go to Explore
2. Go to the Mobile uploads tab
3. Find a picture that you want nominate for deletion
4. Push the button to nominate it for deletion

Expected: Among other things, a message is sent to the uploader
Actually: That message is sent to my own talk page. Example: https://commons.wikimedia.org/wiki/User_talk:Syced#File:@Oleballinazz_14.jpg and nothing sent by my account to https://commons.wikimedia.org/wiki/User_talk:Oleballinazz",https://github.com/commons-app/apps-android-commons/issues/2703#issuecomment-500377500,"#2827 talked about two dialog box for deletion . 
if you look at the dialog box i think the first dialog box is for when someone is trying to nominated other's upload for deletion, and the second one is for the deletion of the picture you(the user) uploaded( according to the option's that can be selected). @nicolas-raoul could this be the reason?"
commons-app/apps-android-commons,"**Summary:** 

The FAB behaves weirdly on API level 19:

![issue](https://user-images.githubusercontent.com/4953590/54474562-3fc99c80-47de-11e9-83ad-9ec02b236271.gif)

**System logs:**

There are no logs when doing this

**Device and Android version:** 

Galaxy Nexus Emulator, at API level 19

```
Name: Galaxy_Nexus_API_19
CPU/ABI: Google APIs Intel Atom (x86)
Path: /home/adam/.android/avd/Galaxy_Nexus_API_19.avd
Target: google_apis [Google APIs] (API level 19)
Skin: 720x1280
SD Card: 512M
fastboot.chosenSnapshotFile: 
runtime.network.speed: full
hw.accelerometer: yes
hw.device.name: Galaxy Nexus
hw.lcd.width: 720
hw.initialOrientation: Portrait
image.androidVersion.api: 19
tag.id: google_apis
hw.mainKeys: no
hw.camera.front: emulated
avd.ini.displayname: Galaxy Nexus API 19
hw.gpu.mode: auto
hw.ramSize: 1024
PlayStore.enabled: false
fastboot.forceColdBoot: no
hw.cpu.ncore: 4
hw.keyboard: yes
hw.sensors.proximity: yes
hw.dPad: no
hw.lcd.height: 1280
vm.heapSize: 80
skin.dynamic: yes
hw.device.manufacturer: Google
hw.gps: yes
skin.path.backup: _no_skin
hw.audioInput: yes
image.sysdir.1: system-images/android-19/google_apis/x86/
showDeviceFrame: no
hw.camera.back: virtualscene
AvdId: Galaxy_Nexus_API_19
hw.lcd.density: 320
hw.arc: false
hw.device.hash2: MD5:fcb1c44f60d9172bb27b44fdd821eed1
fastboot.forceChosenSnapshotBoot: no
fastboot.forceFastBoot: yes
hw.trackBall: no
hw.battery: yes
hw.sdCard: no
tag.display: Google APIs
runtime.network.latency: none
disk.dataPartition.size: 2G
hw.sensors.orientation: yes
avd.ini.encoding: UTF-8
hw.gpu.enabled: yes
```

**Commons app version:** 

`2.10.1-debug-master~57e685cf6`

**Would you like to work on the issue?**

No",https://github.com/commons-app/apps-android-commons/issues/2609#issuecomment-474434332,@domdomegg Is this happening everytime? I am not able to reproduce this issue on Galaxy Nexus emulator on API 19.
commons-app/apps-android-commons,"**Summary:** 

App crashes in GridViewAdapter

**Steps to reproduce:** 

**System logs:**

```
java.util.UnknownFormatConversionException: Conversion = 'End of String'
at java.util.Formatter$FormatSpecifierParser.peek(Formatter.java:2641)
at java.util.Formatter$FormatSpecifierParser.<init>(Formatter.java:2602)
at java.util.Formatter.parse(Formatter.java:2557)
at java.util.Formatter.format(Formatter.java:2504)
at java.util.Formatter.format(Formatter.java:2458)
at java.lang.String.format(String.java:2883)
at fr.free.nrw.commons.category.GridViewAdapter.setAuthorView(GridViewAdapter.java:106)
at fr.free.nrw.commons.category.GridViewAdapter.getView(GridViewAdapter.java:92)
at android.widget.AbsListView.obtainView(AbsListView.java:2477)
at android.widget.GridView.onMeasure(GridView.java:1070)
at android.view.View.measure(View.java:23188)
at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:715)
at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
at android.view.View.measure(View.java:23188)
at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:715)
at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)
at android.view.View.measure(View.java:23188)
at android.support.v4.widget.DrawerLayout.onMeasure(DrawerLayout.java:1059)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:141)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1535)
at android.widget.LinearLayout.measureVertical(LinearLayout.java:825)
at android.widget.LinearLayout.onMeasure(LinearLayout.java:704)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1535)
at android.widget.LinearLayout.measureVertical(LinearLayout.java:825)
at android.widget.LinearLayout.onMeasure(LinearLayout.java:704)
at android.view.View.measure(View.java:23188)
at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6749)
at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
at com.android.internal.policy.DecorView.onMeasure(DecorView.java:728)
at android.view.View.measure(View.java:23188)
at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2732)
at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1585)
at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1869)
at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1473)
at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7215)
at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1004)
at android.view.Choreographer.doCallbacks(Choreographer.java:816)
at android.view.Choreographer.doFrame(Choreographer.java:751)
at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:990)
at android.os.Handler.handleCallback(Handler.java:873)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:280)
at android.app.ActivityThread.main(ActivityThread.java:6710)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)

```

**Device and Android version:** 

ANDROID_VERSION=9

 
**Commons app version:** 

APP_VERSION_NAME=2.10.2


**Would you like to work on the issue?**

Yes
",https://github.com/commons-app/apps-android-commons/issues/2580#issuecomment-472901381,"Hi, @ashishkumar468 @misaochan please can I work on this issue?"
commons-app/apps-android-commons,"The spacing is wrong in French:
![adb-screenshot](https://user-images.githubusercontent.com/99590/54015807-32038e00-41c4-11e9-8913-1b6803a27165.png)

As explained in #2498 I believe the user name should be a parameter in a full string such as `Uploaded by: {0}`",https://github.com/commons-app/apps-android-commons/issues/2558#issuecomment-470861542,Can I work on this?
commons-app/apps-android-commons,"Had a conversation with @maskaravivek and @ashishkumar468 the other day - we were wondering if it might be a good idea to recommend new contributors to start with bugfixes, at least for their first few PRs. There are a few reasons for this:

1. Benefits to the student - I personally think that you learn a lot about a codebase by fixing bugs. It requires you to delve deep into the code and figure out what it's doing and what is wrong with it. By doing so, you also learn about the coding style, structure, etc of the project. Enhancements are more like adding a lot of your own code on top of the existing code - good for coding practice, but not so good for project familiarization. Also, when you work on bugfixes you do not need to wait as long for a community consensus, compared to a debated enhancement.

2. Benefits to the project - We are trying to prioritize stability in this year, and I think we need to be a bit more careful with adding new features. New features inherently increase complexity and increase surface area for bugs, so it is important that the benefits are worth the added complexity. Additionally, new features written by folks who are not-so-familiar with the codebase often break our guidelines re: code structure, style, etc. It is very time-consuming to keep up with the PRs to check for all of this. Currently our PRs are very backlogged - hopefully things will get better next week once @neslihanturan is back from leave, but it is still a lot to go through.

There is precedent for this - for instant, Mozilla's guidelines for new contributors ONLY involve fixing bugs: https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Introduction

If we do carry this out, we need to decide to what extent we want to enforce this. Do we just want to recommend that people start with bugfixes, but leave the decision to them? Or do we want to be stricter about it? How many bugfixes does it take for a contributor to be reasonably familiar with the codebase?

",https://github.com/commons-app/apps-android-commons/issues/2553#issuecomment-470616794,"Yup good point! Lets keep tests mandatory just for feature addition. Also, tk clarify just unit tests would be required and not UI tests, right? "
commons-app/apps-android-commons,"**Summary:** 

Whenever i try to search under ""Media"" or ""Categories"" tab, The ""Error occurred while loading image"" SNACKBAR is poping up upon typing each character in the search bar. The Snackbar appears exactly after the debounce timeout ends ""500 ms"".
Once i end up my typing the progress bar starts looping forever without showing any results.  

**Steps to reproduce:** 

1- Slide in the navigation drawer
2- Go to Explore
3- Press the search icon to start typing
4- Start typing and wait after each character

**System logs:**

```
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: Error occurred while loading queried images
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String fr.free.nrw.commons.media.model.ExtMetadata$Values.value()' on a null object reference
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.Media.from(Media.java:457)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.lambda$searchImages$6$OkHttpJsonApiClient(OkHttpJsonApiClient.java:281)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient$$Lambda$6.call(Unknown Source)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.subscribe(Single.java:3394)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at com.tspoon.traceur.SingleOnAssembly.subscribeActual(SingleOnAssembly.java:43)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.subscribe(Single.java:3394)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:579)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
2019-03-02 23:30:41.694 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.Thread.run(Thread.java:761)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at dalvik.system.VMStack.getThreadStackTrace(Native Method)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.Thread.getStackTrace(Thread.java:1566)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.fromCallable(Single.java:580)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.mwapi.OkHttpJsonApiClient.searchImages(OkHttpJsonApiClient.java:265)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:144)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.SearchActivity.lambda$setTabs$1$SearchActivity(SearchActivity.java:125)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.SearchActivity$$Lambda$1.accept(Unknown Source)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:119)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at android.os.Handler.handleCallback(Handler.java:836)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at android.os.Handler.dispatchMessage(Handler.java:103)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at android.os.Looper.loop(Looper.java:203)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at android.app.ActivityThread.main(ActivityThread.java:6251)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.reflect.Method.invoke(Native Method)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1073)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:934)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at dalvik.system.VMStack.getThreadStackTrace(Native Method)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.Thread.getStackTrace(Thread.java:1566)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.subscribeOn(Single.java:3465)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:145)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: 	... 13 more
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at dalvik.system.VMStack.getThreadStackTrace(Native Method)
2019-03-02 23:30:41.695 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.Thread.getStackTrace(Thread.java:1566)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.observeOn(Single.java:2917)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:146)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: 	... 13 more
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at dalvik.system.VMStack.getThreadStackTrace(Native Method)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at java.lang.Thread.getStackTrace(Thread.java:1566)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.timeout0(Single.java:3635)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at io.reactivex.Single.timeout(Single.java:3563)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment:     at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:147)
2019-03-02 23:30:41.696 25759-25759/fr.free.nrw.commons.beta E/SearchImageFragment: 	... 13 more
```

**Device and Android version:** 

Devices: Infinix HOT5 & Nexus 5X
Android version: Android 7.0 
 
**Commons app version:** 

App version: Built from codebase master (Version name: 2.10.1)

**Screen-shots:** 

<a href=""https://imgur.com/sRItdWr""><img src=""https://i.imgur.com/sRItdWr.png"" title=""source: imgur.com"" /></a>

<a href=""https://imgur.com/i09q28x""><img src=""https://i.imgur.com/i09q28x.png"" title=""source: imgur.com"" /></a>

<a href=""https://imgur.com/dobacsQ""><img src=""https://i.imgur.com/dobacsQ.png"" title=""source: imgur.com"" /></a>

**Would you like to work on the issue?**

YES! But I may need some help from old contributors if available 
",https://github.com/commons-app/apps-android-commons/issues/2534#issuecomment-470052194,"Thanks for reporting this, I am experiencing this as well. I can't seem to find a pattern yet - some searches work but others (which are for very common objects and SHOULD work) don't.

Are you interested in working on it? I can assign to you if you like. :)"
commons-app/apps-android-commons,"**Summary:** 

'Internet unavailable' snackbar doesn't disappear after network becomes available in NearbyFragment

**Steps to reproduce:** 

Make network unavailable in Nearby fragment, the 'Internet unavailable' snackbar shows, then make network available, the snackbar doesn't disappear.

**Device and Android version:** 

Unrelated
 
**Commons app version:** 

master betaDebug

**Would you like to work on the issue?**

Yes
",https://github.com/commons-app/apps-android-commons/issues/2520#issuecomment-470614879,"Hello,

I take a look to the fragment NearbyFragment and I notice that the method addNetworkBroadcastReceiver is called each time the tab is selected. This method creates a new Snackbar and register a BroadcastReceiver to the activity. So these 2 actions are done each time the tab is selected. I could explain this bug even if I didn't managed to reproduce it ( enabling/disabling airplane mode).

I suppose that registering the broadcaster receiver should be done in the method onCreate and the snackbar should be created only if internet is unavailable.

Am I correct ?"
commons-app/apps-android-commons,"I am very pleased that you have fixed #1971,
however it behooves you now to create a bot
to repair all the damage caused by the bug.

Your bot should check all the files in
https://commons.wikimedia.org/wiki/Category:Uploaded_with_Mobile/Android
and fix the ones that need fixing.

An example is
https://commons.wikimedia.org/wiki/File:Taiwan_white_caterpillar2018.jpg
which in fact I will leave a note inside, reminding me not to fix it by
hand, as your bot will fix it.

Please don't close this bug until every last damaged file is fixed.
Thank you.
",https://github.com/commons-app/apps-android-commons/issues/2511#issuecomment-466850086,"Indeed we need to fix these images (by ""we"" I mean as a community, not naming anyone in particular).

Uploads are tagged with the app version, so the first thing we need is to identify what versions had this bug.
As for the fix, would it be acceptable to just delete the `date=` line or its value?

Thanks!"
commons-app/apps-android-commons,"steps to reproduce:

1) load Nearby map
2) switch to Contributions tab.
3) switch back to Nearby map

I am using 2.10.0",https://github.com/commons-app/apps-android-commons/issues/2507#issuecomment-466459418,"Interesting. I am not able to reproduce this on 2.10.1.

Could you update to 2.10.1 (it should be out in beta by now) and see if it happens again? If it does, please send us your logs (via Settings > Send Logs)."
commons-app/apps-android-commons,"**Summary:** 

I've been reviewing the translatable strings for the Commons app, and I noticed that several of them are what we call ""lego messages"" in the Wikimedia jargon: strings that are translated separately and concatenated with each other and with other parameters in run time.

Lego messages are a localization antipattern in any software project. They don't take into account that different languages have different word order. Messages must be written as complete phrases, and parameters such as filenames, usernames, dates, upload counts, etc., must always be filled as parameters.

Some messages that are almost certainly lego are:
* ""Uploaded by myself on"" (the date should probably be a parameter)
* "",used in"" (the comma tells me that it's probably a part of another sentence)

There may be more strings of this kind that I haven't noticed till now.

Please fix all of these and move them to one message.

For more information about ""lego messages"", see the page https://www.mediawiki.org/wiki/Localisation#Avoid_fragmented_or_'patchwork'_messages . It was written for MediaWiki developers, but this part, as well as many others, applies to localization of any software project.

Thanks! :)",https://github.com/commons-app/apps-android-commons/issues/2498#issuecomment-465927757,Can I try to work on this?
commons-app/apps-android-commons,"**Summary:** 

In notification activity when we try to archive the notification by swiping left and pressing tick, notification does not get archived, instead shows a error toast message.

**Steps to reproduce:** 
- Go to notification activity
- Swipe left a notification and tap tick mark

you will see a toast saying ""There was some error!"" 

**Commons app version:** 
2.10.0-debug-master~b5a479ce

**Would you like to work on the issue?**
yes
",https://github.com/commons-app/apps-android-commons/issues/2464#issuecomment-469268207,@thomas154 can i work on this issue?
commons-app/apps-android-commons,"![adb-screenshot](https://user-images.githubusercontent.com/99590/52758606-4a144180-304c-11e9-8ad6-de006a3fe264.png)
If this label has a purpose, it should be fixed.
If not, the label itself should be removed.
(screenshot above is in locale zh-hant)",https://github.com/commons-app/apps-android-commons/issues/2447#issuecomment-463490914,For which language is it showing?
commons-app/apps-android-commons,"white text difficult to read on silver background.
![screenshot_20190213-122205](https://user-images.githubusercontent.com/99590/52684748-9bf49300-2f8a-11e9-85ba-2b5e55a3d4ab.png)
",https://github.com/commons-app/apps-android-commons/issues/2446#issuecomment-463541718,"solved this issue and I am giving my screenshot. can I contribute it?
![screenshot_2019-02-14-14-10-11-660_fr free nrw commons beta 1](https://user-images.githubusercontent.com/25636078/52774114-92d6f500-3062-11e9-84fb-78b3754d3b48.png)
"
commons-app/apps-android-commons,"**Summary:** 

App closes unexpectedly while navigating between Explore and Achievements

**Steps to reproduce:** 

1. Go to Explore.
2. Now, go to Achievements.
3. Again go to Explore.
4. Then, click on Achievements again.
5. App would close.

**Android version:**

Android 7.1.2 (API 25)

**Commons app version:** 

Latest master.

**GIF:** 

![ezgif com-video-to-gif 35](https://user-images.githubusercontent.com/35566748/52163911-4957e300-270f-11e9-96f7-229a33737810.gif)

**Would you like to work on the issue?**

Yes",https://github.com/commons-app/apps-android-commons/issues/2394#issuecomment-459960912,@ShridharGoel Is there anything in the logs? Can you share logcat as well.
commons-app/apps-android-commons,"**Steps to reproduce:**

Change orientation on nearby or contributions fragment.

**System logs:**

   >2019-01-29 04:06:57.450 4881-4881/fr.free.nrw.commons.beta E/ActivityThread: Activity fr.free.nrw.commons.contributions.MainActivity has leaked ServiceConnection fr.free.nrw.commons.contributions.ContributionsFragment$1@a1b3798 that was originally bound here
    android.app.ServiceConnectionLeaked: Activity fr.free.nrw.commons.contributions.MainActivity has leaked ServiceConnection fr.free.nrw.commons.contributions.ContributionsFragment$1@a1b3798 that was originally bound here
    at android.app.LoadedApk$ServiceDispatcher.(LoadedApk.java:1336)
    at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:1231)
    at android.app.ContextImpl.bindServiceCommon(ContextImpl.java:1450)
    at android.app.ContextImpl.bindService(ContextImpl.java:1422)
    at android.content.ContextWrapper.bindService(ContextWrapper.java:636)
    at fr.free.nrw.commons.contributions.ContributionsFragment.onAuthCookieAcquired(ContributionsFragment.java:360)
    at fr.free.nrw.commons.contributions.ContributionsFragment.onAttach(ContributionsFragment.java:224)
    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1372)
    at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1188)
    at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:1071)
    at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:115)
    at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2380)
    at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338)
    at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:2215)
    at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:649)
    at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:145)
    at android.support.v4.view.ViewPager.populate(ViewPager.java:1238)
    at android.support.v4.view.ViewPager.populate(ViewPager.java:1086)
    at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1616)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
    at android.view.View.measure(View.java:19759)
    at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:715)
    at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)
    at android.view.View.measure(View.java:19759)
    at android.support.v4.widget.DrawerLayout.onMeasure(DrawerLayout.java:1059)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
    at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:141)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)
    at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)
    at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)
    at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)
    at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6124)
    at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)
    at com.android.internal.policy.DecorView.onMeasure(DecorView.java:687)
    at android.view.View.measure(View.java:19759)
    at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2283)
    at android.view.ViewRootImpl.measureH

**Device and Android version:**

Motorola Moto G5 plus on Api 24

**Commons app version:**

Latest master

**Would you like to work on the issue?**

Yes",https://github.com/commons-app/apps-android-commons/issues/2373#issuecomment-473650718,"While testing #2374, I couldn't reproduce this on `2.10.1-debug-master~d719a4a9d`. Can you check this is still present?"
commons-app/apps-android-commons,"1. select image for upload
2. enter title
3. rotate screen
4. title field is now empty üò±


even on the categories selection screen, rotating takes you back to step 1.",https://github.com/commons-app/apps-android-commons/issues/2369#issuecomment-458473330,@nicolas-raoul Shall I work on this?
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Change Android's locale to Japanese
2. Open app
3. Immediate crash

**System logs:**

```
ANDROID_VERSION=7.1.2
APP_VERSION_NAME=2.9.0.173
BRAND=google
PHONE_MODEL=Nexus 5
CUSTOM_DATA=
STACK_TRACE=java.lang.RuntimeException: An error occurred while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:325)
at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)
at java.util.concurrent.FutureTask.setException(FutureTask.java:223)
at java.util.concurrent.FutureTask.run(FutureTask.java:242)
at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
at java.lang.Thread.run(Thread.java:761)
Caused by: java.util.UnknownFormatConversionException: Conversion = '„Åï'
at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2730)
at java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2759)
at java.util.Formatter$FormatSpecifierParser.<init>(Formatter.java:2591)
at java.util.Formatter.parse(Formatter.java:2524)
at java.util.Formatter.format(Formatter.java:2472)
at java.util.Formatter.format(Formatter.java:2426)
at java.lang.String.format(String.java:2626)
at fr.free.nrw.commons.notification.NotificationUtils.getMentionMessage(NotificationUtils.java:216)
at fr.free.nrw.commons.notification.NotificationUtils.getNotificationFromApiResult(NotificationUtils.java:150)
at fr.free.nrw.commons.notification.NotificationUtils.getNotificationsFromList(NotificationUtils.java:100)
at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi.getNotifications(ApacheHttpClientMediaWikiApi.java:607)
at fr.free.nrw.commons.notification.NotificationController.getNotifications(NotificationController.java:30)
at fr.free.nrw.commons.notification.UnreadNotificationsCheckAsync.doInBackground(UnreadNotificationsCheckAsync.java:34)
at fr.free.nrw.commons.notification.UnreadNotificationsCheckAsync.doInBackground(UnreadNotificationsCheckAsync.java:18)
at android.os.AsyncTask$2.call(AsyncTask.java:305)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
... 4 more
java.util.UnknownFormatConversionException: Conversion = '„Åï'
at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2730)
at java.util.Formatter$FormatSpecifier.<init>(Formatter.java:2759)
at java.util.Formatter$FormatSpecifierParser.<init>(Formatter.java:2591)
at java.util.Formatter.parse(Formatter.java:2524)
at java.util.Formatter.format(Formatter.java:2472)
at java.util.Formatter.format(Formatter.java:2426)
at java.lang.String.format(String.java:2626)
at fr.free.nrw.commons.notification.NotificationUtils.getMentionMessage(NotificationUtils.java:216)
at fr.free.nrw.commons.notification.NotificationUtils.getNotificationFromApiResult(NotificationUtils.java:150)
at fr.free.nrw.commons.notification.NotificationUtils.getNotificationsFromList(NotificationUtils.java:100)
at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi.getNotifications(ApacheHttpClientMediaWikiApi.java:607)
at fr.free.nrw.commons.notification.NotificationController.getNotifications(NotificationController.java:30)
at fr.free.nrw.commons.notification.UnreadNotificationsCheckAsync.doInBackground(UnreadNotificationsCheckAsync.java:34)
at fr.free.nrw.commons.notification.UnreadNotificationsCheckAsync.doInBackground(UnreadNotificationsCheckAsync.java:18)
at android.os.AsyncTask$2.call(AsyncTask.java:305)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
at java.lang.Thread.run(Thread.java:761)
```",https://github.com/commons-app/apps-android-commons/issues/2330#issuecomment-457503291,"It looks like it was an error in the localized message. Hopefully this will fix it: https://translatewiki.net/w/i.php?title=Wikimedia:Commons-android-strings-notifications_mention/ja&diff=8603506&oldid=8078028

By the way, did it happen in the released app? The message itself was there since [May 2018](https://translatewiki.net/w/i.php?title=Wikimedia:Commons-android-strings-notifications_mention/ja&oldid=8078028)."
commons-app/apps-android-commons,"**Summary:** 

After uploading an image, the number of contributions (the number in the bracket on the ""Contributions"" tab) does not increase. It increases only after the app is reopened. It doesn't update even after switching to and back from some other fragment.

**Steps to reproduce:** 

1. Upload an image.
2. Notice that the number of contributions does not increase.

**Device and Android version:** 

Android version 7.1.2 (API 25)

**Would you like to work on the issue?**

Yes",https://github.com/commons-app/apps-android-commons/issues/2324#issuecomment-466682921,@ShridharGoel Are you currently working on this?
commons-app/apps-android-commons,"Commons 2.9.0
Huawei MYA-L11
Android 6.0

Progress bar ok and upload seems completed, but listed as ""non riuscito"" (failed).

Also cannot remove failed uploads from app main page.
Besides, it is not clear why ""nomimate for deletion"" is active for an image with failed upload status.",https://github.com/commons-app/apps-android-commons/issues/2263#issuecomment-455123521,"Was the image actually uploaded?
Did you click the ""retry"" button?
Sometimes uploads fail, that is expected.

About your last note, I created this issue: #2311"
commons-app/apps-android-commons,"**Summary:** 

When pressing 'back' button in ''nearest places'' after pressing the button on right top, it goes straight to the main page. I should expect that it would just close that tab , and continue searching on map.

**Steps to reproduce:** 

At main page, show menu and choose 'Nearest Places' ( or whatever, my app is in Greek )
When map shows up , press the button on top right
A list with places appears
Then press back button  


**Screen-shots:** 

![screenshot_5](https://user-images.githubusercontent.com/32622637/50514021-43356d80-0aa4-11e9-8ddc-878dd4c38cb8.jpg)
![screenshot_3](https://user-images.githubusercontent.com/32622637/50514024-47618b00-0aa4-11e9-8c52-ce36a3431160.jpg)
![screenshot_4](https://user-images.githubusercontent.com/32622637/50514029-4a5c7b80-0aa4-11e9-96e6-205ba8f95aff.jpg)



",https://github.com/commons-app/apps-android-commons/issues/2245#issuecomment-453814217,Is anyone working on this issue or shall i take up?
commons-app/apps-android-commons,"alpha
reproducible always
![screenshot_20181227-124616](https://user-images.githubusercontent.com/99590/50470436-56631300-09a8-11e9-996f-6efa3f043d70.png)
![screenshot_20181227-124723](https://user-images.githubusercontent.com/99590/50470443-5ebb4e00-09a8-11e9-96f7-5ca015a4e980.png)
",https://github.com/commons-app/apps-android-commons/issues/2237#issuecomment-455902076,"I would like to try to repo this: can you tell me which branch is ""alpha""?"
commons-app/apps-android-commons,"**Summary:** 

When pressing 'back' when viewing a category from media details of in explore or search activity, it returns you to explore/search results rather than the media page.

This doesn't happen if you are viewing through a category.

Should make sense if you view GIFs below.

**Steps to reproduce:** 

1. Go to explore
2. Click the first picture
3. Click the first category
4. Click back
Expected: view the media the user was just viewing
Actual: returns to explore

GIF:

![mediaback](https://user-images.githubusercontent.com/4953590/50363228-aa15cc80-0562-11e9-958b-e53f53576fed.gif)

Note if viewing ""through"" a category this doesn't happen, so might want to look at how that is implemented and reuse it. For example:

![expected](https://user-images.githubusercontent.com/4953590/50363315-f9f49380-0562-11e9-9907-7c7b7cc9ec82.gif)",https://github.com/commons-app/apps-android-commons/issues/2212#issuecomment-449550884,"@domdomegg 
So you want that on back pressing it should go to the picture from where it was called?
I can take up this issue"
commons-app/apps-android-commons,"**Summary:** 

The arrow to show and hide the box to write the title and description in the new upload flow seems to point in random directions after the first upload.

**Steps to reproduce:**

How can we reproduce the issue?
1. Open the app
2. Start upload flow
3. Exit from upload flow
4. Start upload flow again

**Screen-shots:** 

See https://giphy.com/gifs/2UEYQEXs9z51pNI5u5",https://github.com/commons-app/apps-android-commons/issues/2205#issuecomment-449385799,"Thanks for reporting @domdomegg , funny issue though:D If you don't plan to work on this issue, can we promote this for beginners?"
commons-app/apps-android-commons,"**Summary:** 

App closes unexpectedly when trying to navigate to Home from Explore or any other activity opened through navigation drawer.

**Steps to reproduce:** 

1. Go to Explore from the navigation drawer.
2. Again open the navigation drawer and click on Explore.
3. Now, click on Home in the navigation drawer and the app will close.

**Android version:** 

Android 7.1.2 (API 25)

**Commons app version:** 

2.9.0
Branch: master
Build variant: betaDebug

**GIF:** 

![ezgif com-video-to-gif 12](https://user-images.githubusercontent.com/35566748/50305824-0e308600-04ba-11e9-8c41-4dcac6e733a6.gif)


**Would you like to work on the issue?**

Yes
",https://github.com/commons-app/apps-android-commons/issues/2200#issuecomment-449097999,"Cannot reproduce on `betaDebug` on `master` @ f521e8886dcf9a2be6ab5848cfb050bbb8acb65a

![api28](https://user-images.githubusercontent.com/4953590/50304371-aeb98280-0487-11e9-8ce7-d6a511908769.gif)

Do you have any logs? Exactly what version of the app are you using? Did you build it with Android Studio, or is it from the Google Play alpha/beta/prod channel?"
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Go to Explore
2. Type ""pictures of the year"" in the search bar (UPDATE: category has changed, use `Velles (Indre)` instead)
3. Select the ""categories"" tab
4. Tap the first one https://commons.wikimedia.org/wiki/Category:Pictures_of_the_Year
5. Scroll its media
6. Notice that after two other picture, the picture https://commons.wikimedia.org/wiki/File:POTY_Feb_11.jpg is repeated infinitely
7. Scrolling more just makes that same picture appear more.

**System logs:**

```
12-20 12:07:05.183 31263  5939 D CustomApiResult: API response is
12-20 12:07:05.183 31263  5939 D CustomApiResult:  <?xml version=""1.0"" encoding=""UTF-8""?><api><continue iistart=""2007-02-11T14:50:24Z"" gcmcontinue=""2014-05-29 03:53:32|33050273"" continue=""gcmcontinue||""/><query><pages><page _idx=""33050273"" pageid=""33050273"" ns=""14"" title=""Category:Pictures of the Year/2013 (finalist)""/><page _idx=""30597925"" pageid=""30597925"" ns=""14"" title=""Category:Picture of the year barnstars""/><page _idx=""3207499"" pageid=""3207499"" ns=""4"" title=""Commons:Grafika roku""/><page _idx=""1662301"" pageid=""1662301"" ns=""6"" title=""File:POTY Feb 11.jpg"" imagerepository=""local""><imageinfo><ii url=""https://upload.wikimedia.org/wikipedia/commons/5/56/POTY_Feb_11.jpg"" descriptionurl=""https://commons.wikimedia.org/wiki/File:POTY_Feb_11.jpg"" descriptionshorturl=""https://commons.wikimedia.org/w/index.php?curid=1662301""><extmetadata><DateTime value=""2007-02-11 22:18:06"" source=""mediawiki-metadata"" hidden=""""/><ObjectName value=""POTY Feb 11"" source=""mediawiki-metadata"" hidden=""""/><CommonsMetadataExtension value=""1.2"" source=""extension"" hidden=""""/><Categories value=""Media lacking a description|Pictures of the Year|Self-published work"" source=""commons-categories"" hidden=""""/><Assessments value="""" source=""commons-categories"" hidden=""""/><DateTimeOriginal value="""" source=""commons-desc-page""/><Credit value=""&lt;span class=&quot;int-own-work&quot; lang=&quot;en&quot;&gt;Own work&lt;/span&gt;"" source=""commons-desc-page"" hidden=""""/><Artist value=""&lt;a href=&quot;//commons.wikimedia.org/wiki/User:Alvesgaspar&quot; title=&quot;User:Alvesgaspar&quot;&gt;Alvesgaspar&lt;/a&gt; (&lt;a href=&quot;//commons.wikimedia.org/wiki/User_talk:Alvesgaspar&quot; title=&quot;User talk:Alvesgaspar&quot;&gt;talk&lt;/a&gt;&lt;span style=&quot;white-space:nowrap&quot;&gt;¬†&lt;b&gt;¬∑&lt;/b&gt;&lt;/span&gt; &lt;a href=&quot;//commons.wikimedia.org/wiki/Special:Contributions/Alvesgaspar&quot; title=&quot;Special:Contributions/Alvesgaspar&quot;&gt;contribs&lt;/a&gt;)"" source=""commons-desc-page""/><LicenseShortName value=""CC BY-SA 2.5"" source=""commons-desc-page"" hidden=""""/><UsageTerms value=""Creative Commons Attribution-Share Alike 2.5"" source=""commons-desc-page"" hidden=""""/><AttributionRequired value=""true"" source=""commons-desc-page"" hidden=""""/><LicenseUrl value=""https://creativecommons.org/licenses/by-sa/2.5"" source=""commons-desc-page"" hidden=""""/><Copyrighted value=""True"" source=""commons-desc-page"" hidden=""""/><Restrictions value="""" source=""commons-desc-page"" hidden=""""/><License value=""cc-by-sa-2.5"" source=""commons-templates"" hidden=""""/></extmetadata></ii></imageinfo></page><page _idx=""24840980"" pageid=""24840980"" ns=""14"" title=""Category:Pictures of the Year/2012 (finalist)""/><page _idx=""20107176"" pageid=""20107176"" ns=""14"" title=""Category:Pictures of the Year/2011 (finalist)""/><page _idx=""20107168"" pageid=""20107168"" ns=""14"" title=""Category:Pictures of the Year/2010 (finalist)""/><page _idx=""20107166"" pageid=""20107166"" ns=""14"" title=""Category:Pictures of the Year/2009 (finalist)""/><page _idx=""20107165"" pageid=""20107165"" ns=""14"" title=""Category:Pictures of the Year/2007 (finalist)""/><page _idx=""20081670"" pageid=""20081670"" ns=""14"" title=""Category:Pictures of the Year exhibitions""/></pages></query></api>
12-20 12:07:05.230 31263 31263 W System.err: java.lang.ClassCastException: fr.free.nrw.commons.category.CategoryDetailsActivity cannot be cast to fr.free.nrw.commons.category.CategoryImagesActivity
12-20 12:07:05.230 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment.handleSuccess(CategoryImagesListFragment.java:245)
12-20 12:07:05.230 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment.bridge$lambda$0$CategoryImagesListFragment(CategoryImagesListFragment.java)
12-20 12:07:05.230 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment$$Lambda$4.accept(Unknown Source)
12-20 12:07:05.230 31263 31263 W System.err:    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)
12-20 12:07:05.230 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableTimeoutTimed$TimeoutObserver.onNext(ObservableTimeoutTimed.java:94)
12-20 12:07:05.231 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)
12-20 12:07:05.231 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)
12-20 12:07:05.231 31263 31263 W System.err:    at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:119)
12-20 12:07:05.231 31263 31263 W System.err:    at android.os.Handler.handleCallback(Handler.java:751)
12-20 12:07:05.231 31263 31263 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:95)
12-20 12:07:05.231 31263 31263 W System.err:    at android.os.Looper.loop(Looper.java:154)
12-20 12:07:05.231 31263 31263 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:6186)
12-20 12:07:05.231 31263 31263 W System.err:    at java.lang.reflect.Method.invoke(Native Method)
12-20 12:07:05.231 31263 31263 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
12-20 12:07:05.231 31263 31263 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
12-20 12:07:05.232 31263 31263 D MediaDetailPagerFragmen: Skipping getCount. Returning as activity is destroyed!
12-20 12:07:05.256 31263 31263 W View    : requestLayout() improperly called by android.widget.ProgressBar{691c78 V.ED..... ......ID 468,624-612,768 #7f090113 app:id/loadingImagesProgressBar} during layout: running second layout pass
12-20 12:07:05.796 31263  5939 D CustomApiResult: API response is
12-20 12:07:05.796 31263  5939 D CustomApiResult:  <?xml version=""1.0"" encoding=""UTF-8""?><api><continue iistart=""2007-02-11T14:50:24Z"" gcmcontinue=""2014-05-29 03:53:32|33050273"" continue=""gcmcontinue||""/><query><pages><page _idx=""33050273"" pageid=""33050273"" ns=""14"" title=""Category:Pictures of the Year/2013 (finalist)""/><page _idx=""30597925"" pageid=""30597925"" ns=""14"" title=""Category:Picture of the year barnstars""/><page _idx=""3207499"" pageid=""3207499"" ns=""4"" title=""Commons:Grafika roku""/><page _idx=""1662301"" pageid=""1662301"" ns=""6"" title=""File:POTY Feb 11.jpg"" imagerepository=""local""><imageinfo><ii url=""https://upload.wikimedia.org/wikipedia/commons/5/56/POTY_Feb_11.jpg"" descriptionurl=""https://commons.wikimedia.org/wiki/File:POTY_Feb_11.jpg"" descriptionshorturl=""https://commons.wikimedia.org/w/index.php?curid=1662301""><extmetadata><DateTime value=""2007-02-11 22:18:06"" source=""mediawiki-metadata"" hidden=""""/><ObjectName value=""POTY Feb 11"" source=""mediawiki-metadata"" hidden=""""/><CommonsMetadataExtension value=""1.2"" source=""extension"" hidden=""""/><Categories value=""Media lacking a description|Pictures of the Year|Self-published work"" source=""commons-categories"" hidden=""""/><Assessments value="""" source=""commons-categories"" hidden=""""/><DateTimeOriginal value="""" source=""commons-desc-page""/><Credit value=""&lt;span class=&quot;int-own-work&quot; lang=&quot;en&quot;&gt;Own work&lt;/span&gt;"" source=""commons-desc-page"" hidden=""""/><Artist value=""&lt;a href=&quot;//commons.wikimedia.org/wiki/User:Alvesgaspar&quot; title=&quot;User:Alvesgaspar&quot;&gt;Alvesgaspar&lt;/a&gt; (&lt;a href=&quot;//commons.wikimedia.org/wiki/User_talk:Alvesgaspar&quot; title=&quot;User talk:Alvesgaspar&quot;&gt;talk&lt;/a&gt;&lt;span style=&quot;white-space:nowrap&quot;&gt;¬†&lt;b&gt;¬∑&lt;/b&gt;&lt;/span&gt; &lt;a href=&quot;//commons.wikimedia.org/wiki/Special:Contributions/Alvesgaspar&quot; title=&quot;Special:Contributions/Alvesgaspar&quot;&gt;contribs&lt;/a&gt;)"" source=""commons-desc-page""/><LicenseShortName value=""CC BY-SA 2.5"" source=""commons-desc-page"" hidden=""""/><UsageTerms value=""Creative Commons Attribution-Share Alike 2.5"" source=""commons-desc-page"" hidden=""""/><AttributionRequired value=""true"" source=""commons-desc-page"" hidden=""""/><LicenseUrl value=""https://creativecommons.org/licenses/by-sa/2.5"" source=""commons-desc-page"" hidden=""""/><Copyrighted value=""True"" source=""commons-desc-page"" hidden=""""/><Restrictions value="""" source=""commons-desc-page"" hidden=""""/><License value=""cc-by-sa-2.5"" source=""commons-templates"" hidden=""""/></extmetadata></ii></imageinfo></page><page _idx=""24840980"" pageid=""24840980"" ns=""14"" title=""Category:Pictures of the Year/2012 (finalist)""/><page _idx=""20107176"" pageid=""20107176"" ns=""14"" title=""Category:Pictures of the Year/2011 (finalist)""/><page _idx=""20107168"" pageid=""20107168"" ns=""14"" title=""Category:Pictures of the Year/2010 (finalist)""/><page _idx=""20107166"" pageid=""20107166"" ns=""14"" title=""Category:Pictures of the Year/2009 (finalist)""/><page _idx=""20107165"" pageid=""20107165"" ns=""14"" title=""Category:Pictures of the Year/2007 (finalist)""/><page _idx=""20081670"" pageid=""20081670"" ns=""14"" title=""Category:Pictures of the Year exhibitions""/></pages></query></api>
12-20 12:07:05.817   790   888 D WifiStateMachine: updateCapabilities for config:mywififalse,false
12-20 12:07:05.844 31263 31263 W System.err: java.lang.ClassCastException: fr.free.nrw.commons.category.CategoryDetailsActivity cannot be cast to fr.free.nrw.commons.category.CategoryImagesActivity
12-20 12:07:05.845 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment.handleSuccess(CategoryImagesListFragment.java:245)
12-20 12:07:05.845 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment.bridge$lambda$0$CategoryImagesListFragment(CategoryImagesListFragment.java)
12-20 12:07:05.845 31263 31263 W System.err:    at fr.free.nrw.commons.category.CategoryImagesListFragment$$Lambda$4.accept(Unknown Source)
12-20 12:07:05.845 31263 31263 W System.err:    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)
12-20 12:07:05.845 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableTimeoutTimed$TimeoutObserver.onNext(ObservableTimeoutTimed.java:94)
12-20 12:07:05.845 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)
12-20 12:07:05.845 31263 31263 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)
12-20 12:07:05.845 31263 31263 W System.err:    at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:119)
12-20 12:07:05.845 31263 31263 W System.err:    at android.os.Handler.handleCallback(Handler.java:751)
12-20 12:07:05.845 31263 31263 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:95)
12-20 12:07:05.845 31263 31263 W System.err:    at android.os.Looper.loop(Looper.java:154)
12-20 12:07:05.845 31263 31263 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:6186)
12-20 12:07:05.845 31263 31263 W System.err:    at java.lang.reflect.Method.invoke(Native Method)
12-20 12:07:05.845 31263 31263 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
12-20 12:07:05.845 31263 31263 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
12-20 12:07:05.846 31263 31263 D MediaDetailPagerFragmen: Skipping getCount. Returning as activity is destroyed!
```

**Device and Android version:** 

Android 7.1.2 LineageOS

**Commons app version:** 

2.9.0.118

**Screen-shots:** 

![screenshot_20181220-120208](https://user-images.githubusercontent.com/99590/50261519-3a172180-0450-11e9-8dd6-a9c24aba2fc8.png)",https://github.com/commons-app/apps-android-commons/issues/2182#issuecomment-448847194,Did it start happening recently?
commons-app/apps-android-commons,"There have been 6 commits to master today, yet no alpha APK has made it to Google Play:
![screenshot from 2018-12-19 23-50-17](https://user-images.githubusercontent.com/99590/50227334-e1f90480-03e8-11e9-900b-56fb33f12081.png)

![screenshot from 2018-12-19 23-46-00](https://user-images.githubusercontent.com/99590/50227157-6b5c0700-03e8-11e9-8115-c2ea078c2654.png)
(Now almost midnight here)",https://github.com/commons-app/apps-android-commons/issues/2172#issuecomment-448651308,"I did update the way Travis builds stuff in https://github.com/commons-app/apps-android-commons/commit/e6593c55e9114f76203d2a5498a724a73938ebe8, could be related?

Can you tell what commit version 113 was?"
commons-app/apps-android-commons,"![screenshot_20181217-104330](https://user-images.githubusercontent.com/99590/50064779-51f36900-01f6-11e9-98ab-215bd1faeaf5.png)

2.9.0 last alpha

My Internet connection might have been flimsy at that time.",https://github.com/commons-app/apps-android-commons/issues/2139#issuecomment-453785555,"I was looking at the code related to this bug. Why do we show the noDataYet TextView (""Welcome to Commons..."") in ContributionsListFragment's onCreateView(). It would be better to show it only when the load finishes and we determine that nothing was fetched? So ContributionsSyncFragment.clearSyncMessage could optionally display noDataYet if no data was loaded. Perhaps calling the string/TextView ""noDataYet"" is part of the confusion. I would instead call it: noDataAvailable.

Happy to try a fix if domdomegg@ is ok."
commons-app/apps-android-commons,"**Summary:** 

Travis fails with openssl error:

```
The command ""openssl aes-256-cbc -K $encrypted_7b5c925cc32c_key -iv $encrypted_7b5c925cc32c_iv -in nr-commons.keystore.enc -out nr-commons.keystore -d"" failed and exited with 1 during .
```

Example:

I created #2115 to check whether it was Travis or me, as that build should pass - all I've done is created a useless file which shouldn't have any effect. I have a feeling because of the timing of things and the error message this might be a side effect of @misaochan's #2111?

**System logs:**

https://travis-ci.org/commons-app/apps-android-commons/builds/468066550",https://github.com/commons-app/apps-android-commons/issues/2117#issuecomment-447381565,Seems like master is passing at the moment though? We might need to sort out the PR warnings later. :)
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Try to upload a rather big picture (7MB 6000x4000 pixels). It is a normal DLSR size these days. Either via gallery or via ""share to"", and either from home activity or from nearby.
2. Crash

I can send you such pictures via email if you want.

**System logs:**

```
12-07 20:04:58.162 18524 28962 D CustomApiResult:  <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><allimages/></query></api>
12-07 20:04:58.259 18524 28962 V ImageUtils: left: 0 right: 6000 top: 0 bottom: 4000
12-07 20:04:58.911   786 17525 I ActivityManager: Process org.telegram.messenger (pid 18450) has died
12-07 20:04:58.911   786 17525 D ActivityManager: cleanUpApplicationRecord -- 18450
12-07 20:04:58.921   786 17525 W ActivityManager: Scheduling restart of crashed service org.telegram.messenger/.NotificationsService in 1000ms
12-07 20:04:58.955 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:58.956 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:58.961 18524 28962 I art     : Alloc sticky concurrent mark sweep GC freed 4(88B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 508us total 5.419ms
12-07 20:04:58.961 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.001 18524 28962 I art     : Alloc partial concurrent mark sweep GC freed 50(1528B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 506us total 39.506ms
12-07 20:04:59.001 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.045 18524 28962 I art     : Alloc concurrent mark sweep GC freed 46(1568B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 524us total 43.441ms
12-07 20:04:59.045 18524 28962 I art     : Forcing collection of SoftReferences for 91MB allocation
12-07 20:04:59.045 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.092 18524 28962 I art     : Alloc concurrent mark sweep GC freed 3(72B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 746us total 46.376ms
12-07 20:04:59.092 18524 28962 W art     : Throwing OutOfMemoryError ""Failed to allocate a 96000012 byte allocation with 16776880 free bytes and 83MB until OOM""
12-07 20:04:59.092 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.092 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.099 18524 28962 I art     : Alloc sticky concurrent mark sweep GC freed 4(640B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 716us total 6.659ms
12-07 20:04:59.099 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.139 18524 28962 I art     : Alloc partial concurrent mark sweep GC freed 6(144B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 575us total 38.958ms
12-07 20:04:59.139 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.178 18524 28962 I art     : Alloc concurrent mark sweep GC freed 3(72B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 755us total 38.742ms
12-07 20:04:59.178 18524 28962 I art     : Forcing collection of SoftReferences for 91MB allocation
12-07 20:04:59.178 18524 28962 I art     : Starting a blocking GC Alloc
12-07 20:04:59.216 18524 28962 I art     : Alloc concurrent mark sweep GC freed 3(72B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 509us total 37.197ms
12-07 20:04:59.216 18524 28962 I art     : Starting a blocking GC HomogeneousSpaceCompact
12-07 20:04:59.294 18524 28962 I art     : HomogeneousSpaceCompact marksweep + semispace GC freed 3(72B) AllocSpace objects, 0(0B) LOS objects, 12% free, 108MB/124MB, paused 77.453ms total 77.453ms
12-07 20:04:59.294 18524 28962 W art     : Throwing OutOfMemoryError ""Failed to allocate a 96000012 byte allocation with 16777216 free bytes and 83MB until OOM""
12-07 20:04:59.324 18524 28962 W System.err: io.reactivex.exceptions.UndeliverableException: java.lang.OutOfMemoryError: Failed to allocate a 96000012 byte allocation with 16777216 free bytes and 83MB until OOM
12-07 20:04:59.329 18524 28962 W System.err: 	at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)
12-07 20:04:59.330 18524 28962 W System.err: 	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:69)
12-07 20:04:59.330 18524 28962 W System.err: 	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
12-07 20:04:59.330 18524 28962 W System.err: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
12-07 20:04:59.330 18524 28962 W System.err: 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)
12-07 20:04:59.330 18524 28962 W System.err: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
12-07 20:04:59.330 18524 28962 W System.err: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
12-07 20:04:59.330 18524 28962 W System.err: 	at java.lang.Thread.run(Thread.java:761)
12-07 20:04:59.330 18524 28962 W System.err: Caused by: java.lang.OutOfMemoryError: Failed to allocate a 96000012 byte allocation with 16777216 free bytes and 83MB until OOM
12-07 20:04:59.331 18524 28962 W System.err: 	at fr.free.nrw.commons.utils.ImageUtils.checkIfImageIsDark(ImageUtils.java:117)
12-07 20:04:59.331 18524 28962 W System.err: 	at fr.free.nrw.commons.utils.ImageUtils.checkIfImageIsTooDark(ImageUtils.java:88)
12-07 20:04:59.331 18524 28962 W System.err: 	at fr.free.nrw.commons.upload.UploadModel$$Lambda$8.apply(Unknown Source)
12-07 20:04:59.332 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:57)
12-07 20:04:59.332 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:64)
12-07 20:04:59.332 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:56)
12-07 20:04:59.332 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.332 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.internal.operators.single.SingleZipArray.subscribeActual(SingleZipArray.java:64)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3380)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Single.subscribe(Single.java:3351)
12-07 20:04:59.333 18524 28962 W System.err: 	at fr.free.nrw.commons.upload.UploadModel.receiveDirect(UploadModel.java:133)
12-07 20:04:59.333 18524 28962 W System.err: 	at fr.free.nrw.commons.upload.UploadPresenter.lambda$receiveDirect$4$UploadPresenter(UploadPresenter.java:96)
12-07 20:04:59.333 18524 28962 W System.err: 	at fr.free.nrw.commons.upload.UploadPresenter$$Lambda$3.run(Unknown Source)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.internal.operators.completable.CompletableFromRunnable.subscribeActual(CompletableFromRunnable.java:35)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Completable.subscribe(Completable.java:2171)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.internal.operators.completable.CompletableSubscribeOn$SubscribeOnObserver.run(CompletableSubscribeOn.java:64)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:579)
12-07 20:04:59.333 18524 28962 W System.err: 	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
12-07 20:04:59.333 18524 28962 W System.err: 	... 6 more
12-07 20:04:59.337 18524 28962 E AndroidRuntime: FATAL EXCEPTION: RxCachedThreadScheduler-11
12-07 20:04:59.337 18524 28962 E AndroidRuntime: Process: fr.free.nrw.commons, PID: 18524
12-07 20:04:59.337 18524 28962 E AndroidRuntime: io.reactivex.exceptions.UndeliverableException: java.lang.OutOfMemoryError: Failed to allocate a 96000012 byte allocation with 16777216 free bytes and 83MB until OOM
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:69)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at java.lang.Thread.run(Thread.java:761)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: Caused by: java.lang.OutOfMemoryError: Failed to allocate a 96000012 byte allocation with 16777216 free bytes and 83MB until OOM
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.utils.ImageUtils.checkIfImageIsDark(ImageUtils.java:117)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.utils.ImageUtils.checkIfImageIsTooDark(ImageUtils.java:88)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.upload.UploadModel$$Lambda$8.apply(Unknown Source)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:57)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleMap$MapSingleObserver.onSuccess(SingleMap.java:64)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:56)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.single.SingleZipArray.subscribeActual(SingleZipArray.java:64)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3394)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3380)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Single.subscribe(Single.java:3351)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.upload.UploadModel.receiveDirect(UploadModel.java:133)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.upload.UploadPresenter.lambda$receiveDirect$4$UploadPresenter(UploadPresenter.java:96)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at fr.free.nrw.commons.upload.UploadPresenter$$Lambda$3.run(Unknown Source)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.completable.CompletableFromRunnable.subscribeActual(CompletableFromRunnable.java:35)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Completable.subscribe(Completable.java:2171)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.operators.completable.CompletableSubscribeOn$SubscribeOnObserver.run(CompletableSubscribeOn.java:64)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:579)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
12-07 20:04:59.337 18524 28962 E AndroidRuntime: 	... 6 more
12-07 20:04:59.346   786  7837 W ActivityManager:   Force finishing activity fr.free.nrw.commons/.upload.UploadActivity
```

**Device and Android version:** 

LineageOS 2.7.1
 
**Commons app version:** 

2.9.0 latest alpha",https://github.com/commons-app/apps-android-commons/issues/2083#issuecomment-448379413,Can you please provide me the pictures?
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Open Nearby, see the dot showing where you are
2. Go for a walk

Expected: The dot moves with you
Actually: The dot does not move

If it is working for you, then please comment below, thanks!

**Commons app version:** 

2.9.0",https://github.com/commons-app/apps-android-commons/issues/2062#issuecomment-448171529,Anyone working on this or should I take it up?
commons-app/apps-android-commons,"As reported by a user. 

**Summary:** 

Achievements activity doesn't load

**System logs:**
Added from the logs received:

```
javax.net.ssl.SSLHandshakeException: Connection closed by peer
	at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)
	at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:324)
	at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:302)
	at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:270)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:162)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi.lambda$getAchievements$4$ApacheHttpClientMediaWikiApi(ApacheHttpClientMediaWikiApi.java:985)
	at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi$$Lambda$8.call(Unknown Source)
	at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:44)
	at io.reactivex.Single.subscribe(Single.java:3394)
	at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:579)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:154)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
	at java.lang.Thread.run(Thread.java:818)
```
 
**Commons app version:** 

2.9.0

**Would you like to work on the issue?**

No. ",https://github.com/commons-app/apps-android-commons/issues/2061#issuecomment-443651605,"Does it never load for that user, or did this only happen once?"
commons-app/apps-android-commons,"**Summary:** 

Got a crash when starting the app.

**Steps to reproduce:** 

Not easy to reproduce, but second time today.

**System logs:**

```
11-29 22:39:35.025 23369 23517 D NoSync  : Called fsync                                                                                
11-29 22:39:35.029 23592 23809 I native  : flash-index.cc:1605 Flash index sort hb 11198 prefix-hits 49416 -> 33239 at 539.188ms
11-29 22:39:35.101 23592 11637 I iu.FingerprintManager: Start processing media store URI: content://media/external/video/media            
11-29 22:39:35.169 12009 12009 D NearbyFragment: On nearby tab selected                                        
11-29 22:39:35.207   794   456 I GnssLocationProvider: WakeLock acquired by sendMessage(3, 0, com.android.server.location.GnssLocationProvider$GpsRequest@1a6fa98)
11-29 22:39:35.210 12009 12009 D NearbyFragment: checking GPS                                                 
11-29 22:39:35.210 12009 12009 D NearbyFragment: GPS is enabled                                                                                                                                                                    
11-29 22:39:35.211 12009 12009 D NearbyFragment: Checking location permission                                                                                                                                                                           
11-29 22:39:35.212 12009 12009 D NearbyFragment: Refreshing nearby places                                                                                           
11-29 22:39:35.214 12009 12009 D NearbyFragment: Skipping update of nearby places as location is unavailable 
11-29 22:39:35.217 12009 12009 D AndroidRuntime: Shutting down VM                                             
11-29 22:39:35.218 12009 12009 E AndroidRuntime: FATAL EXCEPTION: main                      
11-29 22:39:35.218 12009 12009 E AndroidRuntime: Process: fr.free.nrw.commons, PID: 12009   
11-29 22:39:35.218 12009 12009 E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.free.nrw.commons/fr.free.nrw.commons.contributions.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'an
droid.content.res.Resources android.view.View.getResources()' on a null object reference                                                                                                                          
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2684)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2751)                        
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread.-wrap12(ActivityThread.java)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1496)                                                     
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.os.Handler.dispatchMessage(Handler.java:102)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.os.Looper.loop(Looper.java:154)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread.main(ActivityThread.java:6186)                             
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at java.lang.reflect.Method.invoke(Native Method)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
11-29 22:39:35.218 12009 12009 E AndroidRuntime: Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.view.View.getResources()' on a null object reference
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.support.design.widget.Snackbar.make(Snackbar.java:170)                                                                           
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at fr.free.nrw.commons.nearby.NearbyFragment.addNetworkBroadcastReceiver(NearbyFragment.java:596)                                                                                                    
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at fr.free.nrw.commons.nearby.NearbyFragment.performNearbyOperations(NearbyFragment.java:639)                                               
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at fr.free.nrw.commons.nearby.NearbyFragment.onTabSelected(NearbyFragment.java:627)                
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at fr.free.nrw.commons.contributions.MainActivity.onCreate(MainActivity.java:87)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.Activity.performCreate(Activity.java:6684)                                                                                 
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)                                             
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2637)
11-29 22:39:35.218 12009 12009 E AndroidRuntime:        ... 9 more                                                                                                                                                           
11-29 22:39:35.238   794  3630 W ActivityManager:   Force finishing activity fr.free.nrw.commons/.contributions.MainActivity
```

**Device and Android version:** 

LineageOS Android 7.1.2
 
**Commons app version:** 

2.9.0 from Play Store",https://github.com/commons-app/apps-android-commons/issues/2045#issuecomment-444034195,It seems the PR was closed prematurely?
commons-app/apps-android-commons,"**Summary:** 

After logging out and in again, the main UI took a long time to load, and the notifications bell icon was replaced by a white square. 

**System logs:**

```
11-19 18:52:45.865 32201-32201/fr.free.nrw.commons D/LoginActivity: Login done!
11-19 18:52:45.907 32201-32230/fr.free.nrw.commons D/EGL_emulation: eglMakeCurrent: 0xe7c52f60: ver 3 1 (tinfo 0xd69363b0)
11-19 18:52:46.009 32201-32201/fr.free.nrw.commons D/SessionManager: account creation successful
11-19 18:52:46.105 26161-30425/system_process I/ActivityManager: START u0 {flg=0x4000000 cmp=fr.free.nrw.commons/.contributions.MainActivity} from uid 10090
11-19 18:52:46.168 32201-32230/fr.free.nrw.commons D/EGL_emulation: eglMakeCurrent: 0xe7c52f60: ver 3 1 (tinfo 0xd69363b0)
11-19 18:52:46.328 32201-32201/fr.free.nrw.commons I/AppCompatViewInflater: app:theme is now deprecated. Please move to using android:theme instead.
11-19 18:52:46.945 32201-32248/fr.free.nrw.commons D/CustomApiResult: API response is
     <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><userinfo id=""6998903"" name=""Misaochan2""/></query></api>
11-19 18:52:47.766 32201-32248/fr.free.nrw.commons W/zygote: Long monitor contention with owner main (32201) at java.lang.String java.nio.charset.Charset.name()(Charset.java:703) waiters=0 in java.util.zip.ZipEntry java.util.zip.ZipFile.getEntry(java.lang.String) for 785ms
11-19 18:52:48.123 32201-32206/fr.free.nrw.commons I/zygote: Do full code cache collection, code=247KB, data=183KB
11-19 18:52:48.233 32201-32206/fr.free.nrw.commons I/zygote: After code cache collection, code=247KB, data=130KB
11-19 18:52:48.290 32201-32201/fr.free.nrw.commons D/ContributionsFragment: GPS is enabled
11-19 18:52:48.797 32201-32206/fr.free.nrw.commons I/zygote: Do partial code cache collection, code=249KB, data=154KB
11-19 18:52:49.168 32201-32206/fr.free.nrw.commons I/zygote: After code cache collection, code=248KB, data=155KB
    Increasing code cache capacity to 1024KB
11-19 18:52:49.319 32201-32201/fr.free.nrw.commons D/MainActivity: Contributions activity notifications menu item is visible
11-19 18:52:49.339 32201-32201/fr.free.nrw.commons I/Choreographer: Skipped 158 frames!  The application may be doing too much work on its main thread.
11-19 18:52:49.395 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 27185(1788KB) AllocSpace objects, 14(448KB) LOS objects, 49% free, 5MB/11MB, paused 7.355ms total 2.169s
11-19 18:52:49.399 32201-32230/fr.free.nrw.commons D/EGL_emulation: eglMakeCurrent: 0xe7c52f60: ver 3 1 (tinfo 0xd69363b0)
11-19 18:52:49.939 32201-32201/fr.free.nrw.commons D/LocationServiceManager: Provider network disabled
11-19 18:52:49.990 32201-32201/fr.free.nrw.commons I/Choreographer: Skipped 37 frames!  The application may be doing too much work on its main thread.
11-19 18:52:50.088 26161-26183/system_process I/ActivityManager: Displayed fr.free.nrw.commons/.contributions.MainActivity: +3s853ms
11-19 18:52:50.206 32201-32201/fr.free.nrw.commons D/LocationServiceManager: on location changed
11-19 18:52:50.218 32201-32201/fr.free.nrw.commons D/LocationServiceManager: gps's status changed to 1
11-19 18:52:50.226 32201-32277/fr.free.nrw.commons D/NearbyController: Loading attractions near lat/lng: (37.421998333333335,-122.08400000000002)
11-19 18:52:50.250 32201-32267/fr.free.nrw.commons D/CustomApiResult: API response is
     <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><userinfo id=""6998903"" name=""Misaochan2""/></query></api>
11-19 18:52:50.773 32201-32277/fr.free.nrw.commons D/NearbyPlaces: https://query.wikidata.org/#SELECT%0A%20%20%20%20%20(SAMPLE(%3Flocation)%20as%20%3Flocation)%0A%20%20%20%20%20%3Fitem%0A%20%20%20%20%20(SAMPLE(COALESCE(%3Fitem_label_preferred_language%2C%20%3Fitem_label_any_language))%20as%20%3Flabel)%0A%20%20%20%20%20(SAMPLE(%3FclassId)%20as%20%3Fclass)%0A%20%20%20%20%20(SAMPLE(COALESCE(%3Fclass_label_preferred_language%2C%20%3Fclass_label_any_language%2C%20%22%3F%22))%20as%20%3Fclass_label)%0A%20%20%20%20%20(SAMPLE(COALESCE(%3Ficon0%2C%20%3Ficon1))%20as%20%3Ficon)%0A%20%20%20%20%20(SAMPLE(COALESCE(%3Femoji0%2C%20%3Femoji1))%20as%20%3Femoji)%0A%20%20%20%20%20%3FwikipediaArticle%0A%20%20%20%20%20%3FcommonsArticle%0A%20%20%20%20%20(SAMPLE(%3FCommons_category)%20as%20%3FCommons_category)%0A%20%20%20WHERE%20%7B%0A%20%20%20%20%20%23%20Around%20given%20location...%0A%20%20%20%20%20SERVICE%20wikibase%3Aaround%20%7B%0A%20%20%20%20%20%20%20%3Fitem%20wdt%3AP625%20%3Flocation.%0A%20%20%20%20%20%20%20bd%3AserviceParam%20wikibase%3Acenter%20%22Point(-122.0840%2037.4220)%22%5E%5Egeo%3AwktLiteral.%0A%20%20%20%20%20%20%20bd%3AserviceParam%20wikibase%3Aradius%20%221.00%22%20.%20%23%20Radius%20in%20kilometers.%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%23%20...%20and%20without%20an%20image.%0A%20%20%20%20%20MINUS%20%7B%3Fitem%20wdt%3AP18%20%5B%5D%7D%0A%0A%20%20%20%20%20%23%20Get%20the%20label%20in%20the%20preferred%20language%20of%20the%20user%2C%20or%20any%20other%20language%20if%20no%20label%20is%20available%20in%20that%20language.%0A%20%20%20%20%20OPTIONAL%20%7B%3Fitem%20rdfs%3Alabel%20%3Fitem_label_preferred_language.%20FILTER%20(lang(%3Fitem_label_preferred_language)%20%3D%20%22en%22)%7D%0A%20%20%20%20%20OPTIONAL%20%7B%3Fitem%20rdfs%3Alabel%20%3Fitem_label_any_language%7D%0A%0A%20%20%20%20%20%23%20Get%20Commons%20category%20(P373)%0A%20%20%20%20%20OPTIONAL%20%7B%20%3Fitem%20wdt%3AP373%20%3FCommons_category.%20%7D%0A%0A%20%20%20%20%20%23%20Get%20the%20class%20label%20in%20the%20preferred%20language%20of%20the%20user%2C%20or%20any%20other%20language%20if%20no%20label%20is%20available%20in%20that%20language.%0A%20%20%20%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20%20%3Fitem%20p%3AP31%2Fps%3AP31%20%3FclassId.%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%3FclassId%20rdfs%3Alabel%20%3Fclass_label_preferred_language.%20FILTER%20(lang(%3Fclass_label_preferred_language)%20%3D%20%22en%22)%7D%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%3FclassId%20rdfs%3Alabel%20%3Fclass_label_any_language%7D%0A%0A%20%20%20%20%20%20%20%23%20Get%20icon%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%20%3FclassId%20wdt%3AP2910%20%3Ficon0.%20%7D%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%20%3FclassId%20wdt%3AP279*%2Fwdt%3AP2910%20%3Ficon1.%20%7D%0A%20%20%20%20%20%20%20%23%20Get%20emoji%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%20%3FclassId%20wdt%3AP487%20%3Femoji0.%20%7D%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%20%3FclassId%20wdt%3AP279*%2Fwdt%3AP487%20%3Femoji1.%20%7D%0A%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%3FwikipediaArticle%20%20%20schema%3Aabout%20%3Fitem%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20schema%3AisPartOf%20%3Chttps%3A%2F%2Fen.wikipedia.org%2F%3E%20.%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%3FwikipediaArticle%20%20%20schema%3Aabout%20%3Fitem%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20schema%3AisPartOf%20%3Chttps%3A%2F%2Fen.wikipedia.org%2F%3E%20.%0A%20%20%20%20%20%20%20%20%20%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22%20%7D%0A%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%3FcommonsArticle%20%20%20schema%3Aabout%20%3Fitem%20%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20schema%3AisPartOf%20%3Chttps%3A%2F%2Fcommons.wikimedia.org%2F%3E%20.%0A%20%20%20%20%20%20%20%20%20%20%20SERVICE%20
    wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22%20%7D%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20GROUP%20BY%20%3Fitem%20%3FwikipediaArticle%20%3FcommonsArticle%0A
11-19 18:52:51.041 32201-32279/fr.free.nrw.commons D/ContributionsSyncAdapte: Max number of uploads set to 500
11-19 18:52:51.112 32201-32280/fr.free.nrw.commons D/ModificationsSyncAdapte: No modifications to perform
11-19 18:52:51.544 32201-32206/fr.free.nrw.commons I/zygote: JIT allocated 56KB for compiled code of void android.view.View.<init>(android.content.Context, android.util.AttributeSet, int, int)
11-19 18:52:51.776 32201-32267/fr.free.nrw.commons D/CustomMwApi: User id is 6998903 and user name is Misaochan2
11-19 18:52:51.781 32201-32267/fr.free.nrw.commons D/ApacheHttpClientMediaWi: Validate login response is true
11-19 18:52:53.774 26959-30965/com.google.android.gms I/Icing: Indexing com.google.android.gm-messages/fr.free.nrw.commons/Misaochan2 from com.google.android.gm
11-19 18:52:54.084 26959-30965/com.google.android.gms I/Icing: Indexing done com.google.android.gm-messages/fr.free.nrw.commons/Misaochan2
11-19 18:52:54.670 32201-32277/fr.free.nrw.commons D/NearbyPlaces: Reading from query result...
11-19 18:52:54.761 32201-32277/fr.free.nrw.commons D/NearbyPlaces: 6 results at radius: 1.000000
11-19 18:52:54.762 32201-32277/fr.free.nrw.commons D/NearbyController: Sorting places by distance...
11-19 18:52:56.066 32201-32267/fr.free.nrw.commons D/CustomApiResult: API response is
     <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><notifications><list><notification wiki=""commonswiki"" id=""7559695"" type=""welcome"" category=""system"" section=""message"" read=""20180528075122""><timestamp utciso8601=""2018-01-16T08:42:06Z"" utcunix=""1516092126"" unix=""1516092126"" utcmw=""20180116084206"" mw=""20180116084206"" date=""16 January""/><agent id=""6998903"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">Welcome to Wikimedia Commons, ‚Ä™Misaochan2‚Ä¨! We're glad you're here.</header><compactHeader xml:space=""preserve"">Welcome to Wikimedia Commons, ‚Ä™Misaochan2‚Ä¨! We're glad you're here.</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">site</icon><links><primary url=""https://commons.wikimedia.org/wiki/Commons:Welcome?markasread=7559695&amp;markasreadwiki=commonswiki"" label=""Welcome""/><secondary/></links><iconUrl xml:space=""preserve"">/static/images/project-logos/notifications/120px-Notification-icon-Commons-logo.svg.png</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""7559696"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""280033927"" read=""20180312131512""><timestamp utciso8601=""2018-01-16T08:42:08Z"" utcunix=""1516092128"" unix=""1516092128"" utcmw=""20180116084208"" mw=""20180116084208"" date=""16 January""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""302461"" name=""Wikimedia Commons Welcome""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Wikimedia Commons We...‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt;.</header><compactHeader xml:space=""preserve"">‚Ä™Wikimedia Commons We...‚Ä¨ left you a message.</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=7559696&amp;markasreadwiki=commonswiki"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Wikimedia_Commons_Welcome"" label=""‚Ä™Wikimedia Commo...‚Ä¨"" tooltip=""Wikimedia Commons Welcome"" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=280033927"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""7560125"" type=""thank-you-edit"" category=""system"" section=""message"" read=""20180528075122""><timestamp utciso8601=""2018-01-16T09:07:12Z"" utcunix=""1516093632"" unix=""1516093632"" utcmw=""20180116090712"" mw=""20180116090712"" date=""16 January""/><title full=""File:Fishball noodle soup.jpg"" namespace=""File"" namespace-key=""6"" text=""Fishball noodle soup.jpg""/><agent id=""6998903"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">You just made your first edit; thank you, and welcome!</header><compactHeader xml:space=""preserve"">You just made your first edit; thank you, and welcome!</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit</icon><links><primary url=""https://commons.wikimedia.org/wiki/File:Fishball_noodle_soup.jpg?markasread=7560125&amp;markasreadwiki=commonswiki"" label=""Your edit""/><secondary/></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""7646176"" type=""thank-you-edit"" category=""system"" section=""message"" read=""20180528075122""><timestamp utciso8601=""2018-01-21T09:18:34Z"" utcunix=""1516526314"" unix=""1516526314"" utcmw=""20180121091834"" mw=""20180121091834"" date=""21 January""/><title full=""File:Brisbane town hall Christmas display.jpg"" namespace=""File"" namespace-key=""6"" text=""Brisbane town hall Christmas display.jpg""/><agent id=""6998903"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">You just made your tenth edit; thank you,
11-19 18:52:56.067 32201-32267/fr.free.nrw.commons D/CustomApiResult:  and please keep going!</header><compactHeader xml:space=""preserve"">You just made your tenth edit; thank you, and please keep going!</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit</icon><links><primary url=""https://commons.wikimedia.org/wiki/File:Brisbane_town_hall_Christmas_display.jpg?markasread=7646176&amp;markasreadwiki=commonswiki"" label=""Your edit""/><secondary/></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""7706101"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""282673184"" read=""20180312131512""><timestamp utciso8601=""2018-01-25T09:47:32Z"" utcunix=""1516873652"" unix=""1516873652"" utcmw=""20180125094732"" mw=""20180125094732"" date=""25 January""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt;.</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message.</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=7706101&amp;markasreadwiki=commonswiki"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=282673184"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""7706109"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""282673322"" read=""20180312131512""><timestamp utciso8601=""2018-01-25T09:48:24Z"" utcunix=""1516873704"" unix=""1516873704"" utcmw=""20180125094824"" mw=""20180125094824"" date=""25 January""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt; in ""&lt;strong&gt;‚Ä™File:Apron from Swiss souvenir shop.jpg‚Ä¨&lt;/strong&gt;"".</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message in ""&lt;strong&gt;‚Ä™File:Apron from Swiss souvenir shop.jpg‚Ä¨&lt;/strong&gt;"".</compactHeader><body xml:space=""preserve"">¬†   File:Apron from Swiss souvenir shop.jpg has been listed at Commons:Deletion requests so that the community can discuss whether it should be ke...</body><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=7706109&amp;markasreadwiki=commonswiki#File:Apron_from_Swiss_souvenir_shop.jpg"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=282673322"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""8326834"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""291348077"" read=""20180312131512""><timestamp utciso8601=""2018-03-08T13:33:04Z"" utcunix=""1520515984"" unix=""1520515984"" utcmw=""20180308133304"" mw=""20180308133304"" date=""8 March""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages
    /><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt; in ""&lt;strong&gt;‚Ä™File:Test image for deletion.jpg‚Ä¨&lt;/strong&gt;"".</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message in ""&lt;strong&gt;‚Ä™File:Test image for deletion.jpg‚Ä¨&lt;/strong&gt;"".</compactHeader><body xml:space=""preserve"">¬†   File:Test image for deletion.jpg has been listed at Commons:Deletion requests so that the community can discuss whether it should be kept or n...</body><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=8326834&amp;markasreadwiki=commonswiki#File:Test_image_for_deletion.jpg"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=291348077"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""8326873"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""291348287"" read=""20180312131512""><timestamp utciso8601=""2018-03-08T13:35:46Z"" utcunix=""1520516146"" unix=""1520516146"" utcmw=""20180308133546"" mw=""20180308133546"" date=""8 March""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt;.</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message.</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=8326873&amp;markasreadwiki=commonswiki"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=291348287"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""wikidatawiki"" id=""230070757"" type=""thank-you-edit"" category=""system"" section=""message"" read=""20180528075119""><timestamp utciso8601=""2018-05-23T07:31:25Z"" utcunix=""1527060685"" unix=""1527060685"" utcmw=""20180523073125"" mw=""20180523073125"" date=""23 May""/><title full=""Q19876257"" namespace="""" namespace-key=""0"" text=""Q19876257""/><agent id=""2971786"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">You just made your first edit; thank you, and welcome!</header><compactHeader xml:space=""preserve"">You just made your first edit; thank you, and welcome!</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit</icon><links><primary url=""https://www.wikidata.org/wiki/Q19876257?markasread=230070757&amp;markasreadwiki=wikidatawiki"" label=""Your edit""/><secondary/></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""10191154"" type=""thank-you-edit"" category=""system"" section=""message""><timestamp utciso8601=""2018-06-04T09:07:13Z"" utcunix=""1528103233"" unix=""1528103233"" utcmw=""20180604090713"" mw=""20180604090713"" date=""4 June""/><title full=""File:Bottle nosed dolphin at Sea world.jpg"" namespace=""File"" namespace-key=""6"" text=""Bottle nosed dolphin at Sea world.jpg""/><agent id=""6998903"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">You just ma
    de your hundredth edit; thank you very much!</header><compactHeader xml:space=""preserve"">You just made your hundredth edit; thank you very much!</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit</icon><links><primary url=""https://commons.wikimedia.org/wiki/File:Bottle_nosed_dolphin_at_Sea_world.jpg?markasread=10191154&amp;markasreadwiki=commonswiki"" label=""Your edit""/><secondary/></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""11250300"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""315388996"" read=""20180906174039""><timestamp utciso8601=""2018-08-19T17:31:29Z"" utcunix=""1534699889"" unix=""1534699889"" utcmw=""20180819173129"" mw=""20180819173129"" date=""19 August""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt; in ""&lt;strong&gt;‚Ä™File:Abcd 2.jpg‚Ä¨&lt;/strong&gt;"".</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message in ""&lt;strong&gt;‚Ä™File:Abcd 2.jpg‚Ä¨&lt;/strong&gt;"".</compactHeader><body xml:space=""preserve"">¬†  File:Abcd 2.jpg has been listed at Commons:Deletion requests so that the community can discuss whether it should be kept or not. We would apprec...</body><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=11250300&amp;markasreadwiki=commonswiki#File:Abcd_2.jpg"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=315388996"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""wikidatawiki"" id=""279213248"" type=""thank-you-edit"" category=""system"" section=""message""><timestamp utciso8601=""2018-08-30T15:05:43Z"" utcunix=""1535641543"" unix=""1535641543"" utcmw=""20180830150543"" mw=""20180830150543"" date=""30 August""/><title full=""Q5183861"" namespace="""" namespace-key=""0"" text=""Q5183861""/><agent id=""2971786"" name=""Misaochan2""/><targetpages/><_.2A.><header xml:space=""preserve"">You just made your tenth edit; thank you, and please keep going!</header><compactHeader xml:space=""preserve"">You just made your tenth edit; thank you, and please keep going!</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit</icon><links><primary url=""https://www.wikidata.org/wiki/Q5183861?markasread=279213248&amp;markasreadwiki=wikidatawiki"" label=""Your edit""/><secondary/></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""12284831"" type=""edit-user-talk"" category=""edit-user-talk"" section=""alert"" revid=""326447318""><timestamp utciso8601=""2018-11-04T14:19:58Z"" utcunix=""1541341198"" unix=""1541341198"" utcmw=""20181104141958"" mw=""20181104141958"" date=""4 November""/><title full=""User talk:Misaochan2"" namespace=""User_talk"" namespace-key=""3"" text=""Misaochan2""/><agent id=""4512262"" name=""Misaochan""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left a message on &lt;strong&gt;your talk page&lt;/strong&gt;.</header><compactHeader xml:space=""preserve"">‚Ä™Misaochan‚Ä¨ left you a message.</compactHeader><body xml:space=""preserve""/><icon xml:space=""preserve"">edit-user-talk</icon><links><primary url=""https://commons.wikimedia.org/wiki/User_talk:Misaochan2?markasread=12284831&amp;markasreadwiki=commonswiki"" label=""View message""/><secondary><_v url=""https://commons.wikimedia.org/wiki/Use
    r:Misaochan"" label=""‚Ä™Misaochan‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=User_talk:Misaochan2&amp;oldid=prev&amp;diff=326447318"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/edit-user-talk-progressive.svg</iconUrl></_.2A.></notification><notification wiki=""commonswiki"" id=""12320813"" type=""mention"" category=""mention"" section=""alert"" revid=""327003207""><timestamp utciso8601=""2018-11-08T14:02:37Z"" utcunix=""1541685757"" unix=""1541685757"" utcmw=""20181108140237"" mw=""20181108140237"" date=""8 November""/><title full=""Commons:Deletion requests/File:Test image for Commons app camera.jpg"" namespace=""Commons"" namespace-key=""4"" text=""Deletion requests/File:Test image for Commons app camera.jpg""/><agent id=""6411"" name=""Bjh21""/><targetpages/><_.2A.><header xml:space=""preserve"">‚Ä™Bjh21‚Ä¨ mentioned you on &lt;strong&gt;‚Ä™Commons:Deletion requests/File:Test image for Comm...‚Ä¨&lt;/strong&gt; in ""&lt;strong&gt;‚Ä™File:Test image for Commons app camera.jpg‚Ä¨&lt;/strong&gt;"".</header><compactHeader xml:space=""preserve"">‚Ä™Bjh21‚Ä¨ mentioned you on &lt;strong&gt;‚Ä™Commons:Deletion requests/File:Test image for Comm...‚Ä¨&lt;/strong&gt; in ""&lt;strong&gt;‚Ä™File:Test image for Commons app camera.jpg‚Ä¨&lt;/strong&gt;"".</compactHeader><body xml:space=""preserve"">¬†Speedy delete. @Misaochan2: You can mark your own recent uploads for deletion by putting {{SD|G7}} at the top of the file description. --</body><icon xml:space=""preserve"">mention</icon><links><primary url=""https://commons.wikimedia.org/wiki/Commons:Deletion_requests/File:Test_image_for_Commons_app_camera.jpg?markasread=12320813&amp;markasreadwiki=commonswiki#File:Test_image_for_Commons_app_camera.jpg"" label=""View mention""/><secondary><_v url=""https://commons.wikimedia.org/wiki/User:Bjh21"" label=""‚Ä™Bjh21‚Ä¨"" tooltip="""" description="""" icon=""userAvatar"" prioritized=""""/><_v url=""https://commons.wikimedia.org/w/index.php?title=Commons:Deletion_requests/File:Test_image_for_Commons_app_camera.jpg&amp;oldid=prev&amp;diff=327003207"" label=""View changes"" description="""" icon=""changes"" prioritized=""""/></secondary></links><iconUrl xml:space=""preserve"">/w/extensions/Echo/modules/icons/mention-progressive.svg</iconUrl></_.2A.></notification></list></notifications></query></api>
11-19 18:52:56.203 32201-32279/fr.free.nrw.commons D/CustomApiResult: API response is
11-19 18:52:56.204 32201-32279/fr.free.nrw.commons D/CustomApiResult:  <?xml version=""1.0"" encoding=""UTF-8""?><api batchcomplete=""""><query><logevents><item logid=""276603657"" ns=""6"" title=""File:Stoneridge estate chapel.jpg"" pageid=""74289332"" logpage=""74289332"" timestamp=""2018-11-10T15:59:58Z""/><item logid=""276493890"" ns=""6"" title=""File:Test png upload for Commons app.png"" pageid=""0"" logpage=""74187188"" timestamp=""2018-11-06T15:38:48Z""/><item logid=""276493794"" ns=""6"" title=""File:Test image for Commons app camera.jpg"" pageid=""0"" logpage=""74187088"" timestamp=""2018-11-06T15:33:35Z""/><item logid=""276493656"" ns=""6"" title=""File:Crepes 3.jpg"" pageid=""74186947"" logpage=""74186947"" timestamp=""2018-11-06T15:26:56Z""/><item logid=""276492915"" ns=""6"" title=""File:Little Paradise garden in Queenstown.jpg"" pageid=""74186159"" logpage=""74186159"" timestamp=""2018-11-06T15:00:13Z""/><item logid=""276492728"" ns=""6"" title=""File:Lake Wakatipu at sunset.jpg"" pageid=""74185948"" logpage=""74185948"" timestamp=""2018-11-06T14:49:59Z""/><item logid=""276423800"" ns=""6"" title=""File:Agedashi tofu 2.jpg"" pageid=""74122916"" logpage=""74122916"" timestamp=""2018-11-04T12:25:59Z""/><item logid=""276327850"" ns=""6"" title=""File:Peacock in Little Paradise garden.jpg"" pageid=""74030995"" logpage=""74030995"" timestamp=""2018-11-01T10:04:26Z""/><item logid=""276327796"" ns=""6"" title=""File:Shoreline Park.jpg"" pageid=""74030943"" logpage=""74030943"" timestamp=""2018-11-01T10:00:04Z""/><item logid=""276327673"" ns=""6"" title=""File:Toilet in Little Paradise Lodge and Garden 2.jpg"" pageid=""74030817"" logpage=""74030817"" timestamp=""2018-11-01T09:51:03Z""/><item logid=""276327659"" ns=""6"" title=""File:Toilet in Little Paradise Lodge and Garden.jpg"" pageid=""74030811"" logpage=""74030811"" timestamp=""2018-11-01T09:50:26Z""/><item logid=""276327592"" ns=""6"" title=""File:Test upload for camera.jpg"" pageid=""0"" logpage=""74030722"" timestamp=""2018-11-01T09:43:30Z""/><item logid=""276327559"" ns=""6"" title=""File:Peacock in Queenstown garden.jpg"" pageid=""74030684"" logpage=""74030684"" timestamp=""2018-11-01T09:40:54Z""/><item logid=""276327288"" ns=""6"" title=""File:View of Queenstown from Skyline Gondola.jpg"" pageid=""74030398"" logpage=""74030398"" timestamp=""2018-11-01T09:19:46Z""/><item logid=""276258695"" ns=""6"" title=""File:Nasi kerabu 3.jpg"" pageid=""73962106"" logpage=""73962106"" timestamp=""2018-10-29T13:51:19Z""/><item logid=""276253909"" ns=""6"" title=""File:Brisbane 2.jpg"" pageid=""73957027"" logpage=""73957027"" timestamp=""2018-10-29T09:15:28Z""/><item logid=""276253141"" ns=""6"" title=""File:Shores of Lake Wakatipu.jpg"" pageid=""73956193"" logpage=""73956193"" timestamp=""2018-10-29T08:36:01Z""/><item logid=""276159625"" ns=""6"" title=""File:Albert Street 2.jpg"" pageid=""73865698"" logpage=""73865698"" timestamp=""2018-10-25T16:07:30Z""/><item logid=""276159592"" ns=""6"" title=""File:New Farm Park 2.jpg"" pageid=""73865674"" logpage=""73865674"" timestamp=""2018-10-25T16:05:57Z""/><item logid=""275837028"" ns=""6"" title=""File:Fireworks at Riverfire Brisbane 2.jpg"" pageid=""73598669"" logpage=""73598669"" timestamp=""2018-10-14T08:47:25Z""/><item logid=""275836999"" ns=""6"" title=""File:Fireworks at Riverfire Brisbane.jpg"" pageid=""73598643"" logpage=""73598643"" timestamp=""2018-10-14T08:45:06Z""/><item logid=""275817681"" ns=""6"" title=""File:Nasi ambeng 3.jpg"" pageid=""73579649"" logpage=""73579649"" timestamp=""2018-10-13T08:57:49Z""/><item logid=""275817249"" ns=""6"" title=""File:Testing camera function.jpg"" pageid=""0"" logpage=""73579342"" timestamp=""2018-10-13T08:27:32Z""/><item logid=""275817232"" ns=""6"" title=""File:Willow tree by Lake Wakatipu.jpg"" pageid=""73579336"" logpage=""73579336"" timestamp=""2018-10-13T08:26:54Z""/><item logid=""275773816"" ns=""6"" title=""File:Fortitude Valley 2.jpg"" pageid=""73536242"" logpage=""73536242"" timestamp=""2018-10-11T09:18:57Z""/><item logid=""275773787"" ns=""6"" title=""File:Samsung galaxy s9.jpg"" pageid=""73536215"" logpage=""73536215"" timestamp=""2018-10-11T09:17:36Z""/><item logid=""275773763"" ns=""6"" title=""File:Riverfire fireworks.jpg"" pageid=""73536187"" logpage=""73536187"" timestamp=""2018-10-11T09:16:05Z""/><item logid=""275773730"" ns=""6"" title=""File:Pappa Rich branc
    h in Garden City.jpg"" pageid=""73536152"" logpage=""73536152"" timestamp=""2018-10-11T09:14:06Z""/><item logid=""275746261"" ns=""6"" title=""File:Grilled swordfish.jpg"" pageid=""73508853"" logpage=""73508853"" timestamp=""2018-10-10T09:12:54Z""/><item logid=""275746225"" ns=""6"" title=""File:View of Story bridge from Jellyfish restaurant Brisbane.jpg"" pageid=""73508817"" logpage=""73508817"" timestamp=""2018-10-10T09:10:52Z""/><item logid=""275746175"" ns=""6"" title=""File:Test png file upload.png"" pageid=""0"" logpage=""73508771"" timestamp=""2018-10-10T09:09:11Z""/><item logid=""275447105"" ns=""6"" title=""File:Hoyts Sunnybank.jpg"" pageid=""73229586"" logpage=""73229586"" timestamp=""2018-09-30T10:20:02Z""/><item logid=""275371280"" ns=""6"" title=""File:Lake Hawea, Queenstown.jpg"" pageid=""73153880"" logpage=""73153880"" timestamp=""2018-09-28T09:34:13Z""/><item logid=""275369312"" ns=""6"" title=""File:Mitchell Park.jpg"" pageid=""73151927"" logpage=""73151927"" timestamp=""2018-09-28T08:12:09Z""/><item logid=""275369222"" ns=""6"" title=""File:Test image.jpg"" pageid=""0"" logpage=""73151830"" timestamp=""2018-09-28T08:08:32Z""/><item logid=""275369219"" ns=""6"" title=""File:House in Kawarau junction Queenstown.jpg"" pageid=""73151825"" logpage=""73151825"" timestamp=""2018-09-28T08:08:23Z""/><item logid=""275369028"" ns=""6"" title=""File:Hilton Lakeside Residences Queenstown.jpg"" pageid=""73151621"" logpage=""73151621"" timestamp=""2018-09-28T08:04:56Z""/><item logid=""275345886"" ns=""6"" title=""File:Nasi ambeng 2.jpg"" pageid=""73130140"" logpage=""73130140"" timestamp=""2018-09-27T15:11:49Z""/><item logid=""275345851"" ns=""6"" title=""File:Wakatipu grill restaurant by Lake Frankton.jpg"" pageid=""73130097"" logpage=""73130097"" timestamp=""2018-09-27T15:10:18Z""/><item logid=""275304611"" ns=""6"" title=""File:Lake Frankton, Queenstown.jpg"" pageid=""73094360"" logpage=""73094360"" timestamp=""2018-09-26T17:32:13Z""/><item logid=""275304442"" ns=""6"" title=""File:Sunset in Brisbane.jpg"" pageid=""73094191"" logpage=""73094191"" timestamp=""2018-09-26T17:25:20Z""/><item logid=""275304347"" ns=""6"" title=""File:Cherry blossom trees in Queenstown.jpg"" pageid=""73094093"" logpage=""73094093"" timestamp=""2018-09-26T17:23:03Z""/><item logid=""275299097"" ns=""6"" title=""File:Cowch dessert cocktail bar in Southbank Brisbane.jpg"" pageid=""73090180"" logpage=""73090180"" timestamp=""2018-09-26T15:51:38Z""/><item logid=""275298925"" ns=""6"" title=""File:Skis on the wall of restaurant in Queenstown.jpg"" pageid=""73089999"" logpage=""73089999"" timestamp=""2018-09-26T15:48:45Z""/><item logid=""275298514"" ns=""6"" title=""File:Queenstown pier in twilight.jpg"" pageid=""73089562"" logpage=""73089562"" timestamp=""2018-09-26T15:40:34Z""/><item logid=""275298486"" ns=""6"" title=""File:Collection of spoons in Queenstown cafe.jpg"" pageid=""73089533"" logpage=""73089533"" timestamp=""2018-09-26T15:39:10Z""/><item logid=""275296033"" ns=""6"" title=""File:Mallard ducks by the shore of Lake Frankton.jpg"" pageid=""73088561"" logpage=""73088561"" timestamp=""2018-09-26T15:14:32Z""/><item logid=""275221728"" ns=""6"" title=""File:Patagonia chocolates Queenstown.jpg"" pageid=""73015420"" logpage=""73015420"" timestamp=""2018-09-24T15:29:41Z""/><item logid=""275221684"" ns=""6"" title=""File:Lake Frankton from Kawarau bridge.jpg"" pageid=""73015382"" logpage=""73015382"" timestamp=""2018-09-24T15:27:01Z""/><item logid=""274769414"" ns=""6"" title=""File:Breakfast at Brisbane cafe.jpg"" pageid=""72588103"" logpage=""72588103"" timestamp=""2018-09-09T14:49:56Z""/><item logid=""274769252"" ns=""6"" title=""File:Bubble tea parlour in Brisbane.jpg"" pageid=""72587934"" logpage=""72587934"" timestamp=""2018-09-09T14:45:48Z""/><item logid=""274769192"" ns=""6"" title=""File:Yong tau fu.jpg"" pageid=""72587865"" logpage=""72587865"" timestamp=""2018-09-09T14:43:04Z""/><item logid=""274769073"" ns=""6"" title=""File:Brisbane river and CBD.jpg"" pageid=""72587723"" logpage=""72587723"" timestamp=""2018-09-09T14:38:07Z""/><item logid=""274659666"" ns=""6"" title=""File:Nasi sarawak.jpg"" pageid=""72462685"" logpage=""72462685"" timestamp=""2018-09-06T16:21:07Z""/><item logid=""274656878"" ns=""6"" title=""File:Bulimba Point 2.jpg"" pageid=""724590
    84"" logpage=""72459084"" timestamp=""2018-09-06T14:57:34Z""/><item logid=""274656745"" ns=""6"" title=""File:Brisbane story bridge 2.jpg"" pageid=""72458952"" logpage=""72458952"" timestamp=""2018-09-06T14:55:27Z""/><item logid=""274646271"" ns=""6"" title=""File:Japanese dessert cafe in Melbourne.jpg"" pageid=""72435047"" logpage=""72435047"" timestamp=""2018-09-06T08:05:27Z""/><item logid=""274543065"" ns=""6"" title=""File:Patisserie in Melbourne.jpg"" pageid=""72352313"" logpage=""72352313"" timestamp=""2018-09-04T14:45:11Z""/><item logid=""274542950"" ns=""6"" title=""File:Indonesian inspired grilled fish.jpg"" pageid=""72352190"" logpage=""72352190"" timestamp=""2018-09-04T14:40:57Z""/><item logid=""274481113"" ns=""6"" title=""File:Myer Centre 8 3.jpg"" pageid=""73003349"" logpage=""72306721"" timestamp=""2018-09-03T09:11:26Z""/><item logid=""274481058"" ns=""6"" title=""File:Brisbane Central 6.jpg"" pageid=""72306661"" logpage=""72306661"" timestamp=""2018-09-03T09:07:14Z""/><item logid=""274320596"" ns=""6"" title=""File:Bulimba Point.jpg"" pageid=""72162280"" logpage=""72162280"" timestamp=""2018-08-30T15:09:11Z""/><item logid=""274320506"" ns=""6"" title=""File:Creek Street.jpg"" pageid=""72162245"" logpage=""72162245"" timestamp=""2018-08-30T15:05:39Z""/><item logid=""274320396"" ns=""6"" title=""File:South Brisbane.jpg"" pageid=""72162206"" logpage=""72162206"" timestamp=""2018-08-30T15:03:29Z""/><item logid=""273989545"" ns=""6"" title=""File:Brisbane Central 5.jpg"" pageid=""71838798"" logpage=""71838798"" timestamp=""2018-08-21T17:11:39Z""/><item logid=""273976789"" ns=""6"" title=""File:Hopetoun tea rooms.jpg"" pageid=""71826028"" logpage=""71826028"" timestamp=""2018-08-21T10:48:08Z""/><item logid=""273976749"" ns=""6"" title=""File:Bruschetta 2.jpg"" pageid=""71825989"" logpage=""71825989"" timestamp=""2018-08-21T10:46:11Z""/><item logid=""273948083"" ns=""6"" title=""File:Chinatown Melbourne 2.jpg"" pageid=""71796212"" logpage=""71796212"" timestamp=""2018-08-20T10:02:19Z""/><item logid=""273948072"" ns=""6"" title=""File:Chinatown Melbourne.jpg"" pageid=""71796197"" logpage=""71796197"" timestamp=""2018-08-20T10:00:53Z""/><item logid=""273927092"" ns=""6"" title=""File:Abcd 2.jpg"" pageid=""0"" logpage=""71774608"" timestamp=""2018-08-19T17:29:11Z""/><item logid=""273925878"" ns=""6"" title=""File:Royal arcade Melbourne.jpeg"" pageid=""71770829"" logpage=""71770829"" timestamp=""2018-08-19T16:57:59Z""/><item logid=""273925745"" ns=""6"" title=""File:Royal arcade Melbourne 3.jpg"" pageid=""71773223"" logpage=""71773223"" timestamp=""2018-08-19T16:53:34Z""/><item logid=""273925671"" ns=""6"" title=""File:Royal arcade Melbourne 2.jpg"" pageid=""71773147"" logpage=""71773147"" timestamp=""2018-08-19T16:52:05Z""/><item logid=""273924433"" ns=""6"" title=""File:Royal arcade Melbourne.jpg"" pageid=""71771879"" logpage=""71771879"" timestamp=""2018-08-19T16:22:20Z""/><item logid=""273923531"" ns=""6"" title=""File:Royal arcade Melbourne.jpeg"" pageid=""71770829"" logpage=""71770829"" timestamp=""2018-08-19T15:53:44Z""/><item logid=""273923423"" ns=""6"" title=""File:Royal arcade Melbourne.jpeg"" pageid=""71770829"" logpage=""71770829"" timestamp=""2018-08-19T15:49:42Z""/><item logid=""273923400"" ns=""6"" title=""File:Royal arcade melbourne.jpeg"" pageid=""71770807"" logpage=""71770807"" timestamp=""2018-08-19T15:48:44Z""/><item logid=""273923342"" ns=""6"" title=""File:Creperie Brisbane 2.jpg"" pageid=""71770750"" logpage=""71770750"" timestamp=""2018-08-19T15:46:54Z""/><item logid=""273923330"" ns=""6"" title=""File:Creperie Brisbane.jpg"" pageid=""71770741"" logpage=""71770741"" timestamp=""2018-08-19T15:46:12Z""/><item logid=""273762147"" ns=""6"" title=""File:Stained glass window at state library of Victoria.jpg"" pageid=""71609196"" logpage=""71609196"" timestamp=""2018-08-14T12:45:09Z""/><item logid=""273762133"" ns=""6"" title=""File:Interior of city circle tram, Melbourne.jpg"" pageid=""71609185"" logpage=""71609185"" timestamp=""2018-08-14T12:43:39Z""/><item logid=""273755356"" ns=""6"" title=""File:Newtonian reflector telescopes at a telescope shop.jpg"" pageid=""71602171"" logpage=""71602171"" timestamp=""2018-08-14T08:46:34Z""/><item logid=""273734802"" ns=""6"" title=""File:Miss Claudes creperie in Brisbane.jpg"" pageid=""715824
    47"" logpage=""71582447"" timestamp=""2018-08-13T16:44:36Z""/><item logid=""273732839"" ns=""6"" title=""File:Outside State Library of Victoria.jpg"" pageid=""71580638"" logpage=""71580638"" timestamp=""2018-08-13T15:20:32Z""/><item logid=""273633315"" ns=""6"" title=""File:State library of Victoria 3.jpg"" pageid=""72224661"" logpage=""71483632"" timestamp=""2018-08-09T17:35:22Z""/><item logid=""273578122"" ns=""6"" title=""File:Ceramic tower heater.jpg"" pageid=""71428649"" logpage=""71428649"" timestamp=""2018-08-07T14:51:17Z""/><item logid=""273578079"" ns=""6"" title=""File:Japanese sencha at dessert cafe.jpg"" pageid=""71428607"" logpage=""71428607"" timestamp=""2018-08-07T14:50:05Z""/><item logid=""273574921"" ns=""6"" title=""File:Queen Street Mall 3.jpg"" pageid=""71425357"" logpage=""71425357"" timestamp=""2018-08-07T11:16:36Z""/><item logid=""273572958"" ns=""6"" title=""File:West End 2.jpg"" pageid=""71423210"" logpage=""71423210"" timestamp=""2018-08-07T09:01:03Z""/><item logid=""273572909"" ns=""6"" title=""File:Bulimba Reach.jpg"" pageid=""71423184"" logpage=""71423184"" timestamp=""2018-08-07T08:58:05Z""/><item logid=""273491625"" ns=""6"" title=""File:State Library of Victoria 2.jpg"" pageid=""71343338"" logpage=""71343338"" timestamp=""2018-08-04T16:45:28Z""/><item logid=""273487350"" ns=""6"" title=""File:San Antonio Shopping Center.jpg"" pageid=""71339291"" logpage=""71339291"" timestamp=""2018-08-04T14:09:26Z""/><item logid=""273482733"" ns=""6"" title=""File:State library of Victoria 2.jpg"" pageid=""71334528"" logpage=""71334528"" timestamp=""2018-08-04T12:00:38Z""/><item logid=""273482401"" ns=""6"" title=""File:City Circle tram, Melbourne 2.jpg"" pageid=""71334192"" logpage=""71334192"" timestamp=""2018-08-04T11:46:55Z""/><item logid=""273478546"" ns=""6"" title=""File:View from Brisbane ferry terminal.jpg"" pageid=""71330369"" logpage=""71330369"" timestamp=""2018-08-04T08:58:21Z""/><item logid=""273478517"" ns=""6"" title=""File:West end Brisbane.jpg"" pageid=""71330339"" logpage=""71330339"" timestamp=""2018-08-04T08:57:08Z""/><item logid=""273407128"" ns=""6"" title=""File:Mayfield Mall.jpg"" pageid=""72258244"" logpage=""71258124"" timestamp=""2018-08-01T17:20:58Z""/><item logid=""273407075"" ns=""6"" title=""File:West End.jpg"" pageid=""71258074"" logpage=""71258074"" timestamp=""2018-08-01T17:18:39Z""/><item logid=""273407042"" ns=""6"" title=""File:Genetic Information Research Institute.jpg"" pageid=""71258040"" logpage=""71258040"" timestamp=""2018-08-01T17:16:38Z""/><item logid=""273407005"" ns=""6"" title=""File:Testing camera function in app.jpg"" pageid=""0"" logpage=""71258002"" timestamp=""2018-08-01T17:13:43Z""/><item logid=""273407003"" ns=""6"" title=""File:Wild cockatoos in a Brisbane park.jpg"" pageid=""71257997"" logpage=""71257997"" timestamp=""2018-08-01T17:13:08Z""/><item logid=""273406898"" ns=""6"" title=""File:View from CityCat ferry in Brisbane - 1.jpg"" pageid=""71257885"" logpage=""71257885"" timestamp=""2018-08-01T17:07:10Z""/><item logid=""273406880"" ns=""6"" title=""File:View from CityCat ferry in Brisbane - 2.jpg"" pageid=""71257866"" logpage=""71257866"" timestamp=""2018-08-01T17:06:35Z""/><item logid=""273406853"" ns=""6"" title=""File:View from CityCat ferry in Brisbane - 3.jpg"" pageid=""71257839"" logpage=""71257839"" timestamp=""2018-08-01T17:06:03Z""/><item logid=""273124834"" ns=""6"" title=""File:State library of Victoria.jpg"" pageid=""70975265"" logpage=""70975265"" timestamp=""2018-07-19T11:02:42Z""/><item logid=""273068151"" ns=""6"" title=""File:DeGraves street melbourne.jpg"" pageid=""70926656"" logpage=""70926656"" timestamp=""2018-07-17T09:57:38Z""/><item logid=""272680309"" ns=""6"" title=""File:Petrie Bright 3.jpg"" pageid=""70614735"" logpage=""70554188"" timestamp=""2018-07-04T14:44:28Z""/><item logid=""272648685"" ns=""6"" title=""File:Petrie Bright 2.jpg"" pageid=""70614732"" logpage=""70524346"" timestamp=""2018-07-03T15:44:43Z""/><item logid=""272648511"" ns=""6"" title=""File:Petrie Bright.jpg"" pageid=""70524172"" logpage=""70524172"" timestamp=""2018-07-03T15:38:37Z""/><item logid=""272443046"" ns=""6"" title=""File:View of Brisbane skyline from southbank.jpeg"" pageid=""70325373"" logpage=""70325373"" timestamp=""2018-06-28T16:57:14Z""/><item logid=""272442982"" n
    s=""6"" title=""File:Bulimba Point.jpeg"" pageid=""70325303"" logpage=""70325303"" timestamp=""2018-06-28T16:54:24Z""/><item logid=""272442783"" ns=""6"" title=""File:Nepalese pagoda in south bank Brisbane.jpeg"" pageid=""70325075"" logpage=""70325075"" timestamp=""2018-06-28T16:42:02Z""/><item logid=""271895181"" ns=""6"" title=""File:Dolphins at sea world.jpg"" pageid=""69866349"" logpage=""69866349"" timestamp=""2018-06-11T11:51:38Z""/><item logid=""271895162"" ns=""6"" title=""File:Cold brew coffee.jpg"" pageid=""69866328"" logpage=""69866328"" timestamp=""2018-06-11T11:50:08Z""/><item logid=""271786643"" ns=""6"" title=""File:Polar bear in enclosure at Sea world Australia - 2.jpg"" pageid=""69762581"" logpage=""69762581"" timestamp=""2018-06-07T06:31:12Z""/><item logid=""271786631"" ns=""6"" title=""File:Polar bear in enclosure at Sea world Australia - 1.jpg"" pageid=""69762574"" logpage=""69762574"" timestamp=""2018-06-07T06:30:21Z""/><item logid=""271786614"" ns=""6"" title=""File:Elk espresso cafe at surfers paradise.jpg"" pageid=""69762557"" logpage=""69762557"" timestamp=""2018-06-07T06:28:44Z""/><item logid=""271786606"" ns=""6"" title=""File:Story bridge at night.jpg"" pageid=""69762548"" logpage=""69762548"" timestamp=""2018-06-07T06:27:32Z""/><item logid=""271786544"" ns=""6"" title=""File:Bottle nosed dolphins at sea world Australia.jpg"" pageid=""69762518"" logpage=""69762518"" timestamp=""2018-06-07T06:25:24Z""/><item logid=""271778373"" ns=""6"" title=""File:Clock tower in Gold Coast surfers paradise.jpg"" pageid=""69755278"" logpage=""69755278"" timestamp=""2018-06-06T20:54:02Z""/><item logid=""271715488"" ns=""6"" title=""File:Polar bear at Sea world Australia.jpg"" pageid=""69694198"" logpage=""69694198"" timestamp=""2018-06-04T10:13:16Z""/><item logid=""271714905"" ns=""6"" title=""File:Bubble tea served in light bulb glass.jpg"" pageid=""69693614"" logpage=""69693614"" timestamp=""2018-06-04T09:36:17Z""/><item logid=""271714500"" ns=""6"" title=""File:Bottle nosed dolphin.jpg"" pageid=""69693206"" logpage=""69693206"" timestamp=""2018-06-04T09:14:57Z""/><item logid=""271714328"" ns=""6"" title=""File:Bottle nosed dolphin at Sea world.jpg"" pageid=""69693033"" logpage=""69693033"" timestamp=""2018-06-04T09:07:11Z""/><item logid=""271712768"" ns=""6"" title=""File:Miegunyah.jpg"" pageid=""69691434"" logpage=""69691434"" timestamp=""2018-06-04T07:48:36Z""/><item logid=""271712700"" ns=""6"" title=""File:Booroodabin Division.jpg"" pageid=""69691371"" logpage=""69691371"" timestamp=""2018-06-04T07:45:54Z""/><item logid=""271532325"" ns=""6"" title=""File:Chermside shopping mall.jpg"" pageid=""69527164"" logpage=""69527164"" timestamp=""2018-05-29T09:25:00Z""/><item logid=""271531505"" ns=""6"" title=""File:Sea foam at beach.jpg"" pageid=""69526413"" logpage=""69526413"" timestamp=""2018-05-29T08:46:59Z""/><item logid=""271531476"" ns=""6"" title=""File:Nasi lemak 6.jpg"" pageid=""69526383"" logpage=""69526383"" timestamp=""2018-05-29T08:45:49Z""/><item logid=""271386682"" ns=""6"" title=""File:Newstead.jpg"" pageid=""69384818"" logpage=""69384818"" timestamp=""2018-05-23T07:33:36Z""/><item logid=""271386656"" ns=""6"" title=""File:Newstead Gasworks 2.jpg"" pageid=""69384791"" logpage=""69384791"" timestamp=""2018-05-23T07:31:10Z""/><item logid=""271386609"" ns=""6"" title=""File:Sandbags at Maroochydore beach.jpg"" pageid=""69384750"" logpage=""69384750"" timestamp=""2018-05-23T07:28:06Z""/><item logid=""270879280"" ns=""6"" title=""File:Brisbane Central 4.jpg"" pageid=""68890289"" logpage=""68890289"" timestamp=""2018-05-08T06:55:05Z""/><item logid=""270879232"" ns=""6"" title=""File:Fortitude Valley Methodist Church.jpg"" pageid=""68890248"" logpage=""68890248"" timestamp=""2018-05-08T06:50:56Z""/><item logid=""270836302"" ns=""6"" title=""File:Newstead Gasworks.jpg"" pageid=""68849417"" logpage=""68849417"" timestamp=""2018-05-06T18:08:55Z""/><item logid=""270836248"" ns=""6"" title=""File:Brisbane Central 3.jpg"" pageid=""68849365"" logpage=""68849365"" timestamp=""2018-05-06T18:07:09Z""/><item logid=""270823722"" ns=""6"" title=""File:Australian pelican.jpg"" pageid=""68837977"" logpage=""68837977"" timestamp=""2018-05-06T11:02:11Z""/><item logid=""270704969"" ns=""6"" title=""File:Alexandra headland beach.jpg"" pageid=""68726
    623"" logpage=""68726623"" timestamp=""2018-05-02T13:18:29Z""/><item logid=""270667415"" ns=""6"" title=""File:Point Cartwright lighthouse.jpg"" pageid=""68690311"" logpage=""68690311"" timestamp=""2018-05-01T06:19:34Z""/><item logid=""270648440"" ns=""6"" title=""File:Maroochydore beach.jpg"" pageid=""68672304"" logpage=""68672304"" timestamp=""2018-04-30T15:35:40Z""/><item logid=""270638912"" ns=""6"" title=""File:Foam washed up by sea at Maroochydore beach.jpg"" pageid=""68662548"" logpage=""68662548"" timestamp=""2018-04-30T06:59:11Z""/><item logid=""270379478"" ns=""6"" title=""File:King George square station.jpg"" pageid=""68437241"" logpage=""68437241"" timestamp=""2018-04-20T10:14:53Z""/><item logid=""270379462"" ns=""6"" title=""File:Brisbane story bridge.jpg"" pageid=""68437219"" logpage=""68437219"" timestamp=""2018-04-20T10:13:20Z""/><item logid=""270379432"" ns=""6"" title=""File:Myer Centre 8 2.jpg"" pageid=""68437180"" logpage=""68437180"" timestamp=""2018-04-20T10:10:17Z""/><item logid=""270357647"" ns=""6"" title=""File:Myer Centre 8.jpg"" pageid=""68416039"" logpage=""68416039"" timestamp=""2018-04-19T08:08:31Z""/><item logid=""269662015"" ns=""6"" title=""File:Sunnybank State High School 2.jpg"" pageid=""67988811"" logpage=""67988811"" timestamp=""2018-04-03T17:54:39Z""/><item logid=""268515154"" ns=""6"" title=""File:Windmills in front of cobb and co museum.jpg"" pageid=""67819783"" logpage=""67819783"" timestamp=""2018-03-29T20:55:04Z""/><item logid=""268512274"" ns=""6"" title=""File:Picnic point lookout, Toowoomba.jpg"" pageid=""67819039"" logpage=""67819039"" timestamp=""2018-03-29T20:26:29Z""/><item logid=""268511410"" ns=""6"" title=""File:Wagons in cobb and co museum - 1.jpg"" pageid=""67818886"" logpage=""67818886"" timestamp=""2018-03-29T20:18:27Z""/><item logid=""268511359"" ns=""6"" title=""File:Wagons in cobb and co museum - 2.jpg"" pageid=""67818878"" logpage=""67818878"" timestamp=""2018-03-29T20:17:46Z""/><item logid=""266730435"" ns=""6"" title=""File:Seafood platter at the lighthouse restaurant Brisbane.jpg"" pageid=""67454906"" logpage=""67454906"" timestamp=""2018-03-18T10:54:41Z""/><item logid=""266724019"" ns=""6"" title=""File:Restaurant at Wellington point lighthouse.jpg"" pageid=""67453183"" logpage=""67453183"" timestamp=""2018-03-18T09:32:36Z""/><item logid=""266723383"" ns=""6"" title=""File:Cleveland, Wellington point.jpg"" pageid=""67453043"" logpage=""67453043"" timestamp=""2018-03-18T09:24:53Z""/><item logid=""266717998"" ns=""6"" title=""File:Queensland State Archives.jpg"" pageid=""68105399"" logpage=""67451645"" timestamp=""2018-03-18T08:32:43Z""/><item logid=""265353756"" ns=""6"" title=""File:Test image for deletion.jpg"" pageid=""0"" logpage=""67158226"" timestamp=""2018-03-08T13:31:54Z""/><item logid=""259614471"" ns=""6"" title=""File:Ramen in Japanese restaurant in Brisbane - 2.jpg"" pageid=""66262038"" logpage=""66262038"" timestamp=""2018-02-09T11:49:04Z""/><item logid=""259614396"" ns=""6"" title=""File:Ramen in Japanese restaurant in Brisbane - 1.jpg"" pageid=""66262031"" logpage=""66262031"" timestamp=""2018-02-09T11:48:23Z""/><item logid=""258023976"" ns=""6"" title=""File:Emporium Brisbane.jpg"" pageid=""66025529"" logpage=""66025529"" timestamp=""2018-02-01T08:25:59Z""/><item logid=""258023740"" ns=""6"" title=""File:Emporium Brisbane - 2.jpg"" pageid=""66025487"" logpage=""66025487"" timestamp=""2018-02-01T08:24:49Z""/><item logid=""258023593"" ns=""6"" title=""File:Emporium Brisbane - 1.jpg"" pageid=""66025462"" logpage=""66025462"" timestamp=""2018-02-01T08:24:07Z""/><item logid=""257874709"" ns=""6"" title=""File:Matcha parfait at dessert parlour in Brisbane.jpg"" pageid=""66009879"" logpage=""66009879"" timestamp=""2018-01-31T17:57:23Z""/><item logid=""257849223"" ns=""6"" title=""File:Iced fruit tea from Brisbane cafe.jpg"" pageid=""66005680"" logpage=""66005680"" timestamp=""2018-01-31T15:38:14Z""/><item logid=""257849138"" ns=""6"" title=""File:Scrambled eggs on toast from Brisbane cafe.jpg"" pageid=""66005668"" logpage=""66005668"" timestamp=""2018-01-31T15:37:40Z""/><item logid=""257260513"" ns=""6"" title=""File:Dessert cafe in Brisbane.jpg"" pageid=""65949991"" logpage=""65949991"" timestamp=""2018-01-29T16:08:11Z""/><item logid=""257259985"" ns=""6"" title=""File
    :French bistro in Brisbane.jpg"" pageid=""65949957"" logpage=""65949957"" timestamp=""2018-01-29T16:05:51Z""/><item logid=""254856992"" ns=""6"" title=""File:Brisbane town hall Christmas display.jpg"" pageid=""65701640"" logpage=""65701640"" timestamp=""2018-01-21T09:18:33Z""/><item logid=""254855572"" ns=""6"" title=""File:Christmas fireworks in Brisbane.jpg"" pageid=""65701457"" logpage=""65701457"" timestamp=""2018-01-21T09:11:51Z""/><item logid=""253398559"" ns=""6"" title=""File:View of Brisbane city from rooftop.jpg"" pageid=""65576634"" logpage=""65576634"" timestamp=""2018-01-16T16:47:04Z""/><item logid=""253301043"" ns=""6"" title=""File:Apron from Swiss souvenir shop.jpg"" pageid=""0"" logpage=""65566474"" timestamp=""2018-01-16T09:12:46Z""/><item logid=""253300766"" ns=""6"" title=""File:Dessert shop in Sunnybank Brisbane.jpg"" pageid=""65566450"" logpage=""65566450"" timestamp=""2018-01-16T09:11:12Z""/><item logid=""253300001"" ns=""6"" title=""File:Fishball noodle soup.jpg"" pageid=""65566390"" logpage=""65566390"" timestamp=""2018-01-16T09:07:11Z""/></logevents></query></api>
11-19 18:52:56.211 32201-32224/fr.free.nrw.commons I/zygote: Explicit concurrent copying GC freed 75936(3MB) AllocSpace objects, 25(896KB) LOS objects, 50% free, 4MB/9MB, paused 34.949ms total 547.069ms
11-19 18:52:57.190 32201-32201/fr.free.nrw.commons D/UnreadNotificationsChec: You may have unread notifications sinceThu Jan 01 10:00:00 GMT+10:00 1970
11-19 18:52:59.575 32201-32279/fr.free.nrw.commons D/ApacheHttpClientMediaWi: 171 results!
11-19 18:52:59.698 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 51392(3MB) AllocSpace objects, 31(1256KB) LOS objects, 50% free, 4MB/8MB, paused 686us total 248.430ms
11-19 18:53:01.351 32201-32201/fr.free.nrw.commons D/LocationServiceManager: gps's status changed to 1
11-19 18:53:01.440 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 28405(3MB) AllocSpace objects, 62(1240KB) LOS objects, 49% free, 4MB/8MB, paused 716us total 350.741ms
11-19 18:53:02.888 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 26350(3MB) AllocSpace objects, 68(1360KB) LOS objects, 50% free, 4MB/8MB, paused 668us total 151.169ms
11-19 18:53:04.146 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 23862(3MB) AllocSpace objects, 62(1240KB) LOS objects, 49% free, 4MB/8MB, paused 686us total 121.847ms
11-19 18:53:05.515 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 23169(3MB) AllocSpace objects, 58(1160KB) LOS objects, 49% free, 4MB/8MB, paused 685us total 202.302ms
11-19 18:53:05.516 32201-32206/fr.free.nrw.commons I/zygote: Do full code cache collection, code=499KB, data=315KB
11-19 18:53:05.518 32201-32206/fr.free.nrw.commons I/zygote: After code cache collection, code=456KB, data=231KB
11-19 18:53:08.165 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 21966(3MB) AllocSpace objects, 54(1080KB) LOS objects, 49% free, 4MB/8MB, paused 760us total 292.195ms
11-19 18:53:09.604 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 27049(3MB) AllocSpace objects, 66(1320KB) LOS objects, 50% free, 4MB/9MB, paused 679us total 219.699ms
11-19 18:53:11.275 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 27611(4MB) AllocSpace objects, 66(1320KB) LOS objects, 49% free, 4MB/9MB, paused 687us total 344.809ms
11-19 18:53:12.718 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 28665(4MB) AllocSpace objects, 68(1360KB) LOS objects, 49% free, 4MB/8MB, paused 688us total 249.248ms
11-19 18:53:13.363 32201-32201/fr.free.nrw.commons D/LocationServiceManager: gps's status changed to 1
11-19 18:53:14.192 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 26135(3MB) AllocSpace objects, 60(1200KB) LOS objects, 49% free, 4MB/9MB, paused 715us total 286.628ms
11-19 18:53:15.572 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 28559(4MB) AllocSpace objects, 66(1320KB) LOS objects, 49% free, 4MB/8MB, paused 678us total 168.301ms
11-19 18:53:16.805 32201-32206/fr.free.nrw.commons I/zygote: Do partial code cache collection, code=485KB, data=265KB
11-19 18:53:16.848 32201-32206/fr.free.nrw.commons I/zygote: After code cache collection, code=485KB, data=266KB
    Increasing code cache capacity to 2MB
11-19 18:53:16.920 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 23847(3MB) AllocSpace objects, 54(1080KB) LOS objects, 49% free, 4MB/8MB, paused 683us total 280.965ms
11-19 18:53:18.210 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 25795(3MB) AllocSpace objects, 58(1160KB) LOS objects, 49% free, 4MB/8MB, paused 684us total 117.051ms
11-19 18:53:19.529 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 23339(3MB) AllocSpace objects, 52(1040KB) LOS objects, 50% free, 4MB/8MB, paused 677us total 205.226ms
11-19 18:53:20.857 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 24809(3MB) AllocSpace objects, 54(1080KB) LOS objects, 50% free, 4MB/9MB, paused 740us total 276.510ms
11-19 18:53:22.280 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 27479(4MB) AllocSpace objects, 60(1200KB) LOS objects, 49% free, 4MB/8MB, paused 74.199ms total 264.743ms
11-19 18:53:23.638 32201-32279/fr.free.nrw.commons D/ContributionsSyncAdapte: Last modified at 
11-19 18:53:23.639 32201-32279/fr.free.nrw.commons D/ContributionsSyncAdapte: 171 results!
11-19 18:53:23.722 32201-32212/fr.free.nrw.commons I/zygote: Background concurrent copying GC freed 24139(3MB) AllocSpace objects, 52(1040KB) LOS objects, 49% free, 4MB/8MB, paused 702us total 194.507ms
11-19 18:53:24.065 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Hello, bulk insert! (ContributionsContentProvider)
11-19 18:53:24.095 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/2/2e/File%3AStoneridge_estate_chapel.jpg length=-1 multiple=0 description= source=null license=null filename=File:Stoneridge estate chapel.jpg uploaded=1541865598000 width=0 state=-1 timestamp=1541865598000 height=0
11-19 18:53:24.098 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/9/9e/File%3ACrepes_3.jpg length=-1 multiple=0 description= source=null license=null filename=File:Crepes 3.jpg uploaded=1541518016000 width=0 state=-1 timestamp=1541518016000 height=0
11-19 18:53:24.100 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/c/c1/File%3ALittle_Paradise_garden_in_Queenstown.jpg length=-1 multiple=0 description= source=null license=null filename=File:Little Paradise garden in Queenstown.jpg uploaded=1541516413000 width=0 state=-1 timestamp=1541516413000 height=0
11-19 18:53:24.101 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/3/34/File%3ALake_Wakatipu_at_sunset.jpg length=-1 multiple=0 description= source=null license=null filename=File:Lake Wakatipu at sunset.jpg uploaded=1541515799000 width=0 state=-1 timestamp=1541515799000 height=0
11-19 18:53:24.214 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/a/a8/File%3AAgedashi_tofu_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:Agedashi tofu 2.jpg uploaded=1541334359000 width=0 state=-1 timestamp=1541334359000 height=0
11-19 18:53:24.216 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/a/a3/File%3APeacock_in_Little_Paradise_garden.jpg length=-1 multiple=0 description= source=null license=null filename=File:Peacock in Little Paradise garden.jpg uploaded=1541066666000 width=0 state=-1 timestamp=1541066666000 height=0
11-19 18:53:24.218 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/6/6d/File%3AShoreline_Park.jpg length=-1 multiple=0 description= source=null license=null filename=File:Shoreline Park.jpg uploaded=1541066404000 width=0 state=-1 timestamp=1541066404000 height=0
11-19 18:53:24.221 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/3/37/File%3AToilet_in_Little_Paradise_Lodge_and_Garden_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:Toilet in Little Paradise Lodge and Garden 2.jpg uploaded=1541065863000 width=0 state=-1 timestamp=1541065863000 height=0
11-19 18:53:24.275 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/6/6d/File%3AToilet_in_Little_Paradise_Lodge_and_Garden.jpg length=-1 multiple=0 description= source=null license=null filename=File:Toilet in Little Paradise Lodge and Garden.jpg uploaded=1541065826000 width=0 state=-1 timestamp=1541065826000 height=0
11-19 18:53:24.279 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/6/6a/File%3APeacock_in_Queenstown_garden.jpg length=-1 multiple=0 description= source=null license=null filename=File:Peacock in Queenstown garden.jpg uploaded=1541065254000 width=0 state=-1 timestamp=1541065254000 height=0
11-19 18:53:24.902 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Hello, bulk insert! (ContributionsContentProvider)
11-19 18:53:24.970 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/7/7f/File%3AView_of_Queenstown_from_Skyline_Gondola.jpg length=-1 multiple=0 description= source=null license=null filename=File:View of Queenstown from Skyline Gondola.jpg uploaded=1541063986000 width=0 state=-1 timestamp=1541063986000 height=0
11-19 18:53:25.066 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/e/ea/File%3ANasi_kerabu_3.jpg length=-1 multiple=0 description= source=null license=null filename=File:Nasi kerabu 3.jpg uploaded=1540821079000 width=0 state=-1 timestamp=1540821079000 height=0
11-19 18:53:25.068 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/5/58/File%3ABrisbane_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:Brisbane 2.jpg uploaded=1540804528000 width=0 state=-1 timestamp=1540804528000 height=0
11-19 18:53:25.069 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/4/4b/File%3AShores_of_Lake_Wakatipu.jpg length=-1 multiple=0 description= source=null license=null filename=File:Shores of Lake Wakatipu.jpg uploaded=1540802161000 width=0 state=-1 timestamp=1540802161000 height=0
11-19 18:53:25.071 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/a/a2/File%3AAlbert_Street_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:Albert Street 2.jpg uploaded=1540483650000 width=0 state=-1 timestamp=1540483650000 height=0
11-19 18:53:25.134 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/b/b1/File%3ANew_Farm_Park_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:New Farm Park 2.jpg uploaded=1540483557000 width=0 state=-1 timestamp=1540483557000 height=0
11-19 18:53:25.136 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/e/ee/File%3AFireworks_at_Riverfire_Brisbane_2.jpg length=-1 multiple=0 description= source=null license=null filename=File:Fireworks at Riverfire Brisbane 2.jpg uploaded=1539506845000 width=0 state=-1 timestamp=1539506845000 height=0
11-19 18:53:25.137 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/1/11/File%3AFireworks_at_Riverfire_Brisbane.jpg length=-1 multiple=0 description= source=null license=null filename=File:Fireworks at Riverfire Brisbane.jpg uploaded=1539506706000 width=0 state=-1 timestamp=1539506706000 height=0
11-19 18:53:25.139 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 image_url=https://upload.wikimedia.org/wikipedia/commons/4/42/File%3ANasi_ambeng_3.jpg length=-1 multiple=0 description= source=null license=null filename=File:Nasi ambeng 3.jpg uploaded=1539421069000 width=0 state=-1 timestamp=1539421069000 height=0
11-19 18:53:25.140 32201-32279/fr.free.nrw.commons D/ContributionsContentPro: Inserting! transferred=0 creator=Misaochan2 i",https://github.com/commons-app/apps-android-commons/issues/2014#issuecomment-439938192,"Hi @misaochan , I couldn't reproduce this issue. But I think the problem is background color of the icon is white, since red dot is still there. 
Do you reproduce this on other devices too?"
commons-app/apps-android-commons,"**Summary: I couldn't upload photos on the app, an error saying ""File Not Found"" pops up after tapping ""send""** 

How to reproduce issue: attempt to upload a photo on the app, with both the Title and Description filled in.

Device and Android version: Huawei Honor 9 Lite, Android Version EMUI 8.0.0 Oreo (Stock version)
 
Commons app version: 2.8.5, Google Play download

Would you like to work on the issue?: No.",https://github.com/commons-app/apps-android-commons/issues/1976#issuecomment-435586647,Is the exact text `File not found. Please try another file.`?
commons-app/apps-android-commons,"**Summary:** 

I tried to build the project after cloning the project from github. But I found a build error: 
Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks





**Add System logs:**
```
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithInstantRunForBetaDebug'.
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)
	at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)
	at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)
	at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)
	at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)
	at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)
	at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)
	at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)
	at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)
	at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)
	at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)
	at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)
	at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)
	at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)
	at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)
	at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks
	at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)
	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)
	at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
	at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)
	at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)
	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)
	at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)
	... 32 more
Caused by: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks
	at com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:312)
	at com.android.build.gradle.internal.transforms.InstantRunTransform.transform(InstantRunTransform.java:178)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)
	at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)
	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)
	... 48 more
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)
	at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)
	at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)
	at com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)
	at com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:307)
	... 52 more
Caused by: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks
	at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1431)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: java.io.IOException: Failed to find byte code for com/mapzen/android/lost/api/LostApiClient$ConnectionCallbacks
	at com.android.build.gradle.internal.incremental.AsmUtils.lambda$static$0(AsmUtils.java:89)
	at com.android.build.gradle.internal.incremental.AsmUtils.loadClass(AsmUtils.java:307)
	at com.android.build.gradle.internal.incremental.AsmUtils.readInterfaceHierarchy(AsmUtils.java:216)
	at com.android.build.gradle.internal.incremental.AsmUtils.readInterfaces(AsmUtils.java:251)
	at com.android.build.gradle.internal.incremental.AsmUtils.readClassAndInterfaces(AsmUtils.java:190)
	at com.android.build.gradle.internal.incremental.AsmUtils.loadClass(AsmUtils.java:278)
	at com.android.build.gradle.internal.incremental.IncrementalVisitor.instrumentClass(IncrementalVisitor.java:342)
	at com.android.build.gradle.internal.transforms.InstantRunTransform.transformToClasses2Format(InstantRunTransform.java:406)
	at com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$doTransform$3(InstantRunTransform.java:268)
	at com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$null$4(InstantRunTransform.java:297)
	at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)
	... 4 more
```

I am pretty new to android world. Does anyone have the same issue? Or Do I miss  something? Thank you!",https://github.com/commons-app/apps-android-commons/issues/1943#issuecomment-432922753,"Have you tried ""Clean project"" and then building again?"
commons-app/apps-android-commons,"**Summary:** 

Some fields are missing on activity_login.xml landscape and lanscape large versions. They are only added to portrait mode xml file. Thus, it gives NPE when you try to run app on landscape mode.

**Steps to reproduce:** 

Run the app on landscape mode. Ie, ""skipLogin"" field is missing. I think there may be some other missing fields too, needs to be checked.
",https://github.com/commons-app/apps-android-commons/issues/1919#issuecomment-428420268,"Hi, I'm new to the project and would like to take a look. I wanted to make some open source contributions for Hacktoberfest but my skills are really rusty. Hoping to refresh my Java skills.

I am able to reproduce the issue with the released version in the google play store on my phone.

I'm unable to reproduce this issue with the android emulator; the ""skip"" field seems to be showing up correctly. Additionally, I had a look at the layout files and they all contain the correct HtmlTextView ""skipLogin"" element. 

Is there a particular device or API level which this was originally reported with?


Edit: I also ran this on my physical device via USB debugging and the ""skip"" button is displaying correctly. I'm using a Samsung Galaxy S8+ with Android 8.0.0"
commons-app/apps-android-commons,"**Summary:** 

Our friend John Lubbock says, ""I wonder if you know why when I upload photos on the Commons app, sometimes they say 'Failed' or 'queued', and don't upload?"".

**Device and Android version:** 
Samsung S9+
 
 **Commons app version:** 

2.8.2

**Screen-shots:** 
![image](https://user-images.githubusercontent.com/3127881/45031645-17572d80-b058-11e8-89c6-85165f33dca6.png)


**Would you like to work on the issue?**
^_^ no.
",https://github.com/commons-app/apps-android-commons/issues/1878#issuecomment-418368043,"Where did John post, @neslihanturan ? I'd like to ask him about the method he used to upload (Nearby? Share? etc) "
commons-app/apps-android-commons,"**Summary:** 

I logged in to Misaochan, went to Nearby, and the app crashed for me while I was searching for an image to upload to Nearby. Stack trace seems to point to getRevertRespObjectSingle() in ApacheHttpClientMediaWikiApi

**Steps to reproduce:** 

Unsure of how to reproduce, it is not consistent. However, we should handle this exception more gracefully. I think catching it and outputting an error message is sufficient since that method is not essential (it's just used to get user revert rate). [Edit: After looking into it further, this is NOT true - this function is called whenever the user loads ContributionsActivity, and it is nonNull.]

**Add System logs:**

```
09-03 19:16:22.913 27648-27648/fr.free.nrw.commons W/System.err: Caused by: java.net.SocketTimeoutException: timeout
        at okhttp3.internal.http2.Http2Stream$StreamTimeout.newTimeoutException(Http2Stream.java:593)
        at okhttp3.internal.http2.Http2Stream$StreamTimeout.exitAndThrowIfTimedOut(Http2Stream.java:601)
09-03 19:16:22.914 27648-27648/fr.free.nrw.commons W/System.err:     at okhttp3.internal.http2.Http2Stream.takeResponseHeaders(Http2Stream.java:146)
        at okhttp3.internal.http2.Http2Codec.readResponseHeaders(Http2Codec.java:125)
        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
09-03 19:16:22.915 27648-27648/fr.free.nrw.commons W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
09-03 19:16:22.916 27648-27648/fr.free.nrw.commons W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
09-03 19:16:22.917 27648-27648/fr.free.nrw.commons W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)
09-03 19:16:22.918 27648-27648/fr.free.nrw.commons W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
        at okhttp3.RealCall.execute(RealCall.java:77)
09-03 19:16:22.919 27648-27648/fr.free.nrw.commons W/System.err:     at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi.lambda$getRevertRespObjectSingle$5$ApacheHttpClientMediaWikiApi(ApacheHttpClientMediaWikiApi.java:1018)
        at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi$$Lambda$9.call(Unknown Source:4)
        at io.reactivex.internal.operators.single.SingleFromCallable.subscribeActual(SingleFromCallable.java:35)
09-03 19:16:22.920 27648-27648/fr.free.nrw.commons W/System.err:     at io.reactivex.Single.subscribe(Single.java:2700)
        at com.tspoon.traceur.SingleOnAssembly.subscribeActual(SingleOnAssembly.java:43)
        at io.reactivex.Single.subscribe(Single.java:2700)
        at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)
09-03 19:16:22.921 27648-27648/fr.free.nrw.commons W/System.err:     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)
        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)
09-03 19:16:22.922 27648-27648/fr.free.nrw.commons W/System.err:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)
09-03 19:16:22.923 27648-27648/fr.free.nrw.commons W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
        at java.lang.Thread.run(Thread.java:764)
09-03 19:16:22.924 27648-27648/fr.free.nrw.commons W/System.err: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
        at dalvik.system.VMStack.getThreadStackTrace(Native Method)
        at java.lang.Thread.getStackTrace(Thread.java:1536)
        at io.reactivex.Single.fromCallable(Single.java:448)
09-03 19:16:22.925 27648-27648/fr.free.nrw.commons W/System.err:     at fr.free.nrw.commons.mwapi.ApacheHttpClientMediaWikiApi.getRevertRespObjectSingle(ApacheHttpClientMediaWikiApi.java:1005)
        at fr.free.nrw.commons.quiz.QuizChecker.setRevertCount(QuizChecker.java:92)
        at fr.free.nrw.commons.quiz.QuizChecker.<init>(QuizChecker.java:55)
09-03 19:16:22.926 27648-27648/fr.free.nrw.commons W/System.err:     at fr.free.nrw.commons.contributions.ContributionsActivity.onCreate(ContributionsActivity.java:152)
        at android.app.Activity.performCreate(Activity.java:7174)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)
09-03 19:16:22.927 27648-27648/fr.free.nrw.commons W/System.err:     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)
        at android.app.ActivityThread.-wrap11(Unknown Source:0)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)
09-03 19:16:22.928 27648-27648/fr.free.nrw.commons W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:105)
        at android.os.Looper.loop(Looper.java:164)
        at android.app.ActivityThread.main(ActivityThread.java:6944)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)
09-03 19:16:22.929 27648-27648/fr.free.nrw.commons W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)
09-03 19:16:22.930 27648-27648/fr.free.nrw.commons W/System.err: Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
        at dalvik.system.VMStack.getThreadStackTrace(Native Method)
        at java.lang.Thread.getStackTrace(Thread.java:1536)
09-03 19:16:22.931 27648-27648/fr.free.nrw.commons W/System.err:     at io.reactivex.Single.subscribeOn(Single.java:2768)
        at fr.free.nrw.commons.quiz.QuizChecker.setRevertCount(QuizChecker.java:93)
09-03 19:16:22.932 27648-27648/fr.free.nrw.commons W/System.err: 	... 14 more
    Caused by: com.tspoon.traceur.TraceurException: Debug Exception generated at call site
09-03 19:16:22.933 27648-27648/fr.free.nrw.commons W/System.err:     at dalvik.system.VMStack.getThreadStackTrace(Native Method)
        at java.lang.Thread.getStackTrace(Thread.java:1536)
        at io.reactivex.Single.observeOn(Single.java:2296)
        at fr.free.nrw.commons.quiz.QuizChecker.setRevertCount(QuizChecker.java:94)
09-03 19:16:22.934 27648-27648/fr.free.nrw.commons W/System.err: 	... 14 more
09-03 19:16:22.946 3646-8649/? W/ActivityManager: crash : fr.free.nrw.commons,0
09-03 19:16:22.948 3646-8649/? W/ActivityManager:   Force finishing activity fr.free.nrw.commons/.nearby.NearbyActivity
```

**Device and Android version:** 

Android 8.0 Samsung Galaxy s7
 
 **Commons app version:** 

https://github.com/commons-app/apps-android-commons/pull/1875 which is based on `2.8-release`, but the error does not appear to be relevant to that PR at all, just coincidence

**Would you like to work on the issue?**

Pref not
",https://github.com/commons-app/apps-android-commons/issues/1876#issuecomment-418314755,How catching the exception and such cases considering that the quiz is not needed (which is the less intrusive option)?
commons-app/apps-android-commons,"In the Git ujjwalagrawal17:feat_issues_66 branch, it seems that categories are not added.
For instance, I selected 2 categories for https://commons.wikimedia.org/wiki/File:%E3%81%9F%E3%81%93%E3%82%84%E3%82%93.jpeg but none made it to the server.",https://github.com/commons-app/apps-android-commons/issues/1867#issuecomment-432030822,@nicolas-raoul It looks like a word might have been missing from your description in the bug. Could you correct? Are there repro steps? Once I know how to reproduce I'll pick this up.
commons-app/apps-android-commons,"When uploading several files at once the date is missing. 

Also sometimes wrong.
The App added the upload date, instead of the date "" according to Exif data"".
https://commons.wikimedia.org/w/index.php?title=File:View_of_Leh_from_Tsemo_castle,_Ladakh.jpg&oldid=315035923
https://commons.wikimedia.org/w/index.php?title=File:View_of_Leh_from_Tsemo_castle,_Ladakh_,_2.jpg&oldid=315036119


**Device and Android version:** 

Samsung J510FM
Android 7.1.1
 
 **Commons app version:** 

2.8.1

**Would you like to work on the issue?**

No.",https://github.com/commons-app/apps-android-commons/issues/1854#issuecomment-416037475,"Just checking, did it happen only when you uploaded multiple files at once? If so we should probably include that into the issue title.

Also, do you have a link to an example where the date was missing?

For the ""View_of_Leh_from_Tsemo_castle,_Ladakh"" set, both [File 1](https://commons.wikimedia.org/w/index.php?title=File:View_of_Leh_from_Tsemo_castle,_Ladakh.jpg&oldid=315035923) and [File 2](https://commons.wikimedia.org/w/index.php?title=File:View_of_Leh_from_Tsemo_castle,_Ladakh_,_2.jpg&oldid=315036119) seemed to have the dates wrong (upload dates instead of EXIF dates), indeed."
commons-app/apps-android-commons,"I noticed that icons in the Nearby list do not work when I set my phone language to Czech. Steps to reproduce: set language to Czech, reopen app, load Nearby list.  ",https://github.com/commons-app/apps-android-commons/issues/1852#issuecomment-415329142,"Thanks for catching this! There is probably an issue with the mapping. AFAIK, we are currently mapping icons in Place.java based on our own variable of 'type', which in turn is stripped from the result of this query. Do you see a reason why the query below might not work with non-English languages? If the query should work, then we have to look at other reasons.

```
     # Get the class label in the preferred language of the user, or any other language if no label is available in that language.
     OPTIONAL {
       ?item p:P31/ps:P31 ?classId.
       OPTIONAL {?classId rdfs:label ?class_label_preferred_language. FILTER (lang(?class_label_preferred_language) = ""${LANG}"")}
       OPTIONAL {?classId rdfs:label ?class_label_any_language}
```"
commons-app/apps-android-commons,"**Summary:** 

We used to have ACRA crash reports. Then we didn't. Then we fixed that. But now we don't have them again. These reports are very useful because they allow users to add comments to tell us what they were doing at the time of the crash

**Steps to reproduce:** 

Generate a crash. If ACRA reports were working, there would be an option to report the crash (not just close or reopen app).

**Device and Android version:** 

Several different ones, including API 21 and API 24
 
 **Commons app version:** 

Current master

**Would you like to work on the issue?**

Preferably not
",https://github.com/commons-app/apps-android-commons/issues/1833#issuecomment-431701649,"Is this the same or different from: https://github.com/commons-app/apps-android-commons/issues/1882 ?
"
commons-app/apps-android-commons,skip_login branch,https://github.com/commons-app/apps-android-commons/issues/1781#issuecomment-410423090,"IMO, the activities should be agnostic of whether the login is required or not. Any API call requiring authentication should itself invoke the login flow if it is not able to get the auth token. 

Taking the example of notifications screen, 

- the user opens the notification activity
- the activity loads and the notification adapter calls `getNotifications` method in `MediaWikiApi`. 
- `getNotifications` calls a method `getToken`
- this `getToken` method should be able to either return the token or else invoke login with a callback attached which can continue the original flow post login. 

This way all the views in our app will be agnostic of whether a login is required or not. 

For eg. ideally, we should let the user view the nearby places list and prompt for a token only if he goes ahead and tries to upload a picture.

Similarly, there's nothing wrong in letting the user enter title and description and meddle with the license options before he clicks the next button to actually upload the picture. The idea is to let the users explore as much of the app as possible without login. 

@nicolas-raoul Am i missing something here?"
commons-app/apps-android-commons,"**Summary:** 

In explore No image found! is displayed. Without searching anything explore shows No image found! which looks like an error.

**Steps to reproduce:** 
1. Explore
2. Shows ""No image found!""

An appropriate message should be displayed.

**Screen-shots:** 
![screenshot_20180801-235917](https://user-images.githubusercontent.com/36266597/43544027-626156ee-95ef-11e8-86c4-ffeab61dba6c.png)


**Would you like to work on the issue?**

I would like to work on this.
",https://github.com/commons-app/apps-android-commons/issues/1777#issuecomment-409823184,"Does it happen always?
Could you please post the logcat?
Thanks!"
commons-app/apps-android-commons,"Crash in current master.
Steps:
1. Perform a media search
2. Rotate screen
3. Crash:
```
07-27 13:55:23.731 24931 24931 I Choreographer: Skipped 170 frames!  The application may be doing too much work on its main thread.
07-27 13:55:23.817  1916  2413 I Icing   : updateResources: need to parse xzh{com.google.android.gms}                      
07-27 13:55:23.904   937   937 I GoogleInputMethod: onStartInput() : Dummy InputConnection bound 
07-27 13:55:23.904   937   937 I ShortcutsDataManager: startImportContentTask()        
07-27 13:55:23.904   937   937 I ShortcutsDataManager: onImportAborted()      
07-27 13:55:24.214  1916  2413 I Icing   : Performing maintenance usage 29446141 budget 1824176126 free 98.386% index free 92.446% purge? false target 272874388                                                                   
07-27 13:55:24.218 24931 24931 W System.err: io.reactivex.exceptions.OnErrorNotImplementedException: Attempt to invoke virtual method 'void android.view.View.setVisibility(int)' on a null object reference                                            
07-27 13:55:24.247 24931 24931 W System.err:    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)
07-27 13:55:24.247 24931 24931 W System.err:    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)                                        
07-27 13:55:24.247 24931 24931 W System.err:    at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)   
07-27 13:55:24.247 24931 24931 W System.err:    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:64)
07-27 13:55:24.247 24931 24931 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)
07-27 13:55:24.248 24931 24931 W System.err:    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)
07-27 13:55:24.248 24931 24931 W System.err:    at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)
07-27 13:55:24.248 24931 24931 W System.err:    at android.os.Handler.handleCallback(Handler.java:751)                                                                                
07-27 13:55:24.248 24931 24931 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:95)                              
07-27 13:55:24.248 24931 24931 W System.err:    at android.os.Looper.loop(Looper.java:154)          
07-27 13:55:24.248 24931 24931 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:6186)       
07-27 13:55:24.248 24931 24931 W System.err:    at java.lang.reflect.Method.invoke(Native Method)
07-27 13:55:24.248 24931 24931 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)   
07-27 13:55:24.248 24931 24931 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
07-27 13:55:24.252 24931 24931 W System.err: Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setVisibility(int)' on a null object reference
07-27 13:55:24.252 24931 24931 W System.err:    at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:124)
07-27 13:55:24.252 24931 24931 W System.err:    at fr.free.nrw.commons.explore.SearchActivity.lambda$setTabs$1$SearchActivity(SearchActivity.java:111)
07-27 13:55:24.252 24931 24931 W System.err:    at fr.free.nrw.commons.explore.SearchActivity$$Lambda$1.accept(Unknown Source)                                                        
07-27 13:55:24.252 24931 24931 W System.err:    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:60)    
07-27 13:55:24.253 24931 24931 W System.err:    ... 10 more                                         
07-27 13:55:24.271 24931 24931 E AndroidRuntime: FATAL EXCEPTION: main                                             
07-27 13:55:24.271 24931 24931 E AndroidRuntime: Process: fr.free.nrw.commons.debug, PID: 24931                                      
07-27 13:55:24.271 24931 24931 E AndroidRuntime: io.reactivex.exceptions.OnErrorNotImplementedException: Attempt to invoke virtual method 'void android.view.View.setVisibility(int)' on a null object reference
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:64)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)                          
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at android.os.Handler.handleCallback(Handler.java:751)                      
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at android.os.Handler.dispatchMessage(Handler.java:95)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at android.os.Looper.loop(Looper.java:154)                 
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at android.app.ActivityThread.main(ActivityThread.java:6186)                                                                                        
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at java.lang.reflect.Method.invoke(Native Method)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)    
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
07-27 13:55:24.271 24931 24931 E AndroidRuntime: Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setVisibility(int)' on a null object reference
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at fr.free.nrw.commons.explore.images.SearchImageFragment.updateImageList(SearchImageFragment.java:124)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at fr.free.nrw.commons.explore.SearchActivity.lambda$setTabs$1$SearchActivity(SearchActivity.java:111)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at fr.free.nrw.commons.explore.SearchActivity$$Lambda$1.accept(Unknown Source)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:60)
07-27 13:55:24.271 24931 24931 E AndroidRuntime:        ... 10 more                               
07-27 13:55:24.303   784  1111 W ActivityManager:   Force finishing activity fr.free.nrw.commons.debug/fr.free.nrw.commons.explore.SearchActivity
```",https://github.com/commons-app/apps-android-commons/issues/1753#issuecomment-409687774,"@nicolas-raoul I have found a solution to this. Can I work on it?
"
commons-app/apps-android-commons,"**Summary:** 

I just opened my emulator and saw that there was a failed upload. I clicked on retry button and the app crashes. 

**Add System logs:**

```
2018-07-26 23:58:32.275 3004-3004/fr.free.nrw.commons.debug D/ContributionsActivity: Restarting for fr.free.nrw.commons.contributions.Contribution@3c770c
    
    --------- beginning of system
2018-07-26 23:58:32.276 3004-3028/fr.free.nrw.commons.debug E/AndroidRuntime: FATAL EXCEPTION: UploadService
    Process: fr.free.nrw.commons.debug, PID: 3004
    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{c92d88d 3004:fr.free.nrw.commons.debug/u0a126} (pid=3004, uid=10126) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS
        at android.os.Parcel.readException(Parcel.java:1684)
        at android.os.Parcel.readException(Parcel.java:1637)
        at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:4199)
        at android.app.ActivityThread.acquireProvider(ActivityThread.java:5476)
        at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2239)
        at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)
        at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1131)
        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:984)
        at android.content.ContentResolver.openInputStream(ContentResolver.java:704)
        at fr.free.nrw.commons.upload.UploadService.uploadContribution(UploadService.java:196)
        at fr.free.nrw.commons.upload.UploadService.handle(UploadService.java:138)
        at fr.free.nrw.commons.upload.UploadService.handle(UploadService.java:48)
        at fr.free.nrw.commons.HandlerService$ServiceHandler.handleMessage(HandlerService.java:26)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:154)
        at android.os.HandlerThread.run(HandlerThread.java:61)
```
 
 **Commons app version:** 

branch 2.8-release",https://github.com/commons-app/apps-android-commons/issues/1750#issuecomment-409446482,Mind if I work on this one?
commons-app/apps-android-commons,"**Summary:** 

I am able to get this crash on some first runs. Then it gets solved.

**Steps to reproduce:** 

Not very stable, sometimes, it happens. Ie, once I turned off wireless connection and it happened.
**Add System logs:**
```
                                 Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLatitude()' on a null object reference
                                                                             at fr.free.nrw.commons.location.LatLng.from(LatLng.java:45)
                                                                             at fr.free.nrw.commons.location.LocationServiceManager.getLKL(LocationServiceManager.java:109)
                                                                             at fr.free.nrw.commons.nearby.NearbyActivity.onRequestPermissionsResult(NearbyActivity.java:224)
                                                                             at android.app.Activity.dispatchRequestPermissionsResult(Activity.java:6553)
                                                                             at android.app.Activity.dispatchActivityResult(Activity.java:6432)
```",https://github.com/commons-app/apps-android-commons/issues/1735#issuecomment-410429886,"Hi @neslihanturan @maskaravivek  I seem to have found the issue
`if (lastKL == null) {
                lastKL = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
            }
            return LatLng.from(lastKL);`

The function LatLng.from(lastKL) crashes when lastKL is null, we have a null check for location from GPS_PROVIDER but not for NETWORK_PROVIDER, 
Can I take this up?"
commons-app/apps-android-commons,"Should be ""No parent categories found."" instead.

![screenshot_20180711-140958](https://user-images.githubusercontent.com/99590/42552925-918f9c28-8519-11e8-988b-069d7b12d6d9.png)
",https://github.com/commons-app/apps-android-commons/issues/1704#issuecomment-404244829,I am not in gsoc 2018 can I work on this issue?
commons-app/apps-android-commons,"**Summary:** 

App doesnot ask for storage permission when multiple pics are shared through gallery.


**Steps to reproduce:** 
1.Select pics you want to share through any gallery.
2.Click on the share button.
3.Select the commons app from the recommended app list.
4.The dialogue box which should appear asking for storage permission doesnot appear.



**Device and Android version:** 
Motorola G(4) (android 7.0,API 24).

 **Commons app version:** 
2.7.2-debug-master~d7b956e5

**Screen-shots:** 
![screenshot_20180709-005352](https://user-images.githubusercontent.com/26187363/42423189-007dcd1a-8314-11e8-9cec-461326a71aba.png)
![screenshot_20180709-005413](https://user-images.githubusercontent.com/26187363/42423190-02782462-8314-11e8-8eb4-9a91cfe56164.png)
![screenshot_20180709-005418](https://user-images.githubusercontent.com/26187363/42423191-047c470c-8314-11e8-9df9-b8110b69374c.png)



**Would you like to work on the issue?**
Yes i would like to work on this issue.


",https://github.com/commons-app/apps-android-commons/issues/1697#issuecomment-405997783,@parth96 Are you still interested in working on this?
commons-app/apps-android-commons,"I tried to see if there are duplicates but couldn't find any. Sorry, if I've missed them.

**Summary:** 
The app crashes when tapping on any of the images during a multiple upload before providing a title.

**Steps to reproduce:**
1. Open your favourite photo viewer or file manager.
1. Select multiple images
1. Click on 'Share'
1. Choose the 'Commons' app from the share menu that appears
1. In the Multiple Upload screen tap on one of the images before giving a title to the set of images

**Add System logs:**

Add logcat files here (if possible).

**Expected behavior:** 
App shouldn't crash but should provide a enlarged view of the image.

**Observed behavior:** 
App crashes.

**Device and Android version:**
OS: Android 5.1.1
Device: Samsung Galaxy j1 ace

**Commons app version:**
2.7.2 (beta line)

**Would you like to work on the issue?**
Nope.",https://github.com/commons-app/apps-android-commons/issues/1653#issuecomment-402345466,"I am having trouble with this repro. I don't see an option to upload multiple images, just one at a time. Can you send me a link to the documentation for the feature you are using or be more explicit with your repro? @sivaraam "
commons-app/apps-android-commons,"Last weekend I went to a lot of places with Nearby as my guide.
In the Nearby screen, after touching +, I used both the camera button and the gallery button, with always the same result: No changes to Wikidata.

I am using [this commit](https://github.com/commons-app/apps-android-commons/commit/9f07c099089f73aa6133e7f09a8bc9729aef27df) of the [explore branch](https://github.com/commons-app/apps-android-commons/commits/browse-commons-via-app) which contains all commits from master, so I guess I should have wikidata edits (except if the explore branch has broken the wikidata feature, which is unlikely).

Logcat:
```
06-16 20:32:17.923 18062 18062 I ContributionController: Image selected                                                                                                                                                                                      
06-16 20:32:17.928   790  1855 I ActivityManager: START u0 {act=android.intent.action.SEND typ=image/jpeg flg=0x1 cmp=fr.free.nrw.commons.debug/fr.free.nrw.commons.upload.ShareActivity clip={image/jpeg U:content://media/external/images/media/80958} (has
 extras)} from uid 10194 on display 0                                                                                                                                                                              
06-16 20:32:18.002 18062 18062 D NearbyActivity: GPS is enabled                                           
06-16 20:32:18.086 18062 18182 I EGLConfigChooser: In emulator: false                                                  
06-16 20:32:18.132   790   790 E NotificationService: Suppressing notification from package by user request.                                                                                                                                                 
06-16 20:32:18.162 18062 18182 W mbgl    : {GLThread 2209}[OpenGL]: Not using Vertex Array Objects                                                           
06-16 20:32:18.326 18062 18062 V ConnectivityReceiver: Connected: true                                                                                                             
06-16 20:32:18.507   790   790 D GpsNetInitiatedHandler: location enabled :true                                                                                                                                                                              
06-16 20:32:18.511   790   790 D GpsNetInitiatedHandler: location enabled :true                                                   
06-16 20:32:18.526  1670 11709 W ctxmgr  : [AclManager]No 2 for (accnt=account#410244660#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#410244660#
06-16 20:32:18.530  1670 11709 W ctxmgr  : [AclManager]No 2 for (accnt=account#1905918161#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#1905918161#
06-16 20:32:18.570 18062 18062 I AppCompatViewInflater: app:theme is now deprecated. Please move to using android:theme instead.                                                                                                                  
06-16 20:32:18.654 18062 18073 I art     : Background sticky concurrent mark sweep GC freed 1554(90KB) AllocSpace objects, 15(2MB) LOS objects, 19% free, 10MB/13MB, paused 12.665ms total 49.733ms                                             
06-16 20:32:18.748 24445 24445 D SLX GpsReciver: android.location.MODE_CHANGED                                                                                                                                                                    
06-16 20:32:18.761 24445 24445 D SLX GpsReciver: android.location.PROVIDERS_CHANGED                                        
06-16 20:32:18.768 18062 18062 D ShareActivity: This was initiated by a direct upload from Nearby                                 
06-16 20:32:18.785  1670 24526 I GCoreUlr: Starting service, intent=Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) }, extras
=Bundle[{receiverAction=android.location.PROVIDERS_CHANGED}]
06-16 20:32:18.787 23190 23190 W SearchServiceCore: Abort, client detached.
06-16 20:32:18.802  1670 23900 I GCoreUlr: WorldUpdater received intent Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) } wit
h receiverAction android.location.PROVIDERS_CHANGED
06-16 20:32:18.808 18062 18062 D ShareActivity: Uri: content://media/external/images/media/80958
06-16 20:32:18.811 18062 18062 D ShareActivity: Ext storage dir: /storage/emulated/0
06-16 20:32:18.825 18062 18062 W ShareActivity: not ready for preprocessing: useNewPermissions=true storage=false location=true
06-16 20:32:18.826 18062 18062 D FileProcessor: Calling GPSExtractor
06-16 20:32:18.856 18062 18062 I ExifInterface_JNI: Raw image not detected
06-16 20:32:18.872 18062 18062 W ExifInterface: Skip the tag entry since tag number is not defined: 34864
06-16 20:32:18.873 18062 18062 W ExifInterface: Skip the tag entry since tag number is not defined: 2
06-16 20:32:18.879  1670  1670 W Nearby  : Bind call too late - someone already tried to get: interface bghk -- metadata{ service_id: 0 }
06-16 20:32:18.914 18062 18062 D GPSExtractor: EXIF data has no location info
06-16 20:32:18.915 18062 18062 D GPSExtractor: Gps pref set to: false
06-16 20:32:18.957 18062 18062 D FileProcessor: Filepath: /storage/emulated/0/nico/commons/DSC_0057.JPG
06-16 20:32:18.958 18062 18062 D FileProcessor: filePath/storage/emulated/0/nico/commons/DSC_0057.JPG
06-16 20:32:18.963 18062 18062 D FileProcessor: folderTime Number:20
06-16 20:32:18.978 18062 18062 D FileProcessor: fild date:1529148019000 time of creation1529148124000
06-16 20:32:18.985 18062 18062 W System.err: java.io.FileNotFoundException: No content provider: /storage/emulated/0/nico/commons/DSC_0244.JPG
06-16 20:32:18.986 18062 18062 W System.err:    at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1135)
06-16 20:32:18.986 18062 18062 W System.err:    at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:986)
06-16 20:32:18.986 18062 18062 W System.err:    at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:839)
06-16 20:32:18.987 18062 18062 W System.err:    at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:793)
06-16 20:32:18.987 18062 18062 W System.err:    at fr.free.nrw.commons.upload.FileProcessor.findOtherImages(FileProcessor.java:158)
06-16 20:32:18.987 18062 18062 W System.err:    at fr.free.nrw.commons.upload.FileProcessor.processFileCoordinates(FileProcessor.java:122)
06-16 20:32:18.987 18062 18062 W System.err:    at fr.free.nrw.commons.upload.ShareActivity.onCreate(ShareActivity.java:308)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.Activity.performCreate(Activity.java:6684)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2637)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2751)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.ActivityThread.-wrap12(ActivityThread.java)
06-16 20:32:18.987 18062 18062 W System.err:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1496)
06-16 20:32:18.987 18062 18062 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:102)
06-16 20:32:18.988 18062 18062 W System.err:    at android.os.Looper.loop(Looper.java:154)
06-16 20:32:18.988 18062 18062 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:6186)
06-16 20:32:18.988 18062 18062 W System.err:    at java.lang.reflect.Method.invoke(Native Method)
06-16 20:32:18.988 18062 18062 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
06-16 20:32:18.988 18062 18062 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
06-16 20:32:18.989 18062 18062 D FileProcessor: fild date:1529148124000 time of creation1529148124000
06-16 20:32:18.991 18062 18062 W System.err: java.io.FileNotFoundException: No content provider: /storage/emulated/0/nico/commons/DSC_0057.JPG
06-16 20:32:18.991 18062 18062 W System.err:    at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1135)
06-16 20:32:18.991 18062 18062 W System.err:    at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:986)
06-16 20:32:18.991 18062 18062 W System.err:    at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:839)
06-16 20:32:18.991 18062 18062 W System.err:    at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:793)
06-16 20:32:18.991 18062 18062 W System.err:    at fr.free.nrw.commons.upload.FileProcessor.findOtherImages(FileProcessor.java:158)
06-16 20:32:18.991 18062 18062 W System.err:    at fr.free.nrw.commons.upload.FileProcessor.processFileCoordinates(FileProcessor.java:122)
06-16 20:32:18.992 18062 18062 W System.err:    at fr.free.nrw.commons.upload.ShareActivity.onCreate(ShareActivity.java:308)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.Activity.performCreate(Activity.java:6684)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2637)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2751)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.ActivityThread.-wrap12(ActivityThread.java)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1496)
06-16 20:32:18.992 18062 18062 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:102)
06-16 20:32:18.992 18062 18062 W System.err:    at android.os.Looper.loop(Looper.java:154)
06-16 20:32:18.992 18062 18062 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:6186)
06-16 20:32:18.992 18062 18062 W System.err:    at java.lang.reflect.Method.invoke(Native Method)
06-16 20:32:18.993 18062 18062 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
06-16 20:32:18.993 18062 18062 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
06-16 20:32:19.097 18062 18062 I TextInputLayout: EditText added is not a TextInputEditText. Please switch to using that class instead.
06-16 20:32:19.103 18062 18062 I TextInputLayout: EditText added is not a TextInputEditText. Please switch to using that class instead.
06-16 20:32:19.192 18062 18062 D SingleUploadFragment: Image title: ‰∏âÈ∑πÈÉµ‰æøÂ±Ä, image desc: post office, image categories:
06-16 20:32:19.205 18062 18062 D SingleUploadFragment: CC BY-SA 3.0
06-16 20:32:19.208 18062 18062 D SingleUploadFragment: Position: 2 Attribution-ShareAlike 3.0
06-16 20:32:19.247 18062 18062 I Choreographer: Skipped 69 frames!  The application may be doing too much work on its main thread.
06-16 20:32:19.274  1670 23900 I GCoreUlr: WorldUpdater:android.location.PROVIDERS_CHANGED: Ensuring that reporting is active for [account#-1#]
06-16 20:32:19.547   790   790 D GpsNetInitiatedHandler: location enabled :true
06-16 20:32:19.555   790   790 D GpsNetInitiatedHandler: location enabled :true
06-16 20:32:19.609  1670 11709 W ctxmgr  : [AclManager]No 2 for (accnt=account#410244660#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#410244660#
06-16 20:32:19.614  1670 11709 W ctxmgr  : [AclManager]No 2 for (accnt=account#1905918161#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#1905918161#
06-16 20:32:19.675   790   800 I art     : Background sticky concurrent mark sweep GC freed 74249(5MB) AllocSpace objects, 15(1328KB) LOS objects, 18% free, 31MB/38MB, paused 2.732ms total 112.298ms
06-16 20:32:19.784   790   812 I ActivityManager: Displayed fr.free.nrw.commons.debug/fr.free.nrw.commons.upload.ShareActivity: +1s725ms
06-16 20:32:19.819 23102 23102 I GoogleInputMethod: onFinishInput() : Dummy InputConnection bound
06-16 20:32:19.835 18062 18062 D GPSExtractor$MyLocation: Provider gps enabled
06-16 20:32:19.866 24445 24445 D SLX GpsReciver: android.location.MODE_CHANGED
06-16 20:32:19.868 23102 23102 I ShortcutsDataManager: startImportContentTask()
06-16 20:32:19.868 23102 23102 I ShortcutsDataManager: onImportAborted()
06-16 20:32:19.905 24445 24445 D SLX GpsReciver: android.location.PROVIDERS_CHANGED
06-16 20:32:19.956 23190 23190 W SearchServiceCore: Abort, client detached.
06-16 20:32:19.962  1670 24526 I GCoreUlr: Starting service, intent=Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) }, extras
=Bundle[{receiverAction=android.location.PROVIDERS_CHANGED}]
06-16 20:32:19.996 24298 24705 I JobManager: Found pending job request{id=4941, tag=EvernoteFailedVisitJob, transient=false}, canceling
06-16 20:32:20.076  1670 23900 I GCoreUlr: WorldUpdater received intent Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) } wit
h receiverAction android.location.PROVIDERS_CHANGED
06-16 20:32:20.152 23102 23102 I EmptyEmojiDataEx: onActivate()
06-16 20:32:20.244 24234 24234 V StateManager: destroy
06-16 20:32:20.618  1670 23900 I GCoreUlr: WorldUpdater:android.location.PROVIDERS_CHANGED: Ensuring that reporting is active for [account#-1#]
06-16 20:32:20.627 18062 18062 D GPSExtractor$MyLocation: Provider gps enabled
06-16 20:32:20.629   790   790 D GpsNetInitiatedHandler: location enabled :true
06-16 20:32:20.633   790   790 D GpsNetInitiatedHandler: location enabled :true
06-16 20:32:20.649  1670 24274 W ctxmgr  : [AclManager]No 2 for (accnt=account#410244660#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#410244660#
06-16 20:32:20.653  1670 24274 W ctxmgr  : [AclManager]No 2 for (accnt=account#1905918161#, com.google.android.gms(10033):UserLocationProducer, vrsn=12685000, 0, 3pPkg = null ,  3pMdlId = null ,  pid = 1670). Was: 2 for 1, account#1905918161#
06-16 20:32:21.031 24445 24445 D SLX GpsReciver: android.location.MODE_CHANGED
06-16 20:32:21.064 24445 24445 D SLX GpsReciver: android.location.PROVIDERS_CHANGED
06-16 20:32:21.105  1670 24526 I GCoreUlr: Starting service, intent=Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) }, extras
=Bundle[{receiverAction=android.location.PROVIDERS_CHANGED}]
06-16 20:32:21.119 23190 23190 W SearchServiceCore: Abort, client detached.
06-16 20:32:21.151  1670 23900 I GCoreUlr: WorldUpdater received intent Intent { act=com.google.android.location.reporting.ACTION_UPDATE_WORLD cmp=com.google.android.gms/com.google.android.location.reporting.service.DispatchingService (has extras) } wit
h receiverAction android.location.PROVIDERS_CHANGED
06-16 20:32:21.233 24298 24705 D JobProxy24: Schedule periodic jobInfo success, request{id=4942, tag=EvernoteFailedVisitJob, transient=false}, interval 00:30:00, flex 00:30:00
06-16 20:32:21.594  1670 23900 I GCoreUlr: WorldUpdater:android.location.PROVIDERS_CHANGED: Ensuring that reporting is active for [account#-1#]
06-16 20:32:21.677 18062 18062 D GPSExtractor$MyLocation: Provider gps enabled
06-16 20:32:21.680   790   790 D GpsNetInitiatedHandler: location enabled :true
06-16 20:32:21.684   790   790 D GpsNetInitiatedHandler: location enabled :true
```
Android version: LineageOS 7.1.2",https://github.com/commons-app/apps-android-commons/issues/1637#issuecomment-398308255,"Hmm. @nicolas-raoul we are only a few days away from releasing the beta to the Play Store... Shall we go ahead and release it and see if you encounter the same problem with that? Instead of delaying it to check through the branches.

We can still use this logcat in that case, so we'll keep the issue open."
commons-app/apps-android-commons,"**Summary:** 

Try uploading an image with an empty title(only spaces) and description. App crashes on clicking next. 

**Add System logs:**

```
Error pid or pid not exist
2018-06-18 19:26:50.123 1821-1821/fr.free.nrw.commons.debug E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
    SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
2018-06-18 19:26:50.545 1821-1821/fr.free.nrw.commons.debug E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
    SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
2018-06-18 19:26:52.982 1821-1821/fr.free.nrw.commons.debug E/AndroidRuntime: FATAL EXCEPTION: main
    Process: fr.free.nrw.commons.debug, PID: 1821
    java.lang.StringIndexOutOfBoundsException: length=0; regionStart=0; regionLength=1
        at java.lang.String.substring(String.java:1931)
        at fr.free.nrw.commons.Utils.capitalize(Utils.java:79)
        at fr.free.nrw.commons.PageTitle.<init>(PageTitle.java:25)
        at fr.free.nrw.commons.Utils.makeThumbBaseUrl(Utils.java:54)
        at fr.free.nrw.commons.Media.getImageUrl(Media.java:173)
        at fr.free.nrw.commons.contributions.ContributionDao.toContentValues(ContributionDao.java:95)
        at fr.free.nrw.commons.contributions.ContributionDao.save(ContributionDao.java:62)
        at fr.free.nrw.commons.upload.UploadService.queue(UploadService.java:153)
        at fr.free.nrw.commons.upload.UploadController$2.onPostExecute(UploadController.java:201)
        at fr.free.nrw.commons.upload.UploadController$2.onPostExecute(UploadController.java:132)
        at android.os.AsyncTask.finish(AsyncTask.java:667)
        at android.os.AsyncTask.-wrap1(AsyncTask.java)
        at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:684)
        at android.os.Handler.dispatchMessage(Handler.java:102)
        at android.os.Looper.loop(Looper.java:163)
        at android.app.ActivityThread.main(ActivityThread.java:6379)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:794)
```

**Expected behavior:** 

App should gracefully handle empty values. 

**Observed behavior:** 

App crashes!

**Device and Android version:** 

What make and model device (e.g., Samsung J7) did you encounter this on?  What Android
version (e.g., Android 4.0 Ice Cream Sandwich or Android 6.0 Marshmallow) are you running?  Is it
 the stock version from the manufacturer or a custom ROM ?
 
 **Commons app version:** 

You can find this information by going to the navigation drawer in the app and tapping 'About'

**Screen-shots:** 

Can be created by pressing the Volume Down and Power Button at the same time on Android 4.0 and higher.

**Would you like to work on the issue?**

Please let us know whether you want to fix the issue by yourself. If not, anyone can get the issue assigned to them.
",https://github.com/commons-app/apps-android-commons/issues/1635#issuecomment-398309061,"Thanks @maskaravivek , I merged #1636 . :) However, while we indeed do not want the app to crash when user submits an empty title, I don't think we should allow empty titles either. For this issue to be fully solved, I think tapping submit with an empty title should bring up a warning that informs the user that titles can't be empty, and disallowing the user from proceeding. What do you guys think?"
commons-app/apps-android-commons,"Steps:

1. Go to the search activity
2. Press the X to remove history
3. Confirm
4. Again, press the X to remove history
5. Confirm
6. Crash",https://github.com/commons-app/apps-android-commons/issues/1633#issuecomment-398071850,"I tried going to the search activity but couldn't get to it. May I know the flow to get there? 

P.s. I have not started working on it yet. Checking if I can handle it or not. "
commons-app/apps-android-commons,"People who are looking for an image will probably:

1. Search for a string
2. Scroll until they see an image they might like, then view it, maybe download it if it is good, or otherwise:
3. Continue scrolling until they see an image they might like, then view it, maybe go back to scrolling
4. Etc, until they have found enough good images to be satisfied.

Problem: Currently, after viewing an image and pressing ""Back"", you are sent again to the top of the searches. So you have to scroll again to the position you had reached before.",https://github.com/commons-app/apps-android-commons/issues/1631#issuecomment-400088442,I can take this! Do you also want to save the scroll position within the Explore tab and my recent uploads?
commons-app/apps-android-commons,"**Summary:** 

Nearby edits didn't edit Wikidata items. I uploaded this image via nearby map: https://commons.m.wikimedia.org/wiki/File:Centre_de_Recerca_Matem%C3%A0tica_3.jpg , by selecting nearby marker of this wikidata item: https://www.wikidata.org/wiki/Q2757630

Upload completed with no problem, displayed on my contirbutions list, but marker is still on map and wikidata item doesn't have the image.

**Add System logs:**

Sorry nothing beneficial

**Expected behavior:** 

Wikidata item should be edited with my user name

**Observed behavior:** 

Wikidata item is still there

**Device and Android version:** 

Android 4.2.2
 
 **Commons app version:** 

Current master

",https://github.com/commons-app/apps-android-commons/issues/1601#issuecomment-396513779,"@neslihanturan We have confirmed that this isn't actually a problem because it was due to your VPN, right? Just checking. :)"
commons-app/apps-android-commons,"**Summary:** 
Commons crashing during granting a Location permission aftr first run. I am using Oreo device.
See the video: https://www.dropbox.com/s/3aig57i1x6pdcok/2018_06_02_17_20_08.mp4?dl=0

**Steps to reproduce:** 

1. Turn off the GPS permission
2. Clear data
3. Start app
4. Go through the onboarding and sign in
5. Press menu icon and choose Nearby option
6. Dialogue asking for GPS permission appears, confirm it
7. Add the permission in the settings and then in the dialogue


How can we reproduce the issue?
`06-02 12:44:46.199 12044 12044 E AndroidRuntime: FATAL EXCEPTION: main 06-02 12:44:46.199 12044 12044 E AndroidRuntime: Process: fr.free.nrw.commons, PID: 12044 06-02 12:44:46.199 12044 12044 E AndroidRuntime: java.lang.RuntimeException: Failure delivering result ResultInfo{who=@android:requestPermissions:, request=1, result=-1, data=Intent { act=android.content.pm.action.REQUEST_PERMISSIONS (has extras) }} to activity {fr.free.nrw.commons/fr.free.nrw.commons.nearby.NearbyActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLatitude()' on a null object reference 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread.deliverResults(ActivityThread.java:4581) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread.handleSendResult(ActivityThread.java:4631) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread.-wrap19(Unknown Source:0) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1699) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.os.Handler.dispatchMessage(Handler.java:105) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.os.Looper.loop(Looper.java:180) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread.main(ActivityThread.java:6944) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at java.lang.reflect.Method.invoke(Native Method) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:835) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLatitude()' on a null object reference 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at fr.free.nrw.commons.location.LatLng.from(LatLng.java:45) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at fr.free.nrw.commons.location.LocationServiceManager.getLKL(LocationServiceManager.java:93) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at fr.free.nrw.commons.nearby.NearbyActivity.onRequestPermissionsResult(NearbyActivity.java:163) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.Activity.dispatchRequestPermissionsResult(Activity.java:7399) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.Activity.dispatchActivityResult(Activity.java:7250) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: at android.app.ActivityThread.deliverResults(ActivityThread.java:4577) 06-02 12:44:46.199 12044 12044 E AndroidRuntime: ... 9 more`

**Expected behavior:** 
It should show the map.

**Observed behavior:** 
Crash. After returning to the app again, the map is shown normally.

**Device and Android version:** 
HTC 10, OS 8.0.0 Oreo, stock version
 
 **Commons app version:** 
2.7.1. downloaded from Play store

**Video:** 

https://www.dropbox.com/s/3aig57i1x6pdcok/2018_06_02_17_20_08.mp4?dl=0

**Would you like to work on the issue?**

I would like to look at it. If I won't manage to fix this, I'll let you know.
",https://github.com/commons-app/apps-android-commons/issues/1581#issuecomment-428653720,"Hi all, is this one sorted? If i download 2.8.4 on my Oreo phone from store and bug is still there. But when i forked master and installed app on emulator or phone i could not replicate the bug. Thx for info. (Trying to find something simple for my class to do)"
commons-app/apps-android-commons,"It is hard to replicate, but I had this happen yesterday and today after editing the search string for 10 minutes.

Yesterday I got a search with 50 results, but the 25 last were the same as the 25 first.
Today I got the same result twice. Strangely the result does not even match the search string. Also I know that Commons contains an image that matches this search string, but it is not the image that appears.",https://github.com/commons-app/apps-android-commons/issues/1580#issuecomment-397221374,@nicolas-raoul Pagination is added. Can you check if it still exists? I am unable to reproduce it.
commons-app/apps-android-commons,"**Steps to reproduce:** 

1. Open search
2. Type some long random word

**Expected behavior:** 

Empty results

**Observed behavior:** 

Error message is displayed.

Also, ""null"" should probably be the search string?

 **Commons app version:** 

2.7.1-debug-rename-featured

**Screen-shots:** 

![screenshot_20180531-210051](https://user-images.githubusercontent.com/99590/40781289-473ed922-6516-11e8-98f4-43c8ebd535b9.png)
",https://github.com/commons-app/apps-android-commons/issues/1571#issuecomment-394083632,"@nicolas-raoul Sorry for the off-topic question. How do you test the ongoing development of the Browsing Wikimedia commons feature? Do you build from source each time there's an update and install it to your device?

Is there an easy way to get the app with that feature like an [""internal"" development""  or ""closed release"" version](https://support.google.com/googleplay/android-developer/answer/3131213?hl=en) of the app on play store?"
commons-app/apps-android-commons,"Currently, featured pictures are shown in alphabetical order.

As a consequence, users will always see the same pictures.
In particular, nobody will ever see all of the featured pictures that do not start with a quote or digit character.
This is boring for users, they will not scroll featured pictures twice. Even in one year the pictures show will be the same, with 1 or 2 exceptions maybe among hundreds of pictures scrolled.

Solution: Rather than displaying in alphabetical order, show in either (only implement one, whichever you find easiest or have a personal preference for):
- Order of recent upload
- Order of recent nomination
- Or random

The order must be passed in the API request. Ordering results after receiving a result page is not a good solution.",https://github.com/commons-app/apps-android-commons/issues/1564#issuecomment-393210611,"Hey @nicolas-raoul 

How do I get the featured images to show for the commons beta app? At the moment I am unable to test"
commons-app/apps-android-commons,"**Summary:** 

I frequently encounter the error ""Dex archives: setting .DEX extension only for .CLASS files"" when trying to build in AS. Cleaning and rebuilding solves the issue, but wastes a lot of time as it happens so frequently.

**Steps to reproduce:** 

Build in AS from various branches with different build variants.

**Add System logs:**

Dex archives: setting .DEX extension only for .CLASS files

**Device and Android version:** 

All
 
 **Commons app version:** 

All recent ones including master

**Would you like to work on the issue?**

Preferably not",https://github.com/commons-app/apps-android-commons/issues/1563#issuecomment-449206171,Does this still happen often in Android Studio 3.2.1?
commons-app/apps-android-commons,"**Summary:** 

The location listener in share activity is leaking memory. 

**Steps to reproduce:** 

Leak canary logs

**Expected behavior:** 

No memory leaks

**Device and Android version:** 

Redmi Note 5 7.1.2 

 **Commons app version:** 

Latest master

**Screen-shots:** 

![device-2018-05-14-001447](https://user-images.githubusercontent.com/3069373/39970578-6dd63116-570b-11e8-9b51-d4278409a4a1.png)

**Would you like to work on the issue?**

It would be great, if someone else could pick it up. :)",https://github.com/commons-app/apps-android-commons/issues/1515#issuecomment-405824031,This can be closed I guess?
commons-app/apps-android-commons,"**Summary:** 

Nearby crashes after logging out and in.

**Steps to reproduce:** 

Open app, open nearby, log out, log in, open nearby again

**Add System logs:**
```
E/LocationServiceManager: Security exception
                                                                                 java.lang.SecurityException: ""network"" location provider requires ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission.
                                                                                     at android.os.Parcel.readException(Parcel.java:1599)
                                                                                     at android.os.Parcel.readException(Parcel.java:1552)
                                                                                     at android.location.ILocationManager$Stub$Proxy.requestLocationUpdates(ILocationManager.java:606)
                                                                                     at android.location.LocationManager.requestLocationUpdates(LocationManager.java:880)
                                                                                     at android.location.LocationManager.requestLocationUpdates(LocationManager.java:464)
                                                                                     at fr.free.nrw.commons.location.LocationServiceManager.requestLocationUpdatesFromProvider(LocationServiceManager.java:123)
                                                                                     at fr.free.nrw.commons.location.LocationServiceManager.registerLocationManager(LocationServiceManager.java:111)
                                                                                     at fr.free.nrw.commons.nearby.NearbyActivity.onStart(NearbyActivity.java:299)
                                                                                     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1237)
                                                                                     at android.app.Activity.performStart(Activity.java:6253)
                                                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)
                                                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
                                                                                     at android.app.ActivityThread.-wrap11(ActivityThread.java)
                                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
                                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)
                                                                                     at android.os.Looper.loop(Looper.java:148)
                                                                                     at android.app.ActivityThread.main(ActivityThread.java:5417)
                                                                                     at java.lang.reflect.Method.invoke(Native Method)
                                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
                                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
```


**Device and Android version:** 

API level 19
 
 **Commons app version:** 

current master

",https://github.com/commons-app/apps-android-commons/issues/1480#issuecomment-387920817,"Has someone already taken this? If not, I'll take it."
commons-app/apps-android-commons,"
No. of uploads on Actionbar remains to 0 on logging in the app even when I have stored many images before.

How can we reproduce the issue?

1. Login to the app and make sure you have uploaded photos previously.
2. No. of uploads remains at zero.

Tested On: Xiaomi Redmi Note 4
Android Version: 7.0 
Commons app version: 2.7.1-debug-master~8a06aa5

Screen-shots: 

![screenshot_2018-04-27-00-27-00-559_fr free nrw commons debug](https://user-images.githubusercontent.com/31107831/39326330-41a88aaa-49b2-11e8-99e1-07ce9371f643.png)

Would you like to work on the issue?

I would love to work on this issue.
",https://github.com/commons-app/apps-android-commons/issues/1465#issuecomment-385259027,"Hi @gupta1anubhav , are you on the beta or prod build variant?"
commons-app/apps-android-commons,"**Summary:** 

Compass button in `2.7.x-release` branch is hidden by bottom sheet when pin is selected

**Steps to reproduce:** 

Load Nearby map, select a pin, and swivel the map around a bit. Now you have a rotated map and no way to get it back to the original rotation. You can only access the compass button if you clear the bottom sheet.

**Expected behavior:** 

Have the compass button in a location where the bottom sheet wouldn't hide it.

**Device and Android version:** 

API 24 Samsung Galaxy s7
 
 **Commons app version:** 

2.7.x-release branch

**Would you like to work on the issue?**

I could. but the simplest fix I can think of - just putting the compass button in the upper left corner, might not be ideal?",https://github.com/commons-app/apps-android-commons/issues/1441#issuecomment-381385906,"If you follow the discussion at #1422 , this was the best place we could locate the compass button. So I think its location is fine, we cant put it on bottom sheet either. Top left corner is not possible due to discussed reasons at the issue. I propose leave it like that. What do you think @misaochan ?"
commons-app/apps-android-commons,"**Summary:** 

Nearby progress bar turns to the eternity. I didn't understand why it gives illegal argument exception and I am not sure how we should handle it etiher.

**Steps to reproduce:** 
- Use an API 19 device
- Start Nearby Activity

**Add System logs:**

`E/LocationServiceManager: Illegal argument exception
                                                                                 java.lang.IllegalArgumentException: provider doesn't exist: network
                                                                                     at android.os.Parcel.readException(Parcel.java:1469)
                                                                                     at android.os.Parcel.readException(Parcel.java:1419)
                                                                                     at android.location.ILocationManager$Stub$Proxy.requestLocationUpdates(ILocationManager.java:540)
                                                                                     at android.location.LocationManager.requestLocationUpdates(LocationManager.java:860)
                                                                                     at android.location.LocationManager.requestLocationUpdates(LocationManager.java:454)
                                                                                     at fr.free.nrw.commons.location.LocationServiceManager.requestLocationUpdatesFromProvider(LocationServiceManager.java:106)
                                                                                     at fr.free.nrw.commons.location.LocationServiceManager.registerLocationManager(LocationServiceManager.java:94)
                                                                                     at fr.free.nrw.commons.nearby.NearbyActivity.refreshView(NearbyActivity.java:342)
                                                                                     at fr.free.nrw.commons.nearby.NearbyActivity.access$000(NearbyActivity.java:52)
                                                                                     at fr.free.nrw.commons.nearby.NearbyActivity$2.onReceive(NearbyActivity.java:315)
                                                                                     at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:768)
                                                                                     at android.os.Handler.handleCallback(Handler.java:733)
                                                                                     at android.os.Handler.dispatchMessage(Handler.java:95)
                                                                                     at android.os.Looper.loop(Looper.java:136)
                                                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)
                                                                                     at java.lang.reflect.Method.invokeNative(Native Method)
                                                                                     at java.lang.reflect.Method.invoke(Method.java:515)
                                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)
                                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)
                                                                                     at dalvik.system.NativeStart.main(Native Method)
`

**Expected behavior:** 
To see nearby places

**Observed behavior:** 

What did you see instead?  Describe your issue in detail here.

**Device and Android version:** 

API 19
 
 **Commons app version:** 

2.7.x-release branch

**Would you like to work on the issue?**

Help to verify to issue would be nice, but I can work to fix. Related work at #1421 
- (is this only happens on my emulator or is there someone else experience same issue?)
",https://github.com/commons-app/apps-android-commons/issues/1435#issuecomment-435349887,"**Summary:** 

Nearby fails as it just keeps switching screens between ""GPS is disabled in your device. Would you like to enable it?"" and ""Nearby places cannot be displayed without location permissions"".

**Steps to reproduce:** 

How can we reproduce the issue?
1. Build and run master (I used `2.8.5-debug-master~3ccd690c`) on an API 15 level device (I used `Galaxy Nexus (simulator)`)
2. Go to the nearby tab

What did you expect the app to do, and what did you see instead?
1. Suggest to enable GPS only if disabled
2. Not ask for location permissions on API levels that don't support permissions
3. Show nearby screen very similar to API level 28

**System logs:**

```
11-02 11:26:16.953 1269-1279/system_process I/ActivityManager: START {flg=0x20000 cmp=fr.free.nrw.commons.beta/fr.free.nrw.commons.nearby.NearbyActivity} from pid 9014
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:16.953 1269-1279/system_process W/WindowManager: Failure taking screenshot for (240x394) to layer 21015
11-02 11:26:17.013 9014-9014/fr.free.nrw.commons.beta I/AppCompatViewInflater: app:theme is now deprecated. Please move to using android:theme instead.
11-02 11:26:17.093 9014-9016/fr.free.nrw.commons.beta D/dalvikvm: GC_CONCURRENT freed 1186K, 10% free 16775K/18439K, paused 0ms+0ms
11-02 11:26:17.123 9014-9014/fr.free.nrw.commons.beta E/LocationServiceManager: Illegal argument exception
    java.lang.IllegalArgumentException: provider=network
        at android.os.Parcel.readException(Parcel.java:1331)
        at android.os.Parcel.readException(Parcel.java:1281)
        at android.location.ILocationManager$Stub$Proxy.requestLocationUpdates(ILocationManager.java:646)
        at android.location.LocationManager._requestLocationUpdates(LocationManager.java:589)
        at android.location.LocationManager.requestLocationUpdates(LocationManager.java:453)
        at fr.free.nrw.commons.location.LocationServiceManager.requestLocationUpdatesFromProvider(LocationServiceManager.java:143)
        at fr.free.nrw.commons.location.LocationServiceManager.registerLocationManager(LocationServiceManager.java:130)
        at fr.free.nrw.commons.nearby.NearbyActivity.registerLocationUpdates(NearbyActivity.java:487)
        at fr.free.nrw.commons.nearby.NearbyActivity.onStart(NearbyActivity.java:329)
        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1133)
        at android.app.Activity.performStart(Activity.java:4476)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1929)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
        at android.app.ActivityThread.access$600(ActivityThread.java:123)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
        at android.os.Handler.dispatchMessage(Handler.java:99)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:4424)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
        at dalvik.system.NativeStart.main(Native Method)
11-02 11:26:17.123 9014-9014/fr.free.nrw.commons.beta D/NearbyActivity: GPS is not enabled
11-02 11:26:17.143 1269-1280/system_process D/dalvikvm: GC_EXPLICIT freed 366K, 37% free 16129K/25223K, paused 0ms+1ms
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.223 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta W/ResourceType: Skipping entry 0x109003a in package table 0 because it is not complex!
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta E/LocationServiceManager: Illegal argument exception
    java.lang.IllegalArgumentException: provider=network
        at android.os.Parcel.readException(Parcel.java:1331)
        at android.os.Parcel.readException(Parcel.java:1281)
        at android.location.ILocationManager$Stub$Proxy.requestLocationUpdates(ILocationManager.java:646)
        at android.location.LocationManager._requestLocationUpdates(LocationManager.java:589)
        at android.location.LocationManager.requestLocationUpdates(LocationManager.java:453)
        at fr.free.nrw.commons.location.LocationServiceManager.requestLocationUpdatesFromProvider(LocationServiceManager.java:143)
        at fr.free.nrw.commons.location.LocationServiceManager.registerLocationManager(LocationServiceManager.java:130)
        at fr.free.nrw.commons.nearby.NearbyActivity.registerLocationUpdates(NearbyActivity.java:487)
        at fr.free.nrw.commons.nearby.NearbyActivity.refreshView(NearbyActivity.java:406)
        at fr.free.nrw.commons.nearby.NearbyActivity.access$000(NearbyActivity.java:59)
        at fr.free.nrw.commons.nearby.NearbyActivity$3.onReceive(NearbyActivity.java:380)
        at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:728)
        at android.os.Handler.handleCallback(Handler.java:605)
        at android.os.Handler.dispatchMessage(Handler.java:92)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:4424)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
        at dalvik.system.NativeStart.main(Native Method)
11-02 11:26:17.233 9014-9014/fr.free.nrw.commons.beta D/NearbyActivity: Skipping update of nearby places as location is unavailable
11-02 11:26:17.263 1269-1336/system_process I/ActivityManager: Displayed fr.free.nrw.commons.beta/fr.free.nrw.commons.nearby.NearbyActivity: +302ms
11-02 11:26:31.153 1689-1728/com.google.android.gms.persistent W/SQLiteDatabase: database lock has not been available for 30 sec. Current Owner of the lock is 361. Continuing to wait in thread: 71
```

**Device and Android version:** 

`2.8.3-debug-pr-1925~fe558b62` on Galaxy Nexus (simulated) with API level

**Screen-shots:** 

![screenshot_1541157093](https://user-images.githubusercontent.com/4953590/47913001-5952f300-de92-11e8-9633-40d1c0fbcc5e.png)
![screenshot_1541157821](https://user-images.githubusercontent.com/4953590/47913002-5952f300-de92-11e8-8c95-9caaf38991e1.png)
![screenshot_1541157868](https://user-images.githubusercontent.com/4953590/47913004-5952f300-de92-11e8-9252-dee350cd3d56.png)"
commons-app/apps-android-commons,"**Summary:** 

Values in media details view are empty sometimes. So far, for me, this only happens when a different image is currently being uploaded.

**Steps to reproduce:** 

Upload an image, then quickly go to your contributions list and select a different image to view

**Expected behavior:** 

Display values appropriately

**Observed behavior:** 

Does not display values appropriately. I suspect we are blocking the network thread when uploading?

**Device and Android version:** 

API 26 Samsung Galaxy s7
 
 **Commons app version:** 

2.7.0 beta

**Screen-shots:** 

![screenshot_20180403-203152](https://user-images.githubusercontent.com/3611199/38244624-9dc2f726-377e-11e8-8eed-cea51f9247bb.png)

**Would you like to work on the issue?**

Preferably not",https://github.com/commons-app/apps-android-commons/issues/1419#issuecomment-386521023,"Thanks @ashishkumar468 , can you provide related class and code lines? It would be great if you insert that code part then we can discuss:)"
commons-app/apps-android-commons,"The directions symbol appears when the map is zoomed in or rotated , that symbol is overlapped by the recenter button.

![alt link](https://preview.ibb.co/b7zUx7/Screenshot_20180331_210950.png)

**Expected behavior:** 

The directions symbol not appearing at all or the recenter button has to be moved down


**Device and Android version:** 
Android 6.0.1
",https://github.com/commons-app/apps-android-commons/issues/1395#issuecomment-377773542,"Just to clarify, @97balakrishnan has mentioned that:

> It remains there even if i select the pin and expand. Note: I got the directions symbol only after i zoomed the map. It was not initially present.

@97balakrishnan could you please clarify if you are ever able to select a pin and view the bottom sheet? If you are, could you post a screenshot of how the bottom sheet looks like now?

Also, what device are you using? And is your version of the app the beta version of 2.7.0 on the Play Store?

Thanks!"
commons-app/apps-android-commons,"Since updating the app.
![screenshot_20180331-192104](https://user-images.githubusercontent.com/99590/38162495-11c90642-351d-11e8-94d4-31fc43a095d4.png)
",https://github.com/commons-app/apps-android-commons/issues/1393#issuecomment-377704033,"Hmm. Does this issue persist for you, @nicolas-raoul , or is it only the first time? Does your account have 2fa?

Thanks for the crash report @97balakrishnan !"
commons-app/apps-android-commons,"Hi, I've paused translation updates due to unresolved parsing issue I commented in https://github.com/commons-app/apps-android-commons/commit/96173e26cf07ef0d3f23cb8bb9ca4b21820eddf5#r27787891

Let's try to find a quick way to solve this.",https://github.com/commons-app/apps-android-commons/issues/1258#issuecomment-370232984,"@Nikerabbit Do you think any of the solutions at https://stackoverflow.com/questions/10374847/is-there-a-way-to-store-a-string-with-markup-in-the-strings-xml would help? Or is it just the `<` and `>` that are causing problems, and we can replace those with the escape characters?"
commons-app/apps-android-commons,"**Summary:** 

Gallery only shows latest 3 images, seemingly no way to see more.

**Steps to reproduce:** 

1. Open the app with an account that has 100+ uploads
2. Only the last 3 ones can be seen

**Expected behavior:** 

I expect to be able to see my past pictures too.

**Observed behavior:** 

Only 3 pictures visible.

**Device and Android version:** 

Android 7.1.2
 
 **Commons app version:** 

Commons app 2.6.7",https://github.com/commons-app/apps-android-commons/issues/1243#issuecomment-370120848,I can't seem to reproduce this. Do you have `Set Recent Upload Limit` in settings on by chance?
commons-app/apps-android-commons,"Change your phone language to Arabic, try to upload a picture. It results this crash:
`02-16 00:32:56.294 32006-32006/fr.free.nrw.commons.debug E/AndroidRuntime: FATAL EXCEPTION: main
                                                                           Process: fr.free.nrw.commons.debug, PID: 32006
                                                                           java.lang.NullPointerException
                                                                               at fr.free.nrw.commons.upload.SingleUploadFragment.titleInfo(SingleUploadFragment.java:232)
                                                                               at fr.free.nrw.commons.upload.SingleUploadFragment_ViewBinding$1.onTouch(SingleUploadFragment_ViewBinding.java:46)
                                                                               at android.view.View.dispatchTouchEvent(View.java:7772)`",https://github.com/commons-app/apps-android-commons/issues/1163#issuecomment-366426244,@neslihanturan I was unable to replicate the error and uploaded a picture successfully with the phone language to Arabic. Could you share some more details?
commons-app/apps-android-commons,"New contributors welcome - please mention the specific issue you are fixing (e.g. 1130(a)) in your pull request.

- 1130(a):
```
java.lang.SecurityException: 
  at android.os.Parcel.readException (Parcel.java:1599)
  at android.os.Parcel.readException (Parcel.java:1552)
  at android.app.ActivityManagerProxy.getContentProvider (ActivityManagerNative.java:3735)
  at android.app.ActivityThread.acquireProvider (ActivityThread.java:5062)
  at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider (ContextImpl.java:2023)
  at android.content.ContentResolver.acquireUnstableProvider (ContentResolver.java:1517)
  at android.content.ContentResolver.openTypedAssetFileDescriptor (ContentResolver.java:1121)
  at android.content.ContentResolver.openAssetFileDescriptor (ContentResolver.java:958)
  at android.content.ContentResolver.openInputStream (ContentResolver.java:678)
  at fr.free.nrw.commons.upload.UploadService.uploadContribution (UploadService.java:188)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:131)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:41)
  at fr.free.nrw.commons.HandlerService$ServiceHandler.handleMessage (HandlerService.java:26)
  at android.os.Handler.dispatchMessage (Handler.java:111)
  at android.os.Looper.loop (Looper.java:207)
  at android.os.HandlerThread.run (HandlerThread.java:61)
```
- 1130(b):
```
java.lang.NullPointerException: 
  at android.net.Uri$StringUri.<init> (Uri.java:489)
  at android.net.Uri$StringUri.<init> (Uri.java)
  at android.net.Uri.parse (Uri.java:451)
  at fr.free.nrw.commons.media.MediaDetailFragment.openWebBrowser (MediaDetailFragment.java:379)
  at fr.free.nrw.commons.media.MediaDetailFragment.lambda$setOnClickListeners$0$MediaDetailFragment (MediaDetailFragment.java:275)
  at fr.free.nrw.commons.media.MediaDetailFragment$$Lambda$1.onClick (Unknown Source)
  at android.view.View.performClick (View.java:5612)
  at android.view.View$PerformClick.run (View.java:22288)
  at android.os.Handler.handleCallback (Handler.java:751)
  at android.os.Handler.dispatchMessage (Handler.java:95)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6123)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:867)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:757)
```
- 1130(c):
```
java.lang.SecurityException: 
  at android.os.Parcel.readException (Parcel.java:1942)
  at android.os.Parcel.readException (Parcel.java:1888)
  at android.app.IActivityManager$Stub$Proxy.getContentProvider (IActivityManager.java:5023)
  at android.app.ActivityThread.acquireProvider (ActivityThread.java:6142)
  at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider (ContextImpl.java:2546)
  at android.content.ContentResolver.acquireUnstableProvider (ContentResolver.java:1909)
  at android.content.ContentResolver.openTypedAssetFileDescriptor (ContentResolver.java:1433)
  at android.content.ContentResolver.openAssetFileDescriptor (ContentResolver.java:1286)
  at android.content.ContentResolver.openInputStream (ContentResolver.java:1006)
  at fr.free.nrw.commons.upload.UploadService.uploadContribution (UploadService.java:188)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:131)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:41)
  at fr.free.nrw.commons.HandlerService$ServiceHandler.handleMessage (HandlerService.java:26)
  at android.os.Handler.dispatchMessage (Handler.java:105)
  at android.os.Looper.loop (Looper.java:164)
  at android.os.HandlerThread.run (HandlerThread.java:65)
```
- 1130(d):
```
java.lang.NullPointerException: 
  at fr.free.nrw.commons.upload.SingleUploadFragment.titleInfo (SingleUploadFragment.java:212)
  at fr.free.nrw.commons.upload.SingleUploadFragment_ViewBinding$1.onTouch (SingleUploadFragment_ViewBinding.java:46)
  at android.view.View.dispatchTouchEvent (View.java:9987)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at com.android.internal.policy.PhoneWindow$DecorView.superDispatchTouchEvent (PhoneWindow.java:2831)
  at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent (PhoneWindow.java:1863)
  at android.app.Activity.dispatchTouchEvent (Activity.java:3046)
  at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent (WindowCallbackWrapper.java:68)
  at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent (WindowCallbackWrapper.java:68)
  at com.android.internal.policy.PhoneWindow$DecorView.dispatchTouchEvent (PhoneWindow.java:2792)
  at android.view.View.dispatchPointerEvent (View.java:10228)
  at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent (ViewRootImpl.java:5344)
  at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess (ViewRootImpl.java:5180)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4673)
  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4639)
  at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:4781)
  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4647)
  at android.view.ViewRootImpl$AsyncInputStage.apply (ViewRootImpl.java:4838)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4673)
  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4639)
  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4647)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl.deliverInputEvent (ViewRootImpl.java:7306)
  at android.view.ViewRootImpl.doProcessInputEvents (ViewRootImpl.java:7184)
  at android.view.ViewRootImpl.enqueueInputEvent (ViewRootImpl.java:7145)
  at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent (ViewRootImpl.java:7416)
  at android.view.InputEventReceiver.dispatchInputEvent (InputEventReceiver.java:185)
  at android.os.MessageQueue.nativePollOnce (Native Method)
  at android.os.MessageQueue.next (MessageQueue.java:323)
  at android.os.Looper.loop (Looper.java:143)
  at android.app.ActivityThread.main (ActivityThread.java:7229)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1230)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1120)
```
- 1130(e):
```
java.lang.SecurityException: 
  at android.os.Parcel.readException (Parcel.java:1942)
  at android.database.DatabaseUtils.readExceptionFromParcel (DatabaseUtils.java:183)
  at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel (DatabaseUtils.java:146)
  at android.content.ContentProviderProxy.openTypedAssetFile (ContentProviderNative.java:698)
  at android.content.ContentResolver.openTypedAssetFileDescriptor (ContentResolver.java:1449)
  at android.content.ContentResolver.openAssetFileDescriptor (ContentResolver.java:1286)
  at android.content.ContentResolver.openInputStream (ContentResolver.java:1006)
  at fr.free.nrw.commons.upload.UploadService.uploadContribution (UploadService.java:188)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:131)
  at fr.free.nrw.commons.upload.UploadService.handle (UploadService.java:41)
  at fr.free.nrw.commons.HandlerService$ServiceHandler.handleMessage (HandlerService.java:26)
  at android.os.Handler.dispatchMessage (Handler.java:105)
  at android.os.Looper.loop (Looper.java:164)
  at android.os.HandlerThread.run (HandlerThread.java:65)
```
- 1130(f):
```
java.lang.NullPointerException: 
  at fr.free.nrw.commons.upload.SingleUploadFragment.descriptionInfo (SingleUploadFragment.java:229)
  at fr.free.nrw.commons.upload.SingleUploadFragment_ViewBinding$2.onTouch (SingleUploadFragment_ViewBinding.java:55)
  at android.view.View.dispatchTouchEvent (View.java:9987)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at android.view.ViewGroup.dispatchTransformedTouchEvent (ViewGroup.java:2839)
  at android.view.ViewGroup.dispatchTouchEvent (ViewGroup.java:2456)
  at com.android.internal.policy.PhoneWindow$DecorView.superDispatchTouchEvent (PhoneWindow.java:2831)
  at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent (PhoneWindow.java:1863)
  at android.app.Activity.dispatchTouchEvent (Activity.java:3046)
  at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent (WindowCallbackWrapper.java:68)
  at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent (WindowCallbackWrapper.java:68)
  at com.android.internal.policy.PhoneWindow$DecorView.dispatchTouchEvent (PhoneWindow.java:2792)
  at android.view.View.dispatchPointerEvent (View.java:10228)
  at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent (ViewRootImpl.java:5344)
  at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess (ViewRootImpl.java:5180)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4673)
  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4639)
  at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:4781)
  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4647)
  at android.view.ViewRootImpl$AsyncInputStage.apply (ViewRootImpl.java:4838)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4673)
  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4639)
  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4647)
  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4620)
  at android.view.ViewRootImpl.deliverInputEvent (ViewRootImpl.java:7306)
  at android.view.ViewRootImpl.doProcessInputEvents (ViewRootImpl.java:7184)
  at android.view.ViewRootImpl.enqueueInputEvent (ViewRootImpl.java:7145)
  at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent (ViewRootImpl.java:7416)
  at android.view.InputEventReceiver.dispatchInputEvent (InputEventReceiver.java:185)
  at android.os.MessageQueue.nativePollOnce (Native Method)
  at android.os.MessageQueue.next (MessageQueue.java:323)
  at android.os.Looper.loop (Looper.java:143)
  at android.app.ActivityThread.main (ActivityThread.java:7229)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1230)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1120)
```
- 1130(g):
```
java.lang.NumberFormatException: 
  at java.lang.Integer.parseInt (Integer.java:533)
  at java.lang.Integer.parseInt (Integer.java:556)
  at fr.free.nrw.commons.settings.SettingsFragment.lambda$onCreate$3$SettingsFragment (SettingsFragment.java:74)
  at fr.free.nrw.commons.settings.SettingsFragment$$Lambda$2.onPreferenceChange (Unknown Source)
  at android.preference.Preference.callChangeListener (Preference.java:949)
  at android.preference.EditTextPreference.onDialogClosed (EditTextPreference.java:152)
  at android.preference.DialogPreference.onDismiss (DialogPreference.java:414)
  at android.app.Dialog$ListenersHandler.handleMessage (Dialog.java:1399)
  at android.os.Handler.dispatchMessage (Handler.java:102)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6351)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:896)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:786)
```
- 1130(h):
```
java.lang.IllegalStateException: 
  at android.support.v4.view.ViewPager.populate (ViewPager.java:1135)
  at android.support.v4.view.ViewPager.populate (ViewPager.java:1084)
  at android.support.v4.view.ViewPager.onMeasure (ViewPager.java:1614)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.LinearLayout.measureChildBeforeLayout (LinearLayout.java:1464)
  at android.widget.LinearLayout.measureVertical (LinearLayout.java:747)
  at android.widget.LinearLayout.onMeasure (LinearLayout.java:629)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.FrameLayout.onMeasure (FrameLayout.java:194)
  at android.view.View.measure (View.java:20236)
  at android.widget.RelativeLayout.measureChildHorizontal (RelativeLayout.java:716)
  at android.widget.RelativeLayout.onMeasure (RelativeLayout.java:462)
  at android.view.View.measure (View.java:20236)
  at android.support.v4.widget.DrawerLayout.onMeasure (DrawerLayout.java:1060)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.FrameLayout.onMeasure (FrameLayout.java:194)
  at android.support.v7.widget.ContentFrameLayout.onMeasure (ContentFrameLayout.java:139)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.LinearLayout.measureChildBeforeLayout (LinearLayout.java:1464)
  at android.widget.LinearLayout.measureVertical (LinearLayout.java:747)
  at android.widget.LinearLayout.onMeasure (LinearLayout.java:629)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.FrameLayout.onMeasure (FrameLayout.java:194)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.LinearLayout.measureChildBeforeLayout (LinearLayout.java:1464)
  at android.widget.LinearLayout.measureVertical (LinearLayout.java:747)
  at android.widget.LinearLayout.onMeasure (LinearLayout.java:629)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:6427)
  at android.widget.FrameLayout.onMeasure (FrameLayout.java:194)
  at com.android.internal.policy.PhoneWindow$DecorView.onMeasure (PhoneWindow.java:3140)
  at android.view.View.measure (View.java:20236)
  at android.view.ViewRootImpl.performMeasure (ViewRootImpl.java:2712)
  at android.view.ViewRootImpl.measureHierarchy (ViewRootImpl.java:1656)
  at android.view.ViewRootImpl.performTraversals (ViewRootImpl.java:1948)
  at android.view.ViewRootImpl.doTraversal (ViewRootImpl.java:1544)
  at android.view.ViewRootImpl$TraversalRunnable.run (ViewRootImpl.java:7616)
  at android.view.Choreographer$CallbackRecord.run (Choreographer.java:911)
  at android.view.Choreographer.doCallbacks (Choreographer.java:686)
  at android.view.Choreographer.doFrame (Choreographer.java:622)
  at android.view.Choreographer$FrameDisplayEventReceiver.run (Choreographer.java:897)
  at android.os.Handler.handleCallback (Handler.java:739)
  at android.os.Handler.dispatchMessage (Handler.java:95)
  at android.os.Looper.loop (Looper.java:148)
  at android.app.ActivityThread.main (ActivityThread.java:7406)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1230)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1120)
```
- 1130(i):
```
java.lang.RuntimeException: 
  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2724)
  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:2789)
  at android.app.ActivityThread.-wrap12 (ActivityThread.java)
  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1527)
  at android.os.Handler.dispatchMessage (Handler.java:110)
  at android.os.Looper.loop (Looper.java:203)
  at android.app.ActivityThread.main (ActivityThread.java:6251)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1075)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:936)
Caused by: android.os.BadParcelableException: 
  at android.os.Parcel.readParcelableCreator (Parcel.java:2535)
  at android.os.Parcel.readParcelable (Parcel.java:2461)
  at fr.free.nrw.commons.contributions.Contribution.<init> (Contribution.java:75)
  at fr.free.nrw.commons.contributions.Contribution$1.createFromParcel (Contribution.java:21)
  at fr.free.nrw.commons.contributions.Contribution$1.createFromParcel (Contribution.java:18)
  at android.os.Parcel.readParcelable (Parcel.java:2470)
  at android.os.Parcel.readValue (Parcel.java:2364)
  at android.os.Parcel.readArrayMapInternal (Parcel.java:2717)
  at android.os.BaseBundle.unparcel (BaseBundle.java:269)
  at android.os.BaseBundle.getBoolean (BaseBundle.java:731)
  at android.app.Activity.restoreHasCurrentPermissionRequest (Activity.java:6907)
  at android.app.Activity.performCreate (Activity.java:6665)
  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1118)
  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2677)
```
- 1130(j):
```
android.view.WindowManager$BadTokenException: 
  at android.view.ViewRootImpl.setView (ViewRootImpl.java:690)
  at android.view.WindowManagerGlobal.addView (WindowManagerGlobal.java:342)
  at android.view.WindowManagerImpl.addView (WindowManagerImpl.java:93)
  at android.app.Dialog.show (Dialog.java:316)
  at fr.free.nrw.commons.upload.ExistingFileAsync.onPostExecute (ExistingFileAsync.java:84)
  at fr.free.nrw.commons.upload.ExistingFileAsync.onPostExecute (ExistingFileAsync.java:19)
  at android.os.AsyncTask.finish (AsyncTask.java:660)
  at android.os.AsyncTask.-wrap1 (AsyncTask.java)
  at android.os.AsyncTask$InternalHandler.handleMessage (AsyncTask.java:677)
  at android.os.Handler.dispatchMessage (Handler.java:102)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6123)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:867)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:757)
```",https://github.com/commons-app/apps-android-commons/issues/1130#issuecomment-364767013,"The BadTokenException - Stack Overflow has a discussion that seems relevant -
 https://stackoverflow.com/questions/18662239/android-view-windowmanagerbadtokenexception-unable-to-add-window-on-buider-s 

Basically, we're trying to pop a dialog to say *""This file already exists on Commons. Are you sure you want to proceed?""* after the activity has finished."
commons-app/apps-android-commons,"New crash in version 2.6.6 affecting 12 users with 79 reports. :/ It appears to be caused by uploading. I tried to contact the user to get more information, but we'll see if he responds.

```
java.lang.NullPointerException: 
  at fr.free.nrw.commons.modifications.ModificationsSyncAdapter.onPerformSync (ModificationsSyncAdapter.java:105)
  at android.content.AbstractThreadedSyncAdapter$SyncThread.run (AbstractThreadedSyncAdapter.java:272)
```

(Yes, the stack trace is only 2 lines. Not sure why)

Android 5.1 | 60 | 75.9%
Android 7.0 | 10 | 12.7%
Android 8.0 | 5 | 6.3%
Android 6.0 | 2 | 2.5%
Others | 2 | 2.5%


A37f (A37f) | 59 | 74.7%
ZenFone 3 Max (ZC520TL) (ASUS_X008_1) | 8 | 10.1%
Mi A1 (tissot_sprout) | 3 | 3.8%
OnePlus3T (OnePlus3T) | 2 | 2.5%
Others | 7 | 8.9%


",https://github.com/commons-app/apps-android-commons/issues/1087#issuecomment-359301599,"Reading the code in context I see something straight away
```java
contributionCursor.moveToFirst();
contrib = contributionDao.fromCursor(contributionCursor);

if (contrib.getState() == Contribution.STATE_COMPLETED){
    ...
}
```
Firstly, we are not checking the return value of `contributionCursor.moveToFirst()` - it will return `false` if the cursor we are interacting with was empty (ie, we are unable to move anywhere).  It's a common mistake to forget to check the return value of `moveToFirst()` and `moveToNext()` and leads to bugs every time.

I believe what's happening is that the cursor is empty, as there's a guard in `fromCursor()` -

```java
if (cursor.getCount() > 0) {
    return ...
}
return null;
```

That's the most obvious reason I can see for the contribution being null on the line you mention.  I think it would also be valid to add a simple null check 
```java
if (contrib != null && contrib.getState() == Contribution.STATE_COMPLETED){
    ...
}
```

but I am curious about the relationship between ""modifications"" and ""contributions"" - how can the data be out of sync in such a way that there's no corresponding contribution for the modification in question?  "
commons-app/apps-android-commons,"It looks like since #1062 TestCommonsApplication has been broken. For example, it tries to override injector() which was removed by the patch.

To quote some of the errors:

```
/home/travis/build/commons-app/apps-android-commons/app/src/test/java/fr/free/nrw/commons/TestCommonsApplication.java:66: error: method does not override or implement a method from a supertype
    @Override
    ^
/home/travis/build/commons-app/apps-android-commons/app/src/test/java/fr/free/nrw/commons/TestCommonsApplication.java:71: error: method does not override or implement a method from a supertype
                        @Override
```
",https://github.com/commons-app/apps-android-commons/issues/1068#issuecomment-357881419,"@whym , do you know if this should block the current release (to fix the Dagger crash)? I am leaning towards just doing the release first while we fix this, as the issue seems to lie with the tests."
commons-app/apps-android-commons,"We are getting a lot of crashes in v2.6.5 production, with a crash rate of 4.27%, more than in previous versions. This has unfortunately led to a lot of uninstalls. :( The majority of the crashes seem to be related to Dagger. I have pasted them below:

* 11 reports, 8 users using Android 8.0 and 8.1:

Pixel 2 XL (taimen) | 3 | 27.3%
Nexus 6P (angler) | 3 | 27.3%
Pixel (sailfish) | 2 | 18.2%
Pixel XL (marlin) | 1 | 9.1%
Others | 2 | 18.2%

```
java.lang.RuntimeException: 
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3349)
  at android.app.ActivityThread.-wrap4 (Unknown Source)
  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1677)
  at android.os.Handler.dispatchMessage (Handler.java:106)
  at android.os.Looper.loop (Looper.java:164)
  at android.app.ActivityThread.main (ActivityThread.java:6494)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:438)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:807)
Caused by: java.lang.RuntimeException: 
  at dagger.android.AndroidInjection.inject (AndroidInjection.java:134)
  at dagger.android.DaggerService.onCreate (DaggerService.java:27)
  at fr.free.nrw.commons.HandlerService.onCreate (HandlerService.java:55)
  at fr.free.nrw.commons.upload.UploadService.onCreate (UploadService.java:122)
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3339)
```

* 21 reports, 7 users using Android 7.0 and 7.1:

Moto G(4) (athene) | 5 | 33.3%
Moto G (5) Plus (potter_n) | 4 | 26.7%
Moto G (5S) (montana) | 2 | 13.3%
Aquaris U (chaozu) | 2 | 13.3%

```
java.lang.RuntimeException: 
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3544)
  at android.app.ActivityThread.-wrap6 (ActivityThread.java)
  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1732)
  at android.os.Handler.dispatchMessage (Handler.java:102)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6776)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1496)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1386)
Caused by: java.lang.RuntimeException: 
  at dagger.android.AndroidInjection.inject (AndroidInjection.java:134)
  at dagger.android.DaggerService.onCreate (DaggerService.java:27)
  at fr.free.nrw.commons.HandlerService.onCreate (HandlerService.java:55)
  at fr.free.nrw.commons.upload.UploadService.onCreate (UploadService.java:122)
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3534)
```

* 5 reports, 2 users using Android 7.1, both using RedMi phones.
```
java.lang.RuntimeException: 
  at fr.free.nrw.commons.contributions.ContributionsActivity$1.onServiceDisconnected (ContributionsActivity.java:97)
  at android.app.LoadedApk$ServiceDispatcher.doConnected (LoadedApk.java:1457)
  at android.app.LoadedApk$ServiceDispatcher$RunConnection.run (LoadedApk.java:1489)
  at android.os.Handler.handleCallback (Handler.java:754)
  at android.os.Handler.dispatchMessage (Handler.java:95)
  at android.os.Looper.loop (Looper.java:163)
  at android.app.ActivityThread.main (ActivityThread.java:6361)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:904)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:794)
```

* 10 reports, 5 users using Android 7.0 and 7.1:

Galaxy J7 Pro (j7y17lte) | 2 | 25.0%
Galaxy J5(2016) (j5xnlte) | 2 | 25.0%
Galaxy S7 (heroqltespr) | 2 | 25.0%
Galaxy S8 (dreamlte) | 2 | 25.0%

```
java.lang.RuntimeException: 
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3193)
  at android.app.ActivityThread.-wrap5 (ActivityThread.java)
  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1563)
  at android.os.Handler.dispatchMessage (Handler.java:102)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6123)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:867)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:757)
Caused by: java.lang.RuntimeException: 
  at dagger.android.AndroidInjection.inject (AndroidInjection.java:134)
  at dagger.android.DaggerService.onCreate (DaggerService.java:27)
  at fr.free.nrw.commons.HandlerService.onCreate (HandlerService.java:55)
  at fr.free.nrw.commons.upload.UploadService.onCreate (UploadService.java:122)
  at android.app.ActivityThread.handleCreateService (ActivityThread.java:3183)
```
  ",https://github.com/commons-app/apps-android-commons/issues/1036#issuecomment-354660792,"It looks like all of these stack traces boil down to the same root cause.  

```java
// this should never happen
throw new RuntimeException(""UploadService died but the rest of the process did not!"");
```

Is, in fact, happening & that exception is a *symptom*.  The real, troublesome line in question - `AndroidInjection.inject()` line 134 - says  that the application associated with the `UploadService` doesn't implement **HasServiceInjector** and yet our commons application class extends `DaggerApplication` which clearly **does**.

Tracking backward, it looks like `MultipleShareActivity` interacts with the service - is it possible that we are being invoked from the ""share"" option in the Android 8.0 / 8.1 photos app, and as such are associated with their application class in that case and not our own?

Looking at the injected dependencies in the `UploadService` there isn't a huge need to manage them as *Singletons* - we could change how injection is done in that service (more traditional Dagger without the AndroidInjection) or possibly make the class a touch more standalone and instantiate the 3 dependencies directly.  Thoughts?


"
commons-app/apps-android-commons,"While the GPS is searching switching between map and list view can crash the app. Easily reproducible when having no location and just hitting the list/map button a few times.

Version: 2.6.4
Android 7.0",https://github.com/commons-app/apps-android-commons/issues/998#issuecomment-349289051,"Thanks for reporting this @tobias47n9e . Just to clarify, this did not happen in the previous versions?"
commons-app/apps-android-commons,"> The app sends data to several eventlogging schemas (owned by WMF) for tracking user behavior in various parts of the app. In these schemas, I noticed that the actual username of the current user is transmitted and stored, unhashed and unsalted.  Ideally the username should be hashed with salt, so that the event logging can be as anonymous as possible.  For comparison, the Wikipedia app generates and stores a random UUID, which it sends in place of the username. This way, we can still track events from the ""same"" user, but it's completely anonymous.",https://github.com/commons-app/apps-android-commons/issues/994#issuecomment-348931640,"Event logging is per user, not per installation?
Same on Wikipedia app or is this UDID only generated on installation?"
commons-app/apps-android-commons,"Recently one of the tests started failing. Heres the build stackstrace.

```
fr.free.nrw.commons.NearbyActivityTest > testActivityLaunch[test(AVD) - 5.1.1] FAILED 
	java.lang.RuntimeException: Could not launch intent Intent { act=android.intent.action.MAIN flg=0x14000000 cmp=fr.free.nrw.commons/.nearby.NearbyActivity } within 45 seconds. Perhaps the main thread has not gone idle within a reasonable amount of time? There could be an animation or something constantly repainting the screen. Or the activity is doing network calls on creation? See the threaddump logs. For your reference the last time the event queue was idle before your activity launch request was 1511464601042 and now the last time the queue went idle was: 1511464601042. If these numbers are the same your activity might be hogging the event queue.
	at android.support.test.runner.MonitoringInstrumentation.startActivitySync(MonitoringInstrumentation.java:419)
:app:connectedBetaDebugAndroidTest FAILED
FAILURE: Build failed with an exception.
* What went wrong:
Execution failed for task ':app:connectedBetaDebugAndroidTest'.
```

When I run the task `:app:connectedBetaDebugAndroidTest` locally, it succeeds for me. 

Can anyone help with this issue. @whym @psh ",https://github.com/commons-app/apps-android-commons/issues/978#issuecomment-346794902,"For me it was locally reproducible on API 24 emulator. It appears that NearbyActivity gets stuck with https://github.com/commons-app/apps-android-commons/commit/a61124a5802060338819b22c33a20ca475c8e582 when run with ""gradle connectedCheck -Dtest.single=fr.free.nrw.commons.NearbyActivityTest""

With https://github.com/commons-app/apps-android-commons/commit/21f08ae9862c5d3386de3ffaeffafce7e258365b it went through. (I needed to respond to the request for location permission manually.)

So probably it has to do with #975?"
commons-app/apps-android-commons,"Zooming/unzooming depends on where your two fingers are placed.

It is a bit difficult to explain, but if you think of an analog clock:
- Fingers at 12 and 6: Zooming works
- Fingers at 3 and 9: Zooming does not work",https://github.com/commons-app/apps-android-commons/issues/957#issuecomment-344188039,"This refers to the Nearby map, right?"
commons-app/apps-android-commons,"You can reproduce this bug by click to save button (tick) after taking photo on before Android 5.0. Error says
 `java.lang.SecurityException: Permission Denial: opening provider android.support.v4.content.FileProvider from ProcessRecord{42992670 2928:com.android.gallery3d/u0a52} (pid=2928, uid=10052) that is not exported from uid 10151`

",https://github.com/commons-app/apps-android-commons/issues/877#issuecomment-329790153,"By any chance, was the app running on a Stock Android device or was it a Xiaomi/OPPO/Huawei/Letv/non-stock android device?"
commons-app/apps-android-commons,"When uploading photos by ""send to"" Commons app the location template is not added although the GPS coordinates are contained in Exif. An example are my latest uploads i made into this category:
https://commons.wikimedia.org/wiki/Category:Kriegerdenkmal_auf_dem_Sperlingsberg_(Kapellendorf)",https://github.com/commons-app/apps-android-commons/issues/874#issuecomment-473859278,Is this problem still happening?
commons-app/apps-android-commons,"I am encountering the following crash when I deny the run-time permission for location access when I hit the NearbyActivity

`java.lang.RuntimeException: Failure delivering result ResultInfo{who=@android:requestPermissions:, request=1, result=-1, data=Intent { act=android.content.pm.action.REQUEST_PERMISSIONS (has extras) }} to activity {fr.free.nrw.commons/fr.free.nrw.commons.nearby.NearbyActivity}: java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
                                                                       at android.app.ActivityThread.deliverResults(ActivityThread.java:3699)
                                                                       at android.app.ActivityThread.handleSendResult(ActivityThread.java:3742)
                                                                       at android.app.ActivityThread.-wrap16(ActivityThread.java)
                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1393)
                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)
                                                                       at android.os.Looper.loop(Looper.java:148)
                                                                       at android.app.ActivityThread.main(ActivityThread.java:5417)
                                                                       at java.lang.reflect.Method.invoke(Native Method)
                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
                                                                    Caused by: java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
                                                                       at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1842)
                                                                       at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1860)
                                                                       at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:650)
                                                                       at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:609)
                                                                       at fr.free.nrw.commons.nearby.NearbyActivity.onRequestPermissionsResult(NearbyActivity.java:167)
                                                                       at android.app.Activity.dispatchRequestPermissionsResult(Activity.java:6553)
                                                                       at android.app.Activity.dispatchActivityResult(Activity.java:6432)
                                                                       at android.app.ActivityThread.deliverResults(ActivityThread.java:3695)
                                                                       at android.app.ActivityThread.handleSendResult(ActivityThread.java:3742)¬†
                                                                       at android.app.ActivityThread.-wrap16(ActivityThread.java)¬†
                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1393)¬†
                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)¬†
                                                                       at android.os.Looper.loop(Looper.java:148)¬†
                                                                       at android.app.ActivityThread.main(ActivityThread.java:5417)¬†
                                                                       at java.lang.reflect.Method.invoke(Native Method)¬†
                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)¬†
                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)¬†`

This is cause the app is trying to load the NoPermissionsFragment in the onRequestPermissionsResult, which I think should be fine but clearly its not cause it crashes every time. 

Secondly, launching a Fragment just to show a simple error message seems way too excessive. Personally, I would just show a dialog with the necessary error message along with 2 buttons, 1 with an ""OK"" text, clicking which would just close the activity and the other with a ""Retry"" text that would ask the run time permission again. 

What do you guys think? ",https://github.com/commons-app/apps-android-commons/issues/861#issuecomment-326884095,"@Bluesir9 Interesting, it crashes for you EVERY time? Just to be clear, which version are you testing - the production release, the beta release, or the current master branch?

Yeah, I was undecided on creating a whole new Fragment just for the error message, but the suggestions at #707 swayed me. :) I would personally not mind the use of a dialog instead. What do the others think?"
commons-app/apps-android-commons,"Android Version: 5.0

![output](https://user-images.githubusercontent.com/7512994/29413410-ed5c1eac-8379-11e7-86e5-03185e646eee.gif)

",https://github.com/commons-app/apps-android-commons/issues/848#issuecomment-323069129,"Hi @YDrall ,

Edit: Oh, sorry, I misinterpreted the animation. The issue here is that logging out takes you back to the contributions screen, yes?"
commons-app/apps-android-commons,"Not even a single picture from gallery is being uploaded. I have tried it several times but it appears to be failed every single time. The same problem is faced when I go to gallery and select this app to share. However, it works fine when I use camera to upload the picture.

Android version : 6.0.1
Device: Redmi

Logcat : 

```
08-01 18:52:40.330 25709-25709/? I/art: Late-enabling -Xcheck:jni
08-01 18:52:40.351 25709-25709/? D/TidaProvider: TidaProvider()
08-01 18:52:40.416 25709-25709/fr.free.nrw.commons W/System.err: java.io.FileNotFoundException: /jacoco.exec: open failed: EROFS (Read-only file system)
08-01 18:52:40.424 25709-25719/fr.free.nrw.commons W/art: Suspending all threads took: 7.767ms
08-01 18:52:40.426 25709-25709/fr.free.nrw.commons W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:452)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at java.io.FileOutputStream.<init>(FileOutputStream.java:87)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at org.jacoco.agent.rt.internal_b0d6a23.output.FileOutput.openFile(FileOutput.java:67)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at org.jacoco.agent.rt.internal_b0d6a23.output.FileOutput.startup(FileOutput.java:49)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at org.jacoco.agent.rt.internal_b0d6a23.Agent.startup(Agent.java:122)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at org.jacoco.agent.rt.internal_b0d6a23.Agent.getInstance(Agent.java:50)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at org.jacoco.agent.rt.internal_b0d6a23.Offline.<clinit>(Offline.java:31)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at fr.free.nrw.commons.CommonsApplication.$jacocoInit(CommonsApplication.java)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at fr.free.nrw.commons.CommonsApplication.<clinit>(CommonsApplication.java)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at java.lang.Class.newInstance(Native Method)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.Instrumentation.newApplication(Instrumentation.java:997)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.Instrumentation.newApplication(Instrumentation.java:982)
08-01 18:52:40.427 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.LoadedApk.makeApplication(LoadedApk.java:575)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4695)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.ActivityThread.access$1600(ActivityThread.java:153)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1412)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.os.Looper.loop(Looper.java:148)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5438)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at java.lang.reflect.Method.invoke(Native Method)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:738)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:628)
08-01 18:52:40.428 25709-25709/fr.free.nrw.commons W/System.err: Caused by: android.system.ErrnoException: open failed: EROFS (Read-only file system)
08-01 18:52:40.434 25709-25719/fr.free.nrw.commons I/art: Background partial concurrent mark sweep GC freed 23969(1261KB) AllocSpace objects, 0(0B) LOS objects, 40% free, 13MB/21MB, paused 9.887ms total 24.576ms
08-01 18:52:40.433 25709-25709/fr.free.nrw.commons W/System.err:     at libcore.io.Posix.open(Native Method)
08-01 18:52:40.435 25709-25709/fr.free.nrw.commons W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)
08-01 18:52:40.435 25709-25709/fr.free.nrw.commons W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:438)
08-01 18:52:40.435 25709-25709/fr.free.nrw.commons W/System.err: 	... 21 more
08-01 18:52:40.473 25709-25738/fr.free.nrw.commons I/stetho: Listening on @stetho_fr.free.nrw.commons_devtools_remote
08-01 18:52:40.576 25709-25709/fr.free.nrw.commons V/BoostFramework: mAcquireFunc method = public int com.qualcomm.qti.Performance.perfLockAcquire(int,int[])
08-01 18:52:40.576 25709-25709/fr.free.nrw.commons V/BoostFramework: mReleaseFunc method = public int com.qualcomm.qti.Performance.perfLockRelease()
08-01 18:52:40.576 25709-25709/fr.free.nrw.commons V/BoostFramework: mAcquireTouchFunc method = public int com.qualcomm.qti.Performance.perfLockAcquireTouch(android.view.MotionEvent,android.util.DisplayMetrics,int,int[])
08-01 18:52:40.576 25709-25709/fr.free.nrw.commons V/BoostFramework: mIOPStart method = public int com.qualcomm.qti.Performance.perfIOPrefetchStart(int,java.lang.String)
08-01 18:52:40.576 25709-25709/fr.free.nrw.commons V/BoostFramework: mIOPStop method = public int com.qualcomm.qti.Performance.perfIOPrefetchStop()
08-01 18:52:40.580 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@ec18052
08-01 18:52:40.580 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@ee8cf23
08-01 18:52:40.613 25709-25709/fr.free.nrw.commons W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable
08-01 18:52:40.711 25709-25709/fr.free.nrw.commons I/Timeline: Timeline: Activity_launch_request time:148868369
08-01 18:52:40.725 25709-25709/fr.free.nrw.commons D/ActivityThreadInjector: clearCachedDrawables.
08-01 18:52:40.766 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@50def7d
08-01 18:52:40.766 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@d953e72
08-01 18:52:40.766 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@fbe82c3
08-01 18:52:40.767 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@5c74740
08-01 18:52:40.769 25709-25709/fr.free.nrw.commons I/AppCompatViewInflater: app:theme is now deprecated. Please move to using android:theme instead.
08-01 18:52:40.799 25709-25709/fr.free.nrw.commons D/ContributionsListFragme: Last Sync Timestamp: 2017-08-01T13:19:20Z
08-01 18:52:40.810 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@b76d346
08-01 18:52:40.810 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@41b7907
08-01 18:52:40.856 25709-25783/fr.free.nrw.commons D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true
08-01 18:52:40.865 25709-25709/fr.free.nrw.commons D/ActivityThreadInjector: clearCachedDrawables.
08-01 18:52:40.898 25709-25783/fr.free.nrw.commons I/Adreno: QUALCOMM build                   : 9e169a6, Ic7d72507eb
                                                             Build Date                       : 09/15/16
                                                             OpenGL ES Shader Compiler Version: XE031.08.00.00
                                                             Local Branch                     : 
                                                             Remote Branch                    : 
                                                             Remote Branch                    : 
                                                             Reconstruct Branch               : 
08-01 18:52:40.926 25709-25783/fr.free.nrw.commons I/OpenGLRenderer: Initialized EGL, version 1.4
08-01 18:52:41.026 25709-25709/fr.free.nrw.commons W/PathParser: Points are too far apart 4.000000596046461
08-01 18:52:41.255 25709-25709/fr.free.nrw.commons D/UploadService: Set 0 uploads to failed
08-01 18:52:41.256 25709-25709/fr.free.nrw.commons D/UploadService: Flags is 0 id is 1
08-01 18:52:41.349 25709-25709/fr.free.nrw.commons W/InputMethodManager: Ignoring onBind: cur seq=11028, given seq=11027
08-01 18:52:41.358 25709-25851/fr.free.nrw.commons D/ContributionsSyncAdapte: Max number of uploads set to 500
08-01 18:52:42.322 25709-25851/fr.free.nrw.commons D/ApacheHttpClientMediaWi: 0 results!
08-01 18:52:42.329 25709-25851/fr.free.nrw.commons D/ContributionsSyncAdapte: Last modified at 2017-08-01T13:19:20Z
08-01 18:52:42.329 25709-25851/fr.free.nrw.commons D/ContributionsSyncAdapte: 0 results!
08-01 18:52:42.332 25709-25851/fr.free.nrw.commons D/ContributionsSyncAdapte: Oh hai, everyone! Look, a kitty!
08-01 18:52:43.909 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 39 frames!  The application may be doing too much work on its main thread.
08-01 18:52:44.593 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 36 frames!  The application may be doing too much work on its main thread.
08-01 18:52:45.209 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 36 frames!  The application may be doing too much work on its main thread.
08-01 18:52:46.768 25709-25736/fr.free.nrw.commons I/art: Starting a blocking GC Explicit
08-01 18:52:46.789 25709-25736/fr.free.nrw.commons I/art: Explicit concurrent mark sweep GC freed 1446(229KB) AllocSpace objects, 6(120KB) LOS objects, 12% free, 116MB/132MB, paused 418us total 20.458ms
08-01 18:52:46.910 25709-25736/fr.free.nrw.commons D/LeakCanary: Removing 1 heap dumps
08-01 18:52:46.972 25709-25736/fr.free.nrw.commons I/art: hprof: heap dump ""/storage/emulated/0/Download/leakcanary-fr.free.nrw.commons/b9940738-3821-4cee-8406-ad23a88f6f1d_pending.hprof"" starting...
08-01 18:52:50.066 25709-25736/fr.free.nrw.commons I/art: hprof: heap dump completed (129MB) in 3.093s
08-01 18:52:50.731 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@b314e9a
08-01 18:52:50.804 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@122e654
08-01 18:52:50.804 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@701d9fd
08-01 18:52:50.836 25709-25709/fr.free.nrw.commons D/MediaDetailFragment: MediaDetailFragment ready to display details
08-01 18:52:50.842 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@a9718f9
08-01 18:52:50.842 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@587b03e
08-01 18:52:50.851 25709-25709/fr.free.nrw.commons D/MediaDetailFragment: MediaDetailFragment ready to display details
08-01 18:52:51.472 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 38 frames!  The application may be doing too much work on its main thread.
08-01 18:52:51.589 25709-25929/fr.free.nrw.commons D/MediaDataExtractor: MediaDataExtractor searching for license
08-01 18:52:51.673 25709-25928/fr.free.nrw.commons D/MediaDataExtractor: MediaDataExtractor searching for license
08-01 18:52:52.224 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 44 frames!  The application may be doing too much work on its main thread.
08-01 18:52:52.256 25709-25709/fr.free.nrw.commons D/MediaDetailFragment: Media license is: CC BY-SA 3.0
08-01 18:52:52.263 25709-25709/fr.free.nrw.commons D/MediaDetailFragment: Media license is: CC BY-SA 3.0
08-01 18:52:53.350 25709-25709/fr.free.nrw.commons D/ContributionsActivity: Restarting for creator=Nb2998 source=gallery height=0 state=2 timestamp=1501350809958 license=CC BY-SA 3.0 image_url=https://upload.wikimedia.org/wikipedia/commons/d/d0/Sunset description= filename=Sunset length=4135457 width=0 local_uri=file:///storage/emulated/0/DCIM/Camera/IMG_20170723_215305.jpg multiple=0 transferred=0
08-01 18:52:53.357 25709-25842/fr.free.nrw.commons D/UploadService: Before execution!
08-01 18:52:53.421 25709-25715/fr.free.nrw.commons W/art: Suspending all threads took: 9.356ms
08-01 18:52:53.434 25709-25842/fr.free.nrw.commons D/UploadService: making sure of uniqueness of name: Sunset
08-01 18:52:54.179 25709-25842/fr.free.nrw.commons D/UploadService: Successfully revalidated token!
08-01 18:52:54.578 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 124538 of 4137159
08-01 18:52:54.594 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 251514 of 4137159
08-01 18:52:55.983 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 378490 of 4137159
08-01 18:52:56.512 25709-25719/fr.free.nrw.commons I/art: Background sticky concurrent mark sweep GC freed 1165(163KB) AllocSpace objects, 4(80KB) LOS objects, 0% free, 117MB/117MB, paused 5.516ms total 48.032ms
08-01 18:52:57.225 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 505466 of 4137159
08-01 18:52:59.636 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 632442 of 4137159
08-01 18:53:00.123 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 30 frames!  The application may be doing too much work on its main thread.
08-01 18:53:01.000 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 759418 of 4137159
08-01 18:53:02.201 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 886394 of 4137159
08-01 18:53:03.399 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1013370 of 4137159
08-01 18:53:04.622 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1140346 of 4137159
08-01 18:53:05.829 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1267322 of 4137159
08-01 18:53:08.286 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1394298 of 4137159
08-01 18:53:09.484 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1521274 of 4137159
08-01 18:53:10.674 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1648250 of 4137159
08-01 18:53:11.864 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1775226 of 4137159
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: In fr.free.nrw.commons:2.5.0:74.
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * fr.free.nrw.commons.auth.LoginActivity has leaked:
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * GC ROOT android.os.MessageQueue.mMessages
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * references android.os.Message.callback
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * references android.widget.Editor$Blink.this$0
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * references android.widget.Editor.mTextView
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * references android.support.design.widget.TextInputEditText.mContext
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * leaks fr.free.nrw.commons.auth.LoginActivity instance
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * Retaining: 3.2 KB.
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * Reference Key: 34126c9b-985f-4594-ade9-39c89746c4b9
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * Device: Xiaomi xiaomi Redmi Note 4 mido
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * Android Version: 6.0.1 API: 23 LeakCanary: 1.5.1 1be44b3
08-01 18:53:12.526 25709-26620/fr.free.nrw.commons D/LeakCanary: * Durations: watch=5008ms, gc=122ms, heap dump=3224ms, analysis=22164ms
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: * Details:
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of android.os.MessageQueue
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static $staticOverhead = byte[16]@1884758241 (0x705720e1)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static DEBUG = false
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static TAG = java.lang.String@1880609496 (0x7017d2d8)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBlocked = true
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFileDescriptorRecords = null
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIdleHandlers = java.util.ArrayList@315854656 (0x12d38f40)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMessages = android.os.Message@318234496 (0x12f7df80)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextBarrierToken = 47
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPendingIdleHandlers = android.os.MessageQueue$IdleHandler[4]@320213664 (0x131612a0)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPtr = 367757438320
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mQuitAllowed = false
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mQuitting = false
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = android.os.MessageQueue
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 1073742678
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of android.os.Message
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static sPoolSync = java.lang.Object@1883312264 (0x70411088)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static FLAG_IN_USE = 1
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static sPool = android.os.Message@318829888 (0x1300f540)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static gCheckRecycle = true
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static MAX_POOL_SIZE = 50
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static FLAG_ASYNCHRONOUS = 2
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static $staticOverhead = byte[72]@1886137409 (0x706c2c41)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static CREATOR = android.os.Message$1@1883312272 (0x70411090)
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static FLAGS_TO_CLEAR_ON_COPY_FROM = 1
08-01 18:53:12.527 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static sPoolSize = 15
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   arg1 = 0
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   arg2 = 0
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   callback = android.widget.Editor$Blink@316257632 (0x12d9b560)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   data = null
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   flags = 1
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   next = android.os.Message@315881088 (0x12d3f680)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   obj = null
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   replyTo = null
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   sendingUid = -1
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   target = android.widget.Editor$Blink@316257632 (0x12d9b560)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   what = 0
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   when = 148874868
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = android.os.Message
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 0
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of android.widget.Editor$Blink
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCancelled = false
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   this$0 = android.widget.Editor@315206944 (0x12c9ad20)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAsynchronous = false
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCallback = null
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLooper = android.os.Looper@315854624 (0x12d38f20)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMessenger = null
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mQueue = android.os.MessageQueue@315868880 (0x12d3c6d0)
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = android.widget.Editor$Blink
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 0
08-01 18:53:12.528 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of android.widget.Editor
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static DRAG_SHADOW_MAX_TEXT_LENGTH = 20
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static LINE_SLOP_MULTIPLIER_FOR_HANDLEVIEWS = 0.5
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static UNDO_OWNER_TAG = java.lang.String@1881461696 (0x7024d3c0)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static EXTRACT_NOTHING = -2
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static TEMP_POSITION = float[2]@1883494288 (0x7043d790)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static EXTRACT_UNKNOWN = -1
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static DEBUG_UNDO = false
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static BLINK = 500
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static UNSET_LINE = -1
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static $staticOverhead = byte[88]@1886226945 (0x706d8a01)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static mMockActionMode = android.widget.Editor$2@1883494312 (0x7043d7a8)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static TAG = java.lang.String@1881461696 (0x7024d3c0)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAllowUndo = true
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBlink = android.widget.Editor$Blink@316257632 (0x12d9b560)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCorrectionHighlighter = null
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCreatedWithASelection = false
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCursorCount = 0
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCursorDrawable = android.graphics.drawable.Drawable[2]@316256736 (0x12d9b1e0)
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCursorVisible = true
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCustomInsertionActionModeCallback = null
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCustomSelectionActionModeCallback = null
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDiscardNextActionUp = false
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDoubleTap = false
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mError = null
08-01 18:53:12.529 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mErrorPopup = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mErrorWasChanged = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFirstTouchUp = true
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFrozenWithFocus = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIgnoreActionUpEvent = true
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInBatchEditControllers = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInputContentType = android.widget.Editor$InputContentType@316210288 (0x12d8fc70)
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInputMethodState = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInputType = 524289
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInsertionControllerEnabled = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInsertionPointCursorController = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIsInsertionActionModeStartPending = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mKeyListener = android.text.method.TextKeyListener@316256768 (0x12d9b200)
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastDownPositionX = 0.0
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastDownPositionY = 0.0
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPositionListener = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPreserveDetachedSelection = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mProcessTextIntentActionsHandler = android.widget.Editor$ProcessTextIntentActionsHandler@316151056 (0x12d81510)
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectAllOnFocus = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectHandleCenter = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectHandleLeft = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectHandleRight = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectionControllerEnabled = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectionModifierCursorController = null
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSelectionMoved = false
08-01 18:53:12.530 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShowCursor = 148868319
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShowErrorAfterAttach = false
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShowSoftInputOnFocus = true
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShowSuggestionRunnable = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSpanController = android.widget.Editor$SpanController@316256960 (0x12d9b2c0)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSpellChecker = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSuggestionRangeSpan = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSuggestionsPopupWindow = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTempRect = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTemporaryDetach = false
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextActionMode = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextIsSelectable = false
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextRenderNodes = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextView = android.support.design.widget.TextInputEditText@316115968 (0x12d78c00)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTouchFocusSelected = true
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUndoInputFilter = android.widget.Editor$UndoInputFilter@316151040 (0x12d81500)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUndoManager = android.content.UndoManager@316037696 (0x12d65a40)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUndoOwner = android.content.UndoOwner@316256704 (0x12d9b1c0)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mWordIterator = null
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = android.widget.Editor
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 0
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of android.support.design.widget.TextInputEditText
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackgroundTintHelper = android.support.v7.widget.AppCompatBackgroundHelper@316257472 (0x12d9b4c0)
08-01 18:53:12.531 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextHelper = android.support.v7.widget.AppCompatTextHelperV17@316210816 (0x12d8fe80)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAllowTransformationLengthChange = false
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAutoLinkMask = 0
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBoring = null
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBreakStrategy = 0
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBufferType = android.widget.TextView$BufferType@1883451400 (0x70433008)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mChangeWatcher = android.widget.TextView$ChangeWatcher@316151136 (0x12d81560)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCharWrapper = null
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCurHintTextColor = -2130706433
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCurTextColor = -1
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCurrentSpellCheckerLocaleCache = null
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCursorDrawableRes = 17303290
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDeferScroll = -1
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDesiredHeightAtMeasure = -1
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDispatchTemporaryDetach = false
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDrawables = null
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEditableFactory = android.text.Editable$Factory@1883313200 (0x70411430)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEditor = android.widget.Editor@315206944 (0x12c9ad20)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEllipsize = null
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFilters = android.text.InputFilter[0]@1968064160 (0x754e46a0)
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFirstTouch = false
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFreezesText = false
08-01 18:53:12.532 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mGravity = 8388627
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHighlightColor = 1719716804
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHighlightPaint = android.graphics.Paint@317049632 (0x12e5cb20)
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHighlightPath = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHighlightPathBogus = true
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHint = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHintBoring = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHintLayout = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHintTextColor = android.content.res.ColorStateList@315382800 (0x12cc5c10)
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHorizontallyScrolling = true
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHyphenationFrequency = 1
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIncludePad = true
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastLayoutDirection = -1
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastScroll = 0
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastTouchUpTime = 0
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLayout = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLinkTextColor = android.content.res.ColorStateList@315382848 (0x12cc5c40)
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLinksClickable = true
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mListeners = java.util.ArrayList@316257728 (0x12d9b5c0)
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLocaleChanged = false
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMarquee = null
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMarqueeFadeMode = 0
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMarqueeRepeatLimit = 3
08-01 18:53:12.533 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMaxMode = 1
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMaxWidth = 2147483647
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMaxWidthMode = 2
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMaximum = 1
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinMode = 1
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinWidth = 0
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinWidthMode = 2
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinimum = 1
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMovement = android.text.method.ArrowKeyMovementMethod@316150816 (0x12d81420)
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOldMaxMode = 1
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOldMaximum = 2147483647
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPreDrawListenerDetached = false
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPreDrawRegistered = true
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPreventDefaultMovement = false
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mRestartMarquee = false
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSavedHintLayout = null
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSavedLayout = null
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSavedMarqueeModeLayout = null
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mScroller = null
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShadowColor = 0
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShadowDx = 0.0
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShadowDy = 0.0
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mShadowRadius = 0.0
08-01 18:53:12.534 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSingleLine = true
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSpacingAdd = 0.0
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSpacingMult = 1.0
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSpannableFactory = android.text.Spannable$Factory@1883447064 (0x70431f18)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTempRect = null
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTemporaryDetach = false
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mText = android.text.SpannableStringBuilder@316037952 (0x12d65b40)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextColor = android.content.res.ColorStateList@316210240 (0x12d8fc40)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextDir = null
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextEditSuggestionItemLayout = 17367290
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextPaint = android.text.TextPaint@315981152 (0x12d57d60)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextSelectHandleLeftRes = 17303295
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextSelectHandleRes = 17303298
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTextSelectHandleRightRes = 17303301
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTransformation = android.text.method.SingleLineTransformationMethod@316151072 (0x12d81520)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTransformed = android.text.method.ReplacementTransformationMethod$SpannedReplacementCharSequence@316257216 (0x12d9b3c0)
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserSetTextScaleX = false
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccessibilityCursorPosition = -1
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccessibilityDelegate = null
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccessibilityTraversalAfterId = -1
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccessibilityTraversalBeforeId = -1
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccessibilityViewId = -1
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAnimator = null
08-01 18:53:12.535 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAttachInfo = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAttributes = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackground = android.graphics.drawable.InsetDrawable@316037184 (0x12d65840)
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackgroundRenderNode = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackgroundResource = 0
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackgroundSizeChanged = true
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBackgroundTint = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBottom = 0
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCachingFailed = false
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mClipBounds = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mContentDescription = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mContext = fr.free.nrw.commons.auth.LoginActivity@315593728 (0x12cf9400)
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCurrentAnimation = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDrawableState = int[2]@1883453824 (0x70433980)
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDrawingCache = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDrawingCacheBackgroundColor = 0
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFloatingTreeObserver = android.view.ViewTreeObserver@316037824 (0x12d65ac0)
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mForegroundInfo = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mGhostView = null
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHapticEnabledExplicitly = false
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHasPerformedLongPress = false
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mID = 2131689608
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIgnoreNextUpEvent = false
08-01 18:53:12.536 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInContextButtonPress = false
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInputEventConsistencyVerifier = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mKeyedTags = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLabelForId = -1
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastIsOpaque = false
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLayerPaint = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLayerType = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLayoutInsets = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLayoutParams = android.widget.FrameLayout$LayoutParams@316038080 (0x12d65bc0)
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLeft = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLeftPaddingDefined = false
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mListenerInfo = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMatchIdPredicate = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMatchLabelForPredicate = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMeasureCache = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMeasuredHeight = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMeasuredWidth = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinHeight = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMinWidth = 0
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNestedScrollingParent = null
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextFocusDownId = -1
08-01 18:53:12.537 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextFocusForwardId = -1
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextFocusLeftId = -1
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextFocusRightId = -1
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mNextFocusUpId = -1
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOldHeightMeasureSpec = -2147483648
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOldWidthMeasureSpec = -2147483648
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOutlineProvider = android.view.ViewOutlineProvider$1@1883451096 (0x70432ed8)
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOverScrollMode = 1
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOverlay = null
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPaddingBottom = 33
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPaddingLeft = 12
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPaddingRight = 12
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPaddingTop = 30
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mParent = android.widget.FrameLayout@316058624 (0x12d6ac00)
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPendingCheckForLongPress = null
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPendingCheckForTap = null
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPerformClick = null
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPrivateFlags = -2130702334
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPrivateFlags2 = 1188872
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mPrivateFlags3 = 16
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mRecreateDisplayList = false
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mRenderNode = android.view.RenderNode@316155296 (0x12d825a0)
08-01 18:53:12.538 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResources = android.content.res.MiuiResources@315856640 (0x12d39700)
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mRight = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mRightPaddingDefined = false
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mScrollCache = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mScrollIndicatorDrawable = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mScrollX = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mScrollY = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSendViewScrolledAccessibilityEvent = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSendViewStateChangedAccessibilityEvent = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSendingHoverAccessibilityEvents = false
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mStartActivityRequestWho = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mStateListAnimator = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSystemUiVisibility = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTag = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTempNestedScrollConsumed = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTop = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTouchDelegate = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTouchSlop = 24
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTransformationInfo = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTransientStateCount = 0
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTransitionName = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUnscaledDrawingCache = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUnsetPressedState = null
08-01 18:53:12.539 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingBottom = 33
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingEnd = -2147483648
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingLeft = 12
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingLeftInitial = 12
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingRight = 12
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingRightInitial = 12
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUserPaddingStart = -2147483648
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVerticalScrollFactor = 0.0
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVerticalScrollbarPosition = 0
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mViewFlags = 405028865
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mWindowAttachCount = 0
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = android.support.design.widget.TextInputEditText
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 0
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: * Instance of fr.free.nrw.commons.auth.LoginActivity
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static $staticOverhead = byte[16]@315273217 (0x12cab001)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static $jacocoData = boolean[77]@315710240 (0x12d15b20)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   static PARAM_USERNAME = java.lang.String@315710048 (0x12d15a60)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   app = fr.free.nrw.commons.CommonsApplication@315929664 (0x12d4b440)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   loginButton = android.widget.Button@317168640 (0x12e79c00)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   passwordEdit = android.support.design.widget.TextInputEditText@317159424 (0x12e77800)
08-01 18:53:12.540 25709-26620/fr.free.nrw.commons D/LeakCanary: |   prefs = android.app.SharedPreferencesImpl@317285120 (0x12e96300)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   progressDialog = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   textWatcher = fr.free.nrw.commons.auth.LoginActivity$LoginTextWatcher@316022224 (0x12d61dd0)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   twoFactorEdit = android.support.design.widget.TextInputEditText@317167616 (0x12e79800)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   usernameEdit = android.support.design.widget.TextInputEditText@316115968 (0x12d78c00)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mAccountAuthenticatorResponse = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResultBundle = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mActionBar = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mActionModeTypeStarting = 0
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mActivityInfo = android.content.pm.ActivityInfo@315892224 (0x12d42200)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mActivityTransitionState = android.app.ActivityTransitionState@314607680 (0x12c08840)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mApplication = fr.free.nrw.commons.CommonsApplication@315929664 (0x12d4b440)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCalled = true
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mChangeCanvasToTranslucent = false
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mChangingConfigurations = false
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mComponent = android.content.ComponentName@315699376 (0x12d130b0)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mConfigChangeFlags = 0
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mCurrentConfig = android.content.res.Configuration@317053856 (0x12e5dba0)
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDecor = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDefaultKeyMode = 0
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDefaultKeySsb = null
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDestroyed = true
08-01 18:53:12.541 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mDoReportFullyDrawn = false
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEmbeddedID = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEnableDefaultActionBarUp = false
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mEnterTransitionListener = android.app.SharedElementCallback$1@1883286320 (0x7040ab30)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mExitTransitionListener = android.app.SharedElementCallback$1@1883286320 (0x7040ab30)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFinished = true
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mFragments = android.app.FragmentController@316022192 (0x12d61db0)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHandler = android.os.Handler@316885056 (0x12e34840)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mHasCurrentPermissionsRequest = false
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIdent = 125258870
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInstanceTracker = android.os.StrictMode$InstanceTracker@316022208 (0x12d61dc0)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInstrumentation = android.app.Instrumentation@315900960 (0x12d44420)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mIntent = android.content.Intent@315885136 (0x12d40650)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mLastNonConfigurationInstances = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMainThread = android.app.ActivityThread@316196032 (0x12d8c4c0)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mManagedCursors = java.util.ArrayList@316885120 (0x12e34880)
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mManagedDialogs = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mMenuInflater = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mParent = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mReferrer = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResultCode = 0
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResultData = null
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResumed = false
08-01 18:53:12.542 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSearchEvent = null
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mSearchManager = null
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mStartedActivity = false
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mStopped = true
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTemporaryPause = false
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTitle = java.lang.String@315303168 (0x12cb2500)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTitleColor = 0
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTitleReady = true
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mToken = android.os.BinderProxy@315692416 (0x12d11580)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTranslucentCallback = null
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mUiThread = java.lang.Thread@1967677344 (0x75485fa0)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVisibleBehind = false
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVisibleFromClient = true
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVisibleFromServer = false
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mVoiceInteractor = null
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mWindow = com.android.internal.policy.MiuiPhoneWindow@317084736 (0x12e65440)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mWindowAdded = false
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mWindowManager = android.view.WindowManagerImpl@315303712 (0x12cb2720)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mInflater = com.android.internal.policy.PhoneLayoutInflater@315877312 (0x12d3e7c0)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mOverrideConfiguration = null
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mResources = android.content.res.MiuiResources@315856640 (0x12d39700)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mTheme = android.content.res.Resources$Theme@315303744 (0x12cb2740)
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mThemeResource = 2131362069
08-01 18:53:12.543 25709-26620/fr.free.nrw.commons D/LeakCanary: |   mBase = android.app.ContextImpl@316146304 (0x12d80280)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_klass_ = fr.free.nrw.commons.auth.LoginActivity
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: |   shadow$_monitor_ = 1073743046
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: * Excluded Refs:
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.view.inputmethod.InputMethodManager.mNextServedView
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.view.inputmethod.InputMethodManager.mServedView
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.view.inputmethod.InputMethodManager.mServedInputConnection
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.view.inputmethod.InputMethodManager.mCurRootView
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.os.UserManager.mContext
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.net.ConnectivityManager.sInstance
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Field: android.view.Choreographer$FrameDisplayEventReceiver.mMessageQueue (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Thread:FinalizerWatchdogDaemon (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Thread:main (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Thread:LeakCanary-Heap-Dump (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Class:java.lang.ref.WeakReference (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Class:java.lang.ref.SoftReference (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Class:java.lang.ref.PhantomReference (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Class:java.lang.ref.Finalizer (always)
08-01 18:53:12.544 25709-26620/fr.free.nrw.commons D/LeakCanary: | Class:java.lang.ref.FinalizerReference (always)
08-01 18:53:13.078 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 1902202 of 4137159
08-01 18:53:14.120 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2029178 of 4137159
08-01 18:53:14.168 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2156154 of 4137159
08-01 18:53:15.875 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2283130 of 4137159
08-01 18:53:17.612 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2410106 of 4137159
08-01 18:53:19.328 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2537082 of 4137159
08-01 18:53:20.782 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2664058 of 4137159
08-01 18:53:20.827 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2791034 of 4137159
08-01 18:53:20.856 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 2918010 of 4137159
08-01 18:53:25.338 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3044986 of 4137159
08-01 18:53:28.766 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3171962 of 4137159
08-01 18:53:28.808 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3298938 of 4137159
08-01 18:53:28.962 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3425914 of 4137159
08-01 18:53:28.978 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3552890 of 4137159
08-01 18:53:52.728 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3679866 of 4137159
08-01 18:53:52.800 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3806842 of 4137159
08-01 18:53:52.881 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 3933818 of 4137159
08-01 18:53:52.909 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 4060794 of 4137159
08-01 18:53:55.280 25709-25842/fr.free.nrw.commons D/UploadService$Notificat: Uploaded 4137159 of 4137159
08-01 18:54:02.307 25709-25842/fr.free.nrw.commons E/WTF: Result: org.mediawiki.api.ApiResult@4067e60
08-01 18:54:02.333 25709-25842/fr.free.nrw.commons D/UploadService: Response is fr.free.nrw.commons.mwapi.UploadResult@f853f19
08-01 18:54:02.972 25709-27632/fr.free.nrw.commons D/ModificationsSyncAdapte: Found 3 modifications to execute
08-01 18:54:03.262 25709-25927/fr.free.nrw.commons D/ApacheHttpClientMediaWi: EventLog hit https://www.wikimedia.org/beacon/event?%7B%22schema%22%3A%22MobileAppUploadAttempts%22%2C%22revision%22%3A5334329%2C%22wiki%22%3A%22commonswiki%22%2C%22event%22%3A%7B%22username%22%3A%22Nb2998%22%2C%22source%22%3A%22gallery%22%2C%22multiple%22%3Afalse%2C%22result%22%3A%22fileexists-forbidden%22%2C%22filename%22%3A%22Sunset%22%2C%22device%22%3A%22Xiaomi+Redmi+Note+4%22%2C%22platform%22%3A%22Android%5C%2F6.0.1%22%2C%22appversion%22%3A%22Android%5C%2F2.5.0%22%7D%7D;
08-01 18:54:09.078 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 31 frames!  The application may be doing too much work on its main thread.
08-01 18:54:09.781 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 39 frames!  The application may be doing too much work on its main thread.
08-01 18:54:14.376 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@14cd8af
08-01 18:54:14.376 25709-25709/fr.free.nrw.commons V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@e17c4bc
08-01 18:54:14.376 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 39 frames!  The application may be doing too much work on its main thread.
08-01 18:54:15.450 25709-25709/fr.free.nrw.commons I/Choreographer: Skipped 42 frames!  The application may be doing too much work on its main thread.
```",https://github.com/commons-app/apps-android-commons/issues/827#issuecomment-320957705,"> 08-01 18:52:40.416 25709-25709/fr.free.nrw.commons W/System.err: java.io.FileNotFoundException: /jacoco.exec: open failed: EROFS (Read-only file system)

This seems to be related to the jacoco-android plugin and codecov.

> The same problem is faced when I go to gallery and select this app to share. However, it works fine when I use camera to upload the picture.

This seems to indicate that it is related to permissions. Does the app have the storage permission? Were you ask to give it? (You should have, if the app worked as expected.)
"
commons-app/apps-android-commons,"While debugging one of my own apps I noticed that Commons app (still running in the background from earlier) includes Stetho and is therefore debuggable using the Chrome Dev Tools.

The only mentions of this I found were [the PR that added this](https://github.com/commons-app/apps-android-commons/pull/594) and [the wiki](https://github.com/commons-app/apps-android-commons/wiki) Home page:

> Viewing tables and shared preferences via debugging with Stetho: Run in debug mode, go to browser, chrome://inspect/#device, select inspect device, Resources tab.

This seems neat. Can someone explain a bit more about its usage, @maskaravivek maybe?

(I would like to add this to the documentation and expand that one sentence on the Wiki home)",https://github.com/commons-app/apps-android-commons/issues/813#issuecomment-318749720,"I myself don't understand your question. Sounds like you are asking [how to use Stetho](https://github.com/facebook/stetho) in the form of [a tutorial](https://code.tutsplus.com/tutorials/debugging-android-apps-with-facebooks-stetho--cms-24205), which is actually explained in your own question: `Run in debug mode, go to browser, chrome://inspect/#device, select inspect device, Resources tab`

Am I missing something here?"
commons-app/apps-android-commons,"When you take a picture from the ""Take a picture"" action, the file will be stored in cache. You will not be able to retrieve it later from there. If you interrupt or cancel the upload procedure (by pressing the back button or killing the app) and fail to complete, the file will be lost.

(This was different before #727 - the file was to be stored in external storage immediately. However I don't think it's wise to simply go back to using external storage unconditionally.)

Here is how I think it should work:

- Warn that the file is being lost before letting it happen.
- Show an option to save it (and to do so, request for external storage permission if not given yet).

I think at least the warning should be added before the next release.
",https://github.com/commons-app/apps-android-commons/issues/812#issuecomment-318616835,"I kind of expected the picture to appear in my gallery after I took it, no matter what happens with it in the app. (But I am an iOS user mainly...) Is this done differently in Android by default?"
commons-app/apps-android-commons,"Currently sometimes images get cropped out in the main screen. (left in the mock up below) They should be shrunken and centered instead. (right)

![untitled](https://user-images.githubusercontent.com/10674/28487270-31ff81be-6ec8-11e7-9ee3-7832003dca18.png)

This was pointed out at https://github.com/commons-app/apps-android-commons/pull/738#pullrequestreview-46125017 by @misaochan. It sounded like older versions of the app did that shrinking, so chances are that we need to debug something instead of doing something new.
",https://github.com/commons-app/apps-android-commons/issues/804#issuecomment-317156251,"@whym This can be adjusted by setting the image to ImageView dynamically using the java code by maintaining the aspect ratio of the image. Can I work on this issue ?
"
commons-app/apps-android-commons,"1. Start Android gallery
2. Send a pic to Commons
3. Fill title/description, press OK
4. Fill categories, press OK
5. Window disappears, I am shown my home screen

Most of the time at step 5 I am sent back to the gallery, I think.
Log:
```
07-01 18:27:37.261   483   513 W OpenGLRenderer: Bitmap too large to be uploaded into a texture (4608x3456, max=4096x4096)
07-01 18:27:37.394   915   925 I art     : Background partial concurrent mark sweep GC freed 26605(1368KB) AllocSpace objects, 10(1464KB) LOS objects, 29% free, 37MB/53MB, paused 2.614ms total 195.285ms
07-01 18:27:37.396  1999  2233 I Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: QUALCOMM Build: 10/21/15, 369a2ea, I96aee987eb
07-01 18:27:37.396  1999  2233 I OpenGLRenderer: Initialized EGL, version 1.4
07-01 18:27:37.506  1910 19392 E libprotobuf-native: [libprotobuf ERROR third_party/protobuf/src/google/protobuf/message_lite.cc:121] Can't parse message of type ""mozc.commands.Command"" because it is missing required fields: output
07-01 18:27:37.508   483   557 D EventLog$LogTask: EventLog hit https://www.wikimedia.org/beacon/event?%7B%22schema%22%3A%22MobileAppCategorizationAttempts%22%2C%22revision%22%3A5359208%2C%22wiki%22%3A%22commonswiki%22%2C%22event%22%3A%7B%22username%22%3A%22Tyuvc%22%2C%22categories-count%22%3A2%2C%22files-count%22%3A1%2C%22source%22%3A%22external%22%2C%22result%22%3A%22queued%22%2C%22device%22%3A%22LGE+Nexus+5%22%2C%22platform%22%3A%22Android%5C%2F6.0.1%22%2C%22appversion%22%3A%22Android%5C%2F2.4.2%22%7D%7D;
07-01 18:27:37.604  1999  2233 V RenderScript: 0xa095a000 Launching thread(s), CPUs 4
07-01 18:27:37.715   483   513 D OpenGLRenderer: endAllStagingAnimators on 0x9df88780 (RippleDrawable) with handle 0x9c97c020
07-01 18:27:38.145  1999  2233 W OpenGLRenderer: Incorrectly called buildLayer on View: ex, destroying layer...
07-01 18:27:38.145  1999  2233 W OpenGLRenderer: Incorrectly called buildLayer on View: ex, destroying layer...
```
Not really a problem but being back to the gallery is more convenient.",https://github.com/commons-app/apps-android-commons/issues/757#issuecomment-312644010,"Wow, interesting. I've never had this happen. Could you paste a longer section of the logs if possible?"
commons-app/apps-android-commons,"From time to time (like every 5/10 pictures):

- From Android's gallery I send a picture to Commons
- The usual title/description/license UI does not appear. Only the background image is visible
- Touching the screen has no effect

Swiping the app from the apps list is not enough (the same problem still happens when retrying), only force-stopping from the Android settings and retrying solves the problem.",https://github.com/commons-app/apps-android-commons/issues/748#issuecomment-310896867,"Wow, 5/10? That's quite a lot. Interestingly, I haven't encountered this problem before.

1. What Android version are you using?
2. Do you mean it happens when you select a picture in the Android gallery and tap ""Share"" and then select the Commons app? Does it happen to you if you select a picture using the upload button within the app?
3. Could we have some logs if possible please? :)"
commons-app/apps-android-commons,"USER_COMMENT=i clicked on automatic location setting
ANDROID_VERSION=7.1.1
APP_VERSION_NAME=2.4.2
BRAND=OnePlus
PHONE_MODEL=ONEPLUS A3003
CUSTOM_DATA=
STACK_TRACE=java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState
at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1842)
at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1860)
at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:649)
at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:609)
at fr.free.nrw.commons.nearby.NearbyActivity.setMapFragment(NearbyActivity.java:295)
at fr.free.nrw.commons.nearby.NearbyActivity$NearbyAsyncTask.onPostExecute(NearbyActivity.java:276)
at fr.free.nrw.commons.nearby.NearbyActivity$NearbyAsyncTask.onPostExecute(NearbyActivity.java:225)
at android.os.AsyncTask.finish(AsyncTask.java:667)
at android.os.AsyncTask.-wrap1(AsyncTask.java)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:684)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:154)
at android.app.ActivityThread.main(ActivityThread.java:6290)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)",https://github.com/commons-app/apps-android-commons/issues/739#issuecomment-317241422,Should I close this issue manually?
commons-app/apps-android-commons,"11 reports by 6 impacted users - pretty high priority IMO.

```
java.lang.RuntimeException: 
  at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:3335)
  at android.app.ActivityThread.-wrap21(ActivityThread.java:0)
  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1578)
  at android.os.Handler.dispatchMessage(Handler.java:102)
  at android.os.Looper.loop(Looper.java:154)
  at android.app.ActivityThread.main(ActivityThread.java:6123)
  at java.lang.reflect.Method.invoke(Native Method:0)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)
Caused by: java.lang.NullPointerException: 
  at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:289)
  at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:223)
  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:163)
  at fr.free.nrw.commons.contributions.ContributionsContentProvider.update(ContributionsContentProvider.java:151)
  at android.content.ContentProvider$Transport.update(ContentProvider.java:356)
  at android.content.ContentResolver.update(ContentResolver.java:1407)
  at fr.free.nrw.commons.upload.UploadService.onStartCommand(UploadService.java:166)
  at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:3318)
```

> By app version
> 73	4
> 72	4
> 71	3
> 73	4	36.4%
> 72	4	36.4%
> 71	3	27.3%
> By Android version
> Android 7.1	6
> Android 7.0	5
> Android 7.1	6	54.5%
> Android 7.0	5	45.5%
> By device
> OnePlus3T (OnePlus3T)
> 2 (18.2%)
> Nexus 5X (bullhead)	3
> Moto G(4) (athene)	3
> Moto G Plus (5th Gen) (potter_n)	2
> OnePlus3T (OnePlus3T)	2
> Others	1
> Nexus 5X (bullhead)	3	27.3%
> Moto G(4) (athene)	3	27.3%
> Moto G Plus (5th Gen) (potter_n)	2	18.2%
> OnePlus3T (OnePlus3T)	2	18.2%
> Others	1	9.1%",https://github.com/commons-app/apps-android-commons/issues/732#issuecomment-312118017,"I think this has the same reason with #733 and might be solved by adding one line, but do we have more information about re-producing them? Or does this bug occur on every app launch on specified devices?"
commons-app/apps-android-commons,The option to see the Commons page for a Nearby place is always greyed out for me. Does it show up for anyone else?,https://github.com/commons-app/apps-android-commons/issues/730#issuecomment-342162500,"@misaochan Then? Close the issue please :) 
We are a group of two students from Freie Universit√§t Berlin and as a part of a Software Engineering course we want to contribute to this project by solving an issue or an enhancement. But it was very difficult to find an issue, because most of them have been already solved, but aren't marked as closed!
So now want to take the issue #591 and would be glad if we get it :)"
commons-app/apps-android-commons,"@neslihanturan @maskaravivek We are getting a new crash (in the production version of the app) from the hamburger menu. :(

```
java.lang.RuntimeException: 
  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2684)
  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2751)
  at android.app.ActivityThread.-wrap12(ActivityThread.java:0)
  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1496)
  at android.os.Handler.dispatchMessage(Handler.java:102)
  at android.os.Looper.loop(Looper.java:154)
  at android.app.ActivityThread.main(ActivityThread.java:6186)
  at java.lang.reflect.Method.invoke(Native Method:0)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
Caused by: java.lang.NullPointerException: 
  at fr.free.nrw.commons.hamburger.NavigationBaseFragment.setUsername(NavigationBaseFragment.java:95)
  at fr.free.nrw.commons.hamburger.NavigationBaseFragment.onCreateView(NavigationBaseFragment.java:72)
  at android.support.v4.app.Fragment.performCreateView(Fragment.java:2189)
  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1299)
  at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)
  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)
  at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2888)
  at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)
  at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:603)
  at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)
  at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1249)
  at android.app.Activity.performStart(Activity.java:6701)
  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2647)
```",https://github.com/commons-app/apps-android-commons/issues/728#issuecomment-307119045,"How can we reproduce it?
On Jun 8, 2017 4:48 PM, ""Josephine Lim"" <notifications@github.com> wrote:
>
> @neslihanturan @maskaravivek We are getting a new crash (in the
production version of the app) from the hamburger menu. :(
>
> java.lang.RuntimeException:
>   at
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2684)
>   at
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2751)
>   at android.app.ActivityThread.-wrap12(ActivityThread.java:0)
>   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1496)
>   at android.os.Handler.dispatchMessage(Handler.java:102)
>   at android.os.Looper.loop(Looper.java:154)
>   at android.app.ActivityThread.main(ActivityThread.java:6186)
>   at java.lang.reflect.Method.invoke(Native Method:0)
>   at
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)
>   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)
> Caused by: java.lang.NullPointerException:
>   at
fr.free.nrw.commons.hamburger.NavigationBaseFragment.setUsername(NavigationBaseFragment.java:95)
>   at
fr.free.nrw.commons.hamburger.NavigationBaseFragment.onCreateView(NavigationBaseFragment.java:72)
>   at android.support.v4.app.Fragment.performCreateView(Fragment.java:2189)
>   at
android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1299)
>   at
android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)
>   at
android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)
>   at
android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2888)
>   at
android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)
>   at
android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:603)
>   at
android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)
>   at
android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1249)
>   at android.app.Activity.performStart(Activity.java:6701)
>   at
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2647)
>
> ‚Äî
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub, or mute the thread.
"
commons-app/apps-android-commons,"To reproduce please click one of your uploaded photo to see details.

```
E/AndroidRuntime: FATAL EXCEPTION: main
Process: fr.free.nrw.commons, PID: 11110
java.lang.NoSuchFieldError: android.support.v7.appcompat.R$id.image
at android.support.v7.widget.ActivityChooserView.<init>(ActivityChooserView.java:241)
at android.support.v7.widget.ActivityChooserView.<init>(ActivityChooserView.java:205)
at android.support.v7.widget.ActivityChooserView.<init>(ActivityChooserView.java:195)
at android.support.v7.widget.ShareActionProvider.onCreateActionView(ShareActionProvider.java:221)
at android.support.v4.view.ActionProvider.onCreateActionView(ActionProvider.java:169)
at android.support.v7.view.menu.MenuItemImpl.getActionView(MenuItemImpl.java:633)
at android.support.v7.widget.ActionMenuPresenter.getItemView(ActionMenuPresenter.java:195)
at android.support.v7.widget.ActionMenuPresenter.flagActionItems(ActionMenuPresenter.java:508)
at android.support.v7.view.menu.MenuBuilder.flagActionItems(MenuBuilder.java:1160)
at android.support.v7.view.menu.BaseMenuPresenter.updateMenuView(BaseMenuPresenter.java:95)
at android.support.v7.widget.ActionMenuPresenter.updateMenuView(ActionMenuPresenter.java:234)
at android.support.v7.view.menu.MenuBuilder.dispatchPresenterUpdate(MenuBuilder.java:292)
at android.support.v7.view.menu.MenuBuilder.onItemsChanged(MenuBuilder.java:1047)
at android.support.v7.view.menu.MenuBuilder.startDispatchingItemsChanged(MenuBuilder.java:1074)
at android.support.v7.app.ToolbarActionBar.populateOptionsMenu(ToolbarActionBar.java:460)
at android.support.v7.app.ToolbarActionBar$1.run(ToolbarActionBar.java:61)
at android.view.Choreographer$CallbackRecord.run(Choreographer.java:788)
at android.view.Choreographer.doCallbacks(Choreographer.java:591)
at android.view.Choreographer.doFrame(Choreographer.java:559)
at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:774)
at android.os.Handler.handleCallback(Handler.java:808)
at android.os.Handler.dispatchMessage(Handler.java:103)
at android.os.Looper.loop(Looper.java:193)
at android.app.ActivityThread.main(ActivityThread.java:5292)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)
at dalvik.system.NativeStart.main(Native Method)
```",https://github.com/commons-app/apps-android-commons/issues/711#issuecomment-312645269,Does this still happen?
commons-app/apps-android-commons,"Maybe we can add a sign as ""Sorry, it is not possible to connect from your country"" etc. Here is the log:

```
E/AndroidRuntime: FATAL EXCEPTION: main
java.lang.NullPointerException: key == null || value == null
at android.support.v4.util.LruCache.put(LruCache.java:133)
at fr.free.nrw.commons.MediaWikiImageView$ThumbnailFetchTask.onPostExecute(MediaWikiImageView.java:84)
at fr.free.nrw.commons.MediaWikiImageView$ThumbnailFetchTask.onPostExecute(MediaWikiImageView.java:70)
at android.os.AsyncTask.finish(AsyncTask.java:631)
at android.os.AsyncTask.access$600(AsyncTask.java:177)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:5041)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
at dalvik.system.NativeStart.main(Native Method)
```

",https://github.com/commons-app/apps-android-commons/issues/708#issuecomment-305497333,"I'm not sure this is always country-related (could someone face the same issue if they were just, say, experiencing internet problems?), but we should definitely display a message instead of crash."
commons-app/apps-android-commons,"It is still possible to get a empty Nearby list with GPS turned on and position available.

Steps to reproduce in emulator:
1) Turn off GPS
2) Go to Nearby list (don't turn on GPS)
3) In NearbyActivity `curLatLong` will be `null`.
4) List is empty
5) Turn on GPS
6) Go to home screen
7) Back to nearby.
8) In NearbyActivity `curLatLong` will still be `null`.
9) Change location using the emulator.
10) This fires in `LocationServiceManager` the `onLocationChanged` method.
11) Next refresh will now again contain items.

Waiting for Android to detect a location change might not be the best way to get the current location.",https://github.com/commons-app/apps-android-commons/issues/674#issuecomment-327585169,Just to be sure has this been fixed by #707?
commons-app/apps-android-commons,"From the stock gallery I shared to Commons.
The image loaded fullscreen, but surprisingly the UI did not load anything else.
Killing Commons by swiping it was not enough to fix the problem, I had to force-stop it in Settings‚ÜíApps",https://github.com/commons-app/apps-android-commons/issues/668#issuecomment-303437732,"@nicolas-raoul does this happen all the time for you, or just once?

Sorry, I am going to be in a plane most of tomorrow so can't check it :("
commons-app/apps-android-commons,"While you go through your upload list in some cases (not tested) some of the images appear twice, even if they are uploaded just once (u can check in https://commons.wikimedia.org/wiki/Category:Dob≈ô√≠nsko)

![2017-05-20 14 37 42](https://cloud.githubusercontent.com/assets/6265408/26276635/416a001c-3d7b-11e7-96a0-37639aaa27ad.png)
",https://github.com/commons-app/apps-android-commons/issues/651#issuecomment-327108803,Does this still happen in the current beta?
commons-app/apps-android-commons,"While you use Nearby feature in new beta it doesnt show any nearby items; warning ""No places nearby is shown instead. GPS on; Android 6.0

![2017-05-20 14 27 55](https://cloud.githubusercontent.com/assets/6265408/26276522/6aec8e8e-3d79-11e7-93dc-87706f78633f.png)
",https://github.com/commons-app/apps-android-commons/issues/650#issuecomment-304385866,"I just tested this another time with the Android 7 emulator. For some reason the app ended up not having the location permissions. I had to manually go to the settings and allow the app to access the location. Maybe that is the cause of this issue?

![screenshot from 2017-05-26 22-50-14](https://cloud.githubusercontent.com/assets/6953323/26512273/240df786-4266-11e7-8d68-1a3f782952ff.png)

"
commons-app/apps-android-commons,"After logging out, the app constantly minimizes until reloaded.",https://github.com/commons-app/apps-android-commons/issues/642#issuecomment-318936888,"I could not reproduce this on an Xpera Z3 compact running 6.0.1.  When I log out, I am taken to the log in page.  Could you confirm that this still exists, @misaochan, and if so add any details about how to reproduce?"
commons-app/apps-android-commons,"![screenshot_1495199967](https://cloud.githubusercontent.com/assets/1345681/26249425/c8d60a44-3ca6-11e7-9bec-98873b4dfd62.png)
",https://github.com/commons-app/apps-android-commons/issues/628#issuecomment-318937679,"@sandarumk could you add your phone's version and steps to reproduce?  I tried logging in/out a few times on and Xperia Z3 running 6.0.1 and was unable to reproduce.

Edit: to clarify, I did get some leaks of LoginActivity, but I couldn't get one that was linked back to an `AsyncTask`.  I also couldn't immediately identify any particular set of steps which would consistently reproduce these other leaks."
commons-app/apps-android-commons,"For instance, here is the article that gets open when I click the point of the famous ""SQUARE BUILDING"" in Roppongi:

![screenshot_20170515-221656](https://cloud.githubusercontent.com/assets/99590/26059325/5a945fe6-39bc-11e7-9787-e1e354668c0a.png)

Instead, it should show https://www.wikidata.org/wiki/Q11311478",https://github.com/commons-app/apps-android-commons/issues/588#issuecomment-304524573,May I close?
commons-app/apps-android-commons,"Although a foto that i uploaded with the app contained the GPS position the location template has not been added:

https://commons.wikimedia.org/w/index.php?title=File:Klo%C3%9Fpommes_-_1.jpg&oldid=241916033",https://github.com/commons-app/apps-android-commons/issues/534#issuecomment-307531605,"Which version of Android were you using? How did you select the picture to upload? (Did you use the in-app camera button or the gallery button?)

I was able to reproduce the issue when using API 23 emulator and sharing from the gallery."
commons-app/apps-android-commons,"Tutorial messages that use `\n` for stylistic purposes actually appear in https://translatewiki.net as if having actual line breaks. Here's an example original message:
```
  <string name=""tutorial_2_subtext"">- Natural objects (flowers, animals, mountains)\n- Useful objects (bicycles, train stations)\n- Famous people (your mayor, Olympic athletes you met)</string>
```
Shows as https://i.imgur.com/PYVYX4A.png

And naturally gets translated into:
```
  <string name=""tutorial_2_subtext"">- Objets naturels (fleurs, animaux, montagnes) 
- Objets utiles (bicyclettes, gares ferroviaires) 
- Personnes c√©l√®bres (votre maire, les athl√®tes olympiques que vous avez rencontr√©s)</string>
```
The problem? It seems that the thing that lays out text in android only respects `\n` and not actual line breaks, which means that the dashes that supposed to be list bullets appear _mid-line_.

Live example (using a different string, because it looks worse): https://i.imgur.com/SYYvbU7.png

Since translations come from https://translatewiki.net, it could be a problem on their side, but it may be easy to work around this for now.",https://github.com/commons-app/apps-android-commons/issues/523#issuecomment-294822528,"Ah, wow. I saw that happen when we first integrated translatewiki, but I thought it had been fixed.

Pinging @Nikerabbit , do you know why this is still happening?"
commons-app/apps-android-commons,"Someone suggested that we limit the number of uploads that we show in the main screen, to help with the OutOfMemoryError encountered by those running slower phones. I think he has a point, and there are quite a few others who are encountering the same issue.

IMO we should set the default to something like the last 10 uploads, and maybe have an option in Settings for the user to select to view more if they want to.

```
USER_COMMENT=I updated to the latest version of the beta app, but it is still crashing when I access my uploads. I already cleared my RAM, but it seems that workaround doesn't work. I suggest that you don't make that uploads page the default screen and limit the number of uploads seen to 5, to avoid crashes due to memory.
ANDROID_VERSION=4.3
APP_VERSION_NAME=2.2
BRAND=samsung
PHONE_MODEL=GT-I9300
CUSTOM_DATA=
STACK_TRACE=java.lang.OutOfMemoryError
at com.android.volley.toolbox.ByteArrayPool.getBuf(ByteArrayPool.java:101)
at com.android.volley.toolbox.PoolingByteArrayOutputStream.<init>(PoolingByteArrayOutputStream.java:53)
at com.android.volley.toolbox.BasicNetwork.entityToBytes(BasicNetwork.java:228)
at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:123)
at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)
```",https://github.com/commons-app/apps-android-commons/issues/510#issuecomment-295440295,"@misaochan Have you done any profiling of your app's memory usage (i.e. using heap analysis)? Or audit the app for possible memory leaks? This could be something I can help with at the hackathon, since it's something we do on a regular basis in the Wikipedia app."
commons-app/apps-android-commons,"After upgrading to the beta version, the Settings screen immediately crashes for me.

1. Delete the app's local storage.
2. Uninstall the app.
3. Install the normal (non-beta) app and launch it. (EDIT: or build and install v.2.1.)
4. Enroll to the beta testing. (EDIT: or build and install v.2.2.)
5. Install it and open Settings.


ANDROID_VERSION=6.0.1
APP_VERSION_NAME=2.2
BRAND=google
PHONE_MODEL=Nexus 5
CUSTOM_DATA=
STACK_TRACE=
java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.free.nrw.commons/fr.free.nrw.commons.settings.SettingsActivity}: java.lang.RuntimeException: Unrecognized license value
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
at android.app.ActivityThread.-wrap11(ActivityThread.java)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:148)
at android.app.ActivityThread.main(ActivityThread.java:5417)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
Caused by: java.lang.RuntimeException: Unrecognized license value
at fr.free.nrw.commons.Utils.licenseNameFor(Utils.java:233)
at fr.free.nrw.commons.settings.SettingsFragment.onCreate(SettingsFragment.java:22)
at android.app.Fragment.performCreate(Fragment.java:2198)
at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:942)
at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1148)
at android.app.BackStackRecord.run(BackStackRecord.java:793)
at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1535)
at android.app.FragmentController.execPendingActions(FragmentController.java:325)
at android.app.Activity.performStart(Activity.java:6267)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)
... 9 more
java.lang.RuntimeException: Unrecognized license value
at fr.free.nrw.commons.Utils.licenseNameFor(Utils.java:233)
at fr.free.nrw.commons.settings.SettingsFragment.onCreate(SettingsFragment.java:22)
at android.app.Fragment.performCreate(Fragment.java:2198)
at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:942)
at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1148)
at android.app.BackStackRecord.run(BackStackRecord.java:793)
at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1535)
at android.app.FragmentController.execPendingActions(FragmentController.java:325)
at android.app.Activity.performStart(Activity.java:6267)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
at android.app.ActivityThread.-wrap11(ActivityThread.java)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:148)
at android.app.ActivityThread.main(ActivityThread.java:5417)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)",https://github.com/commons-app/apps-android-commons/issues/506#issuecomment-294294001,Does it crash again the second time you try?
commons-app/apps-android-commons,"I don't get any stack trace of exceptions caused by the app, but instead I get the ACRA dialog stating that the app has crashed. This usually leads me to commenting out the ACRA initialisation in `CommonsApplication`. Wouldn't it be better to turn off ACRA when doing a debug build and turn it on for release builds?",https://github.com/commons-app/apps-android-commons/issues/491#issuecomment-293769317,"Is this doable automatically, for instance with ProGuard maybe?"
commons-app/apps-android-commons,"The pre-release version of Nearby (current master branch) loads the CSV, but does not detect your location when used in a freshly-installed app. Tested on an API 24 real device (Samsung Galaxy S7). The released version works fine (tested on the same night).

Might have something to do with location permissions not being asked? Not sure, will have to test further. @maskaravivek , what do you think could have broken it?",https://github.com/commons-app/apps-android-commons/issues/485#issuecomment-293054948,"@misaochan I couldn't take a look at it but could it be because of the refactoring that was done by me?

Will take care to use `TAG` in future. Also any opinion on using [Timber](https://github.com/JakeWharton/timber) for logging. "
commons-app/apps-android-commons,"@domdomegg @neslihanturan @maskaravivek I've been doing more in-depth testing before releasing the new version (on a Nexus S emulator API 23 and 25, prior to real device testing), and a few things that I noticed with the new themes/icons:

1. When sent to the overflow menu due to the action bar being full, ""From gallery"" shows up with its icon on the left. Besides being the only item in the overflow menu with an icon, when the light theme is selected, the icon isn't visible due to being white.

![gallery](https://cloud.githubusercontent.com/assets/3611199/24091641/027a846e-0d95-11e7-8151-80d50df47166.png)

2. The subtext in the tutorial is black now, while the text is white. IMO keeping the text and subtext roughly the same color is a lot more aesthetic.

![tutorial2](https://cloud.githubusercontent.com/assets/3611199/24091768/d9ce91da-0d95-11e7-8a44-5d0855d0d210.png)

3. I think it might be a good idea to make the dark theme the default instead of the light theme, so that people start out with the theme that they are used to, and have the option to change it if they prefer light. What do you guys think?

4. Very minor issue, and could just be a personal preference, but in the media details pane, landscape images have a large white band above them. IMO this looks okay in the dark theme, but rather jarring in the light theme. 

![media details](https://cloud.githubusercontent.com/assets/3611199/24091755/bfba3bbe-0d95-11e7-9f53-7d8548d9bdd3.png)
",https://github.com/commons-app/apps-android-commons/issues/442#issuecomment-287758776,It seems like 2 is already solved by @veyndan . I can solve 1 and 3 but I am having problem about reproducing the case 1. Can you share a scenario @misaochan ?
commons-app/apps-android-commons,"Nexus 5x (2016), Android 7.1.1

When I open the app, it shows for a second, black screen with the ""My uploads"" title bar, then minimizes itself. It keeps running in the apps list, but when I switch to it, same thing happens.",https://github.com/commons-app/apps-android-commons/issues/352#issuecomment-272822746,"Hi @magnusmanske ,

Thanks for reporting this. Has this happened the entire time you have been using the app, or is it only a recent occurrence that followed some sort of change (e.g. updating to Android 7.x)? "
commons-app/apps-android-commons,"Received this crash report from Teemeah (from the Community Wishlist survey):

```
USER_COMMENT=right after logging in it stopped
ANDROID_VERSION=6.0
APP_VERSION_NAME=1.38
BRAND=HONOR
PHONE_MODEL=PLK-L01
CUSTOM_DATA=
STACK_TRACE=android.content.res.Resources$NotFoundException: Plural resource ID #0x7f070000 quantity=0 item=other
at android.content.res.Resources.getQuantityText(Resources.java:381)
at android.content.res.Resources.getQuantityString(Resources.java:493)
at fr.free.nrw.commons.contributions.ContributionsActivity.onLoadFinished(ContributionsActivity.java:217)
at android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)
at android.support.v4.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:444)
at android.support.v4.content.Loader.deliverResult(Loader.java:126)
at android.support.v4.content.CursorLoader.deliverResult(CursorLoader.java:105)
at android.support.v4.content.CursorLoader.deliverResult(CursorLoader.java:37)
at android.support.v4.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:252)
at android.support.v4.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:80)
at android.support.v4.content.ModernAsyncTask.finish(ModernAsyncTask.java:485)
at android.support.v4.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:502)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:150)
at android.app.ActivityThread.main(ActivityThread.java:5546)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:794)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:684)
```

She sent me an accompanying screenshot. It seems the issue might be with the Korean translations? How do we fix the issue if we can't read/write Korean? (The stack trace doesn't seem to point to the exact string causing the issues)

![screenshot_2016-11-17-12-01-19](https://cloud.githubusercontent.com/assets/3611199/20387266/293edcc0-ad24-11e6-94bf-67eaa03dcfab.png)
",https://github.com/commons-app/apps-android-commons/issues/326#issuecomment-261227207,"Are these plurals similar in XML structure to the English ones?

On Thu, Nov 17, 2016 at 8:45 PM, Josephine Lim notifications@github.com
wrote:

> I looked around and the issue is probably with one of these?
> 
>   <plurals name=""contributions_subtitle""/>
>   <plurals name=""starting_multiple_uploads"">
>     <item quantity=""one"">Ìïú Ïû• ÏóÖÎ°úÎìú ÏãúÏûë</item>
>     <item quantity=""other"">%d Ïû• ÏóÖÎ°úÎìú ÏãúÏûë</item>
>   </plurals>
>   <plurals name=""multiple_uploads_title"">
>     <item quantity=""one"">Ìïú Ïû• ÏóÖÎ°úÎìú</item>
>     <item quantity=""other"">%d Ïû• ÏóÖÎ°úÎìú</item>
>   </plurals>
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/commons-app/apps-android-commons/issues/326#issuecomment-261226842,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAGFBknfyH35SfFezp3Jw1oQN0-OR0Bjks5q_D5hgaJpZM4K1LYa
> .
"
commons-app/apps-android-commons,"Tracking GitHub issue for Lint issues in project.

This is the current output when 'Inspect Code' action is run within Android Studio.

![androidcommonslint](https://cloud.githubusercontent.com/assets/617443/19845238/e3a5ee6e-9f5a-11e6-9572-abb863646ef0.PNG)
",https://github.com/commons-app/apps-android-commons/issues/316#issuecomment-285201927,Possible duplicate of #171?
commons-app/apps-android-commons,"While struggling with #307 I uploaded image with Ukrainian interface. Now I see that file is not categorised. 
https://commons.wikimedia.org/w/index.php?title=File:–ß–æ—Ä–Ω–æ–±—Ä–∏–≤—Ü—ñ_.jpg&oldid=210922719
Though I did check three categories from the suggestions:
![screenshot_2016-10-26-14-08-57](https://cloud.githubusercontent.com/assets/10130813/19731716/034d9c24-9ba7-11e6-84f6-f1f07d8b3f25.png)
",https://github.com/commons-app/apps-android-commons/issues/310#issuecomment-256529899,"Hm, I just tested the latest version again and could not reproduce your bug. Does it repeatedly fail to categorize any image or is it just this one?
"
commons-app/apps-android-commons,"I've noticed several of the older phones having this issue:

```
USER_COMMENT=Crashes immediately after opening or after choosing file.
ANDROID_VERSION=4.4.2
APP_VERSION_NAME=1.37
BRAND=samsung
PHONE_MODEL=SM-T311
CUSTOM_DATA=
STACK_TRACE=java.lang.OutOfMemoryError
at com.android.volley.toolbox.ByteArrayPool.getBuf(ByteArrayPool.java:101)
at com.android.volley.toolbox.PoolingByteArrayOutputStream.<init>(PoolingByteArrayOutputStream.java:53)
at com.android.volley.toolbox.BasicNetwork.entityToBytes(BasicNetwork.java:228)
at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:123)
at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)
```

Is there anything we can do about it, or it can't be helped?
",https://github.com/commons-app/apps-android-commons/issues/308#issuecomment-256240999,"What is the usual size of the HTTP request/response coming from this request?

If the crash happens when sending the image, I guess we could avoid loading the full file in memory, and just stream it out while reading it.
"
commons-app/apps-android-commons,"No difference whether I had time to open upload dialog or not.
I'm logged in from 2 devices with Android 4.0.4 and 4.4.2. The same on both.
Where the problem can be, what do you think?
",https://github.com/commons-app/apps-android-commons/issues/307#issuecomment-256116627,"Strange!

What version of the app?

Thanks for the feedback!
Nicolas Raoul

On Wed, Oct 26, 2016 at 12:08 AM, AtaZh notifications@github.com wrote:

> No difference whether I had time to open upload dialog or not.
> I'm logged in from 2 devices with Android 4.0.4 and 4.4.2. The same on
> both.
> Where the problem can be, what do you think?
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/commons-app/apps-android-commons/issues/307, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/AAGFBoyhl_1ysYfJvP1_EYSYRbBQMeFBks5q3htxgaJpZM4KgGvx
> .
"
commons-app/apps-android-commons,"Hello, the nearby function generally seems to work in many public places for me as well as at work, but it has some serious problems in my home WiFi network. Specifically, it thinks I am in Pekanbaru, Indonesia, even though I am currently in Glasgow, UK. Not sure why this is the case because all other apps which read my location (Uber, Google Maps) work just fine. 

Any ideas? Thanks
",https://github.com/commons-app/apps-android-commons/issues/300#issuecomment-253546905,"Hi,

Have you tried turning it off and on again? :-)
The app has a short-lived cache, so a wrongful GPS read might be kept in
cache.

But if the problem still happens after killing the app then it must be
another issue, though.
The adb logcat might help.

Cheers!
Nicolas Raoul

On Fri, Oct 14, 2016 at 12:12 AM, VojtechDostal notifications@github.com
wrote:

> Hello, the nearby function generally seems to work in many public places
> for me as well as at work, but it has some serious problems in my home WiFi
> network. Specifically, it thinks I am in Pekanbaru, Indonesia, even though
> I am currently in Glasgow, UK. Not sure why this is the case because all
> other apps which read my location (Uber, Google Maps) work just fine.
> 
> Any ideas? Thanks
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/commons-app/apps-android-commons/issues/300, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/AAGFBjsgpCgJAKnJANEgqY1p5uqRLpfdks5qzkpAgaJpZM4KWAiW
> .
"
commons-app/apps-android-commons,"1. Disable network
2. Open Nearby
3. It fails to load the CSV, this is expected
4. Go back to the main screen
5. Enable network
6. Open Nearby again
7. It fails to load the CSV, this is not expected
",https://github.com/commons-app/apps-android-commons/issues/291#issuecomment-252203576,"Hmm.

The way I fixed Vojtech's crash was by checking:

```
        if (places.size() > 0) {
            for (int i = 0; i < 100; i++) {
                Place place = places.get(i);
                String distance = formatDistanceBetween(mLatestLocation, place.location);
                place.setDistance(distance);
            }
        }
```

I don't think I can make it reattempt the download if places.size() == 0, since if there was still no network connection, it would just fall into an infinite loop, right?

I will try to see if there is another way to do it.
"
commons-app/apps-android-commons,"Is anyone else getting 0 uploads shown if they uninstall the app and install a fresh copy of it (v1.33)? Would appreciate if anyone would help test. If it isn't just my phone that is causing problems, I might need to revert #285 and see if it fixes the issue (since AFAIK no other change in this version affects ContributionsListFragment.java, which displays the list).
",https://github.com/commons-app/apps-android-commons/issues/290#issuecomment-252201807,"I just tried uninstalling and reinstalling again (1.33 from Google Play), and my uploads are shown normally.
You had network enabled?
"
commons-app/apps-android-commons,"Most do already, but a small number of files somehow remain unconverted. Examples:
- https://commons.wikimedia.org/wiki/File:Vazana_vez.jpeg
- https://commons.wikimedia.org/wiki/File:Giza.jpeg
- https://commons.wikimedia.org/wiki/File:Wikidata_at_wikicon_2016_on_saturday_morning.jpeg

With Utils.fixExtension() in place, how these have remained unconverted?

I'm not sure if it's linked but I see many (but not all) coincide with Issue #228 (Overwrite happens).
",https://github.com/commons-app/apps-android-commons/issues/284#issuecomment-250498733,"Why is it important to rename these files?
"
commons-app/apps-android-commons,"On a Samsung Galaxy A3, if I open ""Nearby Places"", regardless of the GPS is turned on or off, the list shows the places not sorted by distance, but in the order as they appear in the CSV. I would expect an error message saying the nearby places cannot be determined if GPS is off, and of course sorted by distance if on. I have an Android Studio, but I don't know how to debug this issue; if you help me, I try to debug it‚Äîit can turn out that the problem is in my device.
P.S. Is there any convenient way (web service) to localize this app, or I have to edit the XML manually?
",https://github.com/commons-app/apps-android-commons/issues/277#issuecomment-247064785,"Strange, the list is always sorted for me! Would you mind pasting the logcat?

About localization: We are waiting for the translatewiki guys to create our project, I can't understand why it takes them so much time, feel free to ask them about the status of this at https://translatewiki.net/wiki/Support#Former_WMF_app_now_community-maintained,_where_to_crowdsource_localization?_49961 Thanks!
"
commons-app/apps-android-commons,"@nicolas-raoul , I guess this was when you pressed the back button during loading of the page?

```
USER_COMMENT=back from nearby
ANDROID_VERSION=6.0.1
APP_VERSION_NAME=1.27
BRAND=google
PHONE_MODEL=Nexus 5
CUSTOM_DATA=
STACK_TRACE=java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v4.app.FragmentActivity.setRequestedOrientation(int)' on a null object reference
at fr.free.nrw.commons.nearby.NearbyListFragment.unlockScreenOrientation(NearbyListFragment.java:168)
at fr.free.nrw.commons.nearby.NearbyListFragment.access$700(NearbyListFragment.java:35)
at fr.free.nrw.commons.nearby.NearbyListFragment$getNearbyPlaces.onPostExecute(NearbyListFragment.java:127)
at fr.free.nrw.commons.nearby.NearbyListFragment$getNearbyPlaces.onPostExecute(NearbyListFragment.java:104)
at android.os.AsyncTask.finish(AsyncTask.java:651)
at android.os.AsyncTask.-wrap1(AsyncTask.java)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:148)
at android.app.ActivityThread.main(ActivityThread.java:5461)
at java.lang.reflect.Method.invoke(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)

```
",https://github.com/commons-app/apps-android-commons/issues/258#issuecomment-244760770,"not optimal for tablet users, but better than crashing?

On Sep 5, 2016 23:20, ""Josephine Lim"" notifications@github.com wrote:

> Hm, the issue seems to be caused by the unlockScreenOrientation method
> that I needed to use to lock the screen during loading and unlock it after
> loading (to prevent crash when screen config changes during AsyncTask
> loading). I wonder if it would be okay to lock the screen in portrait
> throughout the entire time the user is on the Nearby activity? Would people
> need to be able to view it in landscape? (Personally I think landscape is
> terrible for viewing of the list since you get so few rows and most titles
> aren't long enough to cause an issue in portrait, but others might feel
> differently?)
> 
> ‚Äî
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/commons-app/apps-android-commons/issues/258#issuecomment-244757890,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAGFBrBFPBuK44EK4il-HKdEvoTSckfKks5qnCUhgaJpZM4J1E_Q
> .
"
commons-app/apps-android-commons,"![screenshot_20160905-211502](https://cloud.githubusercontent.com/assets/99590/18247520/f437064c-73ad-11e6-9809-d0a87d27913b.png)
",https://github.com/commons-app/apps-android-commons/issues/257#issuecomment-244795160,"I can confirm that this is happening on Android 6.0.1. 

Offtopic comment: https://www.wikidata.org/wiki/Q11661218 has a Japanese and Chinese label. Are we only getting the English for some items?
"
commons-app/apps-android-commons,"![screenshot from 2016-08-03 15-49-44](https://cloud.githubusercontent.com/assets/99590/17356389/201dbf20-5992-11e6-92dd-8292244ad597.png)
With Android in Japanese.
",https://github.com/commons-app/apps-android-commons/issues/217#issuecomment-237178767,"This apparently is a result of https://translatewiki.net/wiki/Thread:Support/u00A0_only_working_in_en_%28and_not_in_other_languages%29. If we are to restart the localization update, we would need a systematic solution, not just a manual fix of applicable files (in this case a Japanese localization resource file).

According to [the declined bug](https://phabricator.wikimedia.org/T71395), it looks like the Wikipedia app does not use escaped characters such as ""'\u00a0"". Similarly we could replace escaped ones into unescaped ones (or in the case of whitespaces, perhaps we can simply use the ASCII space?).
"
commons-app/apps-android-commons,"From a recent Google Play review:

krishnag kulkarni 28 Jul 2016 at 14:19 0 0
Can't log in. Cannot login even if i have created an account with Wikipedia. I think the app must be awesome. Please fix this issue asap.

Any idea what the issue is?
",https://github.com/commons-app/apps-android-commons/issues/215#issuecomment-236493987,"The best would be to contact the user by replying to their review, but it seems Wikimedia has not given us the permission to do that? Do you have something like below?
![screenshot from 2016-08-01 14-40-14](https://cloud.githubusercontent.com/assets/99590/17284493/1c8707ec-57f6-11e6-8f8e-67ecb021bc7b.png)
"
commons-app/apps-android-commons,"Crash reports contain people's email addresses.
They should be sent to a separated Google Group to which only developers have access (for instance, people who have committed at least once).
(until we get an ACRA server #203)
",https://github.com/commons-app/apps-android-commons/issues/204#issuecomment-235130313,"How do we go about this? Should I create one and invite you all? Or if you create one, I can modify the ACRA code to send the reports there.
"
commons-app/apps-android-commons,"Apparently the save button (check mark) does not work for Android 6 as it does for older Android. I tried Nexus 5 (Android 6) and an emulator (Android 6, API level 23), and experienced the issue with both. Another emulator with Android 5.1, API level 22 went without the issue.

Instead, on Android 6 I was able to take a photo with the default Camera app directly, and go back to the Commons app to find it in the gallery and upload, though.

See also https://groups.google.com/d/msg/commons-app-android/Dtxo2j4ylrg/gu3xRiDuBAAJ
",https://github.com/commons-app/apps-android-commons/issues/164#issuecomment-231519609,"Does the current release (v1.17) work properly in your real device then? I can't reproduce the bug on emulator, but I don't have a real device with api 23 to test with. 
"
commons-app/apps-android-commons,"Posted by Krzyzstof on 3 Jul:

```
USER_COMMENT=Tried to upload a png 
ANDROID_VERSION=5.0.1
APP_VERSION_NAME=1.15
BRAND=Huawei
PHONE_MODEL=ALE-L21
CUSTOM_DATA=
STACK_TRACE=java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.free.nrw.commons/fr.free.nrw.commons.upload.ShareActivity}: java.lang.IllegalArgumentException: filename cannot be null
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2406)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)
at android.app.ActivityThread.access$1200(ActivityThread.java:152)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1341)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:135)
at android.app.ActivityThread.main(ActivityThread.java:5538)
at java.lang.reflect.Method.invoke(Native Method)
at java.lang.reflect.Method.invoke(Method.java:372)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)
Caused by: java.lang.IllegalArgumentException: filename cannot be null
at android.media.ExifInterface.&lt;init&gt;(ExifInterface.java:125)
at fr.free.nrw.commons.upload.GPSExtractor.getCoords(GPSExtractor.java:85)
at fr.free.nrw.commons.upload.ShareActivity.getLocationData(ShareActivity.java:333)
at fr.free.nrw.commons.upload.ShareActivity.onCreate(ShareActivity.java:277)
at android.app.Activity.performCreate(Activity.java:6013)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2359)
... 10 more
java.lang.IllegalArgumentException: filename cannot be null
at android.media.ExifInterface.&lt;init&gt;(ExifInterface.java:125)
at fr.free.nrw.commons.upload.GPSExtractor.getCoords(GPSExtractor.java:85)
at fr.free.nrw.commons.upload.ShareActivity.getLocationData(ShareActivity.java:333)
at fr.free.nrw.commons.upload.ShareActivity.onCreate(ShareActivity.java:277)
at android.app.Activity.performCreate(Activity.java:6013)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2359)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)
at android.app.ActivityThread.access$1200(ActivityThread.java:152)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1341)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:135)
at android.app.ActivityThread.main(ActivityThread.java:5538)
at java.lang.reflect.Method.invoke(Native Method)
at java.lang.reflect.Method.invoke(Method.java:372)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)


```
",https://github.com/commons-app/apps-android-commons/issues/152#issuecomment-362209711,"Any update on this?
facing the same issue."
commons-app/apps-android-commons,"By Ramnarayan.K     

User comment:
Have had 3 failures in 14 uploads or attempts to upload,  usually when it is searching for tags

```
USER_COMMENT=Searching for tags while uploading an image 
ANDROID_VERSION=4.4.4
APP_VERSION_NAME=1.12
BRAND=Xiaomi
PHONE_MODEL=2014818
CUSTOM_DATA=
STACK_TRACE=java.lang.RuntimeException: An error occured while executing doInBackground()
at android.os.AsyncTask$3.done(AsyncTask.java:300)
at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)
at java.util.concurrent.FutureTask.setException(FutureTask.java:222)
at java.util.concurrent.FutureTask.run(FutureTask.java:242)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
at java.lang.Thread.run(Thread.java:841)
Caused by: java.lang.RuntimeException: javax.net.ssl.SSLPeerUnverifiedException: No peer certificate
at fr.free.nrw.commons.category.PrefixUpdater.doInBackground(PrefixUpdater.java:66)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:366)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:361)
at android.os.AsyncTask$2.call(AsyncTask.java:288)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
... 3 more
Caused by: javax.net.ssl.SSLPeerUnverifiedException: No peer certificate
at com.android.org.conscrypt.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:146)
at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:93)
at org.apache.http.conn.ssl.SSLSocketFactory.createSocket(SSLSocketFactory.java:388)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:165)
at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
at in.yuvi.http.fluent.Http$HttpRequestBuilder.asResponse(Http.java:470)
at org.mediawiki.api.ApiResult.fromRequestBuilder(ApiResult.java:44)
at org.mediawiki.api.MWApi.makeRequest(MWApi.java:186)
at org.mediawiki.api.MWApi.access$000(MWApi.java:30)
at org.mediawiki.api.MWApi$RequestBuilder.get(MWApi.java:46)
at fr.free.nrw.commons.category.PrefixUpdater.doInBackground(PrefixUpdater.java:63)
... 7 more
java.lang.RuntimeException: javax.net.ssl.SSLPeerUnverifiedException: No peer certificate
at fr.free.nrw.commons.category.PrefixUpdater.doInBackground(PrefixUpdater.java:66)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:366)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:361)
at android.os.AsyncTask$2.call(AsyncTask.java:288)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
at java.lang.Thread.run(Thread.java:841)
Caused by: javax.net.ssl.SSLPeerUnverifiedException: No peer certificate
at com.android.org.conscrypt.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:146)
at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:93)
at org.apache.http.conn.ssl.SSLSocketFactory.createSocket(SSLSocketFactory.java:388)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:165)
at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
at in.yuvi.http.fluent.Http$HttpRequestBuilder.asResponse(Http.java:470)
at org.mediawiki.api.ApiResult.fromRequestBuilder(ApiResult.java:44)
at org.mediawiki.api.MWApi.makeRequest(MWApi.java:186)
at org.mediawiki.api.MWApi.access$000(MWApi.java:30)
at org.mediawiki.api.MWApi$RequestBuilder.get(MWApi.java:46)
at fr.free.nrw.commons.category.PrefixUpdater.doInBackground(PrefixUpdater.java:63)
... 7 more
javax.net.ssl.SSLPeerUnverifiedException: No peer certificate
at com.android.org.conscrypt.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:146)
at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:93)
at org.apache.http.conn.ssl.SSLSocketFactory.createSocket(SSLSocketFactory.java:388)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:165)
at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
at in.yuvi.http.fluent.Http$HttpRequestBuilder.asResponse(Http.java:470)
at org.mediawiki.api.ApiResult.fromRequestBuilder(ApiResult.java:44)
at org.mediawiki.api.MWApi.makeRequest(MWApi.java:186)
at org.mediawiki.api.MWApi.access$000(MWApi.java:30)
at org.mediawiki.api.MWApi$RequestBuilder.get(MWApi.java:46)
at fr.free.nrw.commons.category.PrefixUpdater.doInBackground(PrefixUpdater.java:63)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:366)
at fr.free.nrw.commons.category.CategorizationFragment$4.doInBackground(CategorizationFragment.java:361)
at android.os.AsyncTask$2.call(AsyncTask.java:288)
at java.util.concurrent.FutureTask.run(FutureTask.java:237)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
at java.lang.Thread.run(Thread.java:841)
```
",https://github.com/commons-app/apps-android-commons/issues/133#issuecomment-230677338,"Apparently this could lead to session hijacking, so better avoid it...

While waiting for any potential fix, returning an empty array as you
suggest could work, but I guess the exact same problem will happen when
trying to upload the picture, right?
Good thing is that we have the email address of a user who has this
problem, so we can have them test the fix. We could also ask them for their
list of certificates, if that makes sense.

How about posting a clear question about this on StackOverflow, stressing
that it is for use over the public Internet to a single hard-coded server
URL. Specify the Android version and the target URL, stressing that this
URL has a proper certificate. Ask why the error appears and what is
recommended in such a case. Post the URL here so that we can upvote the
question :-)

On Wed, Jul 6, 2016 at 2:38 PM, Josephine Lim notifications@github.com
wrote:

> From what I've read, it seems the only option to solve this issue on
> client-side is
> http://stackoverflow.com/questions/17159657/javax-net-ssl-sslpeerunverifiedexception-no-peer-certificate
> . However AFAIK using the fix in that thread will compromise security.
> 
> Otherwise, apparently the problem lies on server-side? Should we try to
> contact WMF about this?
> 
> ‚Äî
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/nicolas-raoul/apps-android-commons/issues/133#issuecomment-230675503,
> or mute the thread
> https://github.com/notifications/unsubscribe/AAGFBhdyoq0f_JLIk39VJ9HBU7Ghdr5Jks5qSz9ugaJpZM4I44gk
> .
"
commons-app/apps-android-commons,"[I've made a couple of uploads of audio files](https://commons.wikimedia.org/w/index.php?title=Special:Search&search=incategory%3A""Audio+files+by+User%3A1Veertje""+incategory%3A""Uploaded+with+Mobile%2FAndroid"")

When I don't add .ogg to de title of the file, the upload fails. 

Since the end of May the app crashes after I've put in a title and description. This wasn't the case back in April, when I was still able to add categories through the app. 
",https://github.com/commons-app/apps-android-commons/issues/124#issuecomment-225552069,"Hi @VDK ,

Could you please send us the crash report if possible? When the app crashes it should give you the option of submitting a crash report via email. That will help us diagnose the problem.

Thanks!
"
commons-app/apps-android-commons,"By Shyamal on mailing list.
",https://github.com/commons-app/apps-android-commons/issues/101#issuecomment-230693249,"Hm, did he post any further information? I haven't encountered this issue personally, both my portrait and landscape pics turn out okay.
"
commons-app/apps-android-commons,"The user has uploaded about 3000 files, recently one of them being 58 MB.
https://groups.google.com/forum/#!topic/commons-app-android/4TKcnLCSEMo

```
USER_COMMENT=it crashed while loading/showing my uploads. i guess that the problem is that i have too many and too big already uploaded files.
ANDROID_VERSION=4.4.2
APP_VERSION_NAME=1.12
BRAND=samsung
PHONE_MODEL=GT-I9195
CUSTOM_DATA=
STACK_TRACE=java.lang.OutOfMemoryError
at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:122)
at com.android.volley.toolbox.BasicNetwork.entityToBytes(BasicNetwork.java:215)
at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)
at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:105)
```
",https://github.com/commons-app/apps-android-commons/issues/94#issuecomment-221504456,"I've been thinking about how we should fix this. Do we want to try and make it possible to display large files, or do we want to fix this in a more indirect manner by not displaying large files on the main screen to begin with? 
"
commons-app/apps-android-commons,"A user has reported on the google group forums that he receives an error 504 when he tries to update the app in the Play Store.

![screenshot_20160323-075922](https://cloud.githubusercontent.com/assets/3611199/14008835/92043fca-f1ea-11e5-9393-92b90bb69486.png)
",https://github.com/commons-app/apps-android-commons/issues/90#issuecomment-200684800,"Actually I might be wrong, the second answer on that page is probably more on point: http://android.stackexchange.com/a/131584/501
What version of Android?
"
commons-app/apps-android-commons,"Reported by Riley_Huntley on Phabricator (https://phabricator.wikimedia.org/T127624):

https://commons.wikimedia.org/wiki/File:William_Hill_Estate_Vineyards_-_Sarah_Stierch_2.jpg and https://commons.wikimedia.org/wiki/File:Tortoises_at_the_Minnesota_Zoo.jpg show a correct EXIF data, yet ""{{According to EXIF data|1969-xx-xx}}"" or ""{{According to EXIF data|1970-xx-xx}}"" will be automatically added to the information template. This has effected 2,000~ files and counting.
",https://github.com/commons-app/apps-android-commons/issues/72#issuecomment-224914432,"Done in #123 

Should we try and get it to say just the date, not ""[according to EXIF data](https://github.com/nicolas-raoul/apps-android-commons/blob/master/commons/app/src/main/java/fr/free/nrw/commons/contributions/Contribution.java#L141)""? Or maybe use [{{Upload date}}](https://commons.wikimedia.org/wiki/Template:Upload_date) instead? If so, I'm not sure how we could go about that - probably checking some new variable in contribution to see whether the upload date is used instead of EXIF date?
"
commons-app/apps-android-commons,"@misaochan is it related to the new code?

```
USER_COMMENT=when uploading a photo application has been crashed .why this problem ? i unistall and reinstall app but problems not solve ?please fix it.
ANDROID_VERSION=5.1.1
APP_VERSION_NAME=1.8
BRAND=samsung
PHONE_MODEL=SM-J200G
CUSTOM_DATA=
STACK_TRACE=java.lang.NullPointerException: Attempt to get length of null array
at fr.free.nrw.commons.upload.MwVolleyApi$Query.toString(MwVolleyApi.java:199)
at fr.free.nrw.commons.upload.MwVolleyApi$QueryResponse.toString(MwVolleyApi.java:186)
at fr.free.nrw.commons.upload.MwVolleyApi$LogResponseListener.onResponse(MwVolleyApi.java:112)
at com.android.volley.toolbox.JsonRequest.deliverResponse(JsonRequest.java:65)
at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:99)
at android.os.Handler.handleCallback(Handler.java:739)
at android.os.Handler.dispatchMessage(Handler.java:95)
at android.os.Looper.loop(Looper.java:145)
at android.app.ActivityThread.main(ActivityThread.java:6946)
at java.lang.reflect.Method.invoke(Native Method)
at java.lang.reflect.Method.invoke(Method.java:372)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)
```
",https://github.com/commons-app/apps-android-commons/issues/56#issuecomment-184506160,"Is this still a problem after the null check, can we close it?
"
commons-app/apps-android-commons,"The app installs fine, I can log in, first sync starts. The file counter stops at 500 and doesn't proceed any further than that (I uploaded almost 1500 I believe) and the info on top says ""Waiting for first synchronisation"" (translated from Polish, not sure what the English text says). 

I can then proceed to take a photo, fill in the title and description (the text below reads ""The image will be shared under CCu00A0Uznanie autorstwa-Na tych samych warunkachu00A03.0"" - clearly it should be ""CC-Uznanie autorstwa-Na tych samych warunkach"", or something along those lines; all the license available in settings have wrong names as well). But when I click proceed, an error ""WystƒÖpi≈Ç b≈ÇƒÖd Commons."" (""A Commons error happened"") appears, with an option to send an email. Same thing happens when I try to upload a picture from the ones I took before. 

All in all, the app as it is now is unusable right now. I'd be happy to help though, just let me know how. 
",https://github.com/commons-app/apps-android-commons/issues/41#issuecomment-170910613,"Hi Halibutt,

Thanks for your feedback!
1. What version of Android are you using?
2. Does that also happen with the latest version? (1.6 released today)

I created a separate issue about the CC translation problem: https://github.com/nicolas-raoul/apps-android-commons/issues/42
"
commons-app/apps-android-commons,"Probably due to starting an upload and then beginning another one before the first one is finalized.
![screenshot_2015-11-01-15-45-38](https://cloud.githubusercontent.com/assets/99590/10877102/78f9d56e-8186-11e5-8d7f-1e76c0fccac6.png)
",https://github.com/commons-app/apps-android-commons/issues/27#issuecomment-153601451,"Hmm, I just tried that (beginning another one before the first one is finalized) and the notification disappears after the second one is done. Might be randomly occurring?
"
commons-app/apps-android-commons,"Because it creates a second shortcut in the Android launcher.

Probably as was done here:
https://github.com/brion/apps-android-commons/commit/ed2cec4ce3a87b57d630f2d830469acb9fcf762f

Plus removing dead code.
",https://github.com/commons-app/apps-android-commons/issues/13#issuecomment-149785822,"Do we want to remove the entire Campaigns feature or just the extra shortcut in the launcher? Removing the shortcut and the associated call to the Campaigns service is fairly easy. However there is a whole Campaigns folder that can't seem to be removed without extensive modification of the code in multiple places. Do we want all of that removed as well, or should we keep it in case others want to revive this feature in the future, and just remove the extra shortcut for now?
"
commons-app/apps-android-commons,"When clicking on a picture.
Either fix or remove
",https://github.com/commons-app/apps-android-commons/issues/12#issuecomment-231000728,"@nicolas-raoul This bug is quite interesting. I found the issue: In the displayMediaDetails() method of MediaDetailFragment.java, it handles images differently depending on whether the actualUri of the image being loaded starts with http:// (which means it's downloaded from commons, e.g. https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Takoyaki_2.jpg/640px-Takoyaki_2.jpg
) or anything else (usually device storage). It displays the desc/license/cats if it starts with http:// and not if it starts with anything else.

So I copied the code for displaying the desc/license/cats into the 'else' branch (see #160), and those fields aren't empty anymore. The catch is, the desc just says 'No description' and the cats says 'non selected'. I'm guessing this is because desc/license/cats aren't stored at all with the image on device storage. 

I'm not sure why some images are retrieved from the internet and some are retrieved from device storage. (Edit: Oh, okay, I think I understand why. It loads from device storage if the pic was uploaded from THAT device, and loads from internet if it was uploaded from a different device)

How do you think we should proceed with this? Do we want to try and make the app load everything from the internet? Or just remove the fields entirely?
"
commons-app/apps-android-commons,"The message ""waiting for first sync"" stays displayed for longer than seems necessary?

![screenshot_2015-09-07-18-15-34](https://cloud.githubusercontent.com/assets/99590/10874971/573b5382-8170-11e5-96ae-b887429764a7.png)
",https://github.com/commons-app/apps-android-commons/issues/1#issuecomment-153604288,"I can't seem to reproduce this bug, but I think it might have something to do with the fact that the clearSyncMessage() method in ContributionsListFragment.java is never called:

```
    private void clearSyncMessage() {
        waitingMessage.setVisibility(View.GONE);
    }
```

Assuming that the IF statement to display that message is correct:

```
 SharedPreferences prefs = this.getActivity().getSharedPreferences(""prefs"", Context.MODE_PRIVATE);
 String lastModified = prefs.getString(""lastSyncTimestamp"", """");
 if (lastModified.equals("""")) {
     waitingMessage.setVisibility(View.VISIBLE);
 }
```

Then I would probably need to call clearSyncMessage() at an appropriate time to fix this bug? But how do we know when the sync has occurred?
"
oshi/oshi,"Currently, I have two PCs: one desktop running on Ubuntu and another Mac. I used oshi to determine the details of hardware and OS on my respective computers.

Everything was looking good till I saw page size on ubuntu was showing 1B (which is actually 4KB). It was the same on Mac but there it was showing correctly. 

Attaching sample shortened code sample I used to get the page size:

    public Map<String, String> fetchOSDetails() {
        // something above.

        final SystemInfo si = new SystemInfo();
        final HardwareAbstractionLayer hal = si.getHardware();
        getMemoryDetails(hal.getMemory());

        // something below.
    }

    private void getMemoryDetails(final GlobalMemory memory) {
        osDetails.put(""RAM Total Space (MB)"", String.valueOf(memory.getTotal()/MEGA));
        osDetails.put(""RAM Available Space (MB)"", String.valueOf(memory.getAvailable()/MEGA));
        osDetails.put(""RAM Page Size (Byte)"", String.valueOf(memory.getPageSize())); <== Page size
    }

 Link to entire file can be found here: https://github.com/surajs1n/JIO/blob/master/src/main/java/io/os/OperatingSystemDetails.java

My ubuntu version: GNU/Linux Ubuntu 18.04.3 LTS (Bionic Beaver) build 4.15.0-72-generic
",https://github.com/oshi/oshi/issues/1059#issuecomment-565721525,"Interesting.  I test the Linux code on an Ubuntu VM and it works fine.  On Linux, the page size is determined from a call to [`sysinfo()`](http://man7.org/linux/man-pages/man2/sysinfo.2.html) returning the `mem_unit` value of the returned structure.

On closer inspection, however, nothing in the docs specifies that is page size.  Perhaps I should just use the `getconf PAGE_SIZE` output instead, as that's more standard.  Thoughts?"
oshi/oshi,I see that `OperatingSystem#getVersion` is deprecated in favor of `OperatingSystem#getVersionInfo`. It seems like the recommended version always has a null build number for Linux though (whereas the deprecated version is non-null). Is this intentional?,https://github.com/oshi/oshi/issues/1056#issuecomment-561411525,"When non-null was it still ""unknown""?  If I recall correctly there was some post-processing of the individual fields to create a display string.   I did intentionally leave some `null` results in the new format, although my reasoning was more laziness than whether I wanted to have the null have meaning."
oshi/oshi,"The SystemInfoTest does not seem to work on my Centos 7 install (on latest master commit `d7d2e9f8dd46dd4ce6dd1e787a15f4ce29626d10`).

```
$ ./mvnw test-compile -pl oshi-core -q exec:java   -Dexec.mainClass=""oshi.SystemInfoTest""   -Dexec.classpathScope=""test""
2019-12-03 13:21:40.938 [ERROR] LinuxOperatingSystem - Directory: /etc/init does not exist
2019-12-03 13:21:41.067 [ERROR] LinuxOperatingSystem - Directory: /etc/init does not exist
```

```
$ uname -a
Linux my-host 3.10.0-1062.4.3.el7.x86_64 #1 SMP Wed Nov 13 23:58:53 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
```

Version 3.13.4 seems to work though:
```
$ ./mvnw test-compile -pl oshi-core -q exec:java   -Dexec.mainClass=""oshi.SystemInfoTest""   -Dexec.classpathScope=""test""
2019-12-03 13:28:48.488 [INFO] SystemInfoTest - Initializing System...
GNU/Linux CentOS Linux 7.7.1908 (Core) build 3.10.0-1062.4.3.el7.x86_64
2019-12-03 13:28:48.526 [INFO] SystemInfoTest - Checking computer system...
...
```",https://github.com/oshi/oshi/issues/1055#issuecomment-561392408,Hmm.... maybe the logging level suppresses everything below ERROR?  The entire output should be logged....
oshi/oshi,"oshi 4.2.0
People getting this exception. No idea how to reproduce.
```
java.lang.ExceptionInInitializerError
    at oshi.SystemInfo.createOperatingSystem(SystemInfo.java:102)
    at oshi.util.Memoizer$1.get(Memoizer.java:84)
    at oshi.SystemInfo.getOperatingSystem(SystemInfo.java:95)
    at launcher.o.j.h(SourceFile:26)
    at launcher.o.j.i(SourceFile:30)
    at launcher.A.a.a(SourceFile:207)
    at launcher.v.e.a(SourceFile:118)
    at dk.xakeps.bootcamp.u.a(SourceFile:241)
    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(Unknown Source)
    at java.util.concurrent.ForkJoinTask.doExec(Unknown Source)
    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(Unknown Source)
    at java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)
    at java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)
Caused by: com.sun.jna.platform.win32.Win32Exception: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. (translated: Unknown interface)
    at com.sun.jna.platform.win32.Advapi32Util$EventLogIterator.<init>(Advapi32Util.java:2496)
    at oshi.software.os.windows.WindowsOperatingSystem.querySystemBootTime(WindowsOperatingSystem.java:646)
    at oshi.software.os.windows.WindowsOperatingSystem.<clinit>(WindowsOperatingSystem.java:103)
    ... 13 more
```",https://github.com/oshi/oshi/issues/1044#issuecomment-553420575,I suspect the counter registry code.  Can the user test 4.1.1?
oshi/oshi,"new SystemInfo().getOperatingSystem().getBitness()
is returning 32 bits when running a Java JRE 32 bits on 64 bits OS

Shouldn't it return 64 bits?",https://github.com/oshi/oshi/issues/1019#issuecomment-544972526,"The intent is to initially set JVM bitness, as we know that a 64 bit JVM means a 64-bit OS.  But if it's only 32, there is supposed to be a second OS-dependent check.  Which OS is not working?"
oshi/oshi,"final SystemInfo systemInfo = new SystemInfo();
systemInfo.getOperatingSystem().getProcesses(0, ProcessSort.PID)

On all process, getCommandLine always return null",https://github.com/oshi/oshi/issues/996#issuecomment-533603159,"I just asked which OS but realize the subject line says Windows.  Windows gets this from WMI, can you run the command `wmic path Win32_Process get ProcessID,CommandLine` and see what results you get?

Another thought -- the very first WMI call on WIndows sometimes has up to a 20-second delay due to RPC startup.  OSHI may timeout the query before it returns if this is the only query you're running."
oshi/oshi,"https://github.com/oshi/oshi/blob/686bb326ad0f13a090c174ab46ba7986b291e675/oshi-core/src/main/java/oshi/hardware/platform/windows/WindowsCentralProcessor.java#L256

should the processor arch be obtained from the dwOemID instead of pi.wProcessorArchitecture?

![image](https://user-images.githubusercontent.com/29592668/64826880-f54f8f80-d576-11e9-94cf-dc4869812d97.png)
",https://github.com/oshi/oshi/issues/990#issuecomment-531065991,"> should the processor arch be obtained from the dwOemID instead of pi.wProcessorArchitecture?

According to [the documentation](https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/ns-sysinfoapi-system_info), no.

> dwOemId
> An obsolete member that is retained for compatibility. Applications should use the wProcessorArchitecture branch of the union.

The issue is that this is a `Union` in JNA and it's reading the wrong member.  See https://github.com/java-native-access/jna/issues/1057.   Let me figure out how to get the right data.  I can put a temporary fix into OSHI to grab the correct bytes from the obsolete member, but the long term solution is to fix the JNA structure.
"
oshi/oshi,"Hi, according to [https://www.kernel.org/doc/Documentation/ABI/testing/procfs-diskstats](https://www.kernel.org/doc/Documentation/ABI/testing/procfs-diskstats) kernel 4.18+ contains 4 additional fields to log trim informations. Is OSHI counting from the end since the value for reads (field 4 in /proc/diskstats) now contains the value for writes (field 8 in /proc/diskstats).

Best regards,

   Space",https://github.com/oshi/oshi/issues/982#issuecomment-527915556,"OSHI does not read `/proc/diskstats`, but rather obtains that information from Udev.  Is Udev reporting the wrong info?"
oshi/oshi,"In 4.0.0, a new resource file ""default.properties"" was introduced.
The problem is that the same file would exist in other libs, so we do not know which one will be loaded when we try to get ""default.properties"" resource.
For example, if an application contains both Felix and Oshi libraries, it crashes on start sometimes (because a random ""default.properties"" resource file is loaded).
I reckon there could be other libraries with ""default.properties"" file inside. Renaming this file (for example, with ""oshi.properties"") will prevent possible conflicts with any other libraries.",https://github.com/oshi/oshi/issues/974#issuecomment-526465411,"I'm not opposed to renaming, but I'm curious why there is a crash on start with some libraries?   If OSHI doesn't find the configurations it wants in a file from another lib it should just ignore it.  What program is crashing?  Is it not possible to have a single default.properties with configuration for multiple applications?"
oshi/oshi,"Hello,

As the title says there is handle leak in class WindowsDisplay method getDisplays()
https://github.com/oshi/oshi/blob/master/oshi-core/src/main/java/oshi/hardware/platform/windows/WindowsDisplay.java#L76
```java
        WinNT.HANDLE hDevInfo = SetupApi.INSTANCE.SetupDiGetClassDevs(monitorGuid, null, null,
                SetupApi.DIGCF_PRESENT | SetupApi.DIGCF_DEVICEINTERFACE);
```
This handle `hDevInfo` is allocated and never closed",https://github.com/oshi/oshi/issues/969#issuecomment-525473919,"Hi. Can I take a stab at this? While I have been on github for quite sometime, I have never really contributed to open-source projects."
oshi/oshi,"In the class **DetectVM** (package _oshi.demo_), the method _findOuiByMacAddressIfPossible_ returns an empty string if no entry was found in the _vmMacAddressOUI_ map. However, the result is checked to null (not empty String), which means that the method always ends after the MAC address check.",https://github.com/oshi/oshi/issues/908#issuecomment-512511505,Hi @dbwiddis. I haven't contributed to open source before and would like to give it a go. Do you mind if I contribute?
oshi/oshi,"Environment: Docker container tomcat:9

test fail during building.

`
[INFO] Running oshi.hardware.CentralProcessorTest
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.532 s <<< FAILURE! - in oshi.hardware.CentralProcessorTest
[ERROR] testCentralProcessor  Time elapsed: 0.531 s  <<< FAILURE!
java.lang.AssertionError
	at oshi.hardware.CentralProcessorTest.testCentralProcessor(CentralProcessorTest.java:83)
`",https://github.com/oshi/oshi/issues/900#issuecomment-506637863,"Line 83 is:
`       assertTrue(p.getPhysicalProcessorCount() >= p.getPhysicalPackageCount());`
These numbers are populated by counting values in `/proc/cpuinfo`.

Can you provide the output of `cat /proc/cpuinfo` run from inside the container?"
oshi/oshi,"I'm trying to get the current CPU temperature but always get zero's back from the getCpuTemperature() method.

We use version 3.12.2 but the same occurs with 3.12.0 (no other versions tried).

Files temp1_input until temp6_input exists at /sys/class/hwon/hwon0/ exists and holds values like 43000.

From logging I can see the following from FileUtil:
""Reading file temp3_input"" 
""Reading file temp4_input"" 
""Reading file temp5_input"" 
""Reading file temp1_input"" 
""Reading file temp2_input"" 
Not sure, but it looks like the FileUtil is not getting the pull path and only the sensor?

Are any issues known with this setup?

Environment:
<artifactId>oshi-core</artifactId>
<groupId>com.github.oshi</groupId>
<version>3.13.2</version>

Centos 7.6.1810 

",https://github.com/oshi/oshi/issues/854#issuecomment-491150113,"> Not sure, but it looks like the FileUtil is not getting the pull path and only the sensor

Yep, `LinuxSensors.java` line 66 does `FileUtil.getIntFromFile(f.getName())` but it needs to be the full path/name of the file on that line.  Can you test this fix and possibly submit a PR?"
oshi/oshi,"operatingSystem:ubuntu 18.04 
tools: IDEA 2019.1
version:3.13.0
jdk:1.8


code:
```java
try {
            List<OSProcess> procs = Arrays.asList(operatingSystem.getProcesses(5, OperatingSystem.ProcessSort.MEMORY, false));

            System.out.println(""   PID  %CPU %MEM       VSZ       RSS Name"");
            for (int i = 0; i < procs.size(); i++) {
                OSProcess p = procs.get(i);
                System.out.format("" %5d %5.1f %4.1f %9s %9s %s%n"", p.getProcessID(),
                        100d * (p.getKernelTime() + p.getUserTime()) / p.getUpTime(),
                        100d * p.getResidentSetSize() / memory.getTotal(), FormatUtil.formatBytes(p.getVirtualSize()),
                        FormatUtil.formatBytes(p.getResidentSetSize()), p.getName());
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
```

output:
```java
java.lang.StringIndexOutOfBoundsException: String index out of range: 63
	at java.lang.String.substring(String.java:1963)
	at oshi.software.os.linux.LinuxOperatingSystem.getProcess(LinuxOperatingSystem.java:218)
	at oshi.software.os.linux.LinuxOperatingSystem.getProcesses(LinuxOperatingSystem.java:188)
	at cn.ljtnono.SystemInfoUtil.getProccessors(SystemInfoUtil.java:129)
	at cn.ljtnono.SystemInfoUtil.main(SystemInfoUtil.java:65)
```

or sometimes maybe all right:
```java
PID  %CPU %MEM       VSZ       RSS Name
 26742  16.0 22.5   5.0 GiB   1.7 GiB java
 27673   2.1 10.7   4.7 GiB 836.9 MiB java
  1796   7.2  6.4   4.1 GiB 506.1 MiB gnome-shell
  2570   2.0  4.2   1.7 GiB 332.5 MiB chrome
  2849   0.2  2.7   1.9 GiB 208.7 MiB chrome

```
as you see, it is unstable.. 

",https://github.com/oshi/oshi/issues/833#issuecomment-482640940,"Hello, 
Can I work on this ?
I made a fix on my local feature branch like below:
```
     if (size > 0) {
            String tmp = buf.getString(0);
            int requiredOffset;
            if(size < tmp.length())
                requiredOffset = size;
            else
                requiredOffset = tmp.length();
            path = tmp.substring(0, requiredOffset);
     }
````

But couldn't push my feature branch.
Please let me know.

Cheers,
Janani"
oshi/oshi,"It looks like OSFileStore.getUsableSpace() has the same value as Java's getFreeSpace() instead of Java's getUsableSpace().

I tried to get the available disk space on my Ubuntu 14.04. Following are the results. I was expecting to get 866.7 MiB for the usableSpace from OSHI but got the value 5.8GiB instead.

java 8:
/: total:97.1 GiB free:5.8 GiB usable:866.7 MiB

oshi:
/: total=97.1 GiB usable=5.8 GiB

df -h:
/dev/mapper/ubuntu--vg-root   98G   92G  861M 100% /

From the source code below, The usableSpace is taken from vfsStat.f_bfree.longValue(). Shouldn't it be taken from vfsStat.f_bavail.longValue() instead?
```       
try {
                LibC.Statvfs vfsStat = new LibC.Statvfs();
                if (0 == LibC.INSTANCE.statvfs(path, vfsStat)) {
                    totalInodes = vfsStat.f_files.longValue();
                    freeInodes = vfsStat.f_ffree.longValue();
                    totalSpace = vfsStat.f_blocks.longValue() * vfsStat.f_bsize.longValue();
                    usableSpace = vfsStat.f_bfree.longValue() * vfsStat.f_bsize.longValue();
                } else {
                    File tmpFile = new File(path);
                    totalSpace = tmpFile.getTotalSpace();
                    usableSpace = tmpFile.getUsableSpace();
                    LOG.error(""Failed to get statvfs. Error code: {}"", Native.getLastError());
                }
```
OSHI version used: 3.13.0
",https://github.com/oshi/oshi/issues/820#issuecomment-473058618,"You're correct that it's matching the `getFreeSpace()` value, but the documentation for `getUsableSpace()` seem to imply it's for the JVM rather than for the operating system:

> getUsableSpace() Returns the number of bytes available to this Java virtual machine on the file store.

It's possible we might prefer `getUnallocatedSpace()` instead.  Or does that match OSHI's ""free""?"
oshi/oshi,"I was planning on working on #803, but I got distracted and @yehia67 beat me to it.

However, unless I'm mistaken, the portion of code addressed by #803 doesn't seem to be correct.  An exception is being thrown if the class being checked IS a subclass of `PdhCounterProperty`, which seems to be the opposite of the intent.

Also, the class passed to isAssignableFrom is the class containing the ""property enum"" (which, as you noted, is null if the enum is a top-level class) instead of the enum's class itself.  Instead, I believe it should be the following:

`if (!PdhCounterProperty.class.isAssignableFrom(propertyEnum)) {`

This causes another problem as the `PerfCounterWildcardQuery` constructor also invokes the `PdhCounterProperty` constructor.  The end result is that a property enum passed to `PerfCounterWildcardQuery` would be required to implement both `PdhCounterProperty` and `PdhCounterWildcardProperty`.  

",https://github.com/oshi/oshi/issues/806#issuecomment-465396535,"Wow, good catch.  Yes, the test is clearly missing the `!` but fortunately(?)  the test is wrong so the exception is never thrown!

A proper junit test would have caught this, of course. ;)

Can you submit the fix?"
oshi/oshi,"I wrote a simple clojure program, using oshi, to analyze the hardware environment my program was running on. The issue I was investigating was that another clojure program seemed to be utilizing cores only on a single cpu even though there are two physical cpus available on the system.

This is what oshi detected for me

os  #<WindowsOperatingSystem Microsoft Windows Server 2016 build 14393>
processor  #<WindowsCentralProcessor Intel(R) Xeon(R) Gold 6138 CPU @ 2.00GHz>
physical cpus  1
physical cpu cores  20
logical cpus  40

The code for printing these being
(defn- print-hw-info []
  (let [sys  (SystemInfo.)
        hw   (.getHardware sys)
        proc (.getProcessor hw)
        os   (.getOperatingSystem sys)]
    (println ""system info from oshi library"")
    (println ""os "" os)
    (println ""processor "" proc)
    (println ""physical cpus "" (.getPhysicalPackageCount proc))
    (println ""physical cpu cores "" (.getPhysicalProcessorCount proc))
    (println ""logical cpus "" (.getLogicalProcessorCount proc))))

Runtime.availableProcessors() also returns 40

However, in task manager's Performance tab it says Sockets 2, Cores 40, Logical processors 80. Thus, it appears oshi/the jvm is not seeing them all, only the ones on a single processor.

This is not a virtual machine, so I would assume both the processors being available.

Thus, it appears oshi is able to detect only the other processor.

I am still investigating why the java process only utilizes a singe cpu, but that's a separate matter, albeit the root cause may very well be related.

oshi 3.6.0
clojure version  1.6.0
   java.version : 1.8.0_202
    java.vendor : Oracle Corporation
java.vm.version : 25.202-b08
",https://github.com/oshi/oshi/issues/785#issuecomment-457943730,Do you know if the two sockets use NUMA?  
oshi/oshi,"Hi, I have a problem since some times now :

I am using oshi in a java application that is started as a service on windows 10 LTSB with an admin account.

The problem is for this code : 

`		final SystemInfo si = new SystemInfo();
		final HardwareAbstractionLayer hal = si.getHardware();
		final ComputerSystem computerSystem = hal.getComputerSystem();`

The last line result in a NPE : 

`java.lang.NullPointerException: null
	at oshi.util.platform.windows.WmiUtil.queryWMI(WmiUtil.java:140)
	at oshi.hardware.platform.windows.WindowsComputerSystem.init(WindowsComputerSystem.java:61)
	at oshi.hardware.platform.windows.WindowsComputerSystem.<init>(WindowsComputerSystem.java:55)
	at oshi.hardware.platform.windows.WindowsHardwareAbstractionLayer.getComputerSystem(WindowsHardwareAbstractionLayer.java:43)
	at infos.SystemInfos.getSystemInfos(SystemInfos.java:53)`


It doesn't seems to be a problem with WMI not ready as if I stop my service, and start it manually (from the service application) I still have this problem.",https://github.com/oshi/oshi/issues/719#issuecomment-445781792,"The NPE is on a line processing a COMException from JNA, for which the `HRESULT` is allowed to be `null`.  We need to check for that null.  Can you submit a PR?  If not, i'll toss this one to the first-timers-only list."
oshi/oshi,"java.lang.AssertionError
        at oshi.hardware.PowerSourceTest.testPowerSource(PowerSourceTest.java:39)

",https://github.com/oshi/oshi/issues/706#issuecomment-443942591,Looks like the failing test is `assertTrue(ps.getRemainingCapacity() >= 0 && ps.getRemainingCapacity() <= 1);`.   Can you print out the power source stats so we know which one? (And which OS you're using it on.)
oshi/oshi,"running off of 3.10-snapshot on windows 12 server x64.  It some cases, i was seeing it report something like 15 minutes uptime, however the system had been running for several hours. Where does oshi get system boot time/uptime from? It is effected by changes to the system clock by chance?

windows 10 can also report strange values for this, but they correlate to what task manager shows and all the other mechanisms available via command line. it probably only resets itself after a hard shutdown or something, the ""normal"" shutdown/power off is some kind of hibernation mechanism design to speed up boot time.",https://github.com/oshi/oshi/issues/684#issuecomment-440780198,Have you looked into this any more to compare the results of the various methods/counters?
oshi/oshi,"USER_HZ constant calculated incorrectly and so getKernelTime, getUserTime and getUpTime methods of OSProcess class returns incorrect results.

Code example:

    private void run() {
        for (int i = 0; i < 100000000; i++) {
            System.out.println(""-----------------------------------------"");
            printProcessCpuInfo();
            System.out.println(""========================================="");
        }
    }

    void printProcessCpuInfo() {
        final SystemInfo si = new SystemInfo();
        final OperatingSystem os = si.getOperatingSystem();

        // this process
        final int processId = os.getProcessId();
        final OSProcess osProcess = os.getProcess(processId);

        try {
            Thread.sleep(1000);
        }
        catch (InterruptedException ignored) {
        }

        System.out.println(""now: "" + new Date().getTime());
        System.out.println(""System.nanoTime(): "" + System.nanoTime());
        System.out.println(""process.start_time: "" + osProcess.getStartTime()); // here OK
        System.out.println(""process.cpu.kernel_usage_ms: "" + osProcess.getKernelTime()); // it's too large
        System.out.println(""process.cpu.user_usage_ms: "" + osProcess.getUserTime());  // it's too large
        System.out.println(""process.cpu.up_time: "" + osProcess.getUpTime()); // here always 1
        System.out.println(""process.cpu.usage_percent: "" + osProcess.calculateCpuPercent()); // here we have very large values due getUpTime works incorrectly
    }

Output example:

now: 1542464204617
System.nanoTime(): 90196842438436
process.start_time: 1542464203607
process.cpu.kernel_usage_ms: 1705
process.cpu.user_usage_ms: 10029
process.cpu.up_time: 1
process.cpu.usage_percent: 11734.0

now: 1542464205623
System.nanoTime(): 90197848765779
process.start_time: 1542464204618
process.cpu.kernel_usage_ms: 1735
process.cpu.user_usage_ms: 10058
process.cpu.up_time: 1
process.cpu.usage_percent: 11793.0

In this time HTOP displays time 4.01 seconds.

before stop application:
$ cat /proc/14826/stat | awk '{print ""PPID: "" $4 "" USER_TIME: "" $14 "" KERNEL_TIME: "" $15 "" PRIORITY: "" $18 "" THREAD_COUNT: "" $20 "" START_TIME: "" $22 "" VSZ: "" $23 "" RSS: "" $24}'
PPID: 14754 USER_TIME: 290 KERNEL_TIME: 46 PRIORITY: 20 THREAD_COUNT: 19 START_TIME: 26330527 VSZ: 11364433920 RSS: 27482

$ cat /proc/uptime 
263616.17 276045.52

uptime in htop: 3 days + 1hour...

While debugging library code I see that USER_HZ=36 but according my calculation it must be approx 10.

My platform:

$ uname -orp
4.15.0-39-generic x86_64 GNU/Linux

$ java -version
java version ""1.8.0_191""
Java(TM) SE Runtime Environment (build 1.8.0_191-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)

",https://github.com/oshi/oshi/issues/683#issuecomment-439650009,"Thanks for the detailed report and debugging info.
OSHI calculates the HZ value by the ratio of the system idle time in seconds (second field of `/proc/uptime`) and system idle time (fourth numeric field in first (""cpu"") line of `/proc/stat`).

Can you please post the `/proc/uptime` (again) and `/proc/stat` outputs so I can review these calculations?"
oshi/oshi,"seems that /etc/os-release does not contain minor version in CentOs, but /etc/system-release does. detection of os version stops after /etc/os-release version is obtained from first file, this lead to lack of minor release number in OperatingSystemVersion::getVersion()

I've checked also on RHEL, and there is no /etc/os-release, so version is read fully from /etc/system-release

Here is what I get on my CentOS host

> cat /etc/os-release
NAME=""CentOS Linux""
VERSION=""7 (Core)""
ID=""centos""
ID_LIKE=""rhel fedora""
VERSION_ID=""7""
PRETTY_NAME=""CentOS Linux 7 (Core)""
ANSI_COLOR=""0;31""
CPE_NAME=""cpe:/o:centos:centos:7""
HOME_URL=""https://www.centos.org/""
BUG_REPORT_URL=""https://bugs.centos.org/""

CENTOS_MANTISBT_PROJECT=""CentOS-7""
CENTOS_MANTISBT_PROJECT_VERSION=""7""
REDHAT_SUPPORT_PRODUCT=""centos""
REDHAT_SUPPORT_PRODUCT_VERSION=""7""

> cat /etc/system-release 
CentOS Linux release 7.4.1708 (Core)
",https://github.com/oshi/oshi/issues/682#issuecomment-439417959,Care to take a crack at a PR to fix this?
oshi/oshi,"Hi, I'm seeing slight changes in getStartTime() of an OSProcess over time, e.g. 1541364765715 vs 1541364765732. Some funky calculation behind that causing this jitter?

I tried to find out whether a process with the same PID is actually the same process by matching on the start time. That doesn't work like this then...

Not a bad issue, but I need some way to find out if process with PID x is still the same one as the last process with that PID.",https://github.com/oshi/oshi/issues/676#issuecomment-437592440,Yes there is a funky calculation.  Which OS?  Off the top of my head I think you can call it equal if within 200 ms... 
oshi/oshi,"

Exception in thread ""main"" java.lang.NoSuchMethodError: com.sun.jna.platform.win32.WinNT$PSID.createFieldsOrder(Ljava/lang/String;)Ljava/util/List;
	at com.sun.jna.platform.win32.WinNT$PSID.<clinit>(WinNT.java:354)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at com.sun.proxy.$Proxy0.<clinit>(Unknown Source)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at java.lang.reflect.Proxy.newProxyInstance(Proxy.java:739)
	at com.sun.jna.Native.loadLibrary(Native.java:415)
	at com.sun.jna.platform.win32.Advapi32.<clinit>(Advapi32.java:70)
	at oshi.software.os.windows.WindowsOperatingSystem.enableDebugPrivilege(WindowsOperatingSystem.java:639)
Disconnected from the target VM, address: '127.0.0.1:56285', transport: 'socket'
	at oshi.software.os.windows.WindowsOperatingSystem.<clinit>(WindowsOperatingSystem.java:109)
	at oshi.SystemInfo.getOperatingSystem(SystemInfo.java:92)
	at org.wikience.chronos.common.monitor.OSAndHWInfoCollector.<clinit>(OSAndHWInfoCollector.java:22)
	at org.wikience.FileStorePerfTest.main(FileStorePerfTest.java:27)",https://github.com/oshi/oshi/issues/669#issuecomment-434020754,"The subject line refers to Hardware/DiskStores but the stack trace shows the error in the initialization of WindowsOperatingSystem.

Based on the error being in `createFieldsOrder` I suspect this is related to our recent move to JNA 5.0.0 which has new `@FieldOrder` annotation in the structures (such as `PSID`).  Can you confirm you've updated your dependencies, particularly JNA 5.0.0?"
oshi/oshi,"AS the title says , I am using Manjaro and the cpu temperature from `sensor.getCpuTemperature()` is always returning 0.0.
Debugging it shows that this line in` LinuxSensors` : 
`long millidegrees = FileUtil.getLongFromFile(String.format(""%s1_input"", hwmon));`
is returning 0.0.
Then it tries to get info from this snippet : 
```
 for (int i = 2; i <= 6; i++) {
            millidegrees = FileUtil.getLongFromFile(String.format(""%s%d_input"", hwmon, i));
            if (millidegrees > 0) {
                sum += millidegrees;
                count++;
            }
}
```
This also fails , 
Then it goes to this : 
` millidegrees = FileUtil.getLongFromFile(String.format(""%s"", hwmon));`
And also it is giving 0.0.
The main reason is that the temp1_input file it attempts to read is of unknown type and cannot be read (on manjaro only I guess?)

**Alternate Proposed Solution**
After searching the net , I found this possible solution that the cpu temperature is residing inside this file : 
`/sys/class/thermal/thermal_zone0/temp.`
I have edited` LinuxSensors` to also go through this file and check for temperature and it is working now.
https://github.com/BilalAM/oshi/blob/master/oshi-core/src/main/java/oshi/hardware/platform/linux/LinuxSensors.java
(Line numbers 105-108 and 147-154)",https://github.com/oshi/oshi/issues/649#issuecomment-428325508,"Don't we already read that source as-of #354?  See lines 64-75.  If that's not working, there's a bug.

Can you be more clear on what ""can not be read (on manjaro)"" means?  Should we be looking for a return value from a file rather than just checking the file's existence?"
oshi/oshi,"Version: 3.8.4
OS: Windows 10 Pro that runs as a Jenkins slave

When trying to call new SystemInfo().getHardware().getProcessor() we get the following

```
[main] WARN oshi.util.platform.windows.PerfDataUtil - Failed to add PDH Counter: \Memory\Pages Input/sec, Error code: 0x800007D0
[main] WARN oshi.util.platform.windows.PerfDataUtil - Failed to add PDH Counter: \Paging File(_Total)\% Usage, Error code: 0x800007D0
[main] WARN oshi.util.platform.windows.WmiUtil - COM exception querying Win32_PerfRawData_PerfOS_Memory, which might not be on your system. Will not attempt to query it again. Error was: (HRESULT: 80041003) (puArgErr=):
Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 18.626 sec <<< FAILURE! - in xxx
xxx Time elapsed: 15.935 sec  <<< ERROR!
java.lang.ExceptionInInitializerError: null
	at com.sun.jna.platform.win32.Advapi32Util.registryGetStringArray(Advapi32Util.java:772)
	at oshi.jna.platform.windows.PdhUtil.PdhLookupPerfIndexByEnglishName(PdhUtil.java:99)
	at oshi.hardware.platform.windows.WindowsCentralProcessor.<clinit>(WindowsCentralProcessor.java:68)
	at oshi.hardware.platform.windows.WindowsHardwareAbstractionLayer.getProcessor(WindowsHardwareAbstractionLayer.java:64)
```

Could be related to https://github.com/oshi/oshi/issues/642

Could be related to https://github.com/java-native-access/jna/issues/101",https://github.com/oshi/oshi/issues/643#issuecomment-427382565,"The PDH error is 0x800007D0 ""Unable to connect to the specified computer, or the computer is offline."" The WMI error is 0x80041003, ""Access Denied"".  

I don't think it's related to either of the links you mentioned but I'm guessing with both WMI and performance counters failing there is some sort of permissions/access error involved here.  Are perfmon counters turned on?  Does the `wmic` command line work?"
oshi/oshi,"Version: 3.8.4
OS: Windows 10 Pro that runs as a Jenkins slave

When trying to use WindowsOperatingSystem.getProcesses() to fetch the processes I get the following

```
 java.lang.IllegalArgumentException: Structure exceeds provided memory bounds
 	at com.sun.jna.Memory.boundsCheck(Memory.java:220)
 	at com.sun.jna.Memory$SharedMemory.boundsCheck(Memory.java:95)
 	at com.sun.jna.Memory.share(Memory.java:144)
 	at com.sun.jna.Structure.useMemory(Structure.java:342)
 	at com.sun.jna.Structure.<init>(Structure.java:191)
 	at com.sun.jna.Structure.<init>(Structure.java:182)
 	at com.sun.jna.Structure.<init>(Structure.java:178)
 	at oshi.jna.platform.windows.WinPerf$PERF_OBJECT_TYPE.<init>(WinPerf.java:137)
 	at oshi.software.os.windows.WindowsOperatingSystem.updateProcessMapFromRegistry(WindowsOperatingSystem.java:483)
 	at oshi.software.os.windows.WindowsOperatingSystem.processMapToList(WindowsOperatingSystem.java:294)
 	at oshi.software.os.windows.WindowsOperatingSystem.getProcesses(WindowsOperatingSystem.java:237)
```

The problem doesn't reproduce always though. It reproduces with both
os.getProcesses(0, ProcessSort.PID)
os.getProcesses(1024, ProcessSort.PID)
so the parameters probably don't matter.

",https://github.com/oshi/oshi/issues/642#issuecomment-427423674,Any chance you can instrument `WindowsOperatingSystem.java` to find out what error is returned in your case from the `Advapi32.INSTANCE.RegQueryValueEx()` call on line 150?  That's what we need to intercept and fail gracefully (with log error message about permissions.)
oshi/oshi,"Following call
```
os.getProcesses(0, OperatingSystem.ProcessSort.NAME);
```
can crash with
```
com.sun.jna.platform.win32.Win32Exception: The parameter is incorrect.
	at com.sun.jna.platform.win32.Advapi32Util.getAccountBySid(Advapi32Util.java:282)
	at com.sun.jna.platform.win32.Advapi32Util.getAccountBySid(Advapi32Util.java:248)
	at com.sun.jna.platform.win32.Advapi32Util.getTokenAccount(Advapi32Util.java:506)
	at oshi.software.os.windows.WindowsOperatingSystem.processMapToList(WindowsOperatingSystem.java:367)
	at oshi.software.os.windows.WindowsOperatingSystem.getProcesses(WindowsOperatingSystem.java:237)
```
Seen with OSHI 3.8.2 and Microsoft Windows Server 2012 R2 build 9600",https://github.com/oshi/oshi/issues/637#issuecomment-425955713,Is this repeatable (and can you get information about the process causing it) or was this a one-off error?  It looks like there's possibly a race condition if a process ends between opening its handle and getting its token.
oshi/oshi,"I revisited an old side project and decided to update from oshi-3.4.4 to oshi-3.8.1, and now the OSProcess methods return static values (mostly zero).

This is the calling code:
```java
logger.trace(""oshi pid={}, threads={}, getKernelTime()={}, getUserTime()={}"",
                                osProcess.getProcessID(),
                                osProcess.getThreadCount(),
                                osProcess.getKernelTime(),
                                osProcess.getUserTime()
                            );
```

With oshi-3.4.4:
```
2018-09-06 11:59:47.484 TRACE 10986 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=118, getKernelTime()=369266, getUserTime()=886783966
2018-09-06 11:59:52.502 TRACE 10986 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=119, getKernelTime()=369277, getUserTime()=886789588
2018-09-06 11:59:57.521 TRACE 10986 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=119, getKernelTime()=369277, getUserTime()=886795222
```

With oshi-3.8.1:
```
2018-09-06 12:00:47.395 TRACE 14135 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=0, getKernelTime()=0, getUserTime()=210066
2018-09-06 12:00:52.416 TRACE 14135 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=0, getKernelTime()=0, getUserTime()=210066
2018-09-06 12:00:57.430 TRACE 14135 --- [pool-1-thread-1] c.k.m.myapp.tasks.ProcessMonitorTask    : oshi pid=18921, threads=0, getKernelTime()=0, getUserTime()=210066
```

Is there something obvious that I am missing here?",https://github.com/oshi/oshi/issues/610#issuecomment-419109164,Which operating system?
oshi/oshi,"Hi,
I am running my java application as windows service using apache procrun. there is issue in oshi api when we do getProcesses or getProcess then it freezes and never come back. i couldsnt see anything getting print in my log after these calls. Please check this issue.",https://github.com/oshi/oshi/issues/584#issuecomment-412205627,"We have earlier had reports of delays/hangs when OSHI starts as a service before WMI has fully started.  See #441.  In that case, changing the service from auto start to delay start fixed the problem.

As a debugging step, can you try manually starting the service after the rest of Windows starts up and see if it works then?   If so, either the delay start, or writing a registry key to have the service depend on the WMI service(s) can make a more permanent solution."
oshi/oshi,"I was trying to use the example on Oshi ReadMe (Process information including CPU and memory per process is available). which is printing per processes information like %cpu, %mem etc. but i notice that %cpu is always increasing upto 100%. Once reached 100%, it is not coming down. Just want to know that what is this %cpu means? I have attached the logs and code snippet i am using. I am monitoring multiple java processes in some parent agent process which periodically checks this per process stats like %cpu, %mem etc. If i do some cpu intensive work on on my java processes than it is going upto 100% and then never coming back. This is %cpu is nothing but (100d * kernel time + user time) / uptime  aa per your business logic.

attached log and code snippet:
[logs-analsis-issue.txt](https://github.com/oshi/oshi/files/2261743/logs-analsis-issue.txt)


Please help me to understand the behaviour or confirm if this is bug?",https://github.com/oshi/oshi/issues/579#issuecomment-410749397,"Happy to try to help here, but need a bit more info.  What is your operating system (so I know which implementation to debug)?  Any chance you can display a sequence of the raw tick values for kernel, user, and uptime so we can see which one's increasing (or not increasing, if that's the issue).

Note that in a multiprocessor system with a multithreaded process it is possible for a process to exceed 100%.  OSHI caps that number at 100, but it's entirely possible you're on a quad-core system and the ""true"" value is bouncing around 150% or so (out of a max of 400%).

Also note that the calculation you quoted is the cumulative time of the process so it will be slow to react even if your process ends.  To get a snapshot you'd calculate the difference in kernel and user since the previous collection, and divide by the difference in uptime."
oshi/oshi,"A lot of ""Failed to add PDH Counter"" errors are logged when running the test program on my PC, but the same program run fine without any errors on my AWS VM.

exemple of errors logged (trying to access memory informations) : 
```
[main] ERROR oshi.util.platform.windows.PerfDataUtil - Failed to add PDH Counter: \M√©moire\Pages en entr√©e/s, Error code: 0xC0000BB8
[main] ERROR oshi.util.platform.windows.PerfDataUtil - Failed to add PDH Counter: \M√©moire\Pages en sortie/s, Error code: 0xC0000BB8
[main] ERROR oshi.util.platform.windows.PerfDataUtil - Failed to add PDH Counter: \Fichier d?√©change(_Total)\Pourcentage d?utilisation, Error code: 0xC0000BB8
```
my system details : 
Windows 10 x64 - french
JDK 10.0.2
",https://github.com/oshi/oshi/issues/578#issuecomment-410455844,"Can you run the Windows Performance Monitor (`perfmon.exe`) on your PC and try to add the counters producing the errors, and identify what the correct string for them is?"
oshi/oshi,"Hello. I'm trying to get information about disks on Windows.
WindowsDisk().getDisks() throws 
`Exception in thread ""main"" java.lang.IllegalArgumentException: Allocation size must be greater than zero
        at com.sun.jna.Memory.<init>(Memory.java:111)
        at oshi.jna.platform.windows.PdhUtilJNA.PdhEnumObjectItemInstances(PdhUtilJNA.java:173)
        at oshi.hardware.platform.windows.WindowsDisks.populateReadWriteMaps(WindowsDisks.java:252)
        at oshi.hardware.platform.windows.WindowsDisks.getDisks(WindowsDisks.java:197)
        at oshi.hardware.platform.windows.WindowsHardwareAbstractionLayer.getDiskStores(WindowsHardwareAbstractionLayer.java:82)`

Target OS: 

- Windows Server 2008 R2 SP1 (Enterprise) build 7601
- Windows 10 build 17134

What am I doing wrong?
",https://github.com/oshi/oshi/issues/550#issuecomment-404843828,"OSHI assumes it can get read/write information from the Performance Counters.  This is obviously failing in your case.  Possibilities:  (1) Performance Data disabled.  (2) Non-English locale.

Can you run `PerfMon.exe` and see if you have any counter entries for `PhysicalDisk`?

In any case, I need to zero-check the result in the Util method..."
oshi/oshi,"Phew, I finally tracked it down. updateDiskStats() is eating my RAM!!

[Demo program in JavaX.](http://tinybrain.de/1016414) (Basically it just calls updateDiskStats on all disks again and again.)

Output:

```
Java version: 10.0.1
Updates: 1 - process size: 150 MB
Updates: 1287 - process size: 216 MB
Updates: 2719 - process size: 294 MB
Updates: 4360 - process size: 380 MB
Updates: 6031 - process size: 473 MB
Updates: 8032 - process size: 575 MB
Updates: 10206 - process size: 701 MB
Updates: 12177 - process size: 801 MB
Updates: 14405 - process size: 915 MB
Updates: 16457 - process size: 1015 MB
Updates: 18693 - process size: 1129 MB
More than 1 GB used!! Emergency exit.
```

It's escalating to a GB in a few seconds :)",https://github.com/oshi/oshi/issues/521#issuecomment-397879447,I assume this is Linux?   Any hints on which object(s) aren't being recycled?
oshi/oshi,"Hi,

I build from current GitHub with ""mvn package"" on 64 Bit Linux. I get this (reproducibly):

```
testDisks(oshi.hardware.DisksTest)  Time elapsed: 0.071 sec  <<< FAILURE!
java.lang.AssertionError
	at oshi.hardware.DisksTest.testDisks(DisksTest.java:85)
```

What's that about? Can I build without the tests?

Many greetings",https://github.com/oshi/oshi/issues/510#issuecomment-396381482,Can you manually check your disk read operations statistic (OSHI gets it from udev... I think the devstat command gives same values) and see why they aren't increasing (or at a minimum staying the same)?
oshi/oshi,"Solaris 11.3 SPARC.
Java 1.8.0_161-b12
oshi 3.4.4. and 3.5.0
A SIGSEGV fatal error is thrown when the CentralProcessor is instancianted using the following code:
_new SystemInfo().getHardware().getProcessor();_
I've attached the core dump below.

The error happens in the _getProcessorCpuLoadTicks_ method of the **SolarisCentralProcessor** class.
One of the three _KstatUtil.kstatDataLookupLong_ call is throwing the error.  I wasn't able to reproduce the error on my Solaris 11.3 x86 VM. 

Do you have any clue on why this is happening ?

[hs_err_pid15717.log](https://github.com/oshi/oshi/files/2012555/hs_err_pid15717.log)

",https://github.com/oshi/oshi/issues/493#issuecomment-389564203,"Uh oh.  

Glad I've got someone to test on actual hardware and find these.  The log actually appears to show the error in `KstatUtil.kstatDataLookupString` in one of the calls in `initVars()`.  The offending line is the `kstat_data_lookup()` method call from LibKstat.

Can you throw in some more debug statements to see which one of the lookups is failing (or all?) and what your actual kstat value(s) are for the problematic stats?"
oshi/oshi,"The Processor count retrieval on Oracle Solaris 11.3 SPARC doesn't work as expected.
When the **CentralProcessor** is retrieved with the following command
_CentralProcessor processor = new SystemInfo().getHardware().getProcessor();_
the following error is displayed in the output:
ERROR oshi.hardware.platform.unix.solaris.SolarisCentralProcessor - Couldn't find logical processor count. Assuming 1.

The issue happens in the _calculateProcessorCounts_ method of the **SolarisCentralProcessor** class.
The command **psrinfo -pv** doesn't return any string that is matched with the _PSRINFO_ pattern.
Here's an example of what the function actually returns:

> The physical processor has 2 cores and 16 virtual processors (0-15)
> The core has 8 virtual processors (0-7)
> The core has 8 virtual processors (8-15)
> sun4v-cpu (chipid 0, clock 2998 MHz)  

The issue can be fixed by using the following pattern:
`.*physical processor has (\\d+) cores and (\\d+) virtual processors.*`

and by changing the matching block a bit:
```
for (String cpu : ExecutingCommand.runNative(""psrinfo -pv"")) {
    Matcher m = PSRINFO.matcher(cpu.trim());
    if (m.matches()) {
        this.physicalProcessorCount = Integer.parseInt(m.group(1));
        this.logicalProcessorCount = Integer.parseInt(m.group(2));
    }
}
```

Do you have a different output of the psrinfo command on other versions of Solaris ?

",https://github.com/oshi/oshi/issues/488#issuecomment-388411064,"Thanks for the report, and good to hear this might be the only bug coming from Solaris (so far).  I've developed entirely on a virtual machine so have limited ability to test different hardware.

I based the parsing on the example I saw [here](https://www.thegeekdiary.com/how-to-find-number-of-physicallogical-cpus-cores-and-memory-in-solaris/):
```
# psrinfo -pv
The physical processor has 64 virtual processors (0-63)
  UltraSPARC-T2+ (cpuid 0 clock 1165 MHz)
The physical processor has 64 virtual processors (64-127)
  UltraSPARC-T2+ (cpuid 64 clock 1165 MHz)
```
However, the counting of physical and virtual processors using text parsing was written before I added the kstat code which counts `chip_id` to determine packages, and it's probably a better solution to eliminate all the text parsing and simply use the existing loop to count (unique) `chip_id`, `core_id`, and `device_id`.

Can you submit a PR for that?"
oshi/oshi,"I noticed that I can sort the running processes by memory with:

`OperatingSystem.ProcessSort.MEMORY`

I'm under the impression this sorting is done by shared memory (SHR) correct me if I'm wrong about this, but is it possible to sort by Resident Set Size (RSS) instead ? 

Thanks!",https://github.com/oshi/oshi/issues/442#issuecomment-361142411,"On Linux, OSHI pulls the RSS value from the 24th field of `/proc/pid/stat`.  (The value is in pages so multiply by 4096.)  Can you check this value for the NetBeans and FireFox processes and see what it says, compared to `htop`?"
oshi/oshi,"I referenced #425 to get usable disk space. However, I found an interesting problem with following code:
`new SystemInfo().getOperatingSystem().getFileSystem().getFileStores()`
Following pictures are the results when I run in debug mode in intellij, Please reference #436 for my actual disk info:
![1](https://user-images.githubusercontent.com/11829223/34564273-f892c6ce-f190-11e7-8999-e3c4136eecf6.png)
![2](https://user-images.githubusercontent.com/11829223/34564274-fbd73f0e-f190-11e7-8b06-08528817fd11.png)
![3](https://user-images.githubusercontent.com/11829223/34564277-0108e14e-f191-11e7-8e6a-de58e9c9c1a7.png)
![4](https://user-images.githubusercontent.com/11829223/34564282-05535702-f191-11e7-8aa6-ed33eab5a4b2.png)
![5](https://user-images.githubusercontent.com/11829223/34564290-0972b080-f191-11e7-977f-a6f1d0a914bd.png)

As you can see, OSFileStore doesn't count in my sda2,3,4 and8. That makes sense because I didn't mount sda2,3,4, and sda8 is a swap partition. The problem is that sda7 is counted three times! (see item 0,7,8 in above pictures)",https://github.com/oshi/oshi/issues/438#issuecomment-355459941,"What is the result of a directory listing of `/proc/self/mounts` and/or any of the related CentOS `mount` commands?
  "
oshi/oshi,"Hello,  
Your library is awsome and I am using it for collecting details in my lab.  
In the network speed of my adapters I get a value of **194.7 Mbps** , and when I print the net.getSpeed() method I get the value: 194693632.  
But when I check my adapter properties I can see that it has speed of **1.0 Gbps**  

I am using a switch which supports 1.0 Gbps speed.  Is this an error? or is it really the actual speed?  

Thank you",https://github.com/oshi/oshi/issues/431#issuecomment-349995526,Which operating system are you using?
oshi/oshi,"Hi, I am trying to contribute to openhab repo and [one of the bindings](https://github.com/openhab/openhab2-addons/blob/master/addons/binding/org.openhab.binding.systeminfo/src/main/java/org/openhab/binding/systeminfo/internal/model/OshiSysteminfo.java) uses your library.

The long query occurs when I run this code snippet:
`     System.out.println(""About to call hal.getProcessor method at: "" + LocalDateTime.now());
        cpu = hal.getProcessor();
        System.out.println(""Called hal.getProcessor method at: "" + LocalDateTime.now());
`

This is the log that the code produces:

> About to call hal.getProcessor method at: 2017-09-28T11:00:02.150
11:00:02.478 [main] DEBUG o.h.common.AbstractCentralProcessor - Oracle MXBean detected.
11:00:02.626 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
11:00:02.627 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT ProcessorID FROM Win32_Processor 
11:00:02.756 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
11:00:02.756 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Name,PercentIdleTime,PercentPrivilegedTime,PercentUserTime,PercentInterruptTime,PercentDPCTime FROM Win32_PerfRawData_Counters_ProcessorInformation WHERE NOT Name LIKE ""%_Total""
11:16:47.825 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
11:16:47.825 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT PercentInterruptTime,PercentDPCTime FROM Win32_PerfRawData_Counters_ProcessorInformation WHERE Name=""_Total""
11:20:47.833 [main] DEBUG o.h.p.w.WindowsCentralProcessor - Initialized Processor
Called hal.getProcessor method at: 2017-09-28T11:20:47.834

My OS is Windows 10, my CPU is Intel(R) Core(TM) i7-6600U.

",https://github.com/oshi/oshi/issues/416#issuecomment-332845814,"Well, WMI queries sometimes take a longer time for the first query, but this is insane.

Have you tried these queries directly from powershell or the command line?

We've had other small issues with WMI delays and I'm wondering if we should just add a timeout to the queries..."
oshi/oshi,"Hey guys,

when i call these two lines:

```
SystemInfo si = new SystemInfo();
OperatingSystem operatingSystem = si.getOperatingSystem();
```

the program produces the following error in the second line.

```
Exception in thread ""main"" java.lang.NoSuchMethodError: com.sun.jna.platform.win32.OleAuto.VariantClear(Lcom/sun/jna/platform/win32/Variant$VARIANT;)Lcom/sun/jna/platform/win32/WinNT$HRESULT;
	at oshi.util.platform.windows.WmiUtil.enumerateProperties(WmiUtil.java:561)
	at oshi.util.platform.windows.WmiUtil.queryWMI(WmiUtil.java:333)
	at oshi.util.platform.windows.WmiUtil.selectObjectsFrom(WmiUtil.java:275)
	at oshi.software.os.windows.WindowsOSVersionInfoEx.<init>(WindowsOSVersionInfoEx.java:51)
	at oshi.software.os.windows.WindowsOperatingSystem.<init>(WindowsOperatingSystem.java:91)
	at oshi.SystemInfo.getOperatingSystem(SystemInfo.java:92)
	at de.adito.aditoweb.server.framework.licensesender.Main.main(Main.java:18)
```

I'm running it on Windows 10 Pro. Any help is appreciated.",https://github.com/oshi/oshi/issues/410#issuecomment-329888089,"As far as I can tell, you're having an issue with the JNA dependency.

That method seems to have been part of JNA since the beginning, so it shouldn't be a matter of having an older than supported JNA version.

Can you check if you have any JNA library in your classpath?"
oshi/oshi,"When I run the following code, I will get a ClassCastException. I think it's caused the OSHi code is based on the Oracle JDK. I want to know is there a way to run OSHi based on IBM JDK?
Code:

 ```
 SystemInfo si = new SystemInfo();
	        HardwareAbstractionLayer hal = si.getHardware();
	        CentralProcessor  processor = hal.getProcessor();
	        processor.getSystemCpuLoad();
```

Exception:

`Exception in thread ""main"" java.lang.ClassCastException: com.ibm.lang.management.ExtendedOperatingSystem incompatible with com.sun.management.OperatingSystemMXBean`",https://github.com/oshi/oshi/issues/406#issuecomment-328840521,"Just to simplify my life, what's the OS you're running on? Could you post the full stacktrace of the error?"
oshi/oshi,"OSHI 
I'm Using OSHI for last one month to Fetching details of OS,Hardware and Network.
but,
yesterday Suddenly,skips these following steps and exit program...
{
 OperatingSystem operatingSystrmInfo = systemInfo.getOperatingSystem();
 NetworkIF[] networkIFs = hardware.getNetworkIFs();
}




",https://github.com/oshi/oshi/issues/402#issuecomment-325540137,Can you turn on trace logging so I can see how far it gets?
oshi/oshi,"Hi, I was trying to get my cpu load by using 
`hardwareAbstractionLayer.getProcessor().getSystemCpuLoad();` but it hung so I've tried your demo class SystemInfoTest. It also hung on cpu load. Here's the output:

```
sie 16, 2017 4:51:10 PM io.cryptomage.panel.helper.SystemInfoTest main
INFO: Initializing System...
16:51:12.431 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:12.443 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Version,ProductType,BuildNumber,CSDVersion,SuiteMask FROM Win32_OperatingSystem 
16:51:12.758 [main] DEBUG oshi.software.os.windows.WindowsOSVersionInfoEx - Initialized OSVersionInfoEx
Microsoft Windows 10 build 15063
sie 16, 2017 4:51:12 PM io.cryptomage.panel.helper.SystemInfoTest main
INFO: Checking computer system...
16:51:12.776 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:12.777 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Manufacturer,Model FROM Win32_ComputerSystem 
16:51:12.823 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:12.823 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT SerialNumber FROM Win32_BIOS where PrimaryBIOS=true
16:51:12.854 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:12.855 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Manufacturer,Name,Description,Version,ReleaseDate FROM Win32_BIOS where PrimaryBIOS=true
16:51:12.926 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:12.927 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Manufacturer,Model,Version,SerialNumber FROM Win32_BaseBoard 
sie 16, 2017 4:51:13 PM io.cryptomage.panel.helper.SystemInfoTest main
INFO: Checking Processor...
manufacturer: LENOVO
model: 24813G7
serialnumber: #####
firmware:
  manufacturer: LENOVO
  name: Phoenix BIOS SC-T v2.2
  description: Phoenix BIOS SC-T v2.2
  version: LENOVO - 2570
  release date: 11/14/2013
baseboard:
  manufacturer: LENOVO
  model: unknown
  version: 0B98401 Pro
  serialnumber: ######
16:51:14.333 [main] DEBUG oshi.hardware.common.AbstractCentralProcessor - Oracle MXBean detected.
16:51:14.511 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:14.515 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT ProcessorID FROM Win32_Processor 
16:51:14.593 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:51:14.593 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT Name,PercentIdleTime,PercentPrivilegedTime,PercentUserTime,PercentInterruptTime,PercentDPCTime FROM Win32_PerfRawData_Counters_ProcessorInformation WHERE NOT Name LIKE ""%_Total""
16:55:14.659 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:55:14.659 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT PercentInterruptTime,PercentDPCTime FROM Win32_PerfRawData_Counters_ProcessorInformation WHERE Name=""_Total""
sie 16, 2017 4:59:14 PM io.cryptomage.panel.helper.SystemInfoTest main
16:59:14.686 [main] DEBUG oshi.hardware.platform.windows.WindowsCentralProcessor - Initialized Processor
Intel(R) Core(TM) i5-3320M CPU @ 2.60GHz
INFO: Checking Memory...
 2 physical CPU(s)
Identifier: Intel64 Family 6 Model 58 Stepping 9
ProcessorID: ##########
Memory: 2,9 GiB/11,6 GiB
16:59:14.777 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
16:59:14.777 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT PercentUsage,PercentUsage_Base FROM Win32_PerfRawData_PerfOS_PagingFile WHERE Name=""_Total""
17:03:14.805 [main] DEBUG oshi.util.platform.windows.WmiUtil - Connected to ROOT\CIMV2 WMI namespace
17:03:14.806 [main] DEBUG oshi.util.platform.windows.WmiUtil - Query: SELECT PercentUsage,PercentUsage_Base FROM Win32_PerfRawData_PerfOS_PagingFile WHERE Name=""_Total""
```",https://github.com/oshi/oshi/issues/398#issuecomment-325542282,"OSHI simply passes this method call on to [the Oracle method](https://docs.oracle.com/javase/7/docs/jre/api/management/extension/com/sun/management/OperatingSystemMXBean.html#getSystemCpuLoad()).   Have you tried accessing that method directly as a test?
 "
oshi/oshi,"I can't seem to figure out how to pull out the following data from a specific process id

1. Memory usage
2. Disk usage
3. Network usage
4. latency

I've managed to retrieve only the CPU usage from a specific process id with the following code:
_The code is designated to inspect my eclipse process id, it works great (nice work OSHI!)_

```
import oshi.SystemInfo;
import oshi.hardware.CentralProcessor;
import oshi.software.os.OSProcess;
import oshi.software.os.OperatingSystem;

public class ProcessCPUusage{
	public static void main(String[] args) throws InterruptedException {
		OSProcess process;
		long currentTime,previousTime = 0,timeDifference;
		double cpu;
		int pid = 3080;
		SystemInfo si = new SystemInfo();
		OperatingSystem os = si.getOperatingSystem();
		CentralProcessor processor = si.getHardware().getProcessor();
		int cpuNumber = processor.getLogicalProcessorCount();
		boolean processExists = true;
		while (processExists) {
			process = os.getProcess(pid);
			if (process != null) {
				// CPU
				currentTime = process.getKernelTime() + process.getUserTime();
			
				if (previousTime != -1) {
					// If we have both a previous and a current time
					// we can calculate the CPU usage
					timeDifference = currentTime - previousTime;
					cpu = (100d * (timeDifference / ((double) 1000))) / cpuNumber;
					System.out.println(cpu);
				}     

				previousTime = currentTime;

				Thread.sleep(1000);
			} else {
				processExists = false;
			}
		}
	}
}
```

",https://github.com/oshi/oshi/issues/372#issuecomment-307578351,What operating system? What results do you expect? What are you getting?
oshi/oshi,"I have the following in my pom.xml (using log4j2):

```
<project xmlns=""http://maven.apache.org/POM/4.0.0"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"">
  <modelVersion>4.0.0</modelVersion>
  <groupId>oshitest</groupId>
  <artifactId>oshitest</artifactId>
  <version>0.0.1-SNAPSHOT</version>
	<dependencies>
		<dependency>
		    <groupId>com.github.oshi</groupId>
		    <artifactId>oshi-core</artifactId>
		    <version>3.4.2</version>
		</dependency>
		<dependency>
			<groupId>org.apache.logging.log4j</groupId>
			<artifactId>log4j-api</artifactId>
			<version>2.8.2</version>
		</dependency>
		<dependency>
		    <groupId>org.apache.logging.log4j</groupId>
		    <artifactId>log4j-slf4j-impl</artifactId>
		    <version>2.8.2</version>
		</dependency>
		<dependency>
		    <groupId>org.apache.logging.log4j</groupId>
		    <artifactId>log4j-core</artifactId>
		    <version>2.8.2</version>
		</dependency>
	</dependencies>
</project>
```

My code is (using the example from the git repo):
```
	    SystemInfo si = new SystemInfo();
	    HardwareAbstractionLayer hal = si.getHardware();
	    
        for (HWDiskStore disk : hal.getDiskStores()) {
            boolean readwrite = disk.getReads() > 0 || disk.getWrites() > 0;
            System.out.format("" %s: (model: %s - S/N: %s) size: %s, reads: %s (%s), writes: %s (%s), xfer: %s ms%n"",
                    disk.getName(), disk.getModel(), disk.getSerial(),
                    disk.getSize() > 0 ? FormatUtil.formatBytesDecimal(disk.getSize()) : ""?"",
                    readwrite ? disk.getReads() : ""?"", readwrite ? FormatUtil.formatBytes(disk.getReadBytes()) : ""?"",
                    readwrite ? disk.getWrites() : ""?"", readwrite ? FormatUtil.formatBytes(disk.getWriteBytes()) : ""?"",
                    readwrite ? disk.getTransferTime() : ""?"");
            HWPartition[] partitions = disk.getPartitions();
            if (partitions == null) {
                // TODO Remove when all OS's implemented
                continue;
            }
            for (HWPartition part : partitions) {
                System.out.format("" |-- %s: %s (%s) Maj:Min=%d:%d, size: %s%s%n"", part.getIdentification(),
                        part.getName(), part.getType(), part.getMajor(), part.getMinor(),
                        FormatUtil.formatBytesDecimal(part.getSize()),
                        part.getMountPoint().isEmpty() ? """" : "" @ "" + part.getMountPoint());
            }
        }
```

And in the log, it writes:
```
2017-06-08 21:42:09.279 [main] DEBUG WmiUtil - Connected to ROOT\CIMV2 WMI namespace
2017-06-08 21:42:09.281 [main] DEBUG WmiUtil - Query: SELECT Name,DiskReadsPerSec,DiskReadBytesPerSec,DiskWritesPerSec,DiskWriteBytesPerSec,PercentDiskTime,Timestamp_Sys100NS FROM Win32_PerfRawData_PerfDisk_PhysicalDisk 
```

And the thread just hangs at hal.getDiskStores(), nothing happens.

Any idea what I am missing?

Thanks",https://github.com/oshi/oshi/issues/371#issuecomment-307225745,"Do any other WMI queries work?

What do you get at the command line using the query that seems to be failing?

> wmic PATH Win32_PerfRawData_PerfDisk_PhysicalDisk GET Name,DiskReadsPerSec,DiskReadBytesPerSec,DiskWritesPerSec,DiskWriteBytesPerSec,PercentDiskTime,Timestamp_Sys100NS

Do you have any unusual partition/disk setup, network drives, removable, encrypted, etc.?"
oshi/oshi,"    

// Save Windows version info for 32 bit/64 bit branch later
    private static final byte majorVersion;
    static {
        OSVERSIONINFO lpVersionInfo = new OSVERSIONINFO();
        // GetVersionEx() isn't accurate for Win8+ but is sufficient for
        // detecting versions 5.x and earlier
        if (!Kernel32.INSTANCE.GetVersionEx(lpVersionInfo)) {
            majorVersion = lpVersionInfo.dwMajorVersion.byteValue();
        } else {
            majorVersion = 0;
        }
    }",https://github.com/oshi/oshi/issues/355#issuecomment-299881801,Can you tell me your actual OS and what OSHI reports?
oshi/oshi,"First I have noticed that the Systeminfo binding for openHAB is returning a negative number and I thought that there might be something wrong in the binding.

But later I tried to build oshi using Maven on my machine and the NetworkTest has failed.

>testNetworkInterfaces(oshi.hardware.NetworksTest)  Time elapsed: 0.407 sec  <<< FAILURE!
java.lang.AssertionError
        at oshi.hardware.NetworksTest.testNetworkInterfaces(NetworksTest.java:53)

The 53-rd row is actually 
> assertTrue(net.getBytesRecv() >= 0);

I am running it on Windows and the this seems to be my Local Area Connection (the IP is the same)",https://github.com/oshi/oshi/issues/333#issuecomment-283699601,"What version of Windows?  32 bit or 64 bit?

What should the value be?  Try:
- `netstat -e`
- `wmic path Win32_PerfRawData_Tcpip_NetworkInterface Get Name,BytesReceivedPersec`
- Control Panel > Networks > Local Area Connection > Properties (bytes Received)

Off the top of my head, I'm guessing you may have exceeded the max long value.  Windows returns an ""unsigned long"" that Java doesn't have, but the bits would be correct (and FormatUtil.toUnsignedString(longValue)) would present it properly.  If that's the case, reboot! üòà "
oshi/oshi,"on GNU/Linux CentOS 6.5 (Final) build 2.6.32-431.el6.x86_64

java.lang.ArrayIndexOutOfBoundsException: 11
    at oshi.hardware.platform.linux.LinuxBlockDevStats.<init>(LinuxBlockDevStats.java:78) 
    at oshi.hardware.platform.linux.LinuxDisks.computeDiskStats(LinuxDisks.java:145)
    at oshi.hardware.platform.linux.LinuxDisks.getDisks(LinuxDisks.java:93) at oshi.hardware.platform.linux.LinuxHardwareAbstractionLayer.getDiskStores(LinuxHardwareAbstractionLayer.java:70)
",https://github.com/oshi/oshi/issues/268#issuecomment-257124987,"Can you post the contents of the `/sys/block/<dev>/stat` file causing this issue?  [There should be 11 decimal fields](https://www.kernel.org/doc/Documentation/block/stat.txt).

Looks like with the indexing off-by-one that the code assumes a prepending field as well.

Regardless, an array size check should be inserted to prevent the exception.
"
oshi/oshi,"As the title says, I don't get correct CPU temp f√ºr my Intel NUC, sensors gives the following output:

coretemp-isa-0000
Adapter: ISA adapter
Core 0:       +41.0¬∞C  (high = +105.0¬∞C, crit = +105.0¬∞C)
Core 1:       +41.0¬∞C  (high = +105.0¬∞C, crit = +105.0¬∞C)

openHAB Systeminfo Binding (using oshi) just reports 0
As I understood the code, you are looking for
temp_input to read the actual temp. My intel Celeron shows temp2_input and temp3_input (one for each core).
",https://github.com/oshi/oshi/issues/173#issuecomment-220374209,"Can you list the contents of your `/sys/class/hwmon/hwmon` directory?  Is there simply no temp1_input file, but a temp2_input and temp3_input instead?   

Looking at the [documentation for sysfs](http://lxr.free-electrons.com/source/Documentation/hwmon/sysfs-interface), it appears the number corresponds to the location of the temperature sensor:

```
                1: CPU embedded diode
                2: 3904 transistor
                3: thermal diode
                4: thermistor
                5: AMD AMDSI
                6: Intel PECI
```

I guess I should check for all six.
"
oshi/oshi,"I have observed the following error message in the snapshot from 18.05.2016.

18:31:35.810 [ESH-safeCall-7] ERROR o.j.platform.windows.COM.WbemLocator - Failed to create WbemLocator object. Error code = 0x800401f0

What I am trying to do is 

```
SystemInfo systemInfo = new SystemInfo();
HardwareAbstractionLayer hal = systemInfo.getHardware();
operatingSystem = systemInfo.getOperatingSystem();
displays = hal.getDisplays();
fileStores = hal.getFileStores();
memory = hal.getMemory();
powerSources = hal.getPowerSources();
cpu = hal.getProcessor();
sensors = hal.getSensors();
networks = hal.getNetworkIFs();
drives = hal.getDiskStores();
if (cpu != null) {
      processes = cpu.getProcesses();
} 
```

I can not find a way to reproduce it 100% percent, but it occurs often.

I am running it on Windows 7 Enterprise Service Pack 1, with Intel Core i7-4712MQ 2.20 GHz.

If some other hardware or OS specific information is needed, please tell me, what do you need for the investigation.
",https://github.com/oshi/oshi/issues/172#issuecomment-220377403,"The `0x800401f0` error is ""CoInitialize has not been called..""  

The WMI queries that could cause this are for system serial number (`hal.getProcessor().getSystemSerialNumber()`), getting the disk hardware (`hal.getDiskStores()`) or many of the various sensors (`hal.getSensors()`).  You can probably figure out which one by looking at the serial #, disk, and sensor values for 'unknown' or 'zero' values.

The error may be associated with the COM object not being properly initialized. If I initialize for each query, I get errors that the security has already been set on the second attempt; I thought i had fixed the problem by creating a static initializer, but it appears now we may have the opposite problem.

I may go back to initializing for each query and ignoring errors with security already being set...

Does this occur on the first query? Does it only occur on repeated polling?  Does the frequency of polling affect it?
"
IQSS/dataverse,"This bug is not fully understood at this point, but when some developers are connected to the Harvard network, GlassFish (all recent versions) are unable to talk to NetBeans (all recent versions). Furthermore, when turning off all network connections, communication between the two also fails even though the connection should only be across the local (internal to machine) network. Loading GlassFish manually outside of NetBeans has no issues.

The exact factors that cause this issue have not been determined, as similar set-ups do not seem to have the issue. One developer (Matthew) has tested this issue by logging into their home network, and while there GlassFish & NetBeans are able to communicate correctly. This has not been tested with other networks outside of harvard for reproducibility, but multiple networks in harvard have been tested to the same effect. Furthermore, the developer wiped their machine and started over from scratch to rule out network configuration issues with the machine. One other developer (Sarah) has reported similar issues but has not had time to investigate in depth, and a third non-Harvard developer also ran into issues during our Community Meeting.

The log messages differ depending on whether the machine is disconnected from all networks or is on the Harvard Network. When disconnected entirely, an error is thrown for the JMX connector, while when the machine is on the Harvard Network it hangs during the JMX connector step.

Error when not connected to a network:

`Info:   Grizzly Framework 2.3.15 started in: 1ms - bound to [/0.0.0.0:7676]1`
`Info:   Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishImpl@5a6482a9 as OSGi service registration: org.apache.felix.framework.ServiceRegistrationImpl@545607f2.`
`Warning:   Cannot start JMX connector JmxConnector config: { name = system, Protocol = rmi_jrmp, Address = 0.0.0.0, Port = 8686, AcceptAll = false, AuthRealmName = admin-realm, SecurityEnabled = false} due to exception java.net.MalformedURLException: Bad URL path: :0:0:414f:cf47:1f07:19c%13:8686/jndi/rmi://fe80:0:0:0:414f:cf47:1f07:19c%13:8686/jmxrmi`
`Severe:   java.net.MalformedURLException: Bad URL path: :0:0:414f:cf47:1f07:19c%13:8686/jndi/rmi://fe80:0:0:0:414f:cf47:1f07:19c%13:8686/jmxrmi
	at javax.management.remote.JMXServiceURL.validate(JMXServiceURL.java:406)
	at javax.management.remote.JMXServiceURL.validate(JMXServiceURL.java:411)
	at javax.management.remote.JMXServiceURL.<init>(JMXServiceURL.java:226)
	at org.glassfish.admin.mbeanserver.RMIConnectorStarter.start(RMIConnectorStarter.java:306)
	at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.startConnector(JMXStartupService.java:313)
	at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.run(JMXStartupService.java:350)`

Harvard Network last lines and final error popup (5-10 minutes later):

`Info:   Grizzly Framework 2.3.15 started in: 0ms - bound to [/0.0.0.0:7676]`
`Info:   Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishImpl@5a6482a9 as OSGi service registration: org.apache.felix.framework.ServiceRegistrationImpl@545607f2.`
`Info:   JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://140.247.116.66:8686/jndi/rmi://140.247.116.66:8686/jmxrmi`

![screen shot 2017-08-17 at 2 43 46 pm](https://user-images.githubusercontent.com/8901015/29428305-b5bd2e60-835a-11e7-8ae6-0c8bc671eec3.png)

This lack of integration greatly slows down development for affected developers, as developers are unable to take advantage of auto-deployment and the ability for NetBeans to hot-update UI components.",https://github.com/IQSS/dataverse/issues/4089#issuecomment-323376842,@matthew-a-dunlap can you post the JMX connector sections of domain.xml from this system?
IQSS/dataverse,"## Bug 1

_bug 1 update: @kcondon mentioned that these may be downloads ported from the 3.x system_

I have a July snapshot of data.  I just noticed that **633,795 entries** in the table `guestbookresponse` have NULL responsetime.  This is fully 1/3 of the guestbookresponse entries.

In other words `633,795` file downloads have no timestamp attached (and don't appear in the metrics visualizations).

Both sql statements below give the  `633,795` number

``` sql
select count(id) from guestbookresponse where responsetime is  NULL
select count(id) from guestbookresponse where responsetime is  NULL and downloadtype='download';
```

---

Fix: 
- Make the database field `responsetime` NOT NULL 
- Check the code

---
",https://github.com/IQSS/dataverse/issues/3324#issuecomment-245043678,"@kcondon - you spurred a quick discussion about this during backlog grooming. You said that this may be as expected and not a bug? Can you leave some details here? Thanks!
"
IQSS/dataverse,"User reported this stale error message. Tried to create a dataset and can't save
![capture](https://cloud.githubusercontent.com/assets/8322346/10459066/d8e36ada-719b-11e5-9dcd-05d41bdf76ee.PNG)
",https://github.com/IQSS/dataverse/issues/2637#issuecomment-163365875,"@kcondon  - There may be more to it than that.  I wasn't able to recreate this in the simplest case.  Do you have to change templates during the create process? Have a template with data in other metadata blocks? I will continue to try to recreate.
"
